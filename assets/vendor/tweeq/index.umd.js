(function(en,on){typeof exports=="object"&&typeof module<"u"?on(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],on):(en=typeof globalThis<"u"?globalThis:en||self,on(en.Tweeq={},en.Vue))})(this,function(exports,vue){"use strict";var A0=Object.defineProperty;var Xl=en=>{throw TypeError(en)};var w0=(en,on,Cn)=>on in en?A0(en,on,{enumerable:!0,configurable:!0,writable:!0,value:Cn}):en[on]=Cn;var ma=(en,on,Cn)=>w0(en,typeof on!="symbol"?on+"":on,Cn),Au=(en,on,Cn)=>on.has(en)||Xl("Cannot "+Cn);var wr=(en,on,Cn)=>(Au(en,on,"read from private field"),Cn?Cn.call(en):on.get(en)),wn=(en,on,Cn)=>on.has(en)?Xl("Cannot add the same private member more than once"):on instanceof WeakSet?on.add(en):on.set(en,Cn),gn=(en,on,Cn,Fi)=>(Au(en,on,"write to private field"),Fi?Fi.call(en,Cn):on.set(en,Cn),Cn),Xn=(en,on,Cn)=>(Au(en,on,"access private method"),Cn);var Ls=(en,on,Cn,Fi)=>({set _(Pi){gn(en,on,Pi,Cn)},get _(){return wr(en,on,Fi)}});var en,on,Cn,Fi,Pi,Za,Pa,Yl,wu,Si,Su,Eu,Mu,Ui,Qa,Ja,ga,Co,eo,ko,Ii,ro,xi,So,Di,no,ra,Eo,dn,Zl,Kl,Ql,Jl,ec,$s,Cu,ku,Rs,tc,Os;const components=Object.freeze(Object.defineProperty({__proto__:null,get App(){return App},get ColorIcon(){return ColorIcon},get CommandPalette(){return CommandPalette},get Icon(){return Icon},get IconIndicator(){return IconIndicator},get InputAngle(){return InputAngle},get InputButton(){return InputButton},get InputButtonToggle(){return InputButtonToggle},get InputCheckbox(){return InputCheckbox},get InputCode(){return InputCode},get InputColor(){return InputColor},get InputColorPad(){return InputColorPad},get InputColorPicker(){return InputColorPicker},get InputComplex(){return _sfc_main$p},get InputCubicBezier(){return InputCubicBezier},get InputCubicBezierPicker(){return InputCubicBezierPicker},get InputDropdown(){return InputDropdown},get InputGroup(){return InputGroup},get InputNumber(){return InputNumber},get InputPosition(){return InputPosition},get InputRadio(){return InputRadio},get InputRotary(){return InputRotary},get InputSeed(){return InputSeed},get InputSize(){return InputSize},get InputString(){return _sfc_main$J},get InputSwitch(){return InputSwitch},get InputTime(){return InputTime},get InputTranslate(){return InputTranslate},get InputVec(){return _sfc_main$x},get Markdown(){return _sfc_main$a},get MonacoEditor(){return MonacoEditor},get MultiSelectPopup(){return MultiSelectPopup},get PaneExpandable(){return PaneExpandable},get PaneFloating(){return PaneFloating},get PaneModal(){return PaneModal},get PaneModalComplex(){return PaneModalComplex},get PaneSplit(){return PaneSplit},get PaneZUI(){return PaneZUI},get Parameter(){return Parameter},get ParameterGrid(){return ParameterGrid},get ParameterGroup(){return ParameterGroup},get ParameterHeading(){return ParameterHeading},get Popover(){return Popover},get Ruler(){return Ruler},get Tab(){return Tab},get Tabs(){return Tabs},get Timeline(){return Timeline},get TitleBar(){return TitleBar},get Viewport(){return _sfc_main$_}},Symbol.toStringTag,{value:"Module"})),InputColorPresetsKey=Symbol("InputColorPresetsKey"),InputColorSpaceKey=Symbol("InputColorSpaceKey");function useInputColor(){vue.provide(InputColorPresetsKey,["skyblue","tomato","gold","limegreen"]);const h=vue.ref("hsv");vue.provide(InputColorSpaceKey,h)}function addEmitterInstance(h){EmitterInstances.add(h),onEmitterCreatedCallbacks.forEach(v=>v(h))}const EmitterInstances=new Set,onEmitterCreatedCallbacks=new Set;function createScope(h){const v=new Set;function y(_){v.add(_)}try{onEmitterCreatedCallbacks.add(y),h()}finally{onEmitterCreatedCallbacks.delete(y)}return()=>{v.forEach(_=>{_.dispose()})}}var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),Symbol$1=root.Symbol,objectProto$d=Object.prototype,hasOwnProperty$a=objectProto$d.hasOwnProperty,nativeObjectToString$1=objectProto$d.toString,symToStringTag$1=Symbol$1?Symbol$1.toStringTag:void 0;function getRawTag(h){var v=hasOwnProperty$a.call(h,symToStringTag$1),y=h[symToStringTag$1];try{h[symToStringTag$1]=void 0;var _=!0}catch{}var x=nativeObjectToString$1.call(h);return _&&(v?h[symToStringTag$1]=y:delete h[symToStringTag$1]),x}var objectProto$c=Object.prototype,nativeObjectToString=objectProto$c.toString;function objectToString(h){return nativeObjectToString.call(h)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag(h){return h==null?h===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(h)?getRawTag(h):objectToString(h)}function isObjectLike(h){return h!=null&&typeof h=="object"}var symbolTag$1="[object Symbol]";function isSymbol(h){return typeof h=="symbol"||isObjectLike(h)&&baseGetTag(h)==symbolTag$1}function arrayMap(h,v){for(var y=-1,_=h==null?0:h.length,x=Array(_);++y<_;)x[y]=v(h[y],y,h);return x}var isArray=Array.isArray,symbolProto$1=Symbol$1?Symbol$1.prototype:void 0,symbolToString=symbolProto$1?symbolProto$1.toString:void 0;function baseToString(h){if(typeof h=="string")return h;if(isArray(h))return arrayMap(h,baseToString)+"";if(isSymbol(h))return symbolToString?symbolToString.call(h):"";var v=h+"";return v=="0"&&1/h==-1/0?"-0":v}var reWhitespace=/\s/;function trimmedEndIndex(h){for(var v=h.length;v--&&reWhitespace.test(h.charAt(v)););return v}var reTrimStart=/^\s+/;function baseTrim(h){return h&&h.slice(0,trimmedEndIndex(h)+1).replace(reTrimStart,"")}function isObject$2(h){var v=typeof h;return h!=null&&(v=="object"||v=="function")}var NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber(h){if(typeof h=="number")return h;if(isSymbol(h))return NAN;if(isObject$2(h)){var v=typeof h.valueOf=="function"?h.valueOf():h;h=isObject$2(v)?v+"":v}if(typeof h!="string")return h===0?h:+h;h=baseTrim(h);var y=reIsBinary.test(h);return y||reIsOctal.test(h)?freeParseInt(h.slice(2),y?2:8):reIsBadHex.test(h)?NAN:+h}var INFINITY=1/0,MAX_INTEGER=17976931348623157e292;function toFinite(h){if(!h)return h===0?h:0;if(h=toNumber(h),h===INFINITY||h===-1/0){var v=h<0?-1:1;return v*MAX_INTEGER}return h===h?h:0}function toInteger(h){var v=toFinite(h),y=v%1;return v===v?y?v-y:v:0}function identity$1(h){return h}var asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$1(h){if(!isObject$2(h))return!1;var v=baseGetTag(h);return v==funcTag$1||v==genTag||v==asyncTag||v==proxyTag}var coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var h=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return h?"Symbol(src)_1."+h:""}();function isMasked(h){return!!maskSrcKey&&maskSrcKey in h}var funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString;function toSource(h){if(h!=null){try{return funcToString$1.call(h)}catch{}try{return h+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto$b=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$9=objectProto$b.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$9).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(h){if(!isObject$2(h)||isMasked(h))return!1;var v=isFunction$1(h)?reIsNative:reIsHostCtor;return v.test(toSource(h))}function getValue(h,v){return h==null?void 0:h[v]}function getNative(h,v){var y=getValue(h,v);return baseIsNative(y)?y:void 0}var WeakMap$1=getNative(root,"WeakMap"),metaMap=WeakMap$1&&new WeakMap$1,baseSetData=metaMap?function(h,v){return metaMap.set(h,v),h}:identity$1,objectCreate=Object.create,baseCreate=function(){function h(){}return function(v){if(!isObject$2(v))return{};if(objectCreate)return objectCreate(v);h.prototype=v;var y=new h;return h.prototype=void 0,y}}();function createCtor(h){return function(){var v=arguments;switch(v.length){case 0:return new h;case 1:return new h(v[0]);case 2:return new h(v[0],v[1]);case 3:return new h(v[0],v[1],v[2]);case 4:return new h(v[0],v[1],v[2],v[3]);case 5:return new h(v[0],v[1],v[2],v[3],v[4]);case 6:return new h(v[0],v[1],v[2],v[3],v[4],v[5]);case 7:return new h(v[0],v[1],v[2],v[3],v[4],v[5],v[6])}var y=baseCreate(h.prototype),_=h.apply(y,v);return isObject$2(_)?_:y}}var WRAP_BIND_FLAG$5=1;function createBind(h,v,y){var _=v&WRAP_BIND_FLAG$5,x=createCtor(h);function w(){var S=this&&this!==root&&this instanceof w?x:h;return S.apply(_?y:this,arguments)}return w}function apply(h,v,y){switch(y.length){case 0:return h.call(v);case 1:return h.call(v,y[0]);case 2:return h.call(v,y[0],y[1]);case 3:return h.call(v,y[0],y[1],y[2])}return h.apply(v,y)}var nativeMax$5=Math.max;function composeArgs(h,v,y,_){for(var x=-1,w=h.length,S=y.length,E=-1,I=v.length,L=nativeMax$5(w-S,0),O=Array(I+L),F=!_;++E<I;)O[E]=v[E];for(;++x<S;)(F||x<w)&&(O[y[x]]=h[x]);for(;L--;)O[E++]=h[x++];return O}var nativeMax$4=Math.max;function composeArgsRight(h,v,y,_){for(var x=-1,w=h.length,S=-1,E=y.length,I=-1,L=v.length,O=nativeMax$4(w-E,0),F=Array(O+L),z=!_;++x<O;)F[x]=h[x];for(var N=x;++I<L;)F[N+I]=v[I];for(;++S<E;)(z||x<w)&&(F[N+y[S]]=h[x++]);return F}function countHolders(h,v){for(var y=h.length,_=0;y--;)h[y]===v&&++_;return _}function baseLodash(){}var MAX_ARRAY_LENGTH=4294967295;function LazyWrapper(h){this.__wrapped__=h,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=MAX_ARRAY_LENGTH,this.__views__=[]}LazyWrapper.prototype=baseCreate(baseLodash.prototype),LazyWrapper.prototype.constructor=LazyWrapper;function noop$3(){}var getData=metaMap?function(h){return metaMap.get(h)}:noop$3,realNames={},objectProto$a=Object.prototype,hasOwnProperty$8=objectProto$a.hasOwnProperty;function getFuncName(h){for(var v=h.name+"",y=realNames[v],_=hasOwnProperty$8.call(realNames,v)?y.length:0;_--;){var x=y[_],w=x.func;if(w==null||w==h)return x.name}return v}function LodashWrapper(h,v){this.__wrapped__=h,this.__actions__=[],this.__chain__=!!v,this.__index__=0,this.__values__=void 0}LodashWrapper.prototype=baseCreate(baseLodash.prototype),LodashWrapper.prototype.constructor=LodashWrapper;function copyArray(h,v){var y=-1,_=h.length;for(v||(v=Array(_));++y<_;)v[y]=h[y];return v}function wrapperClone(h){if(h instanceof LazyWrapper)return h.clone();var v=new LodashWrapper(h.__wrapped__,h.__chain__);return v.__actions__=copyArray(h.__actions__),v.__index__=h.__index__,v.__values__=h.__values__,v}var objectProto$9=Object.prototype,hasOwnProperty$7=objectProto$9.hasOwnProperty;function lodash(h){if(isObjectLike(h)&&!isArray(h)&&!(h instanceof LazyWrapper)){if(h instanceof LodashWrapper)return h;if(hasOwnProperty$7.call(h,"__wrapped__"))return wrapperClone(h)}return new LodashWrapper(h)}lodash.prototype=baseLodash.prototype,lodash.prototype.constructor=lodash;function isLaziable(h){var v=getFuncName(h),y=lodash[v];if(typeof y!="function"||!(v in LazyWrapper.prototype))return!1;if(h===y)return!0;var _=getData(y);return!!_&&h===_[0]}var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(h){var v=0,y=0;return function(){var _=nativeNow(),x=HOT_SPAN-(_-y);if(y=_,x>0){if(++v>=HOT_COUNT)return arguments[0]}else v=0;return h.apply(void 0,arguments)}}var setData=shortOut(baseSetData),reWrapDetails=/\{\n\/\* \[wrapped with (.+)\] \*/,reSplitDetails=/,? & /;function getWrapDetails(h){var v=h.match(reWrapDetails);return v?v[1].split(reSplitDetails):[]}var reWrapComment=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function insertWrapDetails(h,v){var y=v.length;if(!y)return h;var _=y-1;return v[_]=(y>1?"& ":"")+v[_],v=v.join(y>2?", ":" "),h.replace(reWrapComment,`{
/* [wrapped with `+v+`] */
`)}function constant(h){return function(){return h}}var defineProperty=function(){try{var h=getNative(Object,"defineProperty");return h({},"",{}),h}catch{}}(),baseSetToString=defineProperty?function(h,v){return defineProperty(h,"toString",{configurable:!0,enumerable:!1,value:constant(v),writable:!0})}:identity$1,setToString=shortOut(baseSetToString);function arrayEach(h,v){for(var y=-1,_=h==null?0:h.length;++y<_&&v(h[y],y,h)!==!1;);return h}function baseFindIndex(h,v,y,_){for(var x=h.length,w=y+-1;++w<x;)if(v(h[w],w,h))return w;return-1}function baseIsNaN(h){return h!==h}function strictIndexOf(h,v,y){for(var _=y-1,x=h.length;++_<x;)if(h[_]===v)return _;return-1}function baseIndexOf(h,v,y){return v===v?strictIndexOf(h,v,y):baseFindIndex(h,baseIsNaN,y)}function arrayIncludes(h,v){var y=h==null?0:h.length;return!!y&&baseIndexOf(h,v,0)>-1}var WRAP_BIND_FLAG$4=1,WRAP_BIND_KEY_FLAG$3=2,WRAP_CURRY_FLAG$4=8,WRAP_CURRY_RIGHT_FLAG$2=16,WRAP_PARTIAL_FLAG$3=32,WRAP_PARTIAL_RIGHT_FLAG$2=64,WRAP_ARY_FLAG$2=128,WRAP_REARG_FLAG$1=256,WRAP_FLIP_FLAG$1=512,wrapFlags=[["ary",WRAP_ARY_FLAG$2],["bind",WRAP_BIND_FLAG$4],["bindKey",WRAP_BIND_KEY_FLAG$3],["curry",WRAP_CURRY_FLAG$4],["curryRight",WRAP_CURRY_RIGHT_FLAG$2],["flip",WRAP_FLIP_FLAG$1],["partial",WRAP_PARTIAL_FLAG$3],["partialRight",WRAP_PARTIAL_RIGHT_FLAG$2],["rearg",WRAP_REARG_FLAG$1]];function updateWrapDetails(h,v){return arrayEach(wrapFlags,function(y){var _="_."+y[0];v&y[1]&&!arrayIncludes(h,_)&&h.push(_)}),h.sort()}function setWrapToString(h,v,y){var _=v+"";return setToString(h,insertWrapDetails(_,updateWrapDetails(getWrapDetails(_),y)))}var WRAP_CURRY_BOUND_FLAG$1=4,WRAP_CURRY_FLAG$3=8,WRAP_PARTIAL_FLAG$2=32,WRAP_PARTIAL_RIGHT_FLAG$1=64;function createRecurry(h,v,y,_,x,w,S,E,I,L){var O=v&WRAP_CURRY_FLAG$3,F=O?S:void 0,z=O?void 0:S,N=O?w:void 0,H=O?void 0:w;v|=O?WRAP_PARTIAL_FLAG$2:WRAP_PARTIAL_RIGHT_FLAG$1,v&=~(O?WRAP_PARTIAL_RIGHT_FLAG$1:WRAP_PARTIAL_FLAG$2),v&WRAP_CURRY_BOUND_FLAG$1||(v&=-4);var X=[h,v,x,N,F,H,z,E,I,L],J=y.apply(void 0,X);return isLaziable(h)&&setData(J,X),J.placeholder=_,setWrapToString(J,h,v)}function getHolder(h){var v=h;return v.placeholder}var MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(h,v){var y=typeof h;return v=v??MAX_SAFE_INTEGER$1,!!v&&(y=="number"||y!="symbol"&&reIsUint.test(h))&&h>-1&&h%1==0&&h<v}var nativeMin$3=Math.min;function reorder(h,v){for(var y=h.length,_=nativeMin$3(v.length,y),x=copyArray(h);_--;){var w=v[_];h[_]=isIndex(w,y)?x[w]:void 0}return h}var PLACEHOLDER$1="__lodash_placeholder__";function replaceHolders(h,v){for(var y=-1,_=h.length,x=0,w=[];++y<_;){var S=h[y];(S===v||S===PLACEHOLDER$1)&&(h[y]=PLACEHOLDER$1,w[x++]=y)}return w}var WRAP_BIND_FLAG$3=1,WRAP_BIND_KEY_FLAG$2=2,WRAP_CURRY_FLAG$2=8,WRAP_CURRY_RIGHT_FLAG$1=16,WRAP_ARY_FLAG$1=128,WRAP_FLIP_FLAG=512;function createHybrid(h,v,y,_,x,w,S,E,I,L){var O=v&WRAP_ARY_FLAG$1,F=v&WRAP_BIND_FLAG$3,z=v&WRAP_BIND_KEY_FLAG$2,N=v&(WRAP_CURRY_FLAG$2|WRAP_CURRY_RIGHT_FLAG$1),H=v&WRAP_FLIP_FLAG,X=z?void 0:createCtor(h);function J(){for(var ae=arguments.length,ve=Array(ae),pe=ae;pe--;)ve[pe]=arguments[pe];if(N)var de=getHolder(J),ce=countHolders(ve,de);if(_&&(ve=composeArgs(ve,_,x,N)),w&&(ve=composeArgsRight(ve,w,S,N)),ae-=ce,N&&ae<L){var V=replaceHolders(ve,de);return createRecurry(h,v,createHybrid,J.placeholder,y,ve,V,E,I,L-ae)}var ie=F?y:this,ke=z?ie[h]:h;return ae=ve.length,E?ve=reorder(ve,E):H&&ae>1&&ve.reverse(),O&&I<ae&&(ve.length=I),this&&this!==root&&this instanceof J&&(ke=X||createCtor(ke)),ke.apply(ie,ve)}return J}function createCurry(h,v,y){var _=createCtor(h);function x(){for(var w=arguments.length,S=Array(w),E=w,I=getHolder(x);E--;)S[E]=arguments[E];var L=w<3&&S[0]!==I&&S[w-1]!==I?[]:replaceHolders(S,I);if(w-=L.length,w<y)return createRecurry(h,v,createHybrid,x.placeholder,void 0,S,L,void 0,void 0,y-w);var O=this&&this!==root&&this instanceof x?_:h;return apply(O,this,S)}return x}var WRAP_BIND_FLAG$2=1;function createPartial(h,v,y,_){var x=v&WRAP_BIND_FLAG$2,w=createCtor(h);function S(){for(var E=-1,I=arguments.length,L=-1,O=_.length,F=Array(O+I),z=this&&this!==root&&this instanceof S?w:h;++L<O;)F[L]=_[L];for(;I--;)F[L++]=arguments[++E];return apply(z,x?y:this,F)}return S}var PLACEHOLDER="__lodash_placeholder__",WRAP_BIND_FLAG$1=1,WRAP_BIND_KEY_FLAG$1=2,WRAP_CURRY_BOUND_FLAG=4,WRAP_CURRY_FLAG$1=8,WRAP_ARY_FLAG=128,WRAP_REARG_FLAG=256,nativeMin$2=Math.min;function mergeData(h,v){var y=h[1],_=v[1],x=y|_,w=x<(WRAP_BIND_FLAG$1|WRAP_BIND_KEY_FLAG$1|WRAP_ARY_FLAG),S=_==WRAP_ARY_FLAG&&y==WRAP_CURRY_FLAG$1||_==WRAP_ARY_FLAG&&y==WRAP_REARG_FLAG&&h[7].length<=v[8]||_==(WRAP_ARY_FLAG|WRAP_REARG_FLAG)&&v[7].length<=v[8]&&y==WRAP_CURRY_FLAG$1;if(!(w||S))return h;_&WRAP_BIND_FLAG$1&&(h[2]=v[2],x|=y&WRAP_BIND_FLAG$1?0:WRAP_CURRY_BOUND_FLAG);var E=v[3];if(E){var I=h[3];h[3]=I?composeArgs(I,E,v[4]):E,h[4]=I?replaceHolders(h[3],PLACEHOLDER):v[4]}return E=v[5],E&&(I=h[5],h[5]=I?composeArgsRight(I,E,v[6]):E,h[6]=I?replaceHolders(h[5],PLACEHOLDER):v[6]),E=v[7],E&&(h[7]=E),_&WRAP_ARY_FLAG&&(h[8]=h[8]==null?v[8]:nativeMin$2(h[8],v[8])),h[9]==null&&(h[9]=v[9]),h[0]=v[0],h[1]=x,h}var FUNC_ERROR_TEXT$2="Expected a function",WRAP_BIND_FLAG=1,WRAP_BIND_KEY_FLAG=2,WRAP_CURRY_FLAG=8,WRAP_CURRY_RIGHT_FLAG=16,WRAP_PARTIAL_FLAG$1=32,WRAP_PARTIAL_RIGHT_FLAG=64,nativeMax$3=Math.max;function createWrap(h,v,y,_,x,w,S,E){var I=v&WRAP_BIND_KEY_FLAG;if(!I&&typeof h!="function")throw new TypeError(FUNC_ERROR_TEXT$2);var L=_?_.length:0;if(L||(v&=-97,_=x=void 0),S=S===void 0?S:nativeMax$3(toInteger(S),0),E=E===void 0?E:toInteger(E),L-=x?x.length:0,v&WRAP_PARTIAL_RIGHT_FLAG){var O=_,F=x;_=x=void 0}var z=I?void 0:getData(h),N=[h,v,y,_,x,O,F,w,S,E];if(z&&mergeData(N,z),h=N[0],v=N[1],y=N[2],_=N[3],x=N[4],E=N[9]=N[9]===void 0?I?0:h.length:nativeMax$3(N[9]-L,0),!E&&v&(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG)&&(v&=-25),!v||v==WRAP_BIND_FLAG)var H=createBind(h,v,y);else v==WRAP_CURRY_FLAG||v==WRAP_CURRY_RIGHT_FLAG?H=createCurry(h,v,E):(v==WRAP_PARTIAL_FLAG$1||v==(WRAP_BIND_FLAG|WRAP_PARTIAL_FLAG$1))&&!x.length?H=createPartial(h,v,y,_):H=createHybrid.apply(void 0,N);var X=z?baseSetData:setData;return setWrapToString(X(H,N),h,v)}function eq(h,v){return h===v||h!==h&&v!==v}var nativeMax$2=Math.max;function overRest(h,v,y){return v=nativeMax$2(v===void 0?h.length-1:v,0),function(){for(var _=arguments,x=-1,w=nativeMax$2(_.length-v,0),S=Array(w);++x<w;)S[x]=_[v+x];x=-1;for(var E=Array(v+1);++x<v;)E[x]=_[x];return E[v]=y(S),apply(h,this,E)}}function baseRest(h,v){return setToString(overRest(h,v,identity$1),h+"")}var MAX_SAFE_INTEGER=9007199254740991;function isLength(h){return typeof h=="number"&&h>-1&&h%1==0&&h<=MAX_SAFE_INTEGER}function isArrayLike(h){return h!=null&&isLength(h.length)&&!isFunction$1(h)}function isIterateeCall(h,v,y){if(!isObject$2(y))return!1;var _=typeof v;return(_=="number"?isArrayLike(y)&&isIndex(v,y.length):_=="string"&&v in y)?eq(y[v],h):!1}var objectProto$8=Object.prototype;function isPrototype(h){var v=h&&h.constructor,y=typeof v=="function"&&v.prototype||objectProto$8;return h===y}function baseTimes(h,v){for(var y=-1,_=Array(h);++y<h;)_[y]=v(y);return _}var argsTag$2="[object Arguments]";function baseIsArguments(h){return isObjectLike(h)&&baseGetTag(h)==argsTag$2}var objectProto$7=Object.prototype,hasOwnProperty$6=objectProto$7.hasOwnProperty,propertyIsEnumerable$1=objectProto$7.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(h){return isObjectLike(h)&&hasOwnProperty$6.call(h,"callee")&&!propertyIsEnumerable$1.call(h,"callee")};function stubFalse(){return!1}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,Buffer$1=moduleExports$1?root.Buffer:void 0,nativeIsBuffer=Buffer$1?Buffer$1.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",funcTag="[object Function]",mapTag$2="[object Map]",numberTag$1="[object Number]",objectTag$2="[object Object]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$2="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag$1]=typedArrayTags[boolTag$1]=typedArrayTags[dataViewTag$2]=typedArrayTags[dateTag$1]=typedArrayTags[errorTag$1]=typedArrayTags[funcTag]=typedArrayTags[mapTag$2]=typedArrayTags[numberTag$1]=typedArrayTags[objectTag$2]=typedArrayTags[regexpTag$1]=typedArrayTags[setTag$2]=typedArrayTags[stringTag$1]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray(h){return isObjectLike(h)&&isLength(h.length)&&!!typedArrayTags[baseGetTag(h)]}function baseUnary(h){return function(v){return h(v)}}var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=function(){try{var h=freeModule&&freeModule.require&&freeModule.require("util").types;return h||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}}(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,objectProto$6=Object.prototype,hasOwnProperty$5=objectProto$6.hasOwnProperty;function arrayLikeKeys(h,v){var y=isArray(h),_=!y&&isArguments(h),x=!y&&!_&&isBuffer(h),w=!y&&!_&&!x&&isTypedArray(h),S=y||_||x||w,E=S?baseTimes(h.length,String):[],I=E.length;for(var L in h)hasOwnProperty$5.call(h,L)&&!(S&&(L=="length"||x&&(L=="offset"||L=="parent")||w&&(L=="buffer"||L=="byteLength"||L=="byteOffset")||isIndex(L,I)))&&E.push(L);return E}function overArg(h,v){return function(y){return h(v(y))}}var nativeKeys=overArg(Object.keys,Object),objectProto$5=Object.prototype,hasOwnProperty$4=objectProto$5.hasOwnProperty;function baseKeys(h){if(!isPrototype(h))return nativeKeys(h);var v=[];for(var y in Object(h))hasOwnProperty$4.call(h,y)&&y!="constructor"&&v.push(y);return v}function keys(h){return isArrayLike(h)?arrayLikeKeys(h):baseKeys(h)}var nativeCreate=getNative(Object,"create");function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}function hashDelete(h){var v=this.has(h)&&delete this.__data__[h];return this.size-=v?1:0,v}var HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$4=Object.prototype,hasOwnProperty$3=objectProto$4.hasOwnProperty;function hashGet(h){var v=this.__data__;if(nativeCreate){var y=v[h];return y===HASH_UNDEFINED$2?void 0:y}return hasOwnProperty$3.call(v,h)?v[h]:void 0}var objectProto$3=Object.prototype,hasOwnProperty$2=objectProto$3.hasOwnProperty;function hashHas(h){var v=this.__data__;return nativeCreate?v[h]!==void 0:hasOwnProperty$2.call(v,h)}var HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(h,v){var y=this.__data__;return this.size+=this.has(h)?0:1,y[h]=nativeCreate&&v===void 0?HASH_UNDEFINED$1:v,this}function Hash(h){var v=-1,y=h==null?0:h.length;for(this.clear();++v<y;){var _=h[v];this.set(_[0],_[1])}}Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}function assocIndexOf(h,v){for(var y=h.length;y--;)if(eq(h[y][0],v))return y;return-1}var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(h){var v=this.__data__,y=assocIndexOf(v,h);if(y<0)return!1;var _=v.length-1;return y==_?v.pop():splice.call(v,y,1),--this.size,!0}function listCacheGet(h){var v=this.__data__,y=assocIndexOf(v,h);return y<0?void 0:v[y][1]}function listCacheHas(h){return assocIndexOf(this.__data__,h)>-1}function listCacheSet(h,v){var y=this.__data__,_=assocIndexOf(y,h);return _<0?(++this.size,y.push([h,v])):y[_][1]=v,this}function ListCache(h){var v=-1,y=h==null?0:h.length;for(this.clear();++v<y;){var _=h[v];this.set(_[0],_[1])}}ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet;var Map$1=getNative(root,"Map");function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function isKeyable(h){var v=typeof h;return v=="string"||v=="number"||v=="symbol"||v=="boolean"?h!=="__proto__":h===null}function getMapData(h,v){var y=h.__data__;return isKeyable(v)?y[typeof v=="string"?"string":"hash"]:y.map}function mapCacheDelete(h){var v=getMapData(this,h).delete(h);return this.size-=v?1:0,v}function mapCacheGet(h){return getMapData(this,h).get(h)}function mapCacheHas(h){return getMapData(this,h).has(h)}function mapCacheSet(h,v){var y=getMapData(this,h),_=y.size;return y.set(h,v),this.size+=y.size==_?0:1,this}function MapCache(h){var v=-1,y=h==null?0:h.length;for(this.clear();++v<y;){var _=h[v];this.set(_[0],_[1])}}MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet;function toString$1(h){return h==null?"":baseToString(h)}function arrayPush(h,v){for(var y=-1,_=v.length,x=h.length;++y<_;)h[x+y]=v[y];return h}function baseClamp(h,v,y){return h===h&&(y!==void 0&&(h=h<=y?h:y),v!==void 0&&(h=h>=v?h:v)),h}function clamp$3(h,v,y){return y===void 0&&(y=v,v=void 0),y!==void 0&&(y=toNumber(y),y=y===y?y:0),v!==void 0&&(v=toNumber(v),v=v===v?v:0),baseClamp(toNumber(h),v,y)}function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(h){var v=this.__data__,y=v.delete(h);return this.size=v.size,y}function stackGet(h){return this.__data__.get(h)}function stackHas(h){return this.__data__.has(h)}var LARGE_ARRAY_SIZE=200;function stackSet(h,v){var y=this.__data__;if(y instanceof ListCache){var _=y.__data__;if(!Map$1||_.length<LARGE_ARRAY_SIZE-1)return _.push([h,v]),this.size=++y.size,this;y=this.__data__=new MapCache(_)}return y.set(h,v),this.size=y.size,this}function Stack(h){var v=this.__data__=new ListCache(h);this.size=v.size}Stack.prototype.clear=stackClear,Stack.prototype.delete=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet;function arrayFilter(h,v){for(var y=-1,_=h==null?0:h.length,x=0,w=[];++y<_;){var S=h[y];v(S,y,h)&&(w[x++]=S)}return w}function stubArray(){return[]}var objectProto$2=Object.prototype,propertyIsEnumerable=objectProto$2.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(h){return h==null?[]:(h=Object(h),arrayFilter(nativeGetSymbols(h),function(v){return propertyIsEnumerable.call(h,v)}))}:stubArray;function baseGetAllKeys(h,v,y){var _=v(h);return isArray(h)?_:arrayPush(_,y(h))}function getAllKeys(h){return baseGetAllKeys(h,keys,getSymbols)}var DataView$1=getNative(root,"DataView"),Promise$1=getNative(root,"Promise"),Set$1=getNative(root,"Set"),mapTag$1="[object Map]",objectTag$1="[object Object]",promiseTag="[object Promise]",setTag$1="[object Set]",weakMapTag="[object WeakMap]",dataViewTag$1="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$1),getTag=baseGetTag;(DataView$1&&getTag(new DataView$1(new ArrayBuffer(1)))!=dataViewTag$1||Map$1&&getTag(new Map$1)!=mapTag$1||Promise$1&&getTag(Promise$1.resolve())!=promiseTag||Set$1&&getTag(new Set$1)!=setTag$1||WeakMap$1&&getTag(new WeakMap$1)!=weakMapTag)&&(getTag=function(h){var v=baseGetTag(h),y=v==objectTag$1?h.constructor:void 0,_=y?toSource(y):"";if(_)switch(_){case dataViewCtorString:return dataViewTag$1;case mapCtorString:return mapTag$1;case promiseCtorString:return promiseTag;case setCtorString:return setTag$1;case weakMapCtorString:return weakMapTag}return v});var Uint8Array$1=root.Uint8Array,HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd(h){return this.__data__.set(h,HASH_UNDEFINED),this}function setCacheHas(h){return this.__data__.has(h)}function SetCache(h){var v=-1,y=h==null?0:h.length;for(this.__data__=new MapCache;++v<y;)this.add(h[v])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd,SetCache.prototype.has=setCacheHas;function arraySome(h,v){for(var y=-1,_=h==null?0:h.length;++y<_;)if(v(h[y],y,h))return!0;return!1}function cacheHas(h,v){return h.has(v)}var COMPARE_PARTIAL_FLAG$3=1,COMPARE_UNORDERED_FLAG$1=2;function equalArrays(h,v,y,_,x,w){var S=y&COMPARE_PARTIAL_FLAG$3,E=h.length,I=v.length;if(E!=I&&!(S&&I>E))return!1;var L=w.get(h),O=w.get(v);if(L&&O)return L==v&&O==h;var F=-1,z=!0,N=y&COMPARE_UNORDERED_FLAG$1?new SetCache:void 0;for(w.set(h,v),w.set(v,h);++F<E;){var H=h[F],X=v[F];if(_)var J=S?_(X,H,F,v,h,w):_(H,X,F,h,v,w);if(J!==void 0){if(J)continue;z=!1;break}if(N){if(!arraySome(v,function(ae,ve){if(!cacheHas(N,ve)&&(H===ae||x(H,ae,y,_,w)))return N.push(ve)})){z=!1;break}}else if(!(H===X||x(H,X,y,_,w))){z=!1;break}}return w.delete(h),w.delete(v),z}function mapToArray(h){var v=-1,y=Array(h.size);return h.forEach(function(_,x){y[++v]=[x,_]}),y}function setToArray(h){var v=-1,y=Array(h.size);return h.forEach(function(_){y[++v]=_}),y}var COMPARE_PARTIAL_FLAG$2=1,COMPARE_UNORDERED_FLAG=2,boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",mapTag="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag(h,v,y,_,x,w,S){switch(y){case dataViewTag:if(h.byteLength!=v.byteLength||h.byteOffset!=v.byteOffset)return!1;h=h.buffer,v=v.buffer;case arrayBufferTag:return!(h.byteLength!=v.byteLength||!w(new Uint8Array$1(h),new Uint8Array$1(v)));case boolTag:case dateTag:case numberTag:return eq(+h,+v);case errorTag:return h.name==v.name&&h.message==v.message;case regexpTag:case stringTag:return h==v+"";case mapTag:var E=mapToArray;case setTag:var I=_&COMPARE_PARTIAL_FLAG$2;if(E||(E=setToArray),h.size!=v.size&&!I)return!1;var L=S.get(h);if(L)return L==v;_|=COMPARE_UNORDERED_FLAG,S.set(h,v);var O=equalArrays(E(h),E(v),_,x,w,S);return S.delete(h),O;case symbolTag:if(symbolValueOf)return symbolValueOf.call(h)==symbolValueOf.call(v)}return!1}var COMPARE_PARTIAL_FLAG$1=1,objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function equalObjects(h,v,y,_,x,w){var S=y&COMPARE_PARTIAL_FLAG$1,E=getAllKeys(h),I=E.length,L=getAllKeys(v),O=L.length;if(I!=O&&!S)return!1;for(var F=I;F--;){var z=E[F];if(!(S?z in v:hasOwnProperty$1.call(v,z)))return!1}var N=w.get(h),H=w.get(v);if(N&&H)return N==v&&H==h;var X=!0;w.set(h,v),w.set(v,h);for(var J=S;++F<I;){z=E[F];var ae=h[z],ve=v[z];if(_)var pe=S?_(ve,ae,z,v,h,w):_(ae,ve,z,h,v,w);if(!(pe===void 0?ae===ve||x(ae,ve,y,_,w):pe)){X=!1;break}J||(J=z=="constructor")}if(X&&!J){var de=h.constructor,ce=v.constructor;de!=ce&&"constructor"in h&&"constructor"in v&&!(typeof de=="function"&&de instanceof de&&typeof ce=="function"&&ce instanceof ce)&&(X=!1)}return w.delete(h),w.delete(v),X}var COMPARE_PARTIAL_FLAG=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function baseIsEqualDeep(h,v,y,_,x,w){var S=isArray(h),E=isArray(v),I=S?arrayTag:getTag(h),L=E?arrayTag:getTag(v);I=I==argsTag?objectTag:I,L=L==argsTag?objectTag:L;var O=I==objectTag,F=L==objectTag,z=I==L;if(z&&isBuffer(h)){if(!isBuffer(v))return!1;S=!0,O=!1}if(z&&!O)return w||(w=new Stack),S||isTypedArray(h)?equalArrays(h,v,y,_,x,w):equalByTag(h,v,I,y,_,x,w);if(!(y&COMPARE_PARTIAL_FLAG)){var N=O&&hasOwnProperty.call(h,"__wrapped__"),H=F&&hasOwnProperty.call(v,"__wrapped__");if(N||H){var X=N?h.value():h,J=H?v.value():v;return w||(w=new Stack),x(X,J,y,_,w)}}return z?(w||(w=new Stack),equalObjects(h,v,y,_,x,w)):!1}function baseIsEqual(h,v,y,_,x){return h===v?!0:h==null||v==null||!isObjectLike(h)&&!isObjectLike(v)?h!==h&&v!==v:baseIsEqualDeep(h,v,y,_,baseIsEqual,x)}var now=function(){return root.Date.now()},FUNC_ERROR_TEXT$1="Expected a function",nativeMax$1=Math.max,nativeMin$1=Math.min;function debounce(h,v,y){var _,x,w,S,E,I,L=0,O=!1,F=!1,z=!0;if(typeof h!="function")throw new TypeError(FUNC_ERROR_TEXT$1);v=toNumber(v)||0,isObject$2(y)&&(O=!!y.leading,F="maxWait"in y,w=F?nativeMax$1(toNumber(y.maxWait)||0,v):w,z="trailing"in y?!!y.trailing:z);function N(V){var ie=_,ke=x;return _=x=void 0,L=V,S=h.apply(ke,ie),S}function H(V){return L=V,E=setTimeout(ae,v),O?N(V):S}function X(V){var ie=V-I,ke=V-L,be=v-ie;return F?nativeMin$1(be,w-ke):be}function J(V){var ie=V-I,ke=V-L;return I===void 0||ie>=v||ie<0||F&&ke>=w}function ae(){var V=now();if(J(V))return ve(V);E=setTimeout(ae,X(V))}function ve(V){return E=void 0,z&&_?N(V):(_=x=void 0,S)}function pe(){E!==void 0&&clearTimeout(E),L=0,_=I=x=E=void 0}function de(){return E===void 0?S:ve(now())}function ce(){var V=now(),ie=J(V);if(_=arguments,x=this,I=V,ie){if(E===void 0)return H(I);if(F)return clearTimeout(E),E=setTimeout(ae,v),N(I)}return E===void 0&&(E=setTimeout(ae,v)),S}return ce.cancel=pe,ce.flush=de,ce}function isEqual(h,v){return baseIsEqual(h,v)}var WRAP_PARTIAL_FLAG=32,partial=baseRest(function(h,v){var y=replaceHolders(v,getHolder(partial));return createWrap(h,WRAP_PARTIAL_FLAG,void 0,v,y)});partial.placeholder={};var freeParseFloat=parseFloat,nativeMin=Math.min,nativeRandom=Math.random;function random$2(h,v,y){if(h===void 0&&v===void 0?(h=0,v=1):(h=toFinite(h),v===void 0?(v=h,h=0):v=toFinite(v)),h>v){var _=h;h=v,v=_}{var x=nativeRandom();return nativeMin(h+x*(v-h+freeParseFloat("1e-"+((x+"").length-1))),v)}}var nativeCeil=Math.ceil,nativeMax=Math.max;function baseRange(h,v,y,_){for(var x=-1,w=nativeMax(nativeCeil((v-h)/(y||1)),0),S=Array(w);w--;)S[++x]=h,h+=y;return S}function createRange(h){return function(v,y,_){return _&&typeof _!="number"&&isIterateeCall(v,y,_)&&(y=_=void 0),v=toFinite(v),y===void 0?(y=v,v=0):y=toFinite(y),_=_===void 0?v<y?1:-1:toFinite(_),baseRange(v,y,_)}}var range$1=createRange(),FUNC_ERROR_TEXT="Expected a function";function throttle(h,v,y){var _=!0,x=!0;if(typeof h!="function")throw new TypeError(FUNC_ERROR_TEXT);return isObject$2(y)&&(_="leading"in y?!!y.leading:_,x="trailing"in y?!!y.trailing:x),debounce(h,v,{leading:_,maxWait:v,trailing:x})}var idCounter$1=0;function uniqueId(h){var v=++idCounter$1;return toString$1(h)+v}const idForObject=new WeakMap;function replacer(h,v){return v instanceof Element||v instanceof Window||v instanceof Emitter?(idForObject.has(v)||idForObject.set(v,"__object_"+uniqueId()),idForObject.get(v)):v}function Memoized(){return(h,v,y)=>{if(y.value)y.value=memoizeFunction(y.value);else if(y.get)y.get=memoizeFunction(y.get);else throw new Error("Memoize can only be applied to methods")}}function memoizeFunction(h){const v=new WeakMap,y={};return function(..._){const x=isObject$2(this)?this:y;let w=v.get(x);w||(w=new Map,v.set(x,w));const S=JSON.stringify(_,replacer),E=w.get(S);if(E===void 0||E instanceof Emitter&&E.disposed){const I=h.apply(this,_);return w.set(S,I),I}else return E}}function bindMaybe(h,v){if(h!==void 0)return v(h)}function chainMaybeValue(...h){return h.find(v=>v!==void 0)}function cancelEventBehavior(h,v){v!=null&&v.preventDefault&&h.preventDefault(),v!=null&&v.stopPropagation&&h.stopPropagation()}var __decorate$2=function(h,v,y,_){var x=arguments.length,w=x<3?v:_===null?_=Object.getOwnPropertyDescriptor(v,y):_,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(h,v,y,_);else for(var E=h.length-1;E>=0;E--)(S=h[E])&&(w=(x<3?S(w):x>3?S(v,y,w):S(v,y))||w);return x>3&&w&&Object.defineProperty(v,y,w),w};const wo=class wo{constructor(v={}){wn(this,en,new Set);ma(this,"icon");wn(this,on);ma(this,"derivedEmitters",new Map);ma(this,"_disposed",!1);wn(this,Cn);wn(this,Fi);wn(this,Pi);gn(this,on,new Set([v.sources??[]].flat())),gn(this,Cn,v.onDispose),gn(this,Fi,v.onReset),gn(this,Pi,v.value),this.icon=v.icon,addEmitterInstance(this)}get disposed(){return this._disposed}registerDerived(v,y){this.on(y),this.derivedEmitters.set(v,y)}createDerived(v){const y=new wo({...v,sources:this}),_=y.emit.bind(y),x=w=>{v.propagate(w,_)};return this.on(x),this.derivedEmitters.set(y,x),y}removeDerivedEmitter(v){const y=this.derivedEmitters.get(v);y&&this.off(y),this.derivedEmitters.delete(v)}dispose(){var v;this.removeAllListeners(),(v=wr(this,Cn))==null||v.call(this);for(const y of wr(this,on))y.removeDerivedEmitter(this);this._disposed=!0}get stateful(){return!!wr(this,Fi)}reset(){var v;(v=wr(this,Fi))==null||v.call(this);for(const y of this.derivedEmitters.keys())y.reset()}get value(){return wr(this,Pi)}on(v){return wr(this,en).add(v),this}off(v){wr(this,en).delete(v)}emit(v){gn(this,Pi,v);for(const y of wr(this,en))y(v)}once(v){const y=_=>{this.off(y),v(_)};this.on(y)}removeAllListeners(){wr(this,en).forEach(v=>this.off(v))}map(v,y){return this.createDerived({value:chainMaybeValue(y,bindMaybe(wr(this,Pi),v)),propagate:(_,x)=>x(v(_))})}filter(v){return this.createDerived({propagate(y,_){v(y)&&_(y)}})}filterMap(v,y){return this.createDerived({value:chainMaybeValue(y,bindMaybe(wr(this,Pi),v)),propagate(_,x){const w=v(_);w!==void 0&&x(w)}})}down(){const v=this.fold((y,_)=>!y&&!!_,!1).filter(identity$1).constant(!0);return v.icon=this.icon,v}up(){const v=this.fold((y,_)=>!!y&&!_,!0).filter(identity$1).constant(!0);return v.icon=this.icon,v}not(){return this.map(v=>!v,!wr(this,Pi))}change(v=isEqual){return this.fold((y,_)=>{if(y===void 0||!v(y,_))return _},wr(this,Pi))}while(v,y=!0){const _=this.createDerived({propagate(x,w){v.value&&w(x)}});return y&&v.down().on(()=>{_.reset(),this.value!==void 0&&_.emit(this.value)}),_}split(v,y,_=!0){const x=range$1(0,y).map(w=>this.createDerived({propagate(S,E){(typeof v.value=="number"?v.value:v.value?1:0)===w&&E(S)}}));return _&&v.map(w=>typeof w=="number"?w:w?1:0).change().on(w=>{this.value!==void 0&&(x[w].reset(),x[w].emit(this.value))}),x}constant(v){return this.createDerived({value:v,propagate(y,_){_(v)}})}throttle(v,y){const _=throttle((x,w)=>{this._disposed||w(x)},v,y);return this.createDerived({onDispose(){_.cancel()},propagate:_})}debounce(v,y){const _=debounce((x,w)=>{this._disposed||w(x)},v,y);return this.createDerived({onDispose(){_.cancel()},propagate:_})}delay(v){let y;return this.createDerived({onDispose(){clearTimeout(y)},propagate(_,x){y=setTimeout(()=>x(_),v)}})}longPress(v){let y;return{pressed:this.createDerived({onDispose(){clearTimeout(y)},propagate(x,w){x?y||(y=setTimeout(()=>w(x),v)):(clearTimeout(y),y=void 0)}})}}lerp(v,y,_=1e-4){let x=1,w,S,E;const I=()=>{w===void 0||S===void 0||(x=1-(1-x)*(1-y),E=v(w,S,x),x<1-_?(L.emit(E),requestAnimationFrame(I)):(L.emit(S),x=1,w=S=void 0))},L=this.createDerived({onDispose(){w=S=void 0},onReset:()=>{E=S,w=S=void 0},propagate(O){const F=w!==void 0&&S!==void 0;E===void 0&&(E=O),x=0,w=E,S=O,F||I()}});return L}tween(v,y){let _=0,x,w;const S=()=>{if(x===null||w===null)return;const L=(Date.now()-_)/y;L<1?(E.emit(v(x,w,L)),requestAnimationFrame(S)):(E.emit(w),x=w=void 0)},E=this.createDerived({onDispose(){x=w=void 0},onReset:()=>{x=w=void 0},propagate(I){const L=x!==void 0&&w!==void 0;_=Date.now(),x=E.value??I,w=I,L||S()}});return E}resetBy(v,y=!0){const _=this.createDerived({propagate:(x,w)=>w(x)});return v.on(x=>{x&&(_.reset(),y&&this.value!==void 0&&_.emit(this.value))}),_}fold(v,y){let _=y;return this.createDerived({onReset(){_=y},propagate(x,w){const S=v(_,x);S!==void 0&&(w(S),_=S)}})}stash(...v){const y=new wo({sources:this});return v.forEach(_=>{_.on(()=>{y.emit(this.value)})}),y}delta(v){let y;return this.createDerived({onReset(){y=void 0},propagate(_,x){y!==void 0&&x(v(y,_)),y=_}})}interval(v=0,y=!1){const _=new wo({sources:this}),x=()=>{this._disposed||(_.emit(this.value),v<=0?requestAnimationFrame(x):setTimeout(x,v))};return y||this.value!==void 0?x():this.once(x),_}trail(v=2,y=!0){let _=this.fold((x,w)=>{const S=[w,...x];return v===0?S:S.slice(0,v)},[]);return y&&(_=_.filter(x=>x.length===v)),_}log(v="Bndr"){return this.on(y=>{console.log(`[${v}]`,"Value=",y)}),this}};en=new WeakMap,on=new WeakMap,Cn=new WeakMap,Fi=new WeakMap,Pi=new WeakMap;let Emitter=wo;__decorate$2([Memoized()],Emitter.prototype,"down",null),__decorate$2([Memoized()],Emitter.prototype,"up",null),__decorate$2([Memoized()],Emitter.prototype,"not",null),__decorate$2([Memoized()],Emitter.prototype,"change",null),__decorate$2([Memoized()],Emitter.prototype,"constant",null);function combine$1(...h){if(h.length===0)throw new Error("Zero-length emitters");const v=new Emitter({sources:h}),y=debounce(_=>v.emit(_),0);return h.forEach(_=>_.registerDerived(v,y)),v.icon=h.map(_=>_.icon).filter(_=>!!_).reduce((_,x)=>_.length===0?x:[..._,", ",...x],[]),v}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(h){return h&&h.__esModule&&Object.prototype.hasOwnProperty.call(h,"default")?h.default:h}function getAugmentedNamespace(h){if(h.__esModule)return h;var v=h.default;if(typeof v=="function"){var y=function _(){return this instanceof _?Reflect.construct(v,arguments,this.constructor):v.apply(this,arguments)};y.prototype=v.prototype}else y={};return Object.defineProperty(y,"__esModule",{value:!0}),Object.keys(h).forEach(function(_){var x=Object.getOwnPropertyDescriptor(h,_);Object.defineProperty(y,_,x.get?x:{enumerable:!0,get:function(){return h[_]}})}),y}var Case$1={exports:{}};/*! Case - v1.6.2 - 2020-03-24
* Copyright (c) 2020 Nathan Bubna; Licensed MIT, GPL */(function(h){(function(){var v=function(N,H){return H=H||"",N.replace(/(^|-)/g,"$1\\u"+H).replace(/,/g,"\\u"+H)},y=v("20-26,28-2F,3A-40,5B-60,7B-7E,A0-BF,D7,F7","00"),_="a-z"+v("DF-F6,F8-FF","00"),x="A-Z"+v("C0-D6,D8-DE","00"),w="A|An|And|As|At|But|By|En|For|If|In|Of|On|Or|The|To|Vs?\\.?|Via",S=function(N,H,X,J){return N=N||y,H=H||_,X=X||x,J=J||w,{capitalize:new RegExp("(^|["+N+"])(["+H+"])","g"),pascal:new RegExp("(^|["+N+"])+(["+H+X+"])","g"),fill:new RegExp("["+N+"]+(.|$)","g"),sentence:new RegExp('(^\\s*|[\\?\\!\\.]+"?\\s+"?|,\\s+")(['+H+"])","g"),improper:new RegExp("\\b("+J+")\\b","g"),relax:new RegExp("([^"+X+"])(["+X+"]*)(["+X+"])(?=[^"+X+"]|$)","g"),upper:new RegExp("^[^"+H+"]+$"),hole:/[^\s]\s[^\s]/,apostrophe:/'/g,room:new RegExp("["+N+"]")}},E=S(),I={re:E,unicodes:v,regexps:S,types:[],up:String.prototype.toUpperCase,low:String.prototype.toLowerCase,cap:function(N){return I.up.call(N.charAt(0))+N.slice(1)},decap:function(N){return I.low.call(N.charAt(0))+N.slice(1)},deapostrophe:function(N){return N.replace(E.apostrophe,"")},fill:function(N,H,X){return H!=null&&(N=N.replace(E.fill,function(J,ae){return ae?H+ae:""})),X&&(N=I.deapostrophe(N)),N},prep:function(N,H,X,J){if(N=N==null?"":N+"",!J&&E.upper.test(N)&&(N=I.low.call(N)),!H&&!E.hole.test(N)){var ae=I.fill(N," ");E.hole.test(ae)&&(N=ae)}return!X&&!E.room.test(N)&&(N=N.replace(E.relax,I.relax)),N},relax:function(N,H,X,J){return H+" "+(X?X+" ":"")+J}},L={_:I,of:function(N){for(var H=0,X=I.types.length;H<X;H++)if(L[I.types[H]].apply(L,arguments)===N)return I.types[H]},flip:function(N){return N.replace(/\w/g,function(H){return(H==I.up.call(H)?I.low:I.up).call(H)})},random:function(N){return N.replace(/\w/g,function(H){return(Math.round(Math.random())?I.up:I.low).call(H)})},type:function(N,H){L[N]=H,I.types.push(N)}},O={lower:function(N,H,X){return I.fill(I.low.call(I.prep(N,H)),H,X)},snake:function(N){return L.lower(N,"_",!0)},constant:function(N){return L.upper(N,"_",!0)},camel:function(N){return I.decap(L.pascal(N))},kebab:function(N){return L.lower(N,"-",!0)},upper:function(N,H,X){return I.fill(I.up.call(I.prep(N,H,!1,!0)),H,X)},capital:function(N,H,X){return I.fill(I.prep(N).replace(E.capitalize,function(J,ae,ve){return ae+I.up.call(ve)}),H,X)},header:function(N){return L.capital(N,"-",!0)},pascal:function(N){return I.fill(I.prep(N,!1,!0).replace(E.pascal,function(H,X,J){return I.up.call(J)}),"",!0)},title:function(N){return L.capital(N).replace(E.improper,function(H,X,J,ae){return J>0&&J<ae.lastIndexOf(" ")?I.low.call(H):H})},sentence:function(N,H,X){return N=L.lower(N).replace(E.sentence,function(J,ae,ve){return ae+I.up.call(ve)}),H&&H.forEach(function(J){N=N.replace(new RegExp("\\b"+L.lower(J)+"\\b","g"),I.cap)}),X&&X.forEach(function(J){N=N.replace(new RegExp("(\\b"+L.lower(J)+"\\. +)(\\w)"),function(ae,ve,pe){return ve+I.low.call(pe)})}),N}};O.squish=O.pascal,L.default=L;for(var F in O)L.type(F,O[F]);var z=typeof z=="function"?z:function(){};z(h.exports?h.exports=L:this.Case=L)}).call(commonjsGlobal)})(Case$1);var CaseExports=Case$1.exports;const Case=getDefaultExportFromCjs(CaseExports),EPSILON$2=1e-6;function round$9(h){return h>=0?Math.round(h):h%.5===0?Math.floor(h):Math.round(h)}var scalar$2;(function(h){function v(...Le){return Le.reduce((Je,gt)=>Je+gt,0)}h.add=v;function y(...Le){return Le.length===0?0:Le.length===1?-Le[0]:Le.reduce((Je,gt)=>Je-gt)}h.subtract=y;function _(...Le){return Le.reduce((Je,gt)=>Je*gt,1)}h.multiply=_;function x(...Le){return Le.length===0?1:Le.length===1?1/Le[0]:Le.reduce((Je,gt)=>Je/gt)}h.divide=x,h.round=round$9,h.ceil=Math.ceil,h.floor=Math.floor;function w(Le){return Le<0?Math.ceil(Le):Math.floor(Le)}h.trunc=w;function S(Le){return Le-h.floor(Le)}h.fract=S;function E(Le,Je){return Le-Je*h.floor(Le/Je)}h.mod=E;function I(Le,Je,gt=0){return Math.round((Le-gt)/Je)*Je+gt}h.quantize=I,h.min=Math.min,h.max=Math.max;function L(Le,Je,gt){return Math.max(Je,Math.min(gt,Le))}h.clamp=L;function O(Le,Je){return Le*Je}h.scale=O;function F(...Le){let Je=0;const gt=1/(Le.length||1);for(const ct of Le)Je+=ct;return Je/gt}h.average=F;function z(Le,Je,gt){return Le+Je*gt}h.scaleAndAdd=z;function N(Le,Je){return Math.abs(Le-Je)}h.distance=N;function H(Le,Je){return(Le-Je)**2}h.squaredDistance=H,h.length=Math.abs;function X(Le){return Le**2}h.squaredLength=X;function J(Le){return-Le}h.negate=J;function ae(Le){return 1/Le}h.inverse=ae;function ve(Le){return 1-Le}h.oneMinus=ve,h.normalize=Math.sign;function pe(Le,Je,gt){return Le+(Je-Le)*gt}h.lerp=pe;function de(Le,Je,gt){return Le===Je?.5:(gt-Le)/(Je-Le)}h.inverseLerp=de;function ce(Le,Je,gt,ct,Ot){const ur=L((Le-Je)/(gt-Je),0,1);return pe(ct,Ot,ur)}h.fit=ce;function V(Le,Je,gt,ct,Ot){const ur=(Le-Je)/(gt-Je);return pe(ct,Ot,ur)}h.efit=V;function ie(Le,Je){return Je<Le?0:1}h.step=ie;function ke(Le,Je,gt){const ct=L((gt-Le)/(Je-Le),0,1);return ct*ct*(3-2*ct)}h.smoothstep=ke;function be(Le){return Le*180/Math.PI}h.degrees=be;function Ae(Le){return Le*Math.PI/180}h.radians=Ae,h.sin=Math.sin,h.cos=Math.cos,h.tan=Math.tan,h.asin=Math.asin,h.acos=Math.acos;function ue(Le,Je){return Je===void 0?Math.atan(Le):Math.atan2(Le,Je)}h.atan=ue,h.pow=Math.exp,h.exp=Math.exp,h.log=Math.log;function xe(Le){return 2**Le}h.exp2=xe,h.log2=Math.log2,h.sqrt=Math.sqrt;function Me(Le){return 1/Math.sqrt(Le)}h.inverseSqrt=Me;function Ge(Le,Je){return Le===Je}h.exactEquals=Ge;function lt(Le,Je){return Math.abs(Le-Je)<=EPSILON$2*Math.max(1,Math.abs(Le),Math.abs(Je))}h.equals=lt,h.sub=y,h.mul=_,h.div=x,h.avg=F,h.dist=N,h.len=h.length,h.sqrDist=H,h.sqrLen=X,h.mix=pe,h.invlerp=de,h.rad=Ae,h.deg=be,h.invsqrt=Me})(scalar$2||(scalar$2={}));var vec2$2;(function(h){function v(Xe,ut=Xe){return[Xe,ut]}h.of=v;function y(Xe){return[...Xe]}h.clone=y,h.zero=Object.freeze([0,0]),h.one=Object.freeze([1,1]),h.unitX=Object.freeze([1,0]),h.unitY=Object.freeze([0,1]);function _(...Xe){if(Xe.length===0)return h.zero;if(Xe.length===1)return Xe[0];if(Xe.length>2){const[M,T,...$]=Xe;return _(_(M,T),...$)}const[ut,k]=Xe;return[ut[0]+k[0],ut[1]+k[1]]}h.add=_;function x(...Xe){if(Xe.length===0)return h.zero;if(Xe.length===1)return[-Xe[0],-Xe[1]];if(Xe.length>2){const[M,T,...$]=Xe;return x(x(M,T),...$)}const[ut,k]=Xe;return[ut[0]-k[0],ut[1]-k[1]]}h.subtract=x;function w(Xe,ut){return[ut[0]-Xe[0],ut[1]-Xe[1]]}h.delta=w;function S(...Xe){if(Xe.length===0)return h.one;if(Xe.length===1)return Xe[0];if(Xe.length>2){const[M,T,...$]=Xe;return S(S(M,T),...$)}const[ut,k]=Xe;return[ut[0]*k[0],ut[1]*k[1]]}h.multiply=S;function E(...Xe){if(Xe.length===0)return h.one;if(Xe.length===1)return E(h.one,Xe[0]);if(Xe.length>2){const[M,T,...$]=Xe;return E(E(M,T),...$)}const[ut,k]=Xe;return[ut[0]/k[0],ut[1]/k[1]]}h.divide=E;function I(...Xe){if(Xe.length===0)return[1/0,1/0];if(Xe.length===1)return Xe[0];if(Xe.length>2){const[M,T,...$]=Xe;return I(I(M,T),...$)}const[ut,k]=Xe;return[Math.min(ut[0],k[0]),Math.min(ut[1],k[1])]}h.min=I;function L(...Xe){if(Xe.length===0)return[-1/0,-1/0];if(Xe.length===1)return Xe[0];if(Xe.length>2){const[M,T,...$]=Xe;return L(L(M,T),...$)}const[ut,k]=Xe;return[Math.max(ut[0],k[0]),Math.max(ut[1],k[1])]}h.max=L;function O(Xe,ut,k){return typeof ut=="number"&&(ut=[ut,ut]),typeof k=="number"&&(k=[k,k]),[Math.min(Math.max(Xe[0],ut[0]),k[0]),Math.min(Math.max(Xe[1],ut[1]),k[1])]}h.clamp=O;function F(Xe){return[round$9(Xe[0]),round$9(Xe[1])]}h.round=F;function z(Xe){return[Math.ceil(Xe[0]),Math.ceil(Xe[1])]}h.ceil=z;function N(Xe){return[Math.floor(Xe[0]),Math.floor(Xe[1])]}h.floor=N;function H(Xe){return[Xe[0]<0?Math.ceil(Xe[0]):Math.floor(Xe[0]),Xe[1]<0?Math.ceil(Xe[1]):Math.floor(Xe[1])]}h.trunc=H;function X(Xe){return h.sub(Xe,N(Xe))}h.fract=X;function J(Xe,ut){return typeof ut=="number"&&(ut=[ut,ut]),[Xe[0]-ut[0]*Math.floor(Xe[0]/ut[0]),Xe[1]-ut[1]*Math.floor(Xe[1]/ut[1])]}h.mod=J;function ae(Xe,ut,k=h.zero){return typeof ut=="number"&&(ut=[ut,ut]),typeof k=="number"&&(k=[k,k]),[Math.round((Xe[0]-k[0])/ut[0])*ut[0]+k[0],Math.round((Xe[1]-k[1])/ut[1])*ut[1]+k[1]]}h.quantize=ae;function ve(Xe,ut){return[Xe[0]*ut,Xe[1]*ut]}h.scale=ve;function pe(...Xe){let ut=0,k=0;const M=Xe.length||1;for(const T of Xe)ut+=T[0],k+=T[1];return[ut/M,k/M]}h.average=pe;function de(Xe,ut,k){return[Xe[0]+ut[0]*k,Xe[1]+ut[1]*k]}h.scaleAndAdd=de;function ce(Xe,ut){const k=ut[0]-Xe[0],M=ut[1]-Xe[1];return Math.sqrt(k*k+M*M)}h.distance=ce;function V(Xe,ut){const k=ut[0]-Xe[0],M=ut[1]-Xe[1];return k*k+M*M}h.squaredDistance=V;function ie(Xe){return Math.sqrt(Xe[0]**2+Xe[1]**2)}h.length=ie;function ke(Xe){return Xe[0]**2+Xe[1]**2}h.squaredLength=ke;function be(Xe){return[-Xe[0],-Xe[1]]}h.negate=be;function Ae(Xe){return[1/Xe[0],1/Xe[1]]}h.inverse=Ae;function ue(Xe){return x(h.one,Xe)}h.oneMinus=ue;function xe(Xe){const ut=Xe[0]**2+Xe[1]**2,k=ut===0?0:1/Math.sqrt(ut);return[Xe[0]*k,Xe[1]*k]}h.normalize=xe;function Me(Xe,ut){return Xe[0]*ut[0]+Xe[1]*ut[1]}h.dot=Me;function Ge(Xe,ut){return[0,0,Xe[0]*ut[1]-Xe[1]*ut[0]]}h.cross=Ge;function lt(Xe,ut,k){return typeof k=="number"&&(k=[k,k]),[Xe[0]+k[0]*(ut[0]-Xe[0]),Xe[1]+k[1]*(ut[1]-Xe[1])]}h.lerp=lt;function Le(Xe,ut,k){return[Xe[0]===ut[0]?.5:(k[0]-Xe[0])/(ut[0]-Xe[0]),Xe[1]===ut[1]?.5:(k[1]-Xe[1])/(ut[1]-Xe[1])]}h.inverseLerp=Le;function Je(Xe,ut,k,M,T){const $=O([(Xe[0]-ut[0])/(k[0]-ut[0]),(Xe[0]-ut[0])/(k[0]-ut[0])],0,1);return lt(M,T,$)}h.fit=Je;function gt(Xe,ut,k,M,T){const $=[(Xe[0]-ut[0])/(k[0]-ut[0]),(Xe[0]-ut[0])/(k[0]-ut[0])];return lt(M,T,$)}h.efit=gt;function ct(Xe,ut){const[k,M]=Xe;return[ut[0]*k+ut[2]*M,ut[1]*k+ut[3]*M]}h.transformMat2=ct;function Ot(Xe,ut){const[k,M]=Xe;return[ut[0]*k+ut[2]*M+ut[4],ut[1]*k+ut[3]*M+ut[5]]}h.transformMat2d=Ot;function ur(Xe,ut){const[k,M]=Xe;return[ut[0]*k+ut[3]*M+ut[6],ut[1]*k+ut[4]*M+ut[7]]}h.transformMat3=ur;function rr(Xe,ut,k=h.zero){const M=Xe[0]-k[0],T=Xe[1]-k[1],$=Math.sin(ut),R=Math.cos(ut);return[M*R-T*$+k[0],M*$+T*R+k[1]]}h.rotate=rr;function Yt(Xe,ut){if(!ut)return Math.atan2(Xe[1],Xe[0]);const[k,M]=Xe,[T,$]=ut,R=Math.sqrt((k*k+M*M)*(T*T+$*$)),G=R&&(k*T+M*$)/R;return Math.acos(Math.min(Math.max(G,-1),1))}h.angle=Yt;function Er(Xe,ut=1){return[Math.cos(Xe)*ut,Math.sin(Xe)*ut]}h.direction=Er;function Oe(Xe,ut){return Xe[0]===ut[0]&&Xe[1]===ut[1]}h.exactEquals=Oe;function dt(Xe,ut){const[k,M]=Xe,[T,$]=ut;return Math.abs(k-T)<=EPSILON$2*Math.max(1,Math.abs(k),Math.abs(T))&&Math.abs(M-$)<=EPSILON$2*Math.max(1,Math.abs(M),Math.abs($))}h.equals=dt;function He(Xe,ut){return typeof Xe=="number"&&(Xe=[Xe,Xe]),[ut[0]<Xe[0]?0:1,ut[1]<Xe[1]?0:1]}h.step=He;function Ct(Xe,ut,k){const M=scalar$2.clamp((k[0]-Xe[0])/(ut[0]-Xe[0]),0,1),T=scalar$2.clamp((k[1]-ut[1])/(ut[1]-ut[1]),0,1);return[M*M*(3-2*M),T*T*(3-2*T)]}h.smoothstep=Ct;function Ut(Xe){return[Xe[0]*180/Math.PI,Xe[1]*180/Math.PI]}h.degrees=Ut;function pr(Xe){return[Xe[0]*Math.PI/180,Xe[1]*Math.PI/180]}h.radians=pr;function Pr(Xe){return[Math.sin(Xe[0]),Math.sin(Xe[1])]}h.sin=Pr;function tn(Xe){return[Math.cos(Xe[0]),Math.cos(Xe[1])]}h.cos=tn;function un(Xe){return[Math.tan(Xe[0]),Math.tan(Xe[1])]}h.tan=un;function pn(Xe){return[Math.asin(Xe[0]),Math.asin(Xe[1])]}h.asin=pn;function kn(Xe){return[Math.acos(Xe[0]),Math.acos(Xe[1])]}h.acos=kn;function Bn(Xe,ut){return ut===void 0?[Math.atan(Xe[0]),Math.atan(Xe[1])]:[Math.atan2(Xe[0],ut[0]),Math.atan2(Xe[1],ut[1])]}h.atan=Bn;function ai(Xe,ut){return[Math.pow(Xe[0],ut[0]),Math.pow(Xe[1],ut[1])]}h.pow=ai;function vn(Xe){return[Math.exp(Xe[0]),Math.exp(Xe[1])]}h.exp=vn;function oi(Xe){return[Math.log(Xe[0]),Math.log(Xe[1])]}h.log=oi;function Hn(Xe){return[2**Xe[0],2**Xe[1]]}h.exp2=Hn;function ln(Xe){return[Math.log2(Xe[0]),Math.log2(Xe[1])]}h.log2=ln;function In(Xe){return[Math.sqrt(Xe[0]),Math.sqrt(Xe[1])]}h.sqrt=In;function Ee(Xe){return[1/Math.sqrt(Xe[0]),1/Math.sqrt(Xe[1])]}h.inverseSqrt=Ee,h.sub=x,h.mul=S,h.div=E,h.avg=pe,h.dist=ce,h.len=ie,h.sqrDist=V,h.sqrLen=ke,h.neg=be,h.mix=lt,h.invlerp=Le,h.rad=pr,h.deg=Ut,h.invsqrt=Ee})(vec2$2||(vec2$2={}));var mat2$2;(function(h){function v(de,ce,V,ie){return[de,ce,V,ie]}h.of=v;function y(de){return[...de]}h.clone=y,h.identity=Object.freeze([1,0,0,1]),h.zero=Object.freeze([0,0,0,0]);function _(de){return[de[0],de[2],de[1],de[3]]}h.transpose=_;function x(de){const[ce,V,ie,ke]=de,be=ce*ke-ie*V;if(!be)return null;const Ae=1/be;return[ke*Ae,-V*Ae,-ie*Ae,ce*Ae]}h.invert=x;function w(de){const ce=de[0];return[de[3],-de[1],-de[2],ce]}h.adjoint=w;function S(de){return de[0]*de[3]-de[2]*de[1]}h.determinant=S;function E(...de){if(de.length===0)return h.identity;if(de.length===1)return de[0];if(de.length>2){const[Me,Ge,...lt]=de;return E(E(Me,Ge),...lt)}const[ce,V,ie,ke]=de[0],[be,Ae,ue,xe]=de[1];return[ce*be+ie*Ae,V*be+ke*Ae,ce*ue+ie*xe,V*ue+ke*xe]}h.multiply=E;function I(de,ce){const[V,ie,ke,be]=de,Ae=Math.sin(ce),ue=Math.cos(ce);return[V*ue+ke*Ae,ie*ue+be*Ae,V*-Ae+ke*ue,ie*-Ae+be*ue]}h.rotate=I;function L(de,ce){const[V,ie,ke,be]=de,[Ae,ue]=typeof ce=="number"?[ce,ce]:ce;return[V*Ae,ie*Ae,ke*ue,be*ue]}h.scale=L;function O(de,ce){return E(de,N(ce))}h.skew=O;function F(de){const ce=Math.sin(de),V=Math.cos(de);return[V,ce,-ce,V]}h.fromRotation=F;function z(de){return[de[0],0,0,de[1]]}h.fromScaling=z;function N(de){const ce=Math.tan(de[0]);return[1,Math.tan(de[1]),ce,1]}h.fromSkew=N;function H(de){return Math.sqrt(de[0]*de[0]+de[1]*de[1]+de[2]*de[2]+de[3]*de[3])}h.frob=H;function X(...de){if(de.length===0)return h.zero;if(de.length===1)return de[0];if(de.length>2){const[ie,ke,...be]=de;return X(X(ie,ke),...be)}const[ce,V]=de;return[ce[0]+V[0],ce[1]+V[1],ce[2]+V[2],ce[3]+V[3]]}h.add=X;function J(...de){if(de.length===0)return h.zero;if(de.length===1)return[-de[0],-de[1],-de[2],-de[3]];if(de.length>2){const[ie,ke,...be]=de;return J(J(ie,ke),...be)}const[ce,V]=de;return[ce[0]-V[0],ce[1]-V[1],ce[2]-V[2],ce[3]-V[3]]}h.subtract=J;function ae(de,ce){return[ce[0]-de[0],ce[1]-de[1],ce[2]-de[2],ce[3]-de[3]]}h.delta=ae;function ve(de,ce){return de[0]===ce[0]&&de[1]===ce[1]&&de[2]===ce[2]&&de[3]===ce[3]}h.exactEquals=ve;function pe(de,ce){const[V,ie,ke,be]=de,[Ae,ue,xe,Me]=ce;return Math.abs(V-Ae)<=EPSILON$2*Math.max(1,Math.abs(V),Math.abs(Ae))&&Math.abs(ie-ue)<=EPSILON$2*Math.max(1,Math.abs(ie),Math.abs(ue))&&Math.abs(ke-xe)<=EPSILON$2*Math.max(1,Math.abs(ke),Math.abs(xe))&&Math.abs(be-Me)<=EPSILON$2*Math.max(1,Math.abs(be),Math.abs(Me))}h.equals=pe,h.ident=h.identity,h.sub=J,h.mul=E,h.det=S})(mat2$2||(mat2$2={}));var mat2d$2;(function(h){function v(be,Ae,ue,xe,Me,Ge){return[be,Ae,ue,xe,Me,Ge]}h.of=v;function y(be){return[...be]}h.clone=y,h.identity=Object.freeze([1,0,0,1,0,0]),h.zero=Object.freeze([0,0,0,0,0,0]);function _(be){const[Ae,ue,xe,Me,Ge,lt]=be,Le=Ae*Me-ue*xe;if(!Le)return null;const Je=1/Le;return[Me*Je,-ue*Je,-xe*Je,Ae*Je,(xe*lt-Me*Ge)*Je,(ue*Ge-Ae*lt)*Je]}h.invert=_;function x(be){return be[0]*be[3]-be[1]*be[2]}h.determinant=x;function w(...be){if(be.length===0)return h.identity;if(be.length===1)return be[0];if(be.length>2){const[Er,Oe,...dt]=be;return w(w(Er,Oe),...dt)}const[Ae,ue]=be,[xe,Me,Ge,lt,Le,Je]=Ae,[gt,ct,Ot,ur,rr,Yt]=ue;return[xe*gt+Ge*ct,Me*gt+lt*ct,xe*Ot+Ge*ur,Me*Ot+lt*ur,xe*rr+Ge*Yt+Le,Me*rr+lt*Yt+Je]}h.multiply=w;function S(be,Ae,ue){if(ue&&ue)return L(S(be,Ae),ue);const[xe,Me,Ge,lt,Le,Je]=be,gt=Math.sin(Ae),ct=Math.cos(Ae);return[xe*ct+Ge*gt,Me*ct+lt*gt,xe*-gt+Ge*ct,Me*-gt+lt*ct,Le,Je]}h.rotate=S;function E(be,Ae,ue){if(ue)return L(E(be,Ae),ue);const[xe,Me,Ge,lt,Le,Je]=be,[gt,ct]=Ae;return[xe*gt,Me*gt,Ge*ct,lt*ct,Le,Je]}h.scale=E;function I(be,Ae){const[ue,xe,Me,Ge,lt,Le]=be,[Je,gt]=Ae;return[ue,xe,Me,Ge,ue*Je+Me*gt+lt,xe*Je+Ge*gt+Le]}h.translate=I;function L(be,Ae){return w(N(Ae),be,N(vec2$2.negate(Ae)))}h.pivot=L;function O(be,Ae,ue){return w(be,H(Ae,ue))}h.skew=O;function F(be,Ae){if(Ae)return L(F(be),Ae);const ue=Math.sin(be),xe=Math.cos(be);return[xe,ue,-ue,xe,0,0]}h.fromRotation=F;function z(be,Ae){if(Ae)return L(z(be),Ae);const[ue,xe]=typeof be=="number"?[be,be]:be;return[ue,0,0,xe,0,0]}h.fromScaling=z;function N(be){const[Ae,ue]=typeof be=="number"?[be,be]:be;return[1,0,0,1,Ae,ue]}h.fromTranslation=N;function H(be,Ae){if(Ae)return L(H(be),Ae);const[ue,xe]=be,Me=Math.tan(ue);return[1,Math.tan(xe),Me,1,0,0]}h.fromSkew=H;function X(be){const[Ae,ue,xe,Me,Ge,lt]=be,Le=[1-Ae,-xe,-ue,1-Me],Je=mat2$2.invert(Le);if(!Je)return null;const gt=Je[0]*Ge+Je[1]*lt,ct=Je[2]*Ge+Je[3]*lt;return[gt,ct]}h.fixedPoint=X;function J(be){return Math.sqrt(be[0]**2+be[1]**2+be[2]**2+be[3]**2+be[4]**2+be[5]**2+1)}h.frob=J;function ae(...be){if(be.length===0)return h.zero;if(be.length===1)return be[0];if(be.length>2){const[xe,Me,...Ge]=be;return ae(ae(xe,Me),...Ge)}const[Ae,ue]=be;return[Ae[0]+ue[0],Ae[1]+ue[1],Ae[2]+ue[2],Ae[3]+ue[3],Ae[4]+ue[4],Ae[5]+ue[5]]}h.add=ae;function ve(...be){if(be.length===0)return h.zero;if(be.length===1)return[-be[0],-be[1],-be[2],-be[3],-be[4],-be[5]];if(be.length>2){const[xe,Me,...Ge]=be;return ve(ve(xe,Me),...Ge)}const[Ae,ue]=be;return[Ae[0]-ue[0],Ae[1]-ue[1],Ae[2]-ue[2],Ae[3]-ue[3],Ae[4]-ue[4],Ae[5]-ue[5]]}h.subtract=ve;function pe(be,Ae){return[Ae[0]-be[0],Ae[1]-be[1],Ae[2]-be[2],Ae[3]-be[3],Ae[4]-be[4],Ae[5]-be[5]]}h.delta=pe;function de(be,Ae){return[be[0]*Ae,be[1]*Ae,be[2]*Ae,be[3]*Ae,be[4]*Ae,be[5]*Ae]}h.multiplyScalar=de;function ce(be,Ae,ue){return[be[0]+Ae[0]*ue,be[1]+Ae[1]*ue,be[2]+Ae[2]*ue,be[3]+Ae[3]*ue,be[4]+Ae[4]*ue,be[5]+Ae[5]*ue]}h.multiplyScalarAndAdd=ce;function V(be,Ae,ue){if(!ue){const lt=Math.PI/2;ue=[vec2$2.add(be[0],vec2$2.rotate(vec2$2.sub(Ae[0],be[0]),lt)),vec2$2.add(be[1],vec2$2.rotate(vec2$2.sub(Ae[1],be[1]),lt))]}const xe=[Ae[0][0]-be[0][0],Ae[0][1]-be[0][1],ue[0][0]-be[0][0],ue[0][1]-be[0][1],be[0][0],be[0][1]],Me=_(xe);if(!Me)return null;const Ge=[Ae[1][0]-be[1][0],Ae[1][1]-be[1][1],ue[1][0]-be[1][0],ue[1][1]-be[1][1],be[1][0],be[1][1]];return w(Ge,Me)}h.fromPoints=V;function ie(be,Ae){return be[0]===Ae[0]&&be[1]===Ae[1]&&be[2]===Ae[2]&&be[3]===Ae[3]&&be[4]===Ae[4]&&be[5]===Ae[5]}h.exactEquals=ie;function ke(be,Ae){const[ue,xe,Me,Ge,lt,Le]=be,[Je,gt,ct,Ot,ur,rr]=Ae;return Math.abs(ue-Je)<=EPSILON$2*Math.max(1,Math.abs(ue),Math.abs(Je))&&Math.abs(xe-gt)<=EPSILON$2*Math.max(1,Math.abs(xe),Math.abs(gt))&&Math.abs(Me-ct)<=EPSILON$2*Math.max(1,Math.abs(Me),Math.abs(ct))&&Math.abs(Ge-Ot)<=EPSILON$2*Math.max(1,Math.abs(Ge),Math.abs(Ot))&&Math.abs(lt-ur)<=EPSILON$2*Math.max(1,Math.abs(lt),Math.abs(ur))&&Math.abs(Le-rr)<=EPSILON$2*Math.max(1,Math.abs(Le),Math.abs(rr))}h.equals=ke,h.ident=h.identity,h.sub=ve,h.mul=w,h.det=x})(mat2d$2||(mat2d$2={}));var __decorate$1=function(h,v,y,_){var x=arguments.length,w=x<3?v:_===null?_=Object.getOwnPropertyDescriptor(v,y):_,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(h,v,y,_);else for(var E=h.length-1;E>=0;E--)(S=h[E])&&(w=(x<3?S(w):x>3?S(v,y,w):S(v,y))||w);return x>3&&w&&Object.defineProperty(v,y,w),w};const GenericButtonName=["b","a","y","x","l","r","zl","zr","select","start","stick-left","stick-right","up","down","left","right","home"];class GamepadEmitter extends Emitter{constructor(){super();wn(this,Pa);wn(this,Za,new Map);Xn(this,Pa,wu).call(this)}devices(){return this.filterMap(y=>y.type==="device"?y.devices:void 0)}connected(){return this.devices().map(y=>y.length>0).change()}button(y){const _=this.filterMap(w=>{if(w.type==="button"&&w.name===y)return w.pressed}),x=y.toString();return _.icon=[{type:"iconify",icon:"solar:gamepad-bold"},x.length>3?Case.title(y.toString()):x.toUpperCase()],_}axis(y){return this.filterMap(_=>{if(_.type==="axis"&&(!y||_.name===y))return _.value})}axisDirection(y,{step:_=90,threshold:x=.5}={}){return this.axis(y).map(w=>{if(vec2$2.length(w)<x)return null;const S=scalar$2.degrees(Math.atan2(w[1],w[0]));switch(scalar$2.quantize(S,_)){case-180:return[-1,0];case-135:return[-1,-1];case-90:return[0,-1];case-45:return[1,-1];case 0:return[1,0];case 45:return[1,1];case 90:return[0,1];case 135:return[-1,1];case 180:return[-1,0];default:throw new Error(`Unexpected angle: ${S}`)}}).change()}}Za=new WeakMap,Pa=new WeakSet,Yl=function(){const y=navigator.getGamepads().filter(_=>_!==null).map(_=>[_.index,_]);return new Map(y)},wu=function(){var _;if(this.disposed)return;const y=Xn(this,Pa,Yl).call(this);y.size!==wr(this,Za).size&&this.emit({type:"device",devices:[...y.values()]});for(const[x,w]of y.entries()){const S=Matchers.find(I=>I.match(w));if(S&&"ignore"in S)continue;const E=wr(this,Za).get(x);if(!(!E||E===w)){for(const[I,{pressed:L}]of w.buttons.entries()){const O=((_=E.buttons[I])==null?void 0:_.pressed)??!1;if(L===O)continue;const F=(S==null?void 0:S.buttons[I])??GenericButtonName[I]??I;this.emit({type:"button",name:F,pressed:L,id:w.id})}for(let I=0;I*2<w.axes.length;I++){const L=[E.axes[I*2],E.axes[I*2+1]],O=[w.axes[I*2],w.axes[I*2+1]];if(!isEqual(L,O)){const F=(S==null?void 0:S.axes[I])??I;this.emit({type:"axis",name:F,value:O,id:w.id})}}}}gn(this,Za,y),requestAnimationFrame(Xn(this,Pa,wu).bind(this))},__decorate$1([Memoized()],GamepadEmitter.prototype,"devices",null),__decorate$1([Memoized()],GamepadEmitter.prototype,"connected",null),__decorate$1([Memoized()],GamepadEmitter.prototype,"button",null),__decorate$1([Memoized()],GamepadEmitter.prototype,"axis",null),__decorate$1([Memoized()],GamepadEmitter.prototype,"axisDirection",null);const Matchers=[{match:h=>h.id.includes("Joy-Con (R)"),buttons:["a","x","b","y","rsl","rsr",6,"zr","r","+","stick-right",11,12,13,14,15,"home"],axes:["right"]},{match:h=>h.id.startsWith("Joy-Con (L)"),buttons:["left","down","up","right","lsl","lsr","zl",7,"l","-","stick-left",11,12,13,14,15,"capture"],axes:["left"]},{match:h=>h.id.startsWith("Joy-Con L+R"),buttons:["a","b","y","x","l","r","zl","zr","-","+","stick-left","stick-right","up","down","left","right","home","capture","lsl","lsr","rsl","rsr"],axes:["left","right"]},{match:h=>h.id.startsWith("Joy-Con (L/R)"),ignore:!0},{match:h=>h.id.startsWith("Pro Controller"),buttons:["b","a","x","y","l","r","zl","zr","-","+","stick-left","stick-right","up","down","left","right","home","capture"],axes:["left","right"]},{match:h=>h.id.startsWith("DualSense Wireless Controller"),buttons:["x","square","circle","triangle","l1","r1","l2","r2","create","option","stick-left","stick-right","up","down","left","right","home","touch-pad"],axes:["left","right"]},{match:h=>h.id.includes("Xbox"),buttons:["b","a","x","y","lb","rb","lt","rt","view","menu","stick-left","stick-right","up","down","left","right","home","share"],axes:["left","right"]}],gamepad$1=memoizeFunction(()=>new GamepadEmitter),isApple=/mac|ipod|iphone|ipad/i.test(navigator.userAgent),MetaName=isApple?"command":"ctrl",AltName=isApple?"option":"alt",normalizedKeyName=new Map([["",MetaName],["meta",MetaName],["cmd",MetaName],["ctrl",MetaName],["",AltName],["option",AltName],["alt",AltName],["","shift"],["","control"],["return","enter"]]),KeyNameToIcon=new Map([["command",isApple?{type:"iconify",icon:"mdi:apple-keyboard-command"}:"Ctrl"],["option",isApple?{type:"iconify",icon:"mdi:apple-keyboard-option"}:"Alt"],["shift",isApple?{type:"iconify",icon:"mdi:apple-keyboard-shift"}:"Shift"],["control",{type:"iconify",icon:"mdi:apple-keyboard-control"}],["up",{type:"iconify",icon:"mdi:arrow-up"}],["down",{type:"iconify",icon:"mdi:arrow-down"}],["left",{type:"iconify",icon:"mdi:arrow-left"}],["right",{type:"iconify",icon:"mdi:arrow-right"}]]),KeyCodeToChar=new Map([["Minus","-"],["Equal","="],["Comma",","],["Perild","."],["Slash","/"],["Backquote","`"],["BracketLeft","["],["BracketRight","]"],["Backslash","\\"],["Semicolon",";"],["Quote","'"],["ArrowUp","up"],["ArrowDown","down"],["ArrowLeft","left"],["ArrowRight","right"],["MetaLeft",MetaName],["MetaRight",MetaName],["ShiftLeft","shift"],["ShiftRight","shift"],["ControlLeft","ctrl"],["AltLeft",AltName],["AltRight",AltName],["Escape","esc"],["Backspace","backspace"]]);function normalizeHotkey(h){const v=h.toLowerCase().replace(/ +?/g,"").split("+").filter(y=>y!=="").map(y=>normalizedKeyName.get(y)??y);return convertKeysToHotkey(v)}const SpecialKeys=new Set(["shift",MetaName,AltName,"control"]),KeyOrder=new Map([MetaName,AltName,"shift","control","up","down","left","right","space","enter","backspace","capslock","esc"].map((h,v)=>[h,v]));function normalizeCodeToKey(h){if(h.startsWith("Key"))return h.slice(3).toLowerCase();if(h.startsWith("Digit"))return h.slice(5);const v=KeyCodeToChar.get(h);return v||h.toLowerCase()}function convertKeysToHotkey(h){return[...h].sort((y,_)=>{const x=KeyOrder.get(y)??y.charCodeAt(0)+255,w=KeyOrder.get(_)??_.charCodeAt(0)+255;return x-w}).join("+")}function hotkeyToIcon(h){return h.split("+").reduce((v,y)=>(y===""&&v.at(-1)===""&&(y="+"),[...v,y]),[]).filter(v=>v!=="").map(v=>KeyNameToIcon.get(v)??Case.title(v))}class KeyboardEmitter extends Emitter{constructor(v=window){let y;if(typeof v=="string"){const I=document.querySelector(v);if(!I)throw new Error("Invalid selector");y=I}else y=v;const _=new Set,x=()=>{const I=new Set;for(const L of _)SpecialKeys.has(L)||(_.delete(L),I.add(L));for(const L of I)this.emit({type:"keyup",key:L,repeat:!1,pressedKeys:new Set(_),preventDefault:()=>{},stopPropagation:()=>{}})},w=I=>{if(I.target instanceof HTMLInputElement)return;const L=normalizeCodeToKey(I.code);_.add(L),this.emit({type:"keydown",key:L,repeat:I.repeat,pressedKeys:new Set(_),preventDefault:I.preventDefault.bind(I),stopPropagation:I.stopPropagation.bind(I)})},S=I=>{if(I.target instanceof HTMLInputElement)return;const L=normalizeCodeToKey(I.code);_.delete(L),L==="command"&&x(),this.emit({type:"keyup",key:L,repeat:!1,pressedKeys:new Set(_),preventDefault:I.preventDefault.bind(I),stopPropagation:I.stopPropagation.bind(I)})};y.addEventListener("keydown",w),y.addEventListener("keyup",S);const E=I=>{_.has("command")&&!I.metaKey&&(_.delete("command"),x(),this.emit({type:"keyup",key:"command",repeat:!1,pressedKeys:new Set(_),preventDefault:()=>{},stopPropagation:()=>{}}))};window.addEventListener("pointermove",E),super({onDispose(){y.removeEventListener("keydown",w),y.removeEventListener("keyup",S),window.removeEventListener("pointermove",E)}})}pressed(v,y){const _=this.filter(x=>x.key===v&&!x.repeat).on(x=>cancelEventBehavior(x,y)).map(x=>x.type==="keydown");return _.icon=hotkeyToIcon(v),_}keydown(v,y){const _=this.pressed(v,y).filter(x=>x).constant(!0);return _.icon=hotkeyToIcon(v),_}keyup(v,y){const _=this.pressed(v,y).filter(x=>!x).constant(!0);return _.icon=hotkeyToIcon(v),_}hotkey(v,y){const _=normalizeHotkey(v),x=this.filter(w=>w.type==="keydown"&&convertKeysToHotkey(w.pressedKeys)===_&&(y!=null&&y.repeat?!0:!w.repeat)).on(w=>cancelEventBehavior(w,y)).constant(!0);return x.icon=hotkeyToIcon(_),x}}function keyboard$1(h=window){return new KeyboardEmitter(h)}var __decorate=function(h,v,y,_){var x=arguments.length,w=x<3?v:_===null?_=Object.getOwnPropertyDescriptor(v,y):_,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(h,v,y,_);else for(var E=h.length-1;E>=0;E--)(S=h[E])&&(w=(x<3?S(w):x>3?S(v,y,w):S(v,y))||w);return x>3&&w&&Object.defineProperty(v,y,w),w};const Ka=class Ka extends Emitter{constructor(y=document,_={}){let x;if(typeof y=="string"){const S=document.querySelector(y);if(!S)throw new Error("Invalid selector");x=S}else x=y;const w=S=>this.emit(S);_.sources||(x.addEventListener("pointermove",w),x.addEventListener("pointerdown",w),x.addEventListener("pointerup",w),x.addEventListener("pointerleave",w),x.addEventListener("pointercancel",w),x.addEventListener("contextmenu",w));super({..._,onDispose(){x.removeEventListener("pointermove",w),x.removeEventListener("pointerdown",w),x.removeEventListener("pointerup",w),x.removeEventListener("pointerleave",w),x.removeEventListener("pointercancel",w),x.removeEventListener("contextmenu",w)}});wn(this,Si);gn(this,Si,x)}pressed(y){return this.filterMap(_=>{if(_.type!=="pointermove"&&(cancelEventBehavior(_,y),!(_.type==="contextmenu"&&y.preventDefault)))return y!=null&&y.pointerCapture&&_.type==="pointerdown"&&_.target.setPointerCapture(_.pointerId),_.type==="pointerdown"},!1)}position(y){return this.map(_=>{if(cancelEventBehavior(_,y),(y==null?void 0:y.coordinate)==="offset"&&wr(this,Si)instanceof HTMLElement){const{left:x,top:w}=wr(this,Si).getBoundingClientRect();return[_.clientX-x,_.clientY-w]}return[_.clientX,_.clientY]})}pressure(){return this.map(y=>y.pressure).change()}twist(){return this.map(y=>y.twist).change()}tilt(){return this.map(y=>[y.tiltX,y.tiltY]).change()}size(){return this.map(y=>[y.width,y.height]).change()}pointerCount(){const y=new Set;return this.filterMap(_=>{if(_.type!=="pointermove")return _.type==="pointerdown"?y.add(_.pointerId):y.delete(_.pointerId),y.size},0).change()}withPointerCount(y,_){const x=new Map;let w=0;return this.filterMap(S=>{S.type==="pointerdown"||S.type==="pointermove"?x.set(S.pointerId,S):x.delete(S.pointerId);const E=w===y,I=x.size===y;return w=x.size,I?(cancelEventBehavior(S,_),{type:E?"pointermove":"pointerdown",events:[...x.values()]}):E?{type:"pointerup"}:void 0})}drag(y){let _=!1,x=vec2$2.zero,w=vec2$2.zero;return this.createDerived({onReset(){_=!1,x=w=vec2$2.zero},propagate:(S,E)=>{if(cancelEventBehavior(S,y),y!=null&&y.selector&&!S.target.matches(y.selector))return;let I=[S.clientX,S.clientY];if((y==null?void 0:y.coordinate)==="offset"){const F=(y==null?void 0:y.origin)??wr(this,Si),{left:z,top:N}=F instanceof HTMLElement?F.getBoundingClientRect():{left:0,top:0};I=vec2$2.sub(I,[z,N])}let L,O=vec2$2.zero;if(S.type==="pointerdown")((y==null?void 0:y.pointerCapture)??!0)&&S.target.setPointerCapture(S.pointerId),L="down",x=I,_=!0;else if(S.type==="pointermove"){if(!_||vec2$2.equals(w,I))return;L="drag",O=vec2$2.sub(I,w)}else if(S.type==="pointerup"||S.type==="pointercancel"||S.type==="pointerleave"||S.type==="contextmenu"&&!y.preventDefault){if(!_)return;L="up",_=!1}L!==void 0&&(w=I,E({type:L,start:x,current:I,delta:O,event:S}))}})}gestureTransform(y){return this.withPointerCount(2,y).fold((_,x)=>{if(x.type==="pointerdown")return{points:x.events.map(S=>vec2$2.of(S.clientX,S.clientY)),justStarted:!0,start:mat2d$2.identity,current:mat2d$2.identity,delta:mat2d$2.identity};if(x.type==="pointermove"){const w=_.points,S=x.events.map(I=>vec2$2.of(I.clientX,I.clientY)),E=mat2d$2.fromPoints([w[0],S[0]],[w[1],S[1]]);if(!E)throw new Error("Invalid delta");return{points:S,justStarted:!1,start:_.start,current:mat2d$2.multiply(E,_.current),delta:E}}else return},{points:[vec2$2.zero,vec2$2.zero],justStarted:!1,start:mat2d$2.identity,current:mat2d$2.identity,delta:mat2d$2.identity})}down(y){return this.filterMap(_=>{if(_.type==="pointerdown")return cancelEventBehavior(_,y),!0})}up(y){return this.filterMap(_=>{if(_.type.match(/^pointer(up|cancel|leave)$/))return cancelEventBehavior(_,y),!0})}button(y){const _=new Ka(wr(this,Si),{sources:this}),x=typeof y=="number"?y:Ka.ButtonNameToIndex.get(y)??0;return this.registerDerived(_,w=>{w.button===-1?_.emit(w):y==="primary"?w.isPrimary&&_.emit(w):w.button===x&&_.emit(w)}),_}get primary(){return this.button("primary")}get secondary(){return this.button("secondary")}get left(){return this.button("left")}get middle(){return this.button("middle")}get right(){return this.button("right")}pointerType(y,_){const x=new Ka(wr(this,Si),{sources:this});return this.registerDerived(x,w=>{w.pointerType===y&&(cancelEventBehavior(w,_),x.emit(w))}),x}get mouse(){return this.pointerType("mouse")}get pen(){return this.pointerType("pen")}get touch(){return this.pointerType("touch")}scroll(y){const _=new Emitter({onDispose:()=>{wr(this,Si).removeEventListener("wheel",x)}}),x=w=>{cancelEventBehavior(w,y),!w.ctrlKey&&_.emit([w.deltaX,w.deltaY])};return wr(this,Si).addEventListener("wheel",x,{passive:!1}),_}pinch(y){const _=new Emitter({onDispose:()=>{wr(this,Si).removeEventListener("wheel",x)}}),x=w=>{cancelEventBehavior(w,y),w.ctrlKey&&_.emit(w.deltaY)};return wr(this,Si).addEventListener("wheel",x,{passive:!1}),_}};Si=new WeakMap,ma(Ka,"ButtonNameToIndex",new Map([["secondary",2],["left",0],["middle",1],["right",2]]));let PointerEmitter=Ka;__decorate([Memoized()],PointerEmitter.prototype,"pressed",null),__decorate([Memoized()],PointerEmitter.prototype,"position",null),__decorate([Memoized()],PointerEmitter.prototype,"pressure",null),__decorate([Memoized()],PointerEmitter.prototype,"twist",null),__decorate([Memoized()],PointerEmitter.prototype,"tilt",null),__decorate([Memoized()],PointerEmitter.prototype,"size",null),__decorate([Memoized()],PointerEmitter.prototype,"pointerCount",null),__decorate([Memoized()],PointerEmitter.prototype,"withPointerCount",null),__decorate([Memoized()],PointerEmitter.prototype,"drag",null),__decorate([Memoized()],PointerEmitter.prototype,"gestureTransform",null),__decorate([Memoized()],PointerEmitter.prototype,"down",null),__decorate([Memoized()],PointerEmitter.prototype,"up",null),__decorate([Memoized()],PointerEmitter.prototype,"button",null),__decorate([Memoized()],PointerEmitter.prototype,"pointerType",null),__decorate([Memoized()],PointerEmitter.prototype,"scroll",null),__decorate([Memoized()],PointerEmitter.prototype,"pinch",null);const pointer=memoizeFunction(h=>new PointerEmitter(h));/*!
 * pinia v3.0.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let activePinia;const setActivePinia=h=>activePinia=h,piniaSymbol=process.env.NODE_ENV!=="production"?Symbol("pinia"):Symbol();function isPlainObject(h){return h&&typeof h=="object"&&Object.prototype.toString.call(h)==="[object Object]"&&typeof h.toJSON!="function"}var MutationType;(function(h){h.direct="direct",h.patchObject="patch object",h.patchFunction="patch function"})(MutationType||(MutationType={}));const IS_CLIENT=typeof window<"u";function patchObject(h,v){for(const y in v){const _=v[y];if(!(y in h))continue;const x=h[y];isPlainObject(x)&&isPlainObject(_)&&!vue.isRef(_)&&!vue.isReactive(_)?h[y]=patchObject(x,_):h[y]=_}return h}const noop$2=()=>{};function addSubscription(h,v,y,_=noop$2){h.push(v);const x=()=>{const w=h.indexOf(v);w>-1&&(h.splice(w,1),_())};return!y&&vue.getCurrentScope()&&vue.onScopeDispose(x),x}function triggerSubscriptions(h,...v){h.slice().forEach(y=>{y(...v)})}const fallbackRunWithContext=h=>h(),ACTION_MARKER=Symbol(),ACTION_NAME=Symbol();function mergeReactiveObjects(h,v){h instanceof Map&&v instanceof Map?v.forEach((y,_)=>h.set(_,y)):h instanceof Set&&v instanceof Set&&v.forEach(h.add,h);for(const y in v){if(!v.hasOwnProperty(y))continue;const _=v[y],x=h[y];isPlainObject(x)&&isPlainObject(_)&&h.hasOwnProperty(y)&&!vue.isRef(_)&&!vue.isReactive(_)?h[y]=mergeReactiveObjects(x,_):h[y]=_}return h}const skipHydrateSymbol=process.env.NODE_ENV!=="production"?Symbol("pinia:skipHydration"):Symbol();function shouldHydrate(h){return!isPlainObject(h)||!h.hasOwnProperty(skipHydrateSymbol)}const{assign:assign$2}=Object;function isComputed(h){return!!(vue.isRef(h)&&h.effect)}function createOptionsStore(h,v,y,_){const{state:x,actions:w,getters:S}=v,E=y.state.value[h];let I;function L(){!E&&(process.env.NODE_ENV==="production"||!_)&&(y.state.value[h]=x?x():{});const O=process.env.NODE_ENV!=="production"&&_?vue.toRefs(vue.ref(x?x():{}).value):vue.toRefs(y.state.value[h]);return assign$2(O,w,Object.keys(S||{}).reduce((F,z)=>(process.env.NODE_ENV!=="production"&&z in O&&console.warn(`[]: A getter cannot have the same name as another state property. Rename one of them. Found with "${z}" in store "${h}".`),F[z]=vue.markRaw(vue.computed(()=>{setActivePinia(y);const N=y._s.get(h);return S[z].call(N,N)})),F),{}))}return I=createSetupStore(h,L,v,y,_,!0),I}function createSetupStore(h,v,y={},_,x,w){let S;const E=assign$2({actions:{}},y);if(process.env.NODE_ENV!=="production"&&!_._e.active)throw new Error("Pinia destroyed");const I={deep:!0};process.env.NODE_ENV!=="production"&&(I.onTrigger=Ae=>{L?N=Ae:L==!1&&!ie._hotUpdating&&(Array.isArray(N)?N.push(Ae):console.error(" debuggerEvents should be an array. This is most likely an internal Pinia bug."))});let L,O,F=[],z=[],N;const H=_.state.value[h];!w&&!H&&(process.env.NODE_ENV==="production"||!x)&&(_.state.value[h]={});const X=vue.ref({});let J;function ae(Ae){let ue;L=O=!1,process.env.NODE_ENV!=="production"&&(N=[]),typeof Ae=="function"?(Ae(_.state.value[h]),ue={type:MutationType.patchFunction,storeId:h,events:N}):(mergeReactiveObjects(_.state.value[h],Ae),ue={type:MutationType.patchObject,payload:Ae,storeId:h,events:N});const xe=J=Symbol();vue.nextTick().then(()=>{J===xe&&(L=!0)}),O=!0,triggerSubscriptions(F,ue,_.state.value[h])}const ve=w?function(){const{state:ue}=y,xe=ue?ue():{};this.$patch(Me=>{assign$2(Me,xe)})}:process.env.NODE_ENV!=="production"?()=>{throw new Error(`: Store "${h}" is built using the setup syntax and does not implement $reset().`)}:noop$2;function pe(){S.stop(),F=[],z=[],_._s.delete(h)}const de=(Ae,ue="")=>{if(ACTION_MARKER in Ae)return Ae[ACTION_NAME]=ue,Ae;const xe=function(){setActivePinia(_);const Me=Array.from(arguments),Ge=[],lt=[];function Le(ct){Ge.push(ct)}function Je(ct){lt.push(ct)}triggerSubscriptions(z,{args:Me,name:xe[ACTION_NAME],store:ie,after:Le,onError:Je});let gt;try{gt=Ae.apply(this&&this.$id===h?this:ie,Me)}catch(ct){throw triggerSubscriptions(lt,ct),ct}return gt instanceof Promise?gt.then(ct=>(triggerSubscriptions(Ge,ct),ct)).catch(ct=>(triggerSubscriptions(lt,ct),Promise.reject(ct))):(triggerSubscriptions(Ge,gt),gt)};return xe[ACTION_MARKER]=!0,xe[ACTION_NAME]=ue,xe},ce=vue.markRaw({actions:{},getters:{},state:[],hotState:X}),V={_p:_,$id:h,$onAction:addSubscription.bind(null,z),$patch:ae,$reset:ve,$subscribe(Ae,ue={}){const xe=addSubscription(F,Ae,ue.detached,()=>Me()),Me=S.run(()=>vue.watch(()=>_.state.value[h],Ge=>{(ue.flush==="sync"?O:L)&&Ae({storeId:h,type:MutationType.direct,events:N},Ge)},assign$2({},I,ue)));return xe},$dispose:pe},ie=vue.reactive(process.env.NODE_ENV!=="production"||process.env.NODE_ENV!=="production"&&process.env.NODE_ENV!=="test"&&IS_CLIENT?assign$2({_hmrPayload:ce,_customProperties:vue.markRaw(new Set)},V):V);_._s.set(h,ie);const be=(_._a&&_._a.runWithContext||fallbackRunWithContext)(()=>_._e.run(()=>(S=vue.effectScope()).run(()=>v({action:de}))));for(const Ae in be){const ue=be[Ae];if(vue.isRef(ue)&&!isComputed(ue)||vue.isReactive(ue))process.env.NODE_ENV!=="production"&&x?X.value[Ae]=vue.toRef(be,Ae):w||(H&&shouldHydrate(ue)&&(vue.isRef(ue)?ue.value=H[Ae]:mergeReactiveObjects(ue,H[Ae])),_.state.value[h][Ae]=ue),process.env.NODE_ENV!=="production"&&ce.state.push(Ae);else if(typeof ue=="function"){const xe=process.env.NODE_ENV!=="production"&&x?ue:de(ue,Ae);be[Ae]=xe,process.env.NODE_ENV!=="production"&&(ce.actions[Ae]=ue),E.actions[Ae]=ue}else process.env.NODE_ENV!=="production"&&isComputed(ue)&&(ce.getters[Ae]=w?y.getters[Ae]:ue,IS_CLIENT&&(be._getters||(be._getters=vue.markRaw([]))).push(Ae))}if(assign$2(ie,be),assign$2(vue.toRaw(ie),be),Object.defineProperty(ie,"$state",{get:()=>process.env.NODE_ENV!=="production"&&x?X.value:_.state.value[h],set:Ae=>{if(process.env.NODE_ENV!=="production"&&x)throw new Error("cannot set hotState");ae(ue=>{assign$2(ue,Ae)})}}),process.env.NODE_ENV!=="production"&&(ie._hotUpdate=vue.markRaw(Ae=>{ie._hotUpdating=!0,Ae._hmrPayload.state.forEach(ue=>{if(ue in ie.$state){const xe=Ae.$state[ue],Me=ie.$state[ue];typeof xe=="object"&&isPlainObject(xe)&&isPlainObject(Me)?patchObject(xe,Me):Ae.$state[ue]=Me}ie[ue]=vue.toRef(Ae.$state,ue)}),Object.keys(ie.$state).forEach(ue=>{ue in Ae.$state||delete ie[ue]}),L=!1,O=!1,_.state.value[h]=vue.toRef(Ae._hmrPayload,"hotState"),O=!0,vue.nextTick().then(()=>{L=!0});for(const ue in Ae._hmrPayload.actions){const xe=Ae[ue];ie[ue]=de(xe,ue)}for(const ue in Ae._hmrPayload.getters){const xe=Ae._hmrPayload.getters[ue],Me=w?vue.computed(()=>(setActivePinia(_),xe.call(ie,ie))):xe;ie[ue]=Me}Object.keys(ie._hmrPayload.getters).forEach(ue=>{ue in Ae._hmrPayload.getters||delete ie[ue]}),Object.keys(ie._hmrPayload.actions).forEach(ue=>{ue in Ae._hmrPayload.actions||delete ie[ue]}),ie._hmrPayload=Ae._hmrPayload,ie._getters=Ae._getters,ie._hotUpdating=!1})),process.env.NODE_ENV!=="production"&&process.env.NODE_ENV!=="test"&&IS_CLIENT){const Ae={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach(ue=>{Object.defineProperty(ie,ue,assign$2({value:ie[ue]},Ae))})}return _._p.forEach(Ae=>{if(process.env.NODE_ENV!=="production"&&process.env.NODE_ENV!=="test"&&IS_CLIENT){const ue=S.run(()=>Ae({store:ie,app:_._a,pinia:_,options:E}));Object.keys(ue||{}).forEach(xe=>ie._customProperties.add(xe)),assign$2(ie,ue)}else assign$2(ie,S.run(()=>Ae({store:ie,app:_._a,pinia:_,options:E})))}),process.env.NODE_ENV!=="production"&&ie.$state&&typeof ie.$state=="object"&&typeof ie.$state.constructor=="function"&&!ie.$state.constructor.toString().includes("[native code]")&&console.warn(`[]: The "state" must be a plain object. It cannot be
	state: () => new MyClass()
Found in store "${ie.$id}".`),H&&w&&y.hydrate&&y.hydrate(ie.$state,H),L=!0,O=!0,ie}/*! #__NO_SIDE_EFFECTS__ */function defineStore(h,v,y){let _;const x=typeof v=="function";_=x?y:v;function w(S,E){const I=vue.hasInjectionContext();if(S=(process.env.NODE_ENV==="test"&&activePinia&&activePinia._testing?null:S)||(I?vue.inject(piniaSymbol,null):null),S&&setActivePinia(S),process.env.NODE_ENV!=="production"&&!activePinia)throw new Error(`[]: "getActivePinia()" was called but there was no active Pinia. Are you trying to use a store before calling "app.use(pinia)"?
See https://pinia.vuejs.org/core-concepts/outside-component-usage.html for help.
This will fail in production.`);S=activePinia,S._s.has(h)||(x?createSetupStore(h,v,_,S):createOptionsStore(h,_,S),process.env.NODE_ENV!=="production"&&(w._pinia=S));const L=S._s.get(h);if(process.env.NODE_ENV!=="production"&&E){const O="__hot:"+h,F=x?createSetupStore(O,v,_,S,!0):createOptionsStore(O,assign$2({},_),S,!0);E._hotUpdate(F),delete S.state.value[O],S._s.delete(O)}if(process.env.NODE_ENV!=="production"&&IS_CLIENT){const O=vue.getCurrentInstance();if(O&&O.proxy&&!E){const F=O.proxy,z="_pStores"in F?F._pStores:F._pStores={};z[h]=L}}return L}return w.$id=h,w}let keyboard,gamepad;const initBndr=()=>{typeof window<"u"&&(!keyboard||!gamepad)&&(keyboard=keyboard$1(),gamepad=gamepad$1())};function bindDescriptorToEmitter(h){if(typeof window>"u")return;initBndr();const y=(Array.isArray(h)?h:[h]).map(_=>{if(typeof _=="string")if(_.startsWith("gamepad:")){const x=_.split(":")[1];return gamepad.button(x).down()}else{const x=_.endsWith("?repeat");return _=_.replace(/\?.+$/,""),keyboard.hotkey(_,{capture:!0,preventDefault:!0,repeat:x})}return _});if(y.length===1)return y[0];if(y.length>1)return combine$1(...y)}const useActionsStore=defineStore("actions",()=>{const h=vue.reactive({}),v=vue.ref([]);function y(E){if(typeof window>"u")return;const I=new Set;for(const z of E)L(z,v.value);vue.onBeforeUnmount(()=>{for(const z of E)delete h[z.id];I.forEach(z=>z.dispose()),I.clear()});function L(z,N){"perform"in z?F(z,N):O(z,N)}function O(z,N){const H=z.label?z.label:Case.title(z.id);let X;const J=N.find(ae=>ae.id===z.id);if(J){if("perform"in J)throw new Error(`Existing item with id=${z.id} is not a group`);X=J,X.icon??(X.icon=z.icon),X.label??(X.label=H)}else X={...z,label:H,children:[]},N.push(X);z.children.forEach(ae=>L(ae,X.children))}function F(z,N){var ve;z.id in h&&((ve=h[z.id].bind)==null||ve.dispose());const H=z.label?z.label:Case.title(z.id),X=z.bind?bindDescriptorToEmitter(z.bind):void 0,J=vue.markRaw({...z,label:H,bind:X});X==null||X.on(()=>{x(J),z.perform()}),h[z.id]=J,X&&I.add(X);const ae=N.findIndex(pe=>pe.id===z.id);ae!==-1?N[ae]=J:N.push(J)}}async function _(E){if(typeof window>"u")return;const I=h[E];if(!I)throw new Error(`Action ${E} is not registered`);x(I),await I.perform()}function x(E){for(const I of w)I(E)}const w=new Set;function S(E){w.add(E),vue.onUnmounted(()=>{w.delete(E)})}return{register:y,perform:_,onBeforePerform:S,allActions:h,menu:v}});function tryOnScopeDispose(h){return vue.getCurrentScope()?(vue.onScopeDispose(h),!0):!1}function extendRef(h,v,{enumerable:y=!1,unwrap:_=!0}={}){for(const[x,w]of Object.entries(v))x!=="value"&&(vue.isRef(w)&&_?Object.defineProperty(h,x,{get(){return w.value},set(S){w.value=S},enumerable:y}):Object.defineProperty(h,x,{value:w,enumerable:y}));return h}function toValue$1(h){return typeof h=="function"?h():vue.unref(h)}function toReactive(h){if(!vue.isRef(h))return vue.reactive(h);const v=new Proxy({},{get(y,_,x){return vue.unref(Reflect.get(h.value,_,x))},set(y,_,x){return vue.isRef(h.value[_])&&!vue.isRef(x)?h.value[_].value=x:h.value[_]=x,!0},deleteProperty(y,_){return Reflect.deleteProperty(h.value,_)},has(y,_){return Reflect.has(h.value,_)},ownKeys(){return Object.keys(h.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return vue.reactive(v)}function reactiveComputed(h){return toReactive(vue.computed(h))}const isClient=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const notNullish=h=>h!=null,toString=Object.prototype.toString,isObject$1=h=>toString.call(h)==="[object Object]",noop$1=()=>{};function promiseTimeout(h,v=!1,y="Timeout"){return new Promise((_,x)=>{setTimeout(v?()=>x(y):_,h)})}function getLifeCycleTarget(h){return vue.getCurrentInstance()}function tryOnMounted(h,v=!0,y){getLifeCycleTarget()?vue.onMounted(h,y):v?h():vue.nextTick(h)}function createUntil(h,v=!1){function y(F,{flush:z="sync",deep:N=!1,timeout:H,throwOnTimeout:X}={}){let J=null;const ve=[new Promise(pe=>{J=vue.watch(h,de=>{F(de)!==v&&(J?J():vue.nextTick(()=>J==null?void 0:J()),pe(de))},{flush:z,deep:N,immediate:!0})})];return H!=null&&ve.push(promiseTimeout(H,X).then(()=>toValue$1(h)).finally(()=>J==null?void 0:J())),Promise.race(ve)}function _(F,z){if(!vue.isRef(F))return y(de=>de===F,z);const{flush:N="sync",deep:H=!1,timeout:X,throwOnTimeout:J}=z??{};let ae=null;const pe=[new Promise(de=>{ae=vue.watch([h,F],([ce,V])=>{v!==(ce===V)&&(ae?ae():vue.nextTick(()=>ae==null?void 0:ae()),de(ce))},{flush:N,deep:H,immediate:!0})})];return X!=null&&pe.push(promiseTimeout(X,J).then(()=>toValue$1(h)).finally(()=>(ae==null||ae(),toValue$1(h)))),Promise.race(pe)}function x(F){return y(z=>!!z,F)}function w(F){return _(null,F)}function S(F){return _(void 0,F)}function E(F){return y(Number.isNaN,F)}function I(F,z){return y(N=>{const H=Array.from(N);return H.includes(F)||H.includes(toValue$1(F))},z)}function L(F){return O(1,F)}function O(F=1,z){let N=-1;return y(()=>(N+=1,N>=F),z)}return Array.isArray(toValue$1(h))?{toMatch:y,toContains:I,changed:L,changedTimes:O,get not(){return createUntil(h,!v)}}:{toMatch:y,toBe:_,toBeTruthy:x,toBeNull:w,toBeNaN:E,toBeUndefined:S,changed:L,changedTimes:O,get not(){return createUntil(h,!v)}}}function until(h){return createUntil(h)}function whenever(h,v,y){const _=vue.watch(h,(x,w,S)=>{x&&(y!=null&&y.once&&vue.nextTick(()=>_()),v(x,w,S))},{...y,once:!1});return _}function computedInject(h,v,y,_){let x=vue.inject(h);return typeof v=="function"?vue.computed(w=>v(x,w)):vue.computed({get:w=>v.get(x,w),set:v.set})}const defaultWindow=isClient?window:void 0,defaultDocument=isClient?window.document:void 0;function unrefElement(h){var v;const y=toValue$1(h);return(v=y==null?void 0:y.$el)!=null?v:y}function useEventListener(...h){let v,y,_,x;if(typeof h[0]=="string"||Array.isArray(h[0])?([y,_,x]=h,v=defaultWindow):[v,y,_,x]=h,!v)return noop$1;Array.isArray(y)||(y=[y]),Array.isArray(_)||(_=[_]);const w=[],S=()=>{w.forEach(O=>O()),w.length=0},E=(O,F,z,N)=>(O.addEventListener(F,z,N),()=>O.removeEventListener(F,z,N)),I=vue.watch(()=>[unrefElement(v),toValue$1(x)],([O,F])=>{if(S(),!O)return;const z=isObject$1(F)?{...F}:F;w.push(...y.flatMap(N=>_.map(H=>E(O,N,H,z))))},{immediate:!0,flush:"post"}),L=()=>{I(),S()};return tryOnScopeDispose(L),L}function createKeyPredicate(h){return typeof h=="function"?h:typeof h=="string"?v=>v.key===h:Array.isArray(h)?v=>h.includes(v.key):()=>!0}function onKeyStroke(...h){let v,y,_={};h.length===3?(v=h[0],y=h[1],_=h[2]):h.length===2?typeof h[1]=="object"?(v=!0,y=h[0],_=h[1]):(v=h[0],y=h[1]):(v=!0,y=h[0]);const{target:x=defaultWindow,eventName:w="keydown",passive:S=!1,dedupe:E=!1}=_,I=createKeyPredicate(v);return useEventListener(x,w,O=>{O.repeat&&toValue$1(E)||I(O)&&y(O)},S)}function useMounted(){const h=vue.ref(!1),v=vue.getCurrentInstance();return v&&vue.onMounted(()=>{h.value=!0},v),h}function useSupported(h){const v=useMounted();return vue.computed(()=>(v.value,!!h()))}function useMutationObserver(h,v,y={}){const{window:_=defaultWindow,...x}=y;let w;const S=useSupported(()=>_&&"MutationObserver"in _),E=()=>{w&&(w.disconnect(),w=void 0)},I=vue.computed(()=>{const z=toValue$1(h),N=(Array.isArray(z)?z:[z]).map(unrefElement).filter(notNullish);return new Set(N)}),L=vue.watch(()=>I.value,z=>{E(),S.value&&z.size&&(w=new MutationObserver(v),z.forEach(N=>w.observe(N,x)))},{immediate:!0,flush:"post"}),O=()=>w==null?void 0:w.takeRecords(),F=()=>{L(),E()};return tryOnScopeDispose(F),{isSupported:S,stop:F,takeRecords:O}}function useActiveElement(h={}){var v;const{window:y=defaultWindow,deep:_=!0,triggerOnRemoval:x=!1}=h,w=(v=h.document)!=null?v:y==null?void 0:y.document,S=()=>{var L;let O=w==null?void 0:w.activeElement;if(_)for(;O!=null&&O.shadowRoot;)O=(L=O==null?void 0:O.shadowRoot)==null?void 0:L.activeElement;return O},E=vue.ref(),I=()=>{E.value=S()};return y&&(useEventListener(y,"blur",L=>{L.relatedTarget===null&&I()},!0),useEventListener(y,"focus",I,!0)),x&&useMutationObserver(w,L=>{L.filter(O=>O.removedNodes.length).map(O=>Array.from(O.removedNodes)).flat().forEach(O=>{O===E.value&&I()})},{childList:!0,subtree:!0}),I(),E}function useRafFn(h,v={}){const{immediate:y=!0,fpsLimit:_=void 0,window:x=defaultWindow}=v,w=vue.ref(!1),S=_?1e3/_:null;let E=0,I=null;function L(z){if(!w.value||!x)return;E||(E=z);const N=z-E;if(S&&N<S){I=x.requestAnimationFrame(L);return}E=z,h({delta:N,timestamp:z}),I=x.requestAnimationFrame(L)}function O(){!w.value&&x&&(w.value=!0,E=0,I=x.requestAnimationFrame(L))}function F(){w.value=!1,I!=null&&x&&(x.cancelAnimationFrame(I),I=null)}return y&&O(),tryOnScopeDispose(F),{isActive:vue.readonly(w),pause:F,resume:O}}function useMediaQuery(h,v={}){const{window:y=defaultWindow}=v,_=useSupported(()=>y&&"matchMedia"in y&&typeof y.matchMedia=="function");let x;const w=vue.ref(!1),S=L=>{w.value=L.matches},E=()=>{x&&("removeEventListener"in x?x.removeEventListener("change",S):x.removeListener(S))},I=vue.watchEffect(()=>{_.value&&(E(),x=y.matchMedia(toValue$1(h)),"addEventListener"in x?x.addEventListener("change",S):x.addListener(S),w.value=x.matches)});return tryOnScopeDispose(()=>{I(),E(),x=void 0}),w}function useCssVar(h,v,y={}){const{window:_=defaultWindow,initialValue:x,observe:w=!1}=y,S=vue.ref(x),E=vue.computed(()=>{var L;return unrefElement(v)||((L=_==null?void 0:_.document)==null?void 0:L.documentElement)});function I(){var L;const O=toValue$1(h),F=toValue$1(E);if(F&&_&&O){const z=(L=_.getComputedStyle(F).getPropertyValue(O))==null?void 0:L.trim();S.value=z||x}}return w&&useMutationObserver(E,I,{attributeFilter:["style","class"],window:_}),vue.watch([E,()=>toValue$1(h)],(L,O)=>{O[0]&&O[1]&&O[0].style.removeProperty(O[1]),I()},{immediate:!0}),vue.watch(S,L=>{var O;const F=toValue$1(h);(O=E.value)!=null&&O.style&&F&&(L==null?E.value.style.removeProperty(F):E.value.style.setProperty(F,L))}),S}function useResizeObserver(h,v,y={}){const{window:_=defaultWindow,...x}=y;let w;const S=useSupported(()=>_&&"ResizeObserver"in _),E=()=>{w&&(w.disconnect(),w=void 0)},I=vue.computed(()=>{const F=toValue$1(h);return Array.isArray(F)?F.map(z=>unrefElement(z)):[unrefElement(F)]}),L=vue.watch(I,F=>{if(E(),S.value&&_){w=new ResizeObserver(v);for(const z of F)z&&w.observe(z,x)}},{immediate:!0,flush:"post"}),O=()=>{E(),L()};return tryOnScopeDispose(O),{isSupported:S,stop:O}}function useElementBounding(h,v={}){const{reset:y=!0,windowResize:_=!0,windowScroll:x=!0,immediate:w=!0,updateTiming:S="sync"}=v,E=vue.ref(0),I=vue.ref(0),L=vue.ref(0),O=vue.ref(0),F=vue.ref(0),z=vue.ref(0),N=vue.ref(0),H=vue.ref(0);function X(){const ae=unrefElement(h);if(!ae){y&&(E.value=0,I.value=0,L.value=0,O.value=0,F.value=0,z.value=0,N.value=0,H.value=0);return}const ve=ae.getBoundingClientRect();E.value=ve.height,I.value=ve.bottom,L.value=ve.left,O.value=ve.right,F.value=ve.top,z.value=ve.width,N.value=ve.x,H.value=ve.y}function J(){S==="sync"?X():S==="next-frame"&&requestAnimationFrame(()=>X())}return useResizeObserver(h,J),vue.watch(()=>unrefElement(h),ae=>!ae&&J()),useMutationObserver(h,J,{attributeFilter:["style","class"]}),x&&useEventListener("scroll",J,{capture:!0,passive:!0}),_&&useEventListener("resize",J,{passive:!0}),tryOnMounted(()=>{w&&J()}),{height:E,bottom:I,left:L,right:O,top:F,width:z,x:N,y:H,update:J}}function useElementSize(h,v={width:0,height:0},y={}){const{window:_=defaultWindow,box:x="content-box"}=y,w=vue.computed(()=>{var F,z;return(z=(F=unrefElement(h))==null?void 0:F.namespaceURI)==null?void 0:z.includes("svg")}),S=vue.ref(v.width),E=vue.ref(v.height),{stop:I}=useResizeObserver(h,([F])=>{const z=x==="border-box"?F.borderBoxSize:x==="content-box"?F.contentBoxSize:F.devicePixelContentBoxSize;if(_&&w.value){const N=unrefElement(h);if(N){const H=N.getBoundingClientRect();S.value=H.width,E.value=H.height}}else if(z){const N=Array.isArray(z)?z:[z];S.value=N.reduce((H,{inlineSize:X})=>H+X,0),E.value=N.reduce((H,{blockSize:X})=>H+X,0)}else S.value=F.contentRect.width,E.value=F.contentRect.height},y);tryOnMounted(()=>{const F=unrefElement(h);F&&(S.value="offsetWidth"in F?F.offsetWidth:v.width,E.value="offsetHeight"in F?F.offsetHeight:v.height)});const L=vue.watch(()=>unrefElement(h),F=>{S.value=F?v.width:0,E.value=F?v.height:0});function O(){I(),L()}return{width:S,height:E,stop:O}}function useFocus(h,v={}){const{initialValue:y=!1,focusVisible:_=!1,preventScroll:x=!1}=v,w=vue.ref(!1),S=vue.computed(()=>unrefElement(h));useEventListener(S,"focus",I=>{var L,O;(!_||(O=(L=I.target).matches)!=null&&O.call(L,":focus-visible"))&&(w.value=!0)}),useEventListener(S,"blur",()=>w.value=!1);const E=vue.computed({get:()=>w.value,set(I){var L,O;!I&&w.value?(L=S.value)==null||L.blur():I&&!w.value&&((O=S.value)==null||O.focus({preventScroll:x}))}});return vue.watch(S,()=>{E.value=y},{immediate:!0,flush:"post"}),{focused:E}}const EVENT_FOCUS_IN="focusin",EVENT_FOCUS_OUT="focusout";function useFocusWithin(h,v={}){const{window:y=defaultWindow}=v,_=vue.computed(()=>unrefElement(h)),x=vue.ref(!1),w=vue.computed(()=>x.value),S=useActiveElement(v);return!y||!S.value?{focused:w}:(useEventListener(_,EVENT_FOCUS_IN,()=>x.value=!0),useEventListener(_,EVENT_FOCUS_OUT,()=>x.value=!1),{focused:w})}const DefaultMagicKeysAliasMap={ctrl:"control",command:"meta",cmd:"meta",option:"alt",up:"arrowup",down:"arrowdown",left:"arrowleft",right:"arrowright"};function useMagicKeys(h={}){const{reactive:v=!1,target:y=defaultWindow,aliasMap:_=DefaultMagicKeysAliasMap,passive:x=!0,onEventFired:w=noop$1}=h,S=vue.reactive(new Set),E={toJSON(){return{}},current:S},I=v?vue.reactive(E):E,L=new Set,O=new Set;function F(X,J){X in I&&(v?I[X]=J:I[X].value=J)}function z(){S.clear();for(const X of O)F(X,!1)}function N(X,J){var ae,ve;const pe=(ae=X.key)==null?void 0:ae.toLowerCase(),ce=[(ve=X.code)==null?void 0:ve.toLowerCase(),pe].filter(Boolean);pe&&(J?S.add(pe):S.delete(pe));for(const V of ce)O.add(V),F(V,J);pe==="meta"&&!J?(L.forEach(V=>{S.delete(V),F(V,!1)}),L.clear()):typeof X.getModifierState=="function"&&X.getModifierState("Meta")&&J&&[...S,...ce].forEach(V=>L.add(V))}useEventListener(y,"keydown",X=>(N(X,!0),w(X)),{passive:x}),useEventListener(y,"keyup",X=>(N(X,!1),w(X)),{passive:x}),useEventListener("blur",z,{passive:!0}),useEventListener("focus",z,{passive:!0});const H=new Proxy(I,{get(X,J,ae){if(typeof J!="string")return Reflect.get(X,J,ae);if(J=J.toLowerCase(),J in _&&(J=_[J]),!(J in I))if(/[+_-]/.test(J)){const pe=J.split(/[+_-]/g).map(de=>de.trim());I[J]=vue.computed(()=>pe.every(de=>toValue$1(H[de])))}else I[J]=vue.ref(!1);const ve=Reflect.get(X,J,ae);return v?toValue$1(ve):ve}});return H}function usePointerLock(h,v={}){const{document:y=defaultDocument}=v,_=useSupported(()=>y&&"pointerLockElement"in y),x=vue.ref(),w=vue.ref();let S;_.value&&(useEventListener(y,"pointerlockchange",()=>{var L;const O=(L=y.pointerLockElement)!=null?L:x.value;S&&O===S&&(x.value=y.pointerLockElement,x.value||(S=w.value=null))}),useEventListener(y,"pointerlockerror",()=>{var L;const O=(L=y.pointerLockElement)!=null?L:x.value;if(S&&O===S){const F=y.pointerLockElement?"release":"acquire";throw new Error(`Failed to ${F} pointer lock.`)}}));async function E(L){var O;if(!_.value)throw new Error("Pointer Lock API is not supported by your browser.");if(w.value=L instanceof Event?L.currentTarget:null,S=L instanceof Event?(O=unrefElement(h))!=null?O:w.value:unrefElement(L),!S)throw new Error("Target element undefined.");return S.requestPointerLock(),await until(x).toBe(S)}async function I(){return x.value?(y.exitPointerLock(),await until(x).toBeNull(),!0):!1}return{isSupported:_,element:x,triggerElement:w,lock:E,unlock:I}}function useWindowSize(h={}){const{window:v=defaultWindow,initialWidth:y=Number.POSITIVE_INFINITY,initialHeight:_=Number.POSITIVE_INFINITY,listenOrientation:x=!0,includeScrollbar:w=!0,type:S="inner"}=h,E=vue.ref(y),I=vue.ref(_),L=()=>{v&&(S==="outer"?(E.value=v.outerWidth,I.value=v.outerHeight):w?(E.value=v.innerWidth,I.value=v.innerHeight):(E.value=v.document.documentElement.clientWidth,I.value=v.document.documentElement.clientHeight))};if(L(),tryOnMounted(L),useEventListener("resize",L,{passive:!0}),x){const O=useMediaQuery("(orientation: portrait)");vue.watch(O,()=>L())}return{width:E,height:I}}function createGroup(h){function v(x,w){const S=`${vue.unref(h)}.${x}`,E=extendRef(vue.ref(w),{default:vue.ref(w)}),I=localStorage.getItem(S);return I!==null&&(E.value=JSON.parse(I)),vue.watch(()=>E.value,L=>{L===E.default?localStorage.removeItem(S):localStorage.setItem(S,JSON.stringify(L))}),vue.watch(()=>E.default,L=>{const O=JSON.parse(localStorage.getItem(S)??"null");O===null?E.value=L:O===L&&localStorage.removeItem(S)}),E}function y(){for(const x in localStorage)x.startsWith(vue.unref(h))&&localStorage.removeItem(x)}function _(x){return createGroup(`${vue.unref(h)}.${x}`)}return{ref:v,reset:y,group:_}}const useAppConfigStore=defineStore("appConfig",()=>{const h=vue.ref("tweeq");return{appId:h,...createGroup(h)}}),useModalStore=defineStore("modal",()=>({prompt:vue.ref(async()=>{throw new Error("No modal provider. You need to add Tq.PaneModal to your app.")})}));/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function signum(h){return h<0?-1:h===0?0:1}function lerp(h,v,y){return(1-y)*h+y*v}function clampInt(h,v,y){return y<h?h:y>v?v:y}function clampDouble(h,v,y){return y<h?h:y>v?v:y}function sanitizeDegreesDouble(h){return h=h%360,h<0&&(h=h+360),h}function rotationDirection(h,v){return sanitizeDegreesDouble(v-h)<=180?1:-1}function differenceDegrees(h,v){return 180-Math.abs(Math.abs(h-v)-180)}function matrixMultiply(h,v){const y=h[0]*v[0][0]+h[1]*v[0][1]+h[2]*v[0][2],_=h[0]*v[1][0]+h[1]*v[1][1]+h[2]*v[1][2],x=h[0]*v[2][0]+h[1]*v[2][1]+h[2]*v[2][2];return[y,_,x]}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SRGB_TO_XYZ=[[.41233895,.35762064,.18051042],[.2126,.7152,.0722],[.01932141,.11916382,.95034478]],XYZ_TO_SRGB=[[3.2413774792388685,-1.5376652402851851,-.49885366846268053],[-.9691452513005321,1.8758853451067872,.04156585616912061],[.05562093689691305,-.20395524564742123,1.0571799111220335]],WHITE_POINT_D65=[95.047,100,108.883];function argbFromRgb(h,v,y){return(255<<24|(h&255)<<16|(v&255)<<8|y&255)>>>0}function argbFromLinrgb(h){const v=delinearized(h[0]),y=delinearized(h[1]),_=delinearized(h[2]);return argbFromRgb(v,y,_)}function redFromArgb(h){return h>>16&255}function greenFromArgb(h){return h>>8&255}function blueFromArgb(h){return h&255}function argbFromXyz(h,v,y){const _=XYZ_TO_SRGB,x=_[0][0]*h+_[0][1]*v+_[0][2]*y,w=_[1][0]*h+_[1][1]*v+_[1][2]*y,S=_[2][0]*h+_[2][1]*v+_[2][2]*y,E=delinearized(x),I=delinearized(w),L=delinearized(S);return argbFromRgb(E,I,L)}function xyzFromArgb(h){const v=linearized(redFromArgb(h)),y=linearized(greenFromArgb(h)),_=linearized(blueFromArgb(h));return matrixMultiply([v,y,_],SRGB_TO_XYZ)}function argbFromLstar(h){const v=yFromLstar(h),y=delinearized(v);return argbFromRgb(y,y,y)}function lstarFromArgb(h){const v=xyzFromArgb(h)[1];return 116*labF(v/100)-16}function yFromLstar(h){return 100*labInvf((h+16)/116)}function lstarFromY(h){return labF(h/100)*116-16}function linearized(h){const v=h/255;return v<=.040449936?v/12.92*100:Math.pow((v+.055)/1.055,2.4)*100}function delinearized(h){const v=h/100;let y=0;return v<=.0031308?y=v*12.92:y=1.055*Math.pow(v,1/2.4)-.055,clampInt(0,255,Math.round(y*255))}function whitePointD65(){return WHITE_POINT_D65}function labF(h){const v=.008856451679035631,y=24389/27;return h>v?Math.pow(h,1/3):(y*h+16)/116}function labInvf(h){const v=.008856451679035631,y=24389/27,_=h*h*h;return _>v?_:(116*h-16)/y}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ViewingConditions{static make(v=whitePointD65(),y=200/Math.PI*yFromLstar(50)/100,_=50,x=2,w=!1){const S=v,E=S[0]*.401288+S[1]*.650173+S[2]*-.051461,I=S[0]*-.250268+S[1]*1.204414+S[2]*.045854,L=S[0]*-.002079+S[1]*.048952+S[2]*.953127,O=.8+x/10,F=O>=.9?lerp(.59,.69,(O-.9)*10):lerp(.525,.59,(O-.8)*10);let z=w?1:O*(1-1/3.6*Math.exp((-y-42)/92));z=z>1?1:z<0?0:z;const N=O,H=[z*(100/E)+1-z,z*(100/I)+1-z,z*(100/L)+1-z],X=1/(5*y+1),J=X*X*X*X,ae=1-J,ve=J*y+.1*ae*ae*Math.cbrt(5*y),pe=yFromLstar(_)/v[1],de=1.48+Math.sqrt(pe),ce=.725/Math.pow(pe,.2),V=ce,ie=[Math.pow(ve*H[0]*E/100,.42),Math.pow(ve*H[1]*I/100,.42),Math.pow(ve*H[2]*L/100,.42)],ke=[400*ie[0]/(ie[0]+27.13),400*ie[1]/(ie[1]+27.13),400*ie[2]/(ie[2]+27.13)],be=(2*ke[0]+ke[1]+.05*ke[2])*ce;return new ViewingConditions(pe,be,ce,V,F,N,H,ve,Math.pow(ve,.25),de)}constructor(v,y,_,x,w,S,E,I,L,O){this.n=v,this.aw=y,this.nbb=_,this.ncb=x,this.c=w,this.nc=S,this.rgbD=E,this.fl=I,this.fLRoot=L,this.z=O}}ViewingConditions.DEFAULT=ViewingConditions.make();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cam16{constructor(v,y,_,x,w,S,E,I,L){this.hue=v,this.chroma=y,this.j=_,this.q=x,this.m=w,this.s=S,this.jstar=E,this.astar=I,this.bstar=L}distance(v){const y=this.jstar-v.jstar,_=this.astar-v.astar,x=this.bstar-v.bstar,w=Math.sqrt(y*y+_*_+x*x);return 1.41*Math.pow(w,.63)}static fromInt(v){return Cam16.fromIntInViewingConditions(v,ViewingConditions.DEFAULT)}static fromIntInViewingConditions(v,y){const _=(v&16711680)>>16,x=(v&65280)>>8,w=v&255,S=linearized(_),E=linearized(x),I=linearized(w),L=.41233895*S+.35762064*E+.18051042*I,O=.2126*S+.7152*E+.0722*I,F=.01932141*S+.11916382*E+.95034478*I,z=.401288*L+.650173*O-.051461*F,N=-.250268*L+1.204414*O+.045854*F,H=-.002079*L+.048952*O+.953127*F,X=y.rgbD[0]*z,J=y.rgbD[1]*N,ae=y.rgbD[2]*H,ve=Math.pow(y.fl*Math.abs(X)/100,.42),pe=Math.pow(y.fl*Math.abs(J)/100,.42),de=Math.pow(y.fl*Math.abs(ae)/100,.42),ce=signum(X)*400*ve/(ve+27.13),V=signum(J)*400*pe/(pe+27.13),ie=signum(ae)*400*de/(de+27.13),ke=(11*ce+-12*V+ie)/11,be=(ce+V-2*ie)/9,Ae=(20*ce+20*V+21*ie)/20,ue=(40*ce+20*V+ie)/20,Me=Math.atan2(be,ke)*180/Math.PI,Ge=Me<0?Me+360:Me>=360?Me-360:Me,lt=Ge*Math.PI/180,Le=ue*y.nbb,Je=100*Math.pow(Le/y.aw,y.c*y.z),gt=4/y.c*Math.sqrt(Je/100)*(y.aw+4)*y.fLRoot,ct=Ge<20.14?Ge+360:Ge,Ot=.25*(Math.cos(ct*Math.PI/180+2)+3.8),rr=5e4/13*Ot*y.nc*y.ncb*Math.sqrt(ke*ke+be*be)/(Ae+.305),Yt=Math.pow(rr,.9)*Math.pow(1.64-Math.pow(.29,y.n),.73),Er=Yt*Math.sqrt(Je/100),Oe=Er*y.fLRoot,dt=50*Math.sqrt(Yt*y.c/(y.aw+4)),He=(1+100*.007)*Je/(1+.007*Je),Ct=1/.0228*Math.log(1+.0228*Oe),Ut=Ct*Math.cos(lt),pr=Ct*Math.sin(lt);return new Cam16(Ge,Er,Je,gt,Oe,dt,He,Ut,pr)}static fromJch(v,y,_){return Cam16.fromJchInViewingConditions(v,y,_,ViewingConditions.DEFAULT)}static fromJchInViewingConditions(v,y,_,x){const w=4/x.c*Math.sqrt(v/100)*(x.aw+4)*x.fLRoot,S=y*x.fLRoot,E=y/Math.sqrt(v/100),I=50*Math.sqrt(E*x.c/(x.aw+4)),L=_*Math.PI/180,O=(1+100*.007)*v/(1+.007*v),F=1/.0228*Math.log(1+.0228*S),z=F*Math.cos(L),N=F*Math.sin(L);return new Cam16(_,y,v,w,S,I,O,z,N)}static fromUcs(v,y,_){return Cam16.fromUcsInViewingConditions(v,y,_,ViewingConditions.DEFAULT)}static fromUcsInViewingConditions(v,y,_,x){const w=y,S=_,E=Math.sqrt(w*w+S*S),L=(Math.exp(E*.0228)-1)/.0228/x.fLRoot;let O=Math.atan2(S,w)*(180/Math.PI);O<0&&(O+=360);const F=v/(1-(v-100)*.007);return Cam16.fromJchInViewingConditions(F,L,O,x)}toInt(){return this.viewed(ViewingConditions.DEFAULT)}viewed(v){const y=this.chroma===0||this.j===0?0:this.chroma/Math.sqrt(this.j/100),_=Math.pow(y/Math.pow(1.64-Math.pow(.29,v.n),.73),1/.9),x=this.hue*Math.PI/180,w=.25*(Math.cos(x+2)+3.8),S=v.aw*Math.pow(this.j/100,1/v.c/v.z),E=w*(5e4/13)*v.nc*v.ncb,I=S/v.nbb,L=Math.sin(x),O=Math.cos(x),F=23*(I+.305)*_/(23*E+11*_*O+108*_*L),z=F*O,N=F*L,H=(460*I+451*z+288*N)/1403,X=(460*I-891*z-261*N)/1403,J=(460*I-220*z-6300*N)/1403,ae=Math.max(0,27.13*Math.abs(H)/(400-Math.abs(H))),ve=signum(H)*(100/v.fl)*Math.pow(ae,1/.42),pe=Math.max(0,27.13*Math.abs(X)/(400-Math.abs(X))),de=signum(X)*(100/v.fl)*Math.pow(pe,1/.42),ce=Math.max(0,27.13*Math.abs(J)/(400-Math.abs(J))),V=signum(J)*(100/v.fl)*Math.pow(ce,1/.42),ie=ve/v.rgbD[0],ke=de/v.rgbD[1],be=V/v.rgbD[2],Ae=1.86206786*ie-1.01125463*ke+.14918677*be,ue=.38752654*ie+.62144744*ke-.00897398*be,xe=-.0158415*ie-.03412294*ke+1.04996444*be;return argbFromXyz(Ae,ue,xe)}static fromXyzInViewingConditions(v,y,_,x){const w=.401288*v+.650173*y-.051461*_,S=-.250268*v+1.204414*y+.045854*_,E=-.002079*v+.048952*y+.953127*_,I=x.rgbD[0]*w,L=x.rgbD[1]*S,O=x.rgbD[2]*E,F=Math.pow(x.fl*Math.abs(I)/100,.42),z=Math.pow(x.fl*Math.abs(L)/100,.42),N=Math.pow(x.fl*Math.abs(O)/100,.42),H=signum(I)*400*F/(F+27.13),X=signum(L)*400*z/(z+27.13),J=signum(O)*400*N/(N+27.13),ae=(11*H+-12*X+J)/11,ve=(H+X-2*J)/9,pe=(20*H+20*X+21*J)/20,de=(40*H+20*X+J)/20,V=Math.atan2(ve,ae)*180/Math.PI,ie=V<0?V+360:V>=360?V-360:V,ke=ie*Math.PI/180,be=de*x.nbb,Ae=100*Math.pow(be/x.aw,x.c*x.z),ue=4/x.c*Math.sqrt(Ae/100)*(x.aw+4)*x.fLRoot,xe=ie<20.14?ie+360:ie,Me=1/4*(Math.cos(xe*Math.PI/180+2)+3.8),lt=5e4/13*Me*x.nc*x.ncb*Math.sqrt(ae*ae+ve*ve)/(pe+.305),Le=Math.pow(lt,.9)*Math.pow(1.64-Math.pow(.29,x.n),.73),Je=Le*Math.sqrt(Ae/100),gt=Je*x.fLRoot,ct=50*Math.sqrt(Le*x.c/(x.aw+4)),Ot=(1+100*.007)*Ae/(1+.007*Ae),ur=Math.log(1+.0228*gt)/.0228,rr=ur*Math.cos(ke),Yt=ur*Math.sin(ke);return new Cam16(ie,Je,Ae,ue,gt,ct,Ot,rr,Yt)}xyzInViewingConditions(v){const y=this.chroma===0||this.j===0?0:this.chroma/Math.sqrt(this.j/100),_=Math.pow(y/Math.pow(1.64-Math.pow(.29,v.n),.73),1/.9),x=this.hue*Math.PI/180,w=.25*(Math.cos(x+2)+3.8),S=v.aw*Math.pow(this.j/100,1/v.c/v.z),E=w*(5e4/13)*v.nc*v.ncb,I=S/v.nbb,L=Math.sin(x),O=Math.cos(x),F=23*(I+.305)*_/(23*E+11*_*O+108*_*L),z=F*O,N=F*L,H=(460*I+451*z+288*N)/1403,X=(460*I-891*z-261*N)/1403,J=(460*I-220*z-6300*N)/1403,ae=Math.max(0,27.13*Math.abs(H)/(400-Math.abs(H))),ve=signum(H)*(100/v.fl)*Math.pow(ae,1/.42),pe=Math.max(0,27.13*Math.abs(X)/(400-Math.abs(X))),de=signum(X)*(100/v.fl)*Math.pow(pe,1/.42),ce=Math.max(0,27.13*Math.abs(J)/(400-Math.abs(J))),V=signum(J)*(100/v.fl)*Math.pow(ce,1/.42),ie=ve/v.rgbD[0],ke=de/v.rgbD[1],be=V/v.rgbD[2],Ae=1.86206786*ie-1.01125463*ke+.14918677*be,ue=.38752654*ie+.62144744*ke-.00897398*be,xe=-.0158415*ie-.03412294*ke+1.04996444*be;return[Ae,ue,xe]}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HctSolver{static sanitizeRadians(v){return(v+Math.PI*8)%(Math.PI*2)}static trueDelinearized(v){const y=v/100;let _=0;return y<=.0031308?_=y*12.92:_=1.055*Math.pow(y,1/2.4)-.055,_*255}static chromaticAdaptation(v){const y=Math.pow(Math.abs(v),.42);return signum(v)*400*y/(y+27.13)}static hueOf(v){const y=matrixMultiply(v,HctSolver.SCALED_DISCOUNT_FROM_LINRGB),_=HctSolver.chromaticAdaptation(y[0]),x=HctSolver.chromaticAdaptation(y[1]),w=HctSolver.chromaticAdaptation(y[2]),S=(11*_+-12*x+w)/11,E=(_+x-2*w)/9;return Math.atan2(E,S)}static areInCyclicOrder(v,y,_){const x=HctSolver.sanitizeRadians(y-v),w=HctSolver.sanitizeRadians(_-v);return x<w}static intercept(v,y,_){return(y-v)/(_-v)}static lerpPoint(v,y,_){return[v[0]+(_[0]-v[0])*y,v[1]+(_[1]-v[1])*y,v[2]+(_[2]-v[2])*y]}static setCoordinate(v,y,_,x){const w=HctSolver.intercept(v[x],y,_[x]);return HctSolver.lerpPoint(v,w,_)}static isBounded(v){return 0<=v&&v<=100}static nthVertex(v,y){const _=HctSolver.Y_FROM_LINRGB[0],x=HctSolver.Y_FROM_LINRGB[1],w=HctSolver.Y_FROM_LINRGB[2],S=y%4<=1?0:100,E=y%2===0?0:100;if(y<4){const I=S,L=E,O=(v-I*x-L*w)/_;return HctSolver.isBounded(O)?[O,I,L]:[-1,-1,-1]}else if(y<8){const I=S,L=E,O=(v-L*_-I*w)/x;return HctSolver.isBounded(O)?[L,O,I]:[-1,-1,-1]}else{const I=S,L=E,O=(v-I*_-L*x)/w;return HctSolver.isBounded(O)?[I,L,O]:[-1,-1,-1]}}static bisectToSegment(v,y){let _=[-1,-1,-1],x=_,w=0,S=0,E=!1,I=!0;for(let L=0;L<12;L++){const O=HctSolver.nthVertex(v,L);if(O[0]<0)continue;const F=HctSolver.hueOf(O);if(!E){_=O,x=O,w=F,S=F,E=!0;continue}(I||HctSolver.areInCyclicOrder(w,F,S))&&(I=!1,HctSolver.areInCyclicOrder(w,y,F)?(x=O,S=F):(_=O,w=F))}return[_,x]}static midpoint(v,y){return[(v[0]+y[0])/2,(v[1]+y[1])/2,(v[2]+y[2])/2]}static criticalPlaneBelow(v){return Math.floor(v-.5)}static criticalPlaneAbove(v){return Math.ceil(v-.5)}static bisectToLimit(v,y){const _=HctSolver.bisectToSegment(v,y);let x=_[0],w=HctSolver.hueOf(x),S=_[1];for(let E=0;E<3;E++)if(x[E]!==S[E]){let I=-1,L=255;x[E]<S[E]?(I=HctSolver.criticalPlaneBelow(HctSolver.trueDelinearized(x[E])),L=HctSolver.criticalPlaneAbove(HctSolver.trueDelinearized(S[E]))):(I=HctSolver.criticalPlaneAbove(HctSolver.trueDelinearized(x[E])),L=HctSolver.criticalPlaneBelow(HctSolver.trueDelinearized(S[E])));for(let O=0;O<8&&!(Math.abs(L-I)<=1);O++){const F=Math.floor((I+L)/2),z=HctSolver.CRITICAL_PLANES[F],N=HctSolver.setCoordinate(x,z,S,E),H=HctSolver.hueOf(N);HctSolver.areInCyclicOrder(w,y,H)?(S=N,L=F):(x=N,w=H,I=F)}}return HctSolver.midpoint(x,S)}static inverseChromaticAdaptation(v){const y=Math.abs(v),_=Math.max(0,27.13*y/(400-y));return signum(v)*Math.pow(_,1/.42)}static findResultByJ(v,y,_){let x=Math.sqrt(_)*11;const w=ViewingConditions.DEFAULT,S=1/Math.pow(1.64-Math.pow(.29,w.n),.73),I=.25*(Math.cos(v+2)+3.8)*(5e4/13)*w.nc*w.ncb,L=Math.sin(v),O=Math.cos(v);for(let F=0;F<5;F++){const z=x/100,N=y===0||x===0?0:y/Math.sqrt(z),H=Math.pow(N*S,1/.9),J=w.aw*Math.pow(z,1/w.c/w.z)/w.nbb,ae=23*(J+.305)*H/(23*I+11*H*O+108*H*L),ve=ae*O,pe=ae*L,de=(460*J+451*ve+288*pe)/1403,ce=(460*J-891*ve-261*pe)/1403,V=(460*J-220*ve-6300*pe)/1403,ie=HctSolver.inverseChromaticAdaptation(de),ke=HctSolver.inverseChromaticAdaptation(ce),be=HctSolver.inverseChromaticAdaptation(V),Ae=matrixMultiply([ie,ke,be],HctSolver.LINRGB_FROM_SCALED_DISCOUNT);if(Ae[0]<0||Ae[1]<0||Ae[2]<0)return 0;const ue=HctSolver.Y_FROM_LINRGB[0],xe=HctSolver.Y_FROM_LINRGB[1],Me=HctSolver.Y_FROM_LINRGB[2],Ge=ue*Ae[0]+xe*Ae[1]+Me*Ae[2];if(Ge<=0)return 0;if(F===4||Math.abs(Ge-_)<.002)return Ae[0]>100.01||Ae[1]>100.01||Ae[2]>100.01?0:argbFromLinrgb(Ae);x=x-(Ge-_)*x/(2*Ge)}return 0}static solveToInt(v,y,_){if(y<1e-4||_<1e-4||_>99.9999)return argbFromLstar(_);v=sanitizeDegreesDouble(v);const x=v/180*Math.PI,w=yFromLstar(_),S=HctSolver.findResultByJ(x,y,w);if(S!==0)return S;const E=HctSolver.bisectToLimit(w,x);return argbFromLinrgb(E)}static solveToCam(v,y,_){return Cam16.fromInt(HctSolver.solveToInt(v,y,_))}}HctSolver.SCALED_DISCOUNT_FROM_LINRGB=[[.001200833568784504,.002389694492170889,.0002795742885861124],[.0005891086651375999,.0029785502573438758,.0003270666104008398],[.00010146692491640572,.0005364214359186694,.0032979401770712076]],HctSolver.LINRGB_FROM_SCALED_DISCOUNT=[[1373.2198709594231,-1100.4251190754821,-7.278681089101213],[-271.815969077903,559.6580465940733,-32.46047482791194],[1.9622899599665666,-57.173814538844006,308.7233197812385]],HctSolver.Y_FROM_LINRGB=[.2126,.7152,.0722],HctSolver.CRITICAL_PLANES=[.015176349177441876,.045529047532325624,.07588174588720938,.10623444424209313,.13658714259697685,.16693984095186062,.19729253930674434,.2276452376616281,.2579979360165119,.28835063437139563,.3188300904430532,.350925934958123,.3848314933096426,.42057480301049466,.458183274052838,.4976837250274023,.5391024159806381,.5824650784040898,.6277969426914107,.6751227633498623,.7244668422128921,.775853049866786,.829304845476233,.8848452951698498,.942497089126609,1.0022825574869039,1.0642236851973577,1.1283421258858297,1.1946592148522128,1.2631959812511864,1.3339731595349034,1.407011200216447,1.4823302800086415,1.5599503113873272,1.6398909516233677,1.7221716113234105,1.8068114625156377,1.8938294463134073,1.9832442801866852,2.075074464868551,2.1693382909216234,2.2660538449872063,2.36523901573795,2.4669114995532007,2.5710888059345764,2.6777882626779785,2.7870270208169257,2.898822059350997,3.0131901897720907,3.1301480604002863,3.2497121605402226,3.3718988244681087,3.4967242352587946,3.624204428461639,3.754355295633311,3.887192587735158,4.022731918402185,4.160988767090289,4.301978482107941,4.445716283538092,4.592217266055746,4.741496401646282,4.893568542229298,5.048448422192488,5.20615066083972,5.3666897647573375,5.5300801301023865,5.696336044816294,5.865471690767354,6.037501145825082,6.212438385869475,6.390297286737924,6.571091626112461,6.7548350853498045,6.941541251256611,7.131223617812143,7.323895587840543,7.5195704746346665,7.7182615035334345,7.919981813454504,8.124744458384042,8.332562408825165,8.543448553206703,8.757415699253682,8.974476575321063,9.194643831691977,9.417930041841839,9.644347703669503,9.873909240696694,10.106627003236781,10.342513269534024,10.58158024687427,10.8238400726681,11.069304815507364,11.317986476196008,11.569896988756009,11.825048221409341,12.083451977536606,12.345119996613247,12.610063955123938,12.878295467455942,13.149826086772048,13.42466730586372,13.702830557985108,13.984327217668513,14.269168601521828,14.55736596900856,14.848930523210871,15.143873411576273,15.44220572664832,15.743938506781891,16.04908273684337,16.35764934889634,16.66964922287304,16.985093187232053,17.30399201960269,17.62635644741625,17.95219714852476,18.281524751807332,18.614349837764564,18.95068293910138,19.290534541298456,19.633915083172692,19.98083495742689,20.331304511189067,20.685334046541502,21.042933821039977,21.404114048223256,21.76888489811322,22.137256497705877,22.50923893145328,22.884842241736916,23.264076429332462,23.6469514538663,24.033477234264016,24.42366364919083,24.817520537484558,25.21505769858089,25.61628489293138,26.021211842414342,26.429848230738664,26.842203703840827,27.258287870275353,27.678110301598522,28.10168053274597,28.529008062403893,28.96010235337422,29.39497283293396,29.83362889318845,30.276079891419332,30.722335150426627,31.172403958865512,31.62629557157785,32.08401920991837,32.54558406207592,33.010999283389665,33.4802739966603,33.953417292456834,34.430438229418264,34.911345834551085,35.39614910352207,35.88485700094671,36.37747846067349,36.87402238606382,37.37449765026789,37.87891309649659,38.38727753828926,38.89959975977785,39.41588851594697,39.93615253289054,40.460400508064545,40.98864111053629,41.520882981230194,42.05713473317016,42.597404951718396,43.141702194811224,43.6900349931913,44.24241185063697,44.798841244188324,45.35933162437017,45.92389141541209,46.49252901546552,47.065252796817916,47.64207110610409,48.22299226451468,48.808024568002054,49.3971762874833,49.9904556690408,50.587870934119984,51.189430279724725,51.79514187861014,52.40501387947288,53.0190544071392,53.637271562750364,54.259673423945976,54.88626804504493,55.517063457223934,56.15206766869424,56.79128866487574,57.43473440856916,58.08241284012621,58.734331877617365,59.39049941699807,60.05092333227251,60.715611475655585,61.38457167773311,62.057811747619894,62.7353394731159,63.417162620860914,64.10328893648692,64.79372614476921,65.48848194977529,66.18756403501224,66.89098006357258,67.59873767827808,68.31084450182222,69.02730813691093,69.74813616640164,70.47333615344107,71.20291564160104,71.93688215501312,72.67524319850172,73.41800625771542,74.16517879925733,74.9167682708136,75.67278210128072,76.43322770089146,77.1981124613393,77.96744375590167,78.74122893956174,79.51947534912904,80.30219030335869,81.08938110306934,81.88105503125999,82.67721935322541,83.4778813166706,84.28304815182372,85.09272707154808,85.90692527145302,86.72564993000343,87.54890820862819,88.3767072518277,89.2090541872801,90.04595612594655,90.88742016217518,91.73345337380438,92.58406282226491,93.43925555268066,94.29903859396902,95.16341895893969,96.03240364439274,96.9059996312159,97.78421388448044,98.6670533535366,99.55452497210776];/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hct{static from(v,y,_){return new Hct(HctSolver.solveToInt(v,y,_))}static fromInt(v){return new Hct(v)}toInt(){return this.argb}get hue(){return this.internalHue}set hue(v){this.setInternalState(HctSolver.solveToInt(v,this.internalChroma,this.internalTone))}get chroma(){return this.internalChroma}set chroma(v){this.setInternalState(HctSolver.solveToInt(this.internalHue,v,this.internalTone))}get tone(){return this.internalTone}set tone(v){this.setInternalState(HctSolver.solveToInt(this.internalHue,this.internalChroma,v))}constructor(v){this.argb=v;const y=Cam16.fromInt(v);this.internalHue=y.hue,this.internalChroma=y.chroma,this.internalTone=lstarFromArgb(v),this.argb=v}setInternalState(v){const y=Cam16.fromInt(v);this.internalHue=y.hue,this.internalChroma=y.chroma,this.internalTone=lstarFromArgb(v),this.argb=v}inViewingConditions(v){const _=Cam16.fromInt(this.toInt()).xyzInViewingConditions(v),x=Cam16.fromXyzInViewingConditions(_[0],_[1],_[2],ViewingConditions.make());return Hct.from(x.hue,x.chroma,lstarFromY(_[1]))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Blend{static harmonize(v,y){const _=Hct.fromInt(v),x=Hct.fromInt(y),w=differenceDegrees(_.hue,x.hue),S=Math.min(w*.5,15),E=sanitizeDegreesDouble(_.hue+S*rotationDirection(_.hue,x.hue));return Hct.from(E,_.chroma,_.tone).toInt()}static hctHue(v,y,_){const x=Blend.cam16Ucs(v,y,_),w=Cam16.fromInt(x),S=Cam16.fromInt(v);return Hct.from(w.hue,S.chroma,lstarFromArgb(v)).toInt()}static cam16Ucs(v,y,_){const x=Cam16.fromInt(v),w=Cam16.fromInt(y),S=x.jstar,E=x.astar,I=x.bstar,L=w.jstar,O=w.astar,F=w.bstar,z=S+(L-S)*_,N=E+(O-E)*_,H=I+(F-I)*_;return Cam16.fromUcs(z,N,H).toInt()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Contrast{static ratioOfTones(v,y){return v=clampDouble(0,100,v),y=clampDouble(0,100,y),Contrast.ratioOfYs(yFromLstar(v),yFromLstar(y))}static ratioOfYs(v,y){const _=v>y?v:y,x=_===y?v:y;return(_+5)/(x+5)}static lighter(v,y){if(v<0||v>100)return-1;const _=yFromLstar(v),x=y*(_+5)-5,w=Contrast.ratioOfYs(x,_),S=Math.abs(w-y);if(w<y&&S>.04)return-1;const E=lstarFromY(x)+.4;return E<0||E>100?-1:E}static darker(v,y){if(v<0||v>100)return-1;const _=yFromLstar(v),x=(_+5)/y-5,w=Contrast.ratioOfYs(_,x),S=Math.abs(w-y);if(w<y&&S>.04)return-1;const E=lstarFromY(x)-.4;return E<0||E>100?-1:E}static lighterUnsafe(v,y){const _=Contrast.lighter(v,y);return _<0?100:_}static darkerUnsafe(v,y){const _=Contrast.darker(v,y);return _<0?0:_}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DislikeAnalyzer{static isDisliked(v){const y=Math.round(v.hue)>=90&&Math.round(v.hue)<=111,_=Math.round(v.chroma)>16,x=Math.round(v.tone)<65;return y&&_&&x}static fixIfDisliked(v){return DislikeAnalyzer.isDisliked(v)?Hct.from(v.hue,v.chroma,70):v}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DynamicColor{static fromPalette(v){return new DynamicColor(v.name??"",v.palette,v.tone,v.isBackground??!1,v.background,v.secondBackground,v.contrastCurve,v.toneDeltaPair)}constructor(v,y,_,x,w,S,E,I){if(this.name=v,this.palette=y,this.tone=_,this.isBackground=x,this.background=w,this.secondBackground=S,this.contrastCurve=E,this.toneDeltaPair=I,this.hctCache=new Map,!w&&S)throw new Error(`Color ${v} has secondBackgrounddefined, but background is not defined.`);if(!w&&E)throw new Error(`Color ${v} has contrastCurvedefined, but background is not defined.`);if(w&&!E)throw new Error(`Color ${v} has backgrounddefined, but contrastCurve is not defined.`)}getArgb(v){return this.getHct(v).toInt()}getHct(v){const y=this.hctCache.get(v);if(y!=null)return y;const _=this.getTone(v),x=this.palette(v).getHct(_);return this.hctCache.size>4&&this.hctCache.clear(),this.hctCache.set(v,x),x}getTone(v){const y=v.contrastLevel<0;if(this.toneDeltaPair){const _=this.toneDeltaPair(v),x=_.roleA,w=_.roleB,S=_.delta,E=_.polarity,I=_.stayTogether,O=this.background(v).getTone(v),F=E==="nearer"||E==="lighter"&&!v.isDark||E==="darker"&&v.isDark,z=F?x:w,N=F?w:x,H=this.name===z.name,X=v.isDark?1:-1,J=z.contrastCurve.get(v.contrastLevel),ae=N.contrastCurve.get(v.contrastLevel),ve=z.tone(v);let pe=Contrast.ratioOfTones(O,ve)>=J?ve:DynamicColor.foregroundTone(O,J);const de=N.tone(v);let ce=Contrast.ratioOfTones(O,de)>=ae?de:DynamicColor.foregroundTone(O,ae);return y&&(pe=DynamicColor.foregroundTone(O,J),ce=DynamicColor.foregroundTone(O,ae)),(ce-pe)*X>=S||(ce=clampDouble(0,100,pe+S*X),(ce-pe)*X>=S||(pe=clampDouble(0,100,ce-S*X))),50<=pe&&pe<60?X>0?(pe=60,ce=Math.max(ce,pe+S*X)):(pe=49,ce=Math.min(ce,pe+S*X)):50<=ce&&ce<60&&(I?X>0?(pe=60,ce=Math.max(ce,pe+S*X)):(pe=49,ce=Math.min(ce,pe+S*X)):X>0?ce=60:ce=49),H?pe:ce}else{let _=this.tone(v);if(this.background==null)return _;const x=this.background(v).getTone(v),w=this.contrastCurve.get(v.contrastLevel);if(Contrast.ratioOfTones(x,_)>=w||(_=DynamicColor.foregroundTone(x,w)),y&&(_=DynamicColor.foregroundTone(x,w)),this.isBackground&&50<=_&&_<60&&(Contrast.ratioOfTones(49,x)>=w?_=49:_=60),this.secondBackground){const[S,E]=[this.background,this.secondBackground],[I,L]=[S(v).getTone(v),E(v).getTone(v)],[O,F]=[Math.max(I,L),Math.min(I,L)];if(Contrast.ratioOfTones(O,_)>=w&&Contrast.ratioOfTones(F,_)>=w)return _;const z=Contrast.lighter(O,w),N=Contrast.darker(F,w),H=[];return z!==-1&&H.push(z),N!==-1&&H.push(N),DynamicColor.tonePrefersLightForeground(I)||DynamicColor.tonePrefersLightForeground(L)?z<0?100:z:H.length===1?H[0]:N<0?0:N}return _}}static foregroundTone(v,y){const _=Contrast.lighterUnsafe(v,y),x=Contrast.darkerUnsafe(v,y),w=Contrast.ratioOfTones(_,v),S=Contrast.ratioOfTones(x,v);if(DynamicColor.tonePrefersLightForeground(v)){const I=Math.abs(w-S)<.1&&w<y&&S<y;return w>=y||w>=S||I?_:x}else return S>=y||S>=w?x:_}static tonePrefersLightForeground(v){return Math.round(v)<60}static toneAllowsLightForeground(v){return Math.round(v)<=49}static enableLightForeground(v){return DynamicColor.tonePrefersLightForeground(v)&&!DynamicColor.toneAllowsLightForeground(v)?49:v}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TonalPalette{static fromInt(v){const y=Hct.fromInt(v);return TonalPalette.fromHct(y)}static fromHct(v){return new TonalPalette(v.hue,v.chroma,v)}static fromHueAndChroma(v,y){const _=new KeyColor(v,y).create();return new TonalPalette(v,y,_)}constructor(v,y,_){this.hue=v,this.chroma=y,this.keyColor=_,this.cache=new Map}tone(v){let y=this.cache.get(v);return y===void 0&&(y=Hct.from(this.hue,this.chroma,v).toInt(),this.cache.set(v,y)),y}getHct(v){return Hct.fromInt(this.tone(v))}}class KeyColor{constructor(v,y){this.hue=v,this.requestedChroma=y,this.chromaCache=new Map,this.maxChromaValue=200}create(){let x=0,w=100;for(;x<w;){const S=Math.floor((x+w)/2),E=this.maxChroma(S)<this.maxChroma(S+1);if(this.maxChroma(S)>=this.requestedChroma-.01)if(Math.abs(x-50)<Math.abs(w-50))w=S;else{if(x===S)return Hct.from(this.hue,this.requestedChroma,x);x=S}else E?x=S+1:w=S}return Hct.from(this.hue,this.requestedChroma,x)}maxChroma(v){if(this.chromaCache.has(v))return this.chromaCache.get(v);const y=Hct.from(this.hue,this.maxChromaValue,v).chroma;return this.chromaCache.set(v,y),y}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ContrastCurve{constructor(v,y,_,x){this.low=v,this.normal=y,this.medium=_,this.high=x}get(v){return v<=-1?this.low:v<0?lerp(this.low,this.normal,(v- -1)/1):v<.5?lerp(this.normal,this.medium,(v-0)/.5):v<1?lerp(this.medium,this.high,(v-.5)/.5):this.high}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ToneDeltaPair{constructor(v,y,_,x,w){this.roleA=v,this.roleB=y,this.delta=_,this.polarity=x,this.stayTogether=w}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Variant;(function(h){h[h.MONOCHROME=0]="MONOCHROME",h[h.NEUTRAL=1]="NEUTRAL",h[h.TONAL_SPOT=2]="TONAL_SPOT",h[h.VIBRANT=3]="VIBRANT",h[h.EXPRESSIVE=4]="EXPRESSIVE",h[h.FIDELITY=5]="FIDELITY",h[h.CONTENT=6]="CONTENT",h[h.RAINBOW=7]="RAINBOW",h[h.FRUIT_SALAD=8]="FRUIT_SALAD"})(Variant||(Variant={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isFidelity(h){return h.variant===Variant.FIDELITY||h.variant===Variant.CONTENT}function isMonochrome(h){return h.variant===Variant.MONOCHROME}function findDesiredChromaByTone(h,v,y,_){let x=y,w=Hct.from(h,v,y);if(w.chroma<v){let S=w.chroma;for(;w.chroma<v;){x+=_?-1:1;const E=Hct.from(h,v,x);if(S>E.chroma||Math.abs(E.chroma-v)<.4)break;const I=Math.abs(E.chroma-v),L=Math.abs(w.chroma-v);I<L&&(w=E),S=Math.max(S,E.chroma)}}return x}class MaterialDynamicColors{static highestSurface(v){return v.isDark?MaterialDynamicColors.surfaceBright:MaterialDynamicColors.surfaceDim}}MaterialDynamicColors.contentAccentToneDelta=15,MaterialDynamicColors.primaryPaletteKeyColor=DynamicColor.fromPalette({name:"primary_palette_key_color",palette:h=>h.primaryPalette,tone:h=>h.primaryPalette.keyColor.tone}),MaterialDynamicColors.secondaryPaletteKeyColor=DynamicColor.fromPalette({name:"secondary_palette_key_color",palette:h=>h.secondaryPalette,tone:h=>h.secondaryPalette.keyColor.tone}),MaterialDynamicColors.tertiaryPaletteKeyColor=DynamicColor.fromPalette({name:"tertiary_palette_key_color",palette:h=>h.tertiaryPalette,tone:h=>h.tertiaryPalette.keyColor.tone}),MaterialDynamicColors.neutralPaletteKeyColor=DynamicColor.fromPalette({name:"neutral_palette_key_color",palette:h=>h.neutralPalette,tone:h=>h.neutralPalette.keyColor.tone}),MaterialDynamicColors.neutralVariantPaletteKeyColor=DynamicColor.fromPalette({name:"neutral_variant_palette_key_color",palette:h=>h.neutralVariantPalette,tone:h=>h.neutralVariantPalette.keyColor.tone}),MaterialDynamicColors.background=DynamicColor.fromPalette({name:"background",palette:h=>h.neutralPalette,tone:h=>h.isDark?6:98,isBackground:!0}),MaterialDynamicColors.onBackground=DynamicColor.fromPalette({name:"on_background",palette:h=>h.neutralPalette,tone:h=>h.isDark?90:10,background:h=>MaterialDynamicColors.background,contrastCurve:new ContrastCurve(3,3,4.5,7)}),MaterialDynamicColors.surface=DynamicColor.fromPalette({name:"surface",palette:h=>h.neutralPalette,tone:h=>h.isDark?6:98,isBackground:!0}),MaterialDynamicColors.surfaceDim=DynamicColor.fromPalette({name:"surface_dim",palette:h=>h.neutralPalette,tone:h=>h.isDark?6:new ContrastCurve(87,87,80,75).get(h.contrastLevel),isBackground:!0}),MaterialDynamicColors.surfaceBright=DynamicColor.fromPalette({name:"surface_bright",palette:h=>h.neutralPalette,tone:h=>h.isDark?new ContrastCurve(24,24,29,34).get(h.contrastLevel):98,isBackground:!0}),MaterialDynamicColors.surfaceContainerLowest=DynamicColor.fromPalette({name:"surface_container_lowest",palette:h=>h.neutralPalette,tone:h=>h.isDark?new ContrastCurve(4,4,2,0).get(h.contrastLevel):100,isBackground:!0}),MaterialDynamicColors.surfaceContainerLow=DynamicColor.fromPalette({name:"surface_container_low",palette:h=>h.neutralPalette,tone:h=>h.isDark?new ContrastCurve(10,10,11,12).get(h.contrastLevel):new ContrastCurve(96,96,96,95).get(h.contrastLevel),isBackground:!0}),MaterialDynamicColors.surfaceContainer=DynamicColor.fromPalette({name:"surface_container",palette:h=>h.neutralPalette,tone:h=>h.isDark?new ContrastCurve(12,12,16,20).get(h.contrastLevel):new ContrastCurve(94,94,92,90).get(h.contrastLevel),isBackground:!0}),MaterialDynamicColors.surfaceContainerHigh=DynamicColor.fromPalette({name:"surface_container_high",palette:h=>h.neutralPalette,tone:h=>h.isDark?new ContrastCurve(17,17,21,25).get(h.contrastLevel):new ContrastCurve(92,92,88,85).get(h.contrastLevel),isBackground:!0}),MaterialDynamicColors.surfaceContainerHighest=DynamicColor.fromPalette({name:"surface_container_highest",palette:h=>h.neutralPalette,tone:h=>h.isDark?new ContrastCurve(22,22,26,30).get(h.contrastLevel):new ContrastCurve(90,90,84,80).get(h.contrastLevel),isBackground:!0}),MaterialDynamicColors.onSurface=DynamicColor.fromPalette({name:"on_surface",palette:h=>h.neutralPalette,tone:h=>h.isDark?90:10,background:h=>MaterialDynamicColors.highestSurface(h),contrastCurve:new ContrastCurve(4.5,7,11,21)}),MaterialDynamicColors.surfaceVariant=DynamicColor.fromPalette({name:"surface_variant",palette:h=>h.neutralVariantPalette,tone:h=>h.isDark?30:90,isBackground:!0}),MaterialDynamicColors.onSurfaceVariant=DynamicColor.fromPalette({name:"on_surface_variant",palette:h=>h.neutralVariantPalette,tone:h=>h.isDark?80:30,background:h=>MaterialDynamicColors.highestSurface(h),contrastCurve:new ContrastCurve(3,4.5,7,11)}),MaterialDynamicColors.inverseSurface=DynamicColor.fromPalette({name:"inverse_surface",palette:h=>h.neutralPalette,tone:h=>h.isDark?90:20}),MaterialDynamicColors.inverseOnSurface=DynamicColor.fromPalette({name:"inverse_on_surface",palette:h=>h.neutralPalette,tone:h=>h.isDark?20:95,background:h=>MaterialDynamicColors.inverseSurface,contrastCurve:new ContrastCurve(4.5,7,11,21)}),MaterialDynamicColors.outline=DynamicColor.fromPalette({name:"outline",palette:h=>h.neutralVariantPalette,tone:h=>h.isDark?60:50,background:h=>MaterialDynamicColors.highestSurface(h),contrastCurve:new ContrastCurve(1.5,3,4.5,7)}),MaterialDynamicColors.outlineVariant=DynamicColor.fromPalette({name:"outline_variant",palette:h=>h.neutralVariantPalette,tone:h=>h.isDark?30:80,background:h=>MaterialDynamicColors.highestSurface(h),contrastCurve:new ContrastCurve(1,1,3,4.5)}),MaterialDynamicColors.shadow=DynamicColor.fromPalette({name:"shadow",palette:h=>h.neutralPalette,tone:h=>0}),MaterialDynamicColors.scrim=DynamicColor.fromPalette({name:"scrim",palette:h=>h.neutralPalette,tone:h=>0}),MaterialDynamicColors.surfaceTint=DynamicColor.fromPalette({name:"surface_tint",palette:h=>h.primaryPalette,tone:h=>h.isDark?80:40,isBackground:!0}),MaterialDynamicColors.primary=DynamicColor.fromPalette({name:"primary",palette:h=>h.primaryPalette,tone:h=>isMonochrome(h)?h.isDark?100:0:h.isDark?80:40,isBackground:!0,background:h=>MaterialDynamicColors.highestSurface(h),contrastCurve:new ContrastCurve(3,4.5,7,7),toneDeltaPair:h=>new ToneDeltaPair(MaterialDynamicColors.primaryContainer,MaterialDynamicColors.primary,10,"nearer",!1)}),MaterialDynamicColors.onPrimary=DynamicColor.fromPalette({name:"on_primary",palette:h=>h.primaryPalette,tone:h=>isMonochrome(h)?h.isDark?10:90:h.isDark?20:100,background:h=>MaterialDynamicColors.primary,contrastCurve:new ContrastCurve(4.5,7,11,21)}),MaterialDynamicColors.primaryContainer=DynamicColor.fromPalette({name:"primary_container",palette:h=>h.primaryPalette,tone:h=>isFidelity(h)?h.sourceColorHct.tone:isMonochrome(h)?h.isDark?85:25:h.isDark?30:90,isBackground:!0,background:h=>MaterialDynamicColors.highestSurface(h),contrastCurve:new ContrastCurve(1,1,3,4.5),toneDeltaPair:h=>new ToneDeltaPair(MaterialDynamicColors.primaryContainer,MaterialDynamicColors.primary,10,"nearer",!1)}),MaterialDynamicColors.onPrimaryContainer=DynamicColor.fromPalette({name:"on_primary_container",palette:h=>h.primaryPalette,tone:h=>isFidelity(h)?DynamicColor.foregroundTone(MaterialDynamicColors.primaryContainer.tone(h),4.5):isMonochrome(h)?h.isDark?0:100:h.isDark?90:30,background:h=>MaterialDynamicColors.primaryContainer,contrastCurve:new ContrastCurve(3,4.5,7,11)}),MaterialDynamicColors.inversePrimary=DynamicColor.fromPalette({name:"inverse_primary",palette:h=>h.primaryPalette,tone:h=>h.isDark?40:80,background:h=>MaterialDynamicColors.inverseSurface,contrastCurve:new ContrastCurve(3,4.5,7,7)}),MaterialDynamicColors.secondary=DynamicColor.fromPalette({name:"secondary",palette:h=>h.secondaryPalette,tone:h=>h.isDark?80:40,isBackground:!0,background:h=>MaterialDynamicColors.highestSurface(h),contrastCurve:new ContrastCurve(3,4.5,7,7),toneDeltaPair:h=>new ToneDeltaPair(MaterialDynamicColors.secondaryContainer,MaterialDynamicColors.secondary,10,"nearer",!1)}),MaterialDynamicColors.onSecondary=DynamicColor.fromPalette({name:"on_secondary",palette:h=>h.secondaryPalette,tone:h=>isMonochrome(h)?h.isDark?10:100:h.isDark?20:100,background:h=>MaterialDynamicColors.secondary,contrastCurve:new ContrastCurve(4.5,7,11,21)}),MaterialDynamicColors.secondaryContainer=DynamicColor.fromPalette({name:"secondary_container",palette:h=>h.secondaryPalette,tone:h=>{const v=h.isDark?30:90;return isMonochrome(h)?h.isDark?30:85:isFidelity(h)?findDesiredChromaByTone(h.secondaryPalette.hue,h.secondaryPalette.chroma,v,!h.isDark):v},isBackground:!0,background:h=>MaterialDynamicColors.highestSurface(h),contrastCurve:new ContrastCurve(1,1,3,4.5),toneDeltaPair:h=>new ToneDeltaPair(MaterialDynamicColors.secondaryContainer,MaterialDynamicColors.secondary,10,"nearer",!1)}),MaterialDynamicColors.onSecondaryContainer=DynamicColor.fromPalette({name:"on_secondary_container",palette:h=>h.secondaryPalette,tone:h=>isMonochrome(h)?h.isDark?90:10:isFidelity(h)?DynamicColor.foregroundTone(MaterialDynamicColors.secondaryContainer.tone(h),4.5):h.isDark?90:30,background:h=>MaterialDynamicColors.secondaryContainer,contrastCurve:new ContrastCurve(3,4.5,7,11)}),MaterialDynamicColors.tertiary=DynamicColor.fromPalette({name:"tertiary",palette:h=>h.tertiaryPalette,tone:h=>isMonochrome(h)?h.isDark?90:25:h.isDark?80:40,isBackground:!0,background:h=>MaterialDynamicColors.highestSurface(h),contrastCurve:new ContrastCurve(3,4.5,7,7),toneDeltaPair:h=>new ToneDeltaPair(MaterialDynamicColors.tertiaryContainer,MaterialDynamicColors.tertiary,10,"nearer",!1)}),MaterialDynamicColors.onTertiary=DynamicColor.fromPalette({name:"on_tertiary",palette:h=>h.tertiaryPalette,tone:h=>isMonochrome(h)?h.isDark?10:90:h.isDark?20:100,background:h=>MaterialDynamicColors.tertiary,contrastCurve:new ContrastCurve(4.5,7,11,21)}),MaterialDynamicColors.tertiaryContainer=DynamicColor.fromPalette({name:"tertiary_container",palette:h=>h.tertiaryPalette,tone:h=>{if(isMonochrome(h))return h.isDark?60:49;if(!isFidelity(h))return h.isDark?30:90;const v=h.tertiaryPalette.getHct(h.sourceColorHct.tone);return DislikeAnalyzer.fixIfDisliked(v).tone},isBackground:!0,background:h=>MaterialDynamicColors.highestSurface(h),contrastCurve:new ContrastCurve(1,1,3,4.5),toneDeltaPair:h=>new ToneDeltaPair(MaterialDynamicColors.tertiaryContainer,MaterialDynamicColors.tertiary,10,"nearer",!1)}),MaterialDynamicColors.onTertiaryContainer=DynamicColor.fromPalette({name:"on_tertiary_container",palette:h=>h.tertiaryPalette,tone:h=>isMonochrome(h)?h.isDark?0:100:isFidelity(h)?DynamicColor.foregroundTone(MaterialDynamicColors.tertiaryContainer.tone(h),4.5):h.isDark?90:30,background:h=>MaterialDynamicColors.tertiaryContainer,contrastCurve:new ContrastCurve(3,4.5,7,11)}),MaterialDynamicColors.error=DynamicColor.fromPalette({name:"error",palette:h=>h.errorPalette,tone:h=>h.isDark?80:40,isBackground:!0,background:h=>MaterialDynamicColors.highestSurface(h),contrastCurve:new ContrastCurve(3,4.5,7,7),toneDeltaPair:h=>new ToneDeltaPair(MaterialDynamicColors.errorContainer,MaterialDynamicColors.error,10,"nearer",!1)}),MaterialDynamicColors.onError=DynamicColor.fromPalette({name:"on_error",palette:h=>h.errorPalette,tone:h=>h.isDark?20:100,background:h=>MaterialDynamicColors.error,contrastCurve:new ContrastCurve(4.5,7,11,21)}),MaterialDynamicColors.errorContainer=DynamicColor.fromPalette({name:"error_container",palette:h=>h.errorPalette,tone:h=>h.isDark?30:90,isBackground:!0,background:h=>MaterialDynamicColors.highestSurface(h),contrastCurve:new ContrastCurve(1,1,3,4.5),toneDeltaPair:h=>new ToneDeltaPair(MaterialDynamicColors.errorContainer,MaterialDynamicColors.error,10,"nearer",!1)}),MaterialDynamicColors.onErrorContainer=DynamicColor.fromPalette({name:"on_error_container",palette:h=>h.errorPalette,tone:h=>isMonochrome(h)?h.isDark?90:10:h.isDark?90:30,background:h=>MaterialDynamicColors.errorContainer,contrastCurve:new ContrastCurve(3,4.5,7,11)}),MaterialDynamicColors.primaryFixed=DynamicColor.fromPalette({name:"primary_fixed",palette:h=>h.primaryPalette,tone:h=>isMonochrome(h)?40:90,isBackground:!0,background:h=>MaterialDynamicColors.highestSurface(h),contrastCurve:new ContrastCurve(1,1,3,4.5),toneDeltaPair:h=>new ToneDeltaPair(MaterialDynamicColors.primaryFixed,MaterialDynamicColors.primaryFixedDim,10,"lighter",!0)}),MaterialDynamicColors.primaryFixedDim=DynamicColor.fromPalette({name:"primary_fixed_dim",palette:h=>h.primaryPalette,tone:h=>isMonochrome(h)?30:80,isBackground:!0,background:h=>MaterialDynamicColors.highestSurface(h),contrastCurve:new ContrastCurve(1,1,3,4.5),toneDeltaPair:h=>new ToneDeltaPair(MaterialDynamicColors.primaryFixed,MaterialDynamicColors.primaryFixedDim,10,"lighter",!0)}),MaterialDynamicColors.onPrimaryFixed=DynamicColor.fromPalette({name:"on_primary_fixed",palette:h=>h.primaryPalette,tone:h=>isMonochrome(h)?100:10,background:h=>MaterialDynamicColors.primaryFixedDim,secondBackground:h=>MaterialDynamicColors.primaryFixed,contrastCurve:new ContrastCurve(4.5,7,11,21)}),MaterialDynamicColors.onPrimaryFixedVariant=DynamicColor.fromPalette({name:"on_primary_fixed_variant",palette:h=>h.primaryPalette,tone:h=>isMonochrome(h)?90:30,background:h=>MaterialDynamicColors.primaryFixedDim,secondBackground:h=>MaterialDynamicColors.primaryFixed,contrastCurve:new ContrastCurve(3,4.5,7,11)}),MaterialDynamicColors.secondaryFixed=DynamicColor.fromPalette({name:"secondary_fixed",palette:h=>h.secondaryPalette,tone:h=>isMonochrome(h)?80:90,isBackground:!0,background:h=>MaterialDynamicColors.highestSurface(h),contrastCurve:new ContrastCurve(1,1,3,4.5),toneDeltaPair:h=>new ToneDeltaPair(MaterialDynamicColors.secondaryFixed,MaterialDynamicColors.secondaryFixedDim,10,"lighter",!0)}),MaterialDynamicColors.secondaryFixedDim=DynamicColor.fromPalette({name:"secondary_fixed_dim",palette:h=>h.secondaryPalette,tone:h=>isMonochrome(h)?70:80,isBackground:!0,background:h=>MaterialDynamicColors.highestSurface(h),contrastCurve:new ContrastCurve(1,1,3,4.5),toneDeltaPair:h=>new ToneDeltaPair(MaterialDynamicColors.secondaryFixed,MaterialDynamicColors.secondaryFixedDim,10,"lighter",!0)}),MaterialDynamicColors.onSecondaryFixed=DynamicColor.fromPalette({name:"on_secondary_fixed",palette:h=>h.secondaryPalette,tone:h=>10,background:h=>MaterialDynamicColors.secondaryFixedDim,secondBackground:h=>MaterialDynamicColors.secondaryFixed,contrastCurve:new ContrastCurve(4.5,7,11,21)}),MaterialDynamicColors.onSecondaryFixedVariant=DynamicColor.fromPalette({name:"on_secondary_fixed_variant",palette:h=>h.secondaryPalette,tone:h=>isMonochrome(h)?25:30,background:h=>MaterialDynamicColors.secondaryFixedDim,secondBackground:h=>MaterialDynamicColors.secondaryFixed,contrastCurve:new ContrastCurve(3,4.5,7,11)}),MaterialDynamicColors.tertiaryFixed=DynamicColor.fromPalette({name:"tertiary_fixed",palette:h=>h.tertiaryPalette,tone:h=>isMonochrome(h)?40:90,isBackground:!0,background:h=>MaterialDynamicColors.highestSurface(h),contrastCurve:new ContrastCurve(1,1,3,4.5),toneDeltaPair:h=>new ToneDeltaPair(MaterialDynamicColors.tertiaryFixed,MaterialDynamicColors.tertiaryFixedDim,10,"lighter",!0)}),MaterialDynamicColors.tertiaryFixedDim=DynamicColor.fromPalette({name:"tertiary_fixed_dim",palette:h=>h.tertiaryPalette,tone:h=>isMonochrome(h)?30:80,isBackground:!0,background:h=>MaterialDynamicColors.highestSurface(h),contrastCurve:new ContrastCurve(1,1,3,4.5),toneDeltaPair:h=>new ToneDeltaPair(MaterialDynamicColors.tertiaryFixed,MaterialDynamicColors.tertiaryFixedDim,10,"lighter",!0)}),MaterialDynamicColors.onTertiaryFixed=DynamicColor.fromPalette({name:"on_tertiary_fixed",palette:h=>h.tertiaryPalette,tone:h=>isMonochrome(h)?100:10,background:h=>MaterialDynamicColors.tertiaryFixedDim,secondBackground:h=>MaterialDynamicColors.tertiaryFixed,contrastCurve:new ContrastCurve(4.5,7,11,21)}),MaterialDynamicColors.onTertiaryFixedVariant=DynamicColor.fromPalette({name:"on_tertiary_fixed_variant",palette:h=>h.tertiaryPalette,tone:h=>isMonochrome(h)?90:30,background:h=>MaterialDynamicColors.tertiaryFixedDim,secondBackground:h=>MaterialDynamicColors.tertiaryFixed,contrastCurve:new ContrastCurve(3,4.5,7,11)});/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CorePalette{static of(v){return new CorePalette(v,!1)}static contentOf(v){return new CorePalette(v,!0)}static fromColors(v){return CorePalette.createPaletteFromColors(!1,v)}static contentFromColors(v){return CorePalette.createPaletteFromColors(!0,v)}static createPaletteFromColors(v,y){const _=new CorePalette(y.primary,v);if(y.secondary){const x=new CorePalette(y.secondary,v);_.a2=x.a1}if(y.tertiary){const x=new CorePalette(y.tertiary,v);_.a3=x.a1}if(y.error){const x=new CorePalette(y.error,v);_.error=x.a1}if(y.neutral){const x=new CorePalette(y.neutral,v);_.n1=x.n1}if(y.neutralVariant){const x=new CorePalette(y.neutralVariant,v);_.n2=x.n2}return _}constructor(v,y){const _=Hct.fromInt(v),x=_.hue,w=_.chroma;y?(this.a1=TonalPalette.fromHueAndChroma(x,w),this.a2=TonalPalette.fromHueAndChroma(x,w/3),this.a3=TonalPalette.fromHueAndChroma(x+60,w/2),this.n1=TonalPalette.fromHueAndChroma(x,Math.min(w/12,4)),this.n2=TonalPalette.fromHueAndChroma(x,Math.min(w/6,8))):(this.a1=TonalPalette.fromHueAndChroma(x,Math.max(48,w)),this.a2=TonalPalette.fromHueAndChroma(x,16),this.a3=TonalPalette.fromHueAndChroma(x+60,24),this.n1=TonalPalette.fromHueAndChroma(x,4),this.n2=TonalPalette.fromHueAndChroma(x,8)),this.error=TonalPalette.fromHueAndChroma(25,84)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Scheme{get primary(){return this.props.primary}get onPrimary(){return this.props.onPrimary}get primaryContainer(){return this.props.primaryContainer}get onPrimaryContainer(){return this.props.onPrimaryContainer}get secondary(){return this.props.secondary}get onSecondary(){return this.props.onSecondary}get secondaryContainer(){return this.props.secondaryContainer}get onSecondaryContainer(){return this.props.onSecondaryContainer}get tertiary(){return this.props.tertiary}get onTertiary(){return this.props.onTertiary}get tertiaryContainer(){return this.props.tertiaryContainer}get onTertiaryContainer(){return this.props.onTertiaryContainer}get error(){return this.props.error}get onError(){return this.props.onError}get errorContainer(){return this.props.errorContainer}get onErrorContainer(){return this.props.onErrorContainer}get background(){return this.props.background}get onBackground(){return this.props.onBackground}get surface(){return this.props.surface}get onSurface(){return this.props.onSurface}get surfaceVariant(){return this.props.surfaceVariant}get onSurfaceVariant(){return this.props.onSurfaceVariant}get outline(){return this.props.outline}get outlineVariant(){return this.props.outlineVariant}get shadow(){return this.props.shadow}get scrim(){return this.props.scrim}get inverseSurface(){return this.props.inverseSurface}get inverseOnSurface(){return this.props.inverseOnSurface}get inversePrimary(){return this.props.inversePrimary}static light(v){return Scheme.lightFromCorePalette(CorePalette.of(v))}static dark(v){return Scheme.darkFromCorePalette(CorePalette.of(v))}static lightContent(v){return Scheme.lightFromCorePalette(CorePalette.contentOf(v))}static darkContent(v){return Scheme.darkFromCorePalette(CorePalette.contentOf(v))}static lightFromCorePalette(v){return new Scheme({primary:v.a1.tone(40),onPrimary:v.a1.tone(100),primaryContainer:v.a1.tone(90),onPrimaryContainer:v.a1.tone(10),secondary:v.a2.tone(40),onSecondary:v.a2.tone(100),secondaryContainer:v.a2.tone(90),onSecondaryContainer:v.a2.tone(10),tertiary:v.a3.tone(40),onTertiary:v.a3.tone(100),tertiaryContainer:v.a3.tone(90),onTertiaryContainer:v.a3.tone(10),error:v.error.tone(40),onError:v.error.tone(100),errorContainer:v.error.tone(90),onErrorContainer:v.error.tone(10),background:v.n1.tone(99),onBackground:v.n1.tone(10),surface:v.n1.tone(99),onSurface:v.n1.tone(10),surfaceVariant:v.n2.tone(90),onSurfaceVariant:v.n2.tone(30),outline:v.n2.tone(50),outlineVariant:v.n2.tone(80),shadow:v.n1.tone(0),scrim:v.n1.tone(0),inverseSurface:v.n1.tone(20),inverseOnSurface:v.n1.tone(95),inversePrimary:v.a1.tone(80)})}static darkFromCorePalette(v){return new Scheme({primary:v.a1.tone(80),onPrimary:v.a1.tone(20),primaryContainer:v.a1.tone(30),onPrimaryContainer:v.a1.tone(90),secondary:v.a2.tone(80),onSecondary:v.a2.tone(20),secondaryContainer:v.a2.tone(30),onSecondaryContainer:v.a2.tone(90),tertiary:v.a3.tone(80),onTertiary:v.a3.tone(20),tertiaryContainer:v.a3.tone(30),onTertiaryContainer:v.a3.tone(90),error:v.error.tone(80),onError:v.error.tone(20),errorContainer:v.error.tone(30),onErrorContainer:v.error.tone(80),background:v.n1.tone(10),onBackground:v.n1.tone(90),surface:v.n1.tone(10),onSurface:v.n1.tone(90),surfaceVariant:v.n2.tone(30),onSurfaceVariant:v.n2.tone(80),outline:v.n2.tone(60),outlineVariant:v.n2.tone(30),shadow:v.n1.tone(0),scrim:v.n1.tone(0),inverseSurface:v.n1.tone(90),inverseOnSurface:v.n1.tone(20),inversePrimary:v.a1.tone(40)})}constructor(v){this.props=v}toJSON(){return{...this.props}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hexFromArgb(h){const v=redFromArgb(h),y=greenFromArgb(h),_=blueFromArgb(h),x=[v.toString(16),y.toString(16),_.toString(16)];for(const[w,S]of x.entries())S.length===1&&(x[w]="0"+S);return"#"+x.join("")}function argbFromHex(h){h=h.replace("#","");const v=h.length===3,y=h.length===6,_=h.length===8;if(!v&&!y&&!_)throw new Error("unexpected hex "+h);let x=0,w=0,S=0;return v?(x=parseIntHex(h.slice(0,1).repeat(2)),w=parseIntHex(h.slice(1,2).repeat(2)),S=parseIntHex(h.slice(2,3).repeat(2))):y?(x=parseIntHex(h.slice(0,2)),w=parseIntHex(h.slice(2,4)),S=parseIntHex(h.slice(4,6))):_&&(x=parseIntHex(h.slice(2,4)),w=parseIntHex(h.slice(4,6)),S=parseIntHex(h.slice(6,8))),(255<<24|(x&255)<<16|(w&255)<<8|S&255)>>>0}function parseIntHex(h){return parseInt(h,16)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function themeFromSourceColor(h,v=[]){const y=CorePalette.of(h);return{source:h,schemes:{light:Scheme.light(h),dark:Scheme.dark(h)},palettes:{primary:y.a1,secondary:y.a2,tertiary:y.a3,neutral:y.n1,neutralVariant:y.n2,error:y.error},customColors:v.map(_=>customColor(h,_))}}function customColor(h,v){let y=v.value;const _=y,x=h;v.blend&&(y=Blend.harmonize(_,x));const S=CorePalette.of(y).a1;return{color:v,value:y,light:{color:S.tone(40),onColor:S.tone(100),colorContainer:S.tone(90),onColorContainer:S.tone(10)},dark:{color:S.tone(80),onColor:S.tone(20),colorContainer:S.tone(30),onColorContainer:S.tone(90)}}}const grayDark={gray1:"#111111",gray2:"#191919",gray3:"#222222",gray4:"#2a2a2a",gray5:"#313131",gray6:"#3a3a3a",gray7:"#484848",gray8:"#606060",gray9:"#6e6e6e",gray10:"#7b7b7b",gray11:"#b4b4b4",gray12:"#eeeeee"},grayDarkA={grayA1:"#00000000",grayA2:"#ffffff09",grayA3:"#ffffff12",grayA4:"#ffffff1b",grayA5:"#ffffff22",grayA6:"#ffffff2c",grayA7:"#ffffff3b",grayA8:"#ffffff55",grayA9:"#ffffff64",grayA10:"#ffffff72",grayA11:"#ffffffaf",grayA12:"#ffffffed"},grayDarkP3={gray1:"color(display-p3 0.067 0.067 0.067)",gray2:"color(display-p3 0.098 0.098 0.098)",gray3:"color(display-p3 0.135 0.135 0.135)",gray4:"color(display-p3 0.163 0.163 0.163)",gray5:"color(display-p3 0.192 0.192 0.192)",gray6:"color(display-p3 0.228 0.228 0.228)",gray7:"color(display-p3 0.283 0.283 0.283)",gray8:"color(display-p3 0.375 0.375 0.375)",gray9:"color(display-p3 0.431 0.431 0.431)",gray10:"color(display-p3 0.484 0.484 0.484)",gray11:"color(display-p3 0.706 0.706 0.706)",gray12:"color(display-p3 0.933 0.933 0.933)"},grayDarkP3A={grayA1:"color(display-p3 0 0 0 / 0)",grayA2:"color(display-p3 1 1 1 / 0.034)",grayA3:"color(display-p3 1 1 1 / 0.071)",grayA4:"color(display-p3 1 1 1 / 0.105)",grayA5:"color(display-p3 1 1 1 / 0.134)",grayA6:"color(display-p3 1 1 1 / 0.172)",grayA7:"color(display-p3 1 1 1 / 0.231)",grayA8:"color(display-p3 1 1 1 / 0.332)",grayA9:"color(display-p3 1 1 1 / 0.391)",grayA10:"color(display-p3 1 1 1 / 0.445)",grayA11:"color(display-p3 1 1 1 / 0.685)",grayA12:"color(display-p3 1 1 1 / 0.929)"},mauveDark={mauve1:"#121113",mauve2:"#1a191b",mauve3:"#232225",mauve4:"#2b292d",mauve5:"#323035",mauve6:"#3c393f",mauve7:"#49474e",mauve8:"#625f69",mauve9:"#6f6d78",mauve10:"#7c7a85",mauve11:"#b5b2bc",mauve12:"#eeeef0"},mauveDarkA={mauveA1:"#00000000",mauveA2:"#f5f4f609",mauveA3:"#ebeaf814",mauveA4:"#eee5f81d",mauveA5:"#efe6fe25",mauveA6:"#f1e6fd30",mauveA7:"#eee9ff40",mauveA8:"#eee7ff5d",mauveA9:"#eae6fd6e",mauveA10:"#ece9fd7c",mauveA11:"#f5f1ffb7",mauveA12:"#fdfdffef"},mauveDarkP3={mauve1:"color(display-p3 0.07 0.067 0.074)",mauve2:"color(display-p3 0.101 0.098 0.105)",mauve3:"color(display-p3 0.138 0.134 0.144)",mauve4:"color(display-p3 0.167 0.161 0.175)",mauve5:"color(display-p3 0.196 0.189 0.206)",mauve6:"color(display-p3 0.232 0.225 0.245)",mauve7:"color(display-p3 0.286 0.277 0.302)",mauve8:"color(display-p3 0.383 0.373 0.408)",mauve9:"color(display-p3 0.434 0.428 0.467)",mauve10:"color(display-p3 0.487 0.48 0.519)",mauve11:"color(display-p3 0.707 0.7 0.735)",mauve12:"color(display-p3 0.933 0.933 0.94)"},mauveDarkP3A={mauveA1:"color(display-p3 0 0 0 / 0)",mauveA2:"color(display-p3 0.996 0.992 1 / 0.034)",mauveA3:"color(display-p3 0.937 0.933 0.992 / 0.077)",mauveA4:"color(display-p3 0.957 0.918 0.996 / 0.111)",mauveA5:"color(display-p3 0.937 0.906 0.996 / 0.145)",mauveA6:"color(display-p3 0.953 0.925 0.996 / 0.183)",mauveA7:"color(display-p3 0.945 0.929 1 / 0.246)",mauveA8:"color(display-p3 0.937 0.918 1 / 0.361)",mauveA9:"color(display-p3 0.933 0.918 1 / 0.424)",mauveA10:"color(display-p3 0.941 0.925 1 / 0.479)",mauveA11:"color(display-p3 0.965 0.961 1 / 0.712)",mauveA12:"color(display-p3 0.992 0.992 1 / 0.937)"},slateDark={slate1:"#111113",slate2:"#18191b",slate3:"#212225",slate4:"#272a2d",slate5:"#2e3135",slate6:"#363a3f",slate7:"#43484e",slate8:"#5a6169",slate9:"#696e77",slate10:"#777b84",slate11:"#b0b4ba",slate12:"#edeef0"},slateDarkA={slateA1:"#00000000",slateA2:"#d8f4f609",slateA3:"#ddeaf814",slateA4:"#d3edf81d",slateA5:"#d9edfe25",slateA6:"#d6ebfd30",slateA7:"#d9edff40",slateA8:"#d9edff5d",slateA9:"#dfebfd6d",slateA10:"#e5edfd7b",slateA11:"#f1f7feb5",slateA12:"#fcfdffef"},slateDarkP3={slate1:"color(display-p3 0.067 0.067 0.074)",slate2:"color(display-p3 0.095 0.098 0.105)",slate3:"color(display-p3 0.13 0.135 0.145)",slate4:"color(display-p3 0.156 0.163 0.176)",slate5:"color(display-p3 0.183 0.191 0.206)",slate6:"color(display-p3 0.215 0.226 0.244)",slate7:"color(display-p3 0.265 0.28 0.302)",slate8:"color(display-p3 0.357 0.381 0.409)",slate9:"color(display-p3 0.415 0.431 0.463)",slate10:"color(display-p3 0.469 0.483 0.514)",slate11:"color(display-p3 0.692 0.704 0.728)",slate12:"color(display-p3 0.93 0.933 0.94)"},slateDarkP3A={slateA1:"color(display-p3 0 0 0 / 0)",slateA2:"color(display-p3 0.875 0.992 1 / 0.034)",slateA3:"color(display-p3 0.882 0.933 0.992 / 0.077)",slateA4:"color(display-p3 0.882 0.953 0.996 / 0.111)",slateA5:"color(display-p3 0.878 0.929 0.996 / 0.145)",slateA6:"color(display-p3 0.882 0.949 0.996 / 0.183)",slateA7:"color(display-p3 0.882 0.929 1 / 0.246)",slateA8:"color(display-p3 0.871 0.937 1 / 0.361)",slateA9:"color(display-p3 0.898 0.937 1 / 0.42)",slateA10:"color(display-p3 0.918 0.945 1 / 0.475)",slateA11:"color(display-p3 0.949 0.969 0.996 / 0.708)",slateA12:"color(display-p3 0.988 0.992 1 / 0.937)"},sageDark={sage1:"#101211",sage2:"#171918",sage3:"#202221",sage4:"#272a29",sage5:"#2e3130",sage6:"#373b39",sage7:"#444947",sage8:"#5b625f",sage9:"#63706b",sage10:"#717d79",sage11:"#adb5b2",sage12:"#eceeed"},sageDarkA={sageA1:"#00000000",sageA2:"#f0f2f108",sageA3:"#f3f5f412",sageA4:"#f2fefd1a",sageA5:"#f1fbfa22",sageA6:"#edfbf42d",sageA7:"#edfcf73c",sageA8:"#ebfdf657",sageA9:"#dffdf266",sageA10:"#e5fdf674",sageA11:"#f4fefbb0",sageA12:"#fdfffeed"},sageDarkP3={sage1:"color(display-p3 0.064 0.07 0.067)",sage2:"color(display-p3 0.092 0.098 0.094)",sage3:"color(display-p3 0.128 0.135 0.131)",sage4:"color(display-p3 0.155 0.164 0.159)",sage5:"color(display-p3 0.183 0.193 0.188)",sage6:"color(display-p3 0.218 0.23 0.224)",sage7:"color(display-p3 0.269 0.285 0.277)",sage8:"color(display-p3 0.362 0.382 0.373)",sage9:"color(display-p3 0.398 0.438 0.421)",sage10:"color(display-p3 0.453 0.49 0.474)",sage11:"color(display-p3 0.685 0.709 0.697)",sage12:"color(display-p3 0.927 0.933 0.93)"},sageDarkP3A={sageA1:"color(display-p3 0 0 0 / 0)",sageA2:"color(display-p3 0.976 0.988 0.984 / 0.03)",sageA3:"color(display-p3 0.992 0.945 0.941 / 0.072)",sageA4:"color(display-p3 0.988 0.996 0.992 / 0.102)",sageA5:"color(display-p3 0.992 1 0.996 / 0.131)",sageA6:"color(display-p3 0.973 1 0.976 / 0.173)",sageA7:"color(display-p3 0.957 1 0.976 / 0.233)",sageA8:"color(display-p3 0.957 1 0.984 / 0.334)",sageA9:"color(display-p3 0.902 1 0.957 / 0.397)",sageA10:"color(display-p3 0.929 1 0.973 / 0.452)",sageA11:"color(display-p3 0.969 1 0.988 / 0.688)",sageA12:"color(display-p3 0.992 1 0.996 / 0.929)"},oliveDark={olive1:"#111210",olive2:"#181917",olive3:"#212220",olive4:"#282a27",olive5:"#2f312e",olive6:"#383a36",olive7:"#454843",olive8:"#5c625b",olive9:"#687066",olive10:"#767d74",olive11:"#afb5ad",olive12:"#eceeec"},oliveDarkA={oliveA1:"#00000000",oliveA2:"#f1f2f008",oliveA3:"#f4f5f312",oliveA4:"#f3fef21a",oliveA5:"#f2fbf122",oliveA6:"#f4faed2c",oliveA7:"#f2fced3b",oliveA8:"#edfdeb57",oliveA9:"#ebfde766",oliveA10:"#f0fdec74",oliveA11:"#f6fef4b0",oliveA12:"#fdfffded"},oliveDarkP3={olive1:"color(display-p3 0.067 0.07 0.063)",olive2:"color(display-p3 0.095 0.098 0.091)",olive3:"color(display-p3 0.131 0.135 0.126)",olive4:"color(display-p3 0.158 0.163 0.153)",olive5:"color(display-p3 0.186 0.192 0.18)",olive6:"color(display-p3 0.221 0.229 0.215)",olive7:"color(display-p3 0.273 0.284 0.266)",olive8:"color(display-p3 0.365 0.382 0.359)",olive9:"color(display-p3 0.414 0.438 0.404)",olive10:"color(display-p3 0.467 0.49 0.458)",olive11:"color(display-p3 0.69 0.709 0.682)",olive12:"color(display-p3 0.927 0.933 0.926)"},oliveDarkP3A={oliveA1:"color(display-p3 0 0 0 / 0)",oliveA2:"color(display-p3 0.984 0.988 0.976 / 0.03)",oliveA3:"color(display-p3 0.992 0.996 0.988 / 0.068)",oliveA4:"color(display-p3 0.953 0.996 0.949 / 0.102)",oliveA5:"color(display-p3 0.969 1 0.965 / 0.131)",oliveA6:"color(display-p3 0.973 1 0.969 / 0.169)",oliveA7:"color(display-p3 0.98 1 0.961 / 0.228)",oliveA8:"color(display-p3 0.961 1 0.957 / 0.334)",oliveA9:"color(display-p3 0.949 1 0.922 / 0.397)",oliveA10:"color(display-p3 0.953 1 0.941 / 0.452)",oliveA11:"color(display-p3 0.976 1 0.965 / 0.688)",oliveA12:"color(display-p3 0.992 1 0.992 / 0.929)"},sandDark={sand1:"#111110",sand2:"#191918",sand3:"#222221",sand4:"#2a2a28",sand5:"#31312e",sand6:"#3b3a37",sand7:"#494844",sand8:"#62605b",sand9:"#6f6d66",sand10:"#7c7b74",sand11:"#b5b3ad",sand12:"#eeeeec"},sandDarkA={sandA1:"#00000000",sandA2:"#f4f4f309",sandA3:"#f6f6f513",sandA4:"#fefef31b",sandA5:"#fbfbeb23",sandA6:"#fffaed2d",sandA7:"#fffbed3c",sandA8:"#fff9eb57",sandA9:"#fffae965",sandA10:"#fffdee73",sandA11:"#fffcf4b0",sandA12:"#fffffded"},sandDarkP3={sand1:"color(display-p3 0.067 0.067 0.063)",sand2:"color(display-p3 0.098 0.098 0.094)",sand3:"color(display-p3 0.135 0.135 0.129)",sand4:"color(display-p3 0.164 0.163 0.156)",sand5:"color(display-p3 0.193 0.192 0.183)",sand6:"color(display-p3 0.23 0.229 0.217)",sand7:"color(display-p3 0.285 0.282 0.267)",sand8:"color(display-p3 0.384 0.378 0.357)",sand9:"color(display-p3 0.434 0.428 0.403)",sand10:"color(display-p3 0.487 0.481 0.456)",sand11:"color(display-p3 0.707 0.703 0.68)",sand12:"color(display-p3 0.933 0.933 0.926)"},sandDarkP3A={sandA1:"color(display-p3 0 0 0 / 0)",sandA2:"color(display-p3 0.992 0.992 0.988 / 0.034)",sandA3:"color(display-p3 0.996 0.996 0.992 / 0.072)",sandA4:"color(display-p3 0.992 0.992 0.953 / 0.106)",sandA5:"color(display-p3 1 1 0.965 / 0.135)",sandA6:"color(display-p3 1 0.976 0.929 / 0.177)",sandA7:"color(display-p3 1 0.984 0.929 / 0.236)",sandA8:"color(display-p3 1 0.976 0.925 / 0.341)",sandA9:"color(display-p3 1 0.98 0.925 / 0.395)",sandA10:"color(display-p3 1 0.992 0.933 / 0.45)",sandA11:"color(display-p3 1 0.996 0.961 / 0.685)",sandA12:"color(display-p3 1 1 0.992 / 0.929)"},tomatoDark={tomato1:"#181111",tomato2:"#1f1513",tomato3:"#391714",tomato4:"#4e1511",tomato5:"#5e1c16",tomato6:"#6e2920",tomato7:"#853a2d",tomato8:"#ac4d39",tomato9:"#e54d2e",tomato10:"#ec6142",tomato11:"#ff977d",tomato12:"#fbd3cb"},tomatoDarkA={tomatoA1:"#f1121208",tomatoA2:"#ff55330f",tomatoA3:"#ff35232b",tomatoA4:"#fd201142",tomatoA5:"#fe332153",tomatoA6:"#ff4f3864",tomatoA7:"#fd644a7d",tomatoA8:"#fe6d4ea7",tomatoA9:"#fe5431e4",tomatoA10:"#ff6847eb",tomatoA11:"#ff977d",tomatoA12:"#ffd6cefb"},tomatoDarkP3={tomato1:"color(display-p3 0.09 0.068 0.067)",tomato2:"color(display-p3 0.115 0.084 0.076)",tomato3:"color(display-p3 0.205 0.097 0.083)",tomato4:"color(display-p3 0.282 0.099 0.077)",tomato5:"color(display-p3 0.339 0.129 0.101)",tomato6:"color(display-p3 0.398 0.179 0.141)",tomato7:"color(display-p3 0.487 0.245 0.194)",tomato8:"color(display-p3 0.629 0.322 0.248)",tomato9:"color(display-p3 0.831 0.345 0.231)",tomato10:"color(display-p3 0.862 0.415 0.298)",tomato11:"color(display-p3 1 0.585 0.455)",tomato12:"color(display-p3 0.959 0.833 0.802)"},tomatoDarkP3A={tomatoA1:"color(display-p3 0.973 0.071 0.071 / 0.026)",tomatoA2:"color(display-p3 0.992 0.376 0.224 / 0.051)",tomatoA3:"color(display-p3 0.996 0.282 0.176 / 0.148)",tomatoA4:"color(display-p3 1 0.204 0.118 / 0.232)",tomatoA5:"color(display-p3 1 0.286 0.192 / 0.29)",tomatoA6:"color(display-p3 1 0.392 0.278 / 0.353)",tomatoA7:"color(display-p3 1 0.459 0.349 / 0.45)",tomatoA8:"color(display-p3 1 0.49 0.369 / 0.601)",tomatoA9:"color(display-p3 1 0.408 0.267 / 0.82)",tomatoA10:"color(display-p3 1 0.478 0.341 / 0.853)",tomatoA11:"color(display-p3 1 0.585 0.455)",tomatoA12:"color(display-p3 0.959 0.833 0.802)"},redDark={red1:"#191111",red2:"#201314",red3:"#3b1219",red4:"#500f1c",red5:"#611623",red6:"#72232d",red7:"#8c333a",red8:"#b54548",red9:"#e5484d",red10:"#ec5d5e",red11:"#ff9592",red12:"#ffd1d9"},redDarkA={redA1:"#f4121209",redA2:"#f22f3e11",redA3:"#ff173f2d",redA4:"#fe0a3b44",redA5:"#ff204756",redA6:"#ff3e5668",redA7:"#ff536184",redA8:"#ff5d61b0",redA9:"#fe4e54e4",redA10:"#ff6465eb",redA11:"#ff9592",redA12:"#ffd1d9"},redDarkP3={red1:"color(display-p3 0.093 0.068 0.067)",red2:"color(display-p3 0.118 0.077 0.079)",red3:"color(display-p3 0.211 0.081 0.099)",red4:"color(display-p3 0.287 0.079 0.113)",red5:"color(display-p3 0.348 0.11 0.142)",red6:"color(display-p3 0.414 0.16 0.183)",red7:"color(display-p3 0.508 0.224 0.236)",red8:"color(display-p3 0.659 0.298 0.297)",red9:"color(display-p3 0.83 0.329 0.324)",red10:"color(display-p3 0.861 0.403 0.387)",red11:"color(display-p3 1 0.57 0.55)",red12:"color(display-p3 0.971 0.826 0.852)"},redDarkP3A={redA1:"color(display-p3 0.984 0.071 0.071 / 0.03)",redA2:"color(display-p3 0.996 0.282 0.282 / 0.055)",redA3:"color(display-p3 1 0.169 0.271 / 0.156)",redA4:"color(display-p3 1 0.118 0.267 / 0.236)",redA5:"color(display-p3 1 0.212 0.314 / 0.303)",redA6:"color(display-p3 1 0.318 0.38 / 0.374)",redA7:"color(display-p3 1 0.4 0.424 / 0.475)",redA8:"color(display-p3 1 0.431 0.431 / 0.635)",redA9:"color(display-p3 1 0.388 0.384 / 0.82)",redA10:"color(display-p3 1 0.463 0.447 / 0.853)",redA11:"color(display-p3 1 0.57 0.55)",redA12:"color(display-p3 0.971 0.826 0.852)"},rubyDark={ruby1:"#191113",ruby2:"#1e1517",ruby3:"#3a141e",ruby4:"#4e1325",ruby5:"#5e1a2e",ruby6:"#6f2539",ruby7:"#883447",ruby8:"#b3445a",ruby9:"#e54666",ruby10:"#ec5a72",ruby11:"#ff949d",ruby12:"#fed2e1"},rubyDarkA={rubyA1:"#f4124a09",rubyA2:"#fe5a7f0e",rubyA3:"#ff235d2c",rubyA4:"#fd195e42",rubyA5:"#fe2d6b53",rubyA6:"#ff447665",rubyA7:"#ff577d80",rubyA8:"#ff5c7cae",rubyA9:"#fe4c70e4",rubyA10:"#ff617beb",rubyA11:"#ff949d",rubyA12:"#ffd3e2fe"},rubyDarkP3={ruby1:"color(display-p3 0.093 0.068 0.074)",ruby2:"color(display-p3 0.113 0.083 0.089)",ruby3:"color(display-p3 0.208 0.088 0.117)",ruby4:"color(display-p3 0.279 0.092 0.147)",ruby5:"color(display-p3 0.337 0.12 0.18)",ruby6:"color(display-p3 0.401 0.166 0.223)",ruby7:"color(display-p3 0.495 0.224 0.281)",ruby8:"color(display-p3 0.652 0.295 0.359)",ruby9:"color(display-p3 0.83 0.323 0.408)",ruby10:"color(display-p3 0.857 0.392 0.455)",ruby11:"color(display-p3 1 0.57 0.59)",ruby12:"color(display-p3 0.968 0.83 0.88)"},rubyDarkP3A={rubyA1:"color(display-p3 0.984 0.071 0.329 / 0.03)",rubyA2:"color(display-p3 0.992 0.376 0.529 / 0.051)",rubyA3:"color(display-p3 0.996 0.196 0.404 / 0.152)",rubyA4:"color(display-p3 1 0.173 0.416 / 0.227)",rubyA5:"color(display-p3 1 0.259 0.459 / 0.29)",rubyA6:"color(display-p3 1 0.341 0.506 / 0.358)",rubyA7:"color(display-p3 1 0.412 0.541 / 0.458)",rubyA8:"color(display-p3 1 0.431 0.537 / 0.627)",rubyA9:"color(display-p3 1 0.376 0.482 / 0.82)",rubyA10:"color(display-p3 1 0.447 0.522 / 0.849)",rubyA11:"color(display-p3 1 0.57 0.59)",rubyA12:"color(display-p3 0.968 0.83 0.88)"},crimsonDark={crimson1:"#191114",crimson2:"#201318",crimson3:"#381525",crimson4:"#4d122f",crimson5:"#5c1839",crimson6:"#6d2545",crimson7:"#873356",crimson8:"#b0436e",crimson9:"#e93d82",crimson10:"#ee518a",crimson11:"#ff92ad",crimson12:"#fdd3e8"},crimsonDarkA={crimsonA1:"#f4126709",crimsonA2:"#f22f7a11",crimsonA3:"#fe2a8b2a",crimsonA4:"#fd158741",crimsonA5:"#fd278f51",crimsonA6:"#fe459763",crimsonA7:"#fd559b7f",crimsonA8:"#fe5b9bab",crimsonA9:"#fe418de8",crimsonA10:"#ff5693ed",crimsonA11:"#ff92ad",crimsonA12:"#ffd5eafd"},crimsonDarkP3={crimson1:"color(display-p3 0.093 0.068 0.078)",crimson2:"color(display-p3 0.117 0.078 0.095)",crimson3:"color(display-p3 0.203 0.091 0.143)",crimson4:"color(display-p3 0.277 0.087 0.182)",crimson5:"color(display-p3 0.332 0.115 0.22)",crimson6:"color(display-p3 0.394 0.162 0.268)",crimson7:"color(display-p3 0.489 0.222 0.336)",crimson8:"color(display-p3 0.638 0.289 0.429)",crimson9:"color(display-p3 0.843 0.298 0.507)",crimson10:"color(display-p3 0.864 0.364 0.539)",crimson11:"color(display-p3 1 0.56 0.66)",crimson12:"color(display-p3 0.966 0.834 0.906)"},crimsonDarkP3A={crimsonA1:"color(display-p3 0.984 0.071 0.463 / 0.03)",crimsonA2:"color(display-p3 0.996 0.282 0.569 / 0.055)",crimsonA3:"color(display-p3 0.996 0.227 0.573 / 0.148)",crimsonA4:"color(display-p3 1 0.157 0.569 / 0.227)",crimsonA5:"color(display-p3 1 0.231 0.604 / 0.286)",crimsonA6:"color(display-p3 1 0.337 0.643 / 0.349)",crimsonA7:"color(display-p3 1 0.416 0.663 / 0.454)",crimsonA8:"color(display-p3 0.996 0.427 0.651 / 0.614)",crimsonA9:"color(display-p3 1 0.345 0.596 / 0.832)",crimsonA10:"color(display-p3 1 0.42 0.62 / 0.853)",crimsonA11:"color(display-p3 1 0.56 0.66)",crimsonA12:"color(display-p3 0.966 0.834 0.906)"},pinkDark={pink1:"#191117",pink2:"#21121d",pink3:"#37172f",pink4:"#4b143d",pink5:"#591c47",pink6:"#692955",pink7:"#833869",pink8:"#a84885",pink9:"#d6409f",pink10:"#de51a8",pink11:"#ff8dcc",pink12:"#fdd1ea"},pinkDarkA={pinkA1:"#f412bc09",pinkA2:"#f420bb12",pinkA3:"#fe37cc29",pinkA4:"#fc1ec43f",pinkA5:"#fd35c24e",pinkA6:"#fd51c75f",pinkA7:"#fd62c87b",pinkA8:"#ff68c8a2",pinkA9:"#fe49bcd4",pinkA10:"#ff5cc0dc",pinkA11:"#ff8dcc",pinkA12:"#ffd3ecfd"},pinkDarkP3={pink1:"color(display-p3 0.093 0.068 0.089)",pink2:"color(display-p3 0.121 0.073 0.11)",pink3:"color(display-p3 0.198 0.098 0.179)",pink4:"color(display-p3 0.271 0.095 0.231)",pink5:"color(display-p3 0.32 0.127 0.273)",pink6:"color(display-p3 0.382 0.177 0.326)",pink7:"color(display-p3 0.477 0.238 0.405)",pink8:"color(display-p3 0.612 0.304 0.51)",pink9:"color(display-p3 0.775 0.297 0.61)",pink10:"color(display-p3 0.808 0.356 0.645)",pink11:"color(display-p3 1 0.535 0.78)",pink12:"color(display-p3 0.964 0.826 0.912)"},pinkDarkP3A={pinkA1:"color(display-p3 0.984 0.071 0.855 / 0.03)",pinkA2:"color(display-p3 1 0.2 0.8 / 0.059)",pinkA3:"color(display-p3 1 0.294 0.886 / 0.139)",pinkA4:"color(display-p3 1 0.192 0.82 / 0.219)",pinkA5:"color(display-p3 1 0.282 0.827 / 0.274)",pinkA6:"color(display-p3 1 0.396 0.835 / 0.337)",pinkA7:"color(display-p3 1 0.459 0.831 / 0.442)",pinkA8:"color(display-p3 1 0.478 0.827 / 0.585)",pinkA9:"color(display-p3 1 0.373 0.784 / 0.761)",pinkA10:"color(display-p3 1 0.435 0.792 / 0.795)",pinkA11:"color(display-p3 1 0.535 0.78)",pinkA12:"color(display-p3 0.964 0.826 0.912)"},plumDark={plum1:"#181118",plum2:"#201320",plum3:"#351a35",plum4:"#451d47",plum5:"#512454",plum6:"#5e3061",plum7:"#734079",plum8:"#92549c",plum9:"#ab4aba",plum10:"#b658c4",plum11:"#e796f3",plum12:"#f4d4f4"},plumDarkA={plumA1:"#f112f108",plumA2:"#f22ff211",plumA3:"#fd4cfd27",plumA4:"#f646ff3a",plumA5:"#f455ff48",plumA6:"#f66dff56",plumA7:"#f07cfd70",plumA8:"#ee84ff95",plumA9:"#e961feb6",plumA10:"#ed70ffc0",plumA11:"#f19cfef3",plumA12:"#feddfef4"},plumDarkP3={plum1:"color(display-p3 0.09 0.068 0.092)",plum2:"color(display-p3 0.118 0.077 0.121)",plum3:"color(display-p3 0.192 0.105 0.202)",plum4:"color(display-p3 0.25 0.121 0.271)",plum5:"color(display-p3 0.293 0.152 0.319)",plum6:"color(display-p3 0.343 0.198 0.372)",plum7:"color(display-p3 0.424 0.262 0.461)",plum8:"color(display-p3 0.54 0.341 0.595)",plum9:"color(display-p3 0.624 0.313 0.708)",plum10:"color(display-p3 0.666 0.365 0.748)",plum11:"color(display-p3 0.86 0.602 0.933)",plum12:"color(display-p3 0.936 0.836 0.949)"},plumDarkP3A={plumA1:"color(display-p3 0.973 0.071 0.973 / 0.026)",plumA2:"color(display-p3 0.933 0.267 1 / 0.059)",plumA3:"color(display-p3 0.918 0.333 0.996 / 0.148)",plumA4:"color(display-p3 0.91 0.318 1 / 0.219)",plumA5:"color(display-p3 0.914 0.388 1 / 0.269)",plumA6:"color(display-p3 0.906 0.463 1 / 0.328)",plumA7:"color(display-p3 0.906 0.529 1 / 0.425)",plumA8:"color(display-p3 0.906 0.553 1 / 0.568)",plumA9:"color(display-p3 0.875 0.427 1 / 0.69)",plumA10:"color(display-p3 0.886 0.471 0.996 / 0.732)",plumA11:"color(display-p3 0.86 0.602 0.933)",plumA12:"color(display-p3 0.936 0.836 0.949)"},purpleDark={purple1:"#18111b",purple2:"#1e1523",purple3:"#301c3b",purple4:"#3d224e",purple5:"#48295c",purple6:"#54346b",purple7:"#664282",purple8:"#8457aa",purple9:"#8e4ec6",purple10:"#9a5cd0",purple11:"#d19dff",purple12:"#ecd9fa"},purpleDarkA={purpleA1:"#b412f90b",purpleA2:"#b744f714",purpleA3:"#c150ff2d",purpleA4:"#bb53fd42",purpleA5:"#be5cfd51",purpleA6:"#c16dfd61",purpleA7:"#c378fd7a",purpleA8:"#c47effa4",purpleA9:"#b661ffc2",purpleA10:"#bc6fffcd",purpleA11:"#d19dff",purpleA12:"#f1ddfffa"},purpleDarkP3={purple1:"color(display-p3 0.09 0.068 0.103)",purple2:"color(display-p3 0.113 0.082 0.134)",purple3:"color(display-p3 0.175 0.112 0.224)",purple4:"color(display-p3 0.224 0.137 0.297)",purple5:"color(display-p3 0.264 0.167 0.349)",purple6:"color(display-p3 0.311 0.208 0.406)",purple7:"color(display-p3 0.381 0.266 0.496)",purple8:"color(display-p3 0.49 0.349 0.649)",purple9:"color(display-p3 0.523 0.318 0.751)",purple10:"color(display-p3 0.57 0.373 0.791)",purple11:"color(display-p3 0.8 0.62 1)",purple12:"color(display-p3 0.913 0.854 0.971)"},purpleDarkP3A={purpleA1:"color(display-p3 0.686 0.071 0.996 / 0.038)",purpleA2:"color(display-p3 0.722 0.286 0.996 / 0.072)",purpleA3:"color(display-p3 0.718 0.349 0.996 / 0.169)",purpleA4:"color(display-p3 0.702 0.353 1 / 0.248)",purpleA5:"color(display-p3 0.718 0.404 1 / 0.303)",purpleA6:"color(display-p3 0.733 0.455 1 / 0.366)",purpleA7:"color(display-p3 0.753 0.506 1 / 0.458)",purpleA8:"color(display-p3 0.749 0.522 1 / 0.622)",purpleA9:"color(display-p3 0.686 0.408 1 / 0.736)",purpleA10:"color(display-p3 0.71 0.459 1 / 0.778)",purpleA11:"color(display-p3 0.8 0.62 1)",purpleA12:"color(display-p3 0.913 0.854 0.971)"},violetDark={violet1:"#14121f",violet2:"#1b1525",violet3:"#291f43",violet4:"#33255b",violet5:"#3c2e69",violet6:"#473876",violet7:"#56468b",violet8:"#6958ad",violet9:"#6e56cf",violet10:"#7d66d9",violet11:"#baa7ff",violet12:"#e2ddfe"},violetDarkA={violetA1:"#4422ff0f",violetA2:"#853ff916",violetA3:"#8354fe36",violetA4:"#7d51fd50",violetA5:"#845ffd5f",violetA6:"#8f6cfd6d",violetA7:"#9879ff83",violetA8:"#977dfea8",violetA9:"#8668ffcc",violetA10:"#9176fed7",violetA11:"#baa7ff",violetA12:"#e3defffe"},violetDarkP3={violet1:"color(display-p3 0.077 0.071 0.118)",violet2:"color(display-p3 0.101 0.084 0.141)",violet3:"color(display-p3 0.154 0.123 0.256)",violet4:"color(display-p3 0.191 0.148 0.345)",violet5:"color(display-p3 0.226 0.182 0.396)",violet6:"color(display-p3 0.269 0.223 0.449)",violet7:"color(display-p3 0.326 0.277 0.53)",violet8:"color(display-p3 0.399 0.346 0.656)",violet9:"color(display-p3 0.417 0.341 0.784)",violet10:"color(display-p3 0.477 0.402 0.823)",violet11:"color(display-p3 0.72 0.65 1)",violet12:"color(display-p3 0.883 0.867 0.986)"},violetDarkP3A={violetA1:"color(display-p3 0.282 0.141 0.996 / 0.055)",violetA2:"color(display-p3 0.51 0.263 1 / 0.08)",violetA3:"color(display-p3 0.494 0.337 0.996 / 0.202)",violetA4:"color(display-p3 0.49 0.345 1 / 0.299)",violetA5:"color(display-p3 0.525 0.392 1 / 0.353)",violetA6:"color(display-p3 0.569 0.455 1 / 0.408)",violetA7:"color(display-p3 0.588 0.494 1 / 0.496)",violetA8:"color(display-p3 0.596 0.51 1 / 0.631)",violetA9:"color(display-p3 0.522 0.424 1 / 0.769)",violetA10:"color(display-p3 0.576 0.482 1 / 0.811)",violetA11:"color(display-p3 0.72 0.65 1)",violetA12:"color(display-p3 0.883 0.867 0.986)"},irisDark={iris1:"#13131e",iris2:"#171625",iris3:"#202248",iris4:"#262a65",iris5:"#303374",iris6:"#3d3e82",iris7:"#4a4a95",iris8:"#5958b1",iris9:"#5b5bd6",iris10:"#6e6ade",iris11:"#b1a9ff",iris12:"#e0dffe"},irisDarkA={irisA1:"#3636fe0e",irisA2:"#564bf916",irisA3:"#525bff3b",irisA4:"#4d58ff5a",irisA5:"#5b62fd6b",irisA6:"#6d6ffd7a",irisA7:"#7777fe8e",irisA8:"#7b7afeac",irisA9:"#6a6afed4",irisA10:"#7d79ffdc",irisA11:"#b1a9ff",irisA12:"#e1e0fffe"},irisDarkP3={iris1:"color(display-p3 0.075 0.075 0.114)",iris2:"color(display-p3 0.089 0.086 0.14)",iris3:"color(display-p3 0.128 0.134 0.272)",iris4:"color(display-p3 0.153 0.165 0.382)",iris5:"color(display-p3 0.192 0.201 0.44)",iris6:"color(display-p3 0.239 0.241 0.491)",iris7:"color(display-p3 0.291 0.289 0.565)",iris8:"color(display-p3 0.35 0.345 0.673)",iris9:"color(display-p3 0.357 0.357 0.81)",iris10:"color(display-p3 0.428 0.416 0.843)",iris11:"color(display-p3 0.685 0.662 1)",iris12:"color(display-p3 0.878 0.875 0.986)"},irisDarkP3A={irisA1:"color(display-p3 0.224 0.224 0.992 / 0.051)",irisA2:"color(display-p3 0.361 0.314 1 / 0.08)",irisA3:"color(display-p3 0.357 0.373 1 / 0.219)",irisA4:"color(display-p3 0.325 0.361 1 / 0.337)",irisA5:"color(display-p3 0.38 0.4 1 / 0.4)",irisA6:"color(display-p3 0.447 0.447 1 / 0.454)",irisA7:"color(display-p3 0.486 0.486 1 / 0.534)",irisA8:"color(display-p3 0.502 0.494 1 / 0.652)",irisA9:"color(display-p3 0.431 0.431 1 / 0.799)",irisA10:"color(display-p3 0.502 0.486 1 / 0.832)",irisA11:"color(display-p3 0.685 0.662 1)",irisA12:"color(display-p3 0.878 0.875 0.986)"},indigoDark={indigo1:"#11131f",indigo2:"#141726",indigo3:"#182449",indigo4:"#1d2e62",indigo5:"#253974",indigo6:"#304384",indigo7:"#3a4f97",indigo8:"#435db1",indigo9:"#3e63dd",indigo10:"#5472e4",indigo11:"#9eb1ff",indigo12:"#d6e1ff"},indigoDarkA={indigoA1:"#1133ff0f",indigoA2:"#3354fa17",indigoA3:"#2f62ff3c",indigoA4:"#3566ff57",indigoA5:"#4171fd6b",indigoA6:"#5178fd7c",indigoA7:"#5a7fff90",indigoA8:"#5b81feac",indigoA9:"#4671ffdb",indigoA10:"#5c7efee3",indigoA11:"#9eb1ff",indigoA12:"#d6e1ff"},indigoDarkP3={indigo1:"color(display-p3 0.068 0.074 0.118)",indigo2:"color(display-p3 0.081 0.089 0.144)",indigo3:"color(display-p3 0.105 0.141 0.275)",indigo4:"color(display-p3 0.129 0.18 0.369)",indigo5:"color(display-p3 0.163 0.22 0.439)",indigo6:"color(display-p3 0.203 0.262 0.5)",indigo7:"color(display-p3 0.245 0.309 0.575)",indigo8:"color(display-p3 0.285 0.362 0.674)",indigo9:"color(display-p3 0.276 0.384 0.837)",indigo10:"color(display-p3 0.354 0.445 0.866)",indigo11:"color(display-p3 0.63 0.69 1)",indigo12:"color(display-p3 0.848 0.881 0.99)"},indigoDarkP3A={indigoA1:"color(display-p3 0.071 0.212 0.996 / 0.055)",indigoA2:"color(display-p3 0.251 0.345 0.988 / 0.085)",indigoA3:"color(display-p3 0.243 0.404 1 / 0.223)",indigoA4:"color(display-p3 0.263 0.42 1 / 0.324)",indigoA5:"color(display-p3 0.314 0.451 1 / 0.4)",indigoA6:"color(display-p3 0.361 0.49 1 / 0.467)",indigoA7:"color(display-p3 0.388 0.51 1 / 0.547)",indigoA8:"color(display-p3 0.404 0.518 1 / 0.652)",indigoA9:"color(display-p3 0.318 0.451 1 / 0.824)",indigoA10:"color(display-p3 0.404 0.506 1 / 0.858)",indigoA11:"color(display-p3 0.63 0.69 1)",indigoA12:"color(display-p3 0.848 0.881 0.99)"},blueDark={blue1:"#0d1520",blue2:"#111927",blue3:"#0d2847",blue4:"#003362",blue5:"#004074",blue6:"#104d87",blue7:"#205d9e",blue8:"#2870bd",blue9:"#0090ff",blue10:"#3b9eff",blue11:"#70b8ff",blue12:"#c2e6ff"},blueDarkA={blueA1:"#004df211",blueA2:"#1166fb18",blueA3:"#0077ff3a",blueA4:"#0075ff57",blueA5:"#0081fd6b",blueA6:"#0f89fd7f",blueA7:"#2a91fe98",blueA8:"#3094feb9",blueA9:"#0090ff",blueA10:"#3b9eff",blueA11:"#70b8ff",blueA12:"#c2e6ff"},blueDarkP3={blue1:"color(display-p3 0.057 0.081 0.122)",blue2:"color(display-p3 0.072 0.098 0.147)",blue3:"color(display-p3 0.078 0.154 0.27)",blue4:"color(display-p3 0.033 0.197 0.37)",blue5:"color(display-p3 0.08 0.245 0.441)",blue6:"color(display-p3 0.14 0.298 0.511)",blue7:"color(display-p3 0.195 0.361 0.6)",blue8:"color(display-p3 0.239 0.434 0.72)",blue9:"color(display-p3 0.247 0.556 0.969)",blue10:"color(display-p3 0.344 0.612 0.973)",blue11:"color(display-p3 0.49 0.72 1)",blue12:"color(display-p3 0.788 0.898 0.99)"},blueDarkP3A={blueA1:"color(display-p3 0 0.333 1 / 0.059)",blueA2:"color(display-p3 0.114 0.435 0.988 / 0.085)",blueA3:"color(display-p3 0.122 0.463 1 / 0.219)",blueA4:"color(display-p3 0 0.467 1 / 0.324)",blueA5:"color(display-p3 0.098 0.51 1 / 0.4)",blueA6:"color(display-p3 0.224 0.557 1 / 0.475)",blueA7:"color(display-p3 0.294 0.584 1 / 0.572)",blueA8:"color(display-p3 0.314 0.592 1 / 0.702)",blueA9:"color(display-p3 0.251 0.573 0.996 / 0.967)",blueA10:"color(display-p3 0.357 0.631 1 / 0.971)",blueA11:"color(display-p3 0.49 0.72 1)",blueA12:"color(display-p3 0.788 0.898 0.99)"},cyanDark={cyan1:"#0b161a",cyan2:"#101b20",cyan3:"#082c36",cyan4:"#003848",cyan5:"#004558",cyan6:"#045468",cyan7:"#12677e",cyan8:"#11809c",cyan9:"#00a2c7",cyan10:"#23afd0",cyan11:"#4ccce6",cyan12:"#b6ecf7"},cyanDarkA={cyanA1:"#0091f70a",cyanA2:"#02a7f211",cyanA3:"#00befd28",cyanA4:"#00baff3b",cyanA5:"#00befd4d",cyanA6:"#00c7fd5e",cyanA7:"#14cdff75",cyanA8:"#11cfff95",cyanA9:"#00cfffc3",cyanA10:"#28d6ffcd",cyanA11:"#52e1fee5",cyanA12:"#bbf3fef7"},cyanDarkP3={cyan1:"color(display-p3 0.053 0.085 0.098)",cyan2:"color(display-p3 0.072 0.105 0.122)",cyan3:"color(display-p3 0.073 0.168 0.209)",cyan4:"color(display-p3 0.063 0.216 0.277)",cyan5:"color(display-p3 0.091 0.267 0.336)",cyan6:"color(display-p3 0.137 0.324 0.4)",cyan7:"color(display-p3 0.186 0.398 0.484)",cyan8:"color(display-p3 0.23 0.496 0.6)",cyan9:"color(display-p3 0.282 0.627 0.765)",cyan10:"color(display-p3 0.331 0.675 0.801)",cyan11:"color(display-p3 0.446 0.79 0.887)",cyan12:"color(display-p3 0.757 0.919 0.962)"},cyanDarkP3A={cyanA1:"color(display-p3 0 0.647 0.992 / 0.034)",cyanA2:"color(display-p3 0.133 0.733 1 / 0.059)",cyanA3:"color(display-p3 0.122 0.741 0.996 / 0.152)",cyanA4:"color(display-p3 0.051 0.725 1 / 0.227)",cyanA5:"color(display-p3 0.149 0.757 1 / 0.29)",cyanA6:"color(display-p3 0.267 0.792 1 / 0.358)",cyanA7:"color(display-p3 0.333 0.808 1 / 0.446)",cyanA8:"color(display-p3 0.357 0.816 1 / 0.572)",cyanA9:"color(display-p3 0.357 0.82 1 / 0.748)",cyanA10:"color(display-p3 0.4 0.839 1 / 0.786)",cyanA11:"color(display-p3 0.446 0.79 0.887)",cyanA12:"color(display-p3 0.757 0.919 0.962)"},tealDark={teal1:"#0d1514",teal2:"#111c1b",teal3:"#0d2d2a",teal4:"#023b37",teal5:"#084843",teal6:"#145750",teal7:"#1c6961",teal8:"#207e73",teal9:"#12a594",teal10:"#0eb39e",teal11:"#0bd8b6",teal12:"#adf0dd"},tealDarkA={tealA1:"#00deab05",tealA2:"#12fbe60c",tealA3:"#00ffe61e",tealA4:"#00ffe92d",tealA5:"#00ffea3b",tealA6:"#1cffe84b",tealA7:"#2efde85f",tealA8:"#32ffe775",tealA9:"#13ffe49f",tealA10:"#0dffe0ae",tealA11:"#0afed5d6",tealA12:"#b8ffebef"},tealDarkP3={teal1:"color(display-p3 0.059 0.083 0.079)",teal2:"color(display-p3 0.075 0.11 0.107)",teal3:"color(display-p3 0.087 0.175 0.165)",teal4:"color(display-p3 0.087 0.227 0.214)",teal5:"color(display-p3 0.12 0.277 0.261)",teal6:"color(display-p3 0.162 0.335 0.314)",teal7:"color(display-p3 0.205 0.406 0.379)",teal8:"color(display-p3 0.245 0.489 0.453)",teal9:"color(display-p3 0.297 0.637 0.581)",teal10:"color(display-p3 0.319 0.69 0.62)",teal11:"color(display-p3 0.388 0.835 0.719)",teal12:"color(display-p3 0.734 0.934 0.87)"},tealDarkP3A={tealA1:"color(display-p3 0 0.992 0.761 / 0.017)",tealA2:"color(display-p3 0.235 0.988 0.902 / 0.047)",tealA3:"color(display-p3 0.235 1 0.898 / 0.118)",tealA4:"color(display-p3 0.18 0.996 0.929 / 0.173)",tealA5:"color(display-p3 0.31 1 0.933 / 0.227)",tealA6:"color(display-p3 0.396 1 0.933 / 0.286)",tealA7:"color(display-p3 0.443 1 0.925 / 0.366)",tealA8:"color(display-p3 0.459 1 0.925 / 0.454)",tealA9:"color(display-p3 0.443 0.996 0.906 / 0.61)",tealA10:"color(display-p3 0.439 0.996 0.89 / 0.669)",tealA11:"color(display-p3 0.388 0.835 0.719)",tealA12:"color(display-p3 0.734 0.934 0.87)"},jadeDark={jade1:"#0d1512",jade2:"#121c18",jade3:"#0f2e22",jade4:"#0b3b2c",jade5:"#114837",jade6:"#1b5745",jade7:"#246854",jade8:"#2a7e68",jade9:"#29a383",jade10:"#27b08b",jade11:"#1fd8a4",jade12:"#adf0d4"},jadeDarkA={jadeA1:"#00de4505",jadeA2:"#27fba60c",jadeA3:"#02f99920",jadeA4:"#00ffaa2d",jadeA5:"#11ffb63b",jadeA6:"#34ffc24b",jadeA7:"#45fdc75e",jadeA8:"#48ffcf75",jadeA9:"#38feca9d",jadeA10:"#31fec7ab",jadeA11:"#21fec0d6",jadeA12:"#b8ffe1ef"},jadeDarkP3={jade1:"color(display-p3 0.059 0.083 0.071)",jade2:"color(display-p3 0.078 0.11 0.094)",jade3:"color(display-p3 0.091 0.176 0.138)",jade4:"color(display-p3 0.102 0.228 0.177)",jade5:"color(display-p3 0.133 0.279 0.221)",jade6:"color(display-p3 0.174 0.334 0.273)",jade7:"color(display-p3 0.219 0.402 0.335)",jade8:"color(display-p3 0.263 0.488 0.411)",jade9:"color(display-p3 0.319 0.63 0.521)",jade10:"color(display-p3 0.338 0.68 0.555)",jade11:"color(display-p3 0.4 0.835 0.656)",jade12:"color(display-p3 0.734 0.934 0.838)"},jadeDarkP3A={jadeA1:"color(display-p3 0 0.992 0.298 / 0.017)",jadeA2:"color(display-p3 0.318 0.988 0.651 / 0.047)",jadeA3:"color(display-p3 0.267 1 0.667 / 0.118)",jadeA4:"color(display-p3 0.275 0.996 0.702 / 0.173)",jadeA5:"color(display-p3 0.361 1 0.741 / 0.227)",jadeA6:"color(display-p3 0.439 1 0.796 / 0.286)",jadeA7:"color(display-p3 0.49 1 0.804 / 0.362)",jadeA8:"color(display-p3 0.506 1 0.835 / 0.45)",jadeA9:"color(display-p3 0.478 0.996 0.816 / 0.606)",jadeA10:"color(display-p3 0.478 1 0.816 / 0.656)",jadeA11:"color(display-p3 0.4 0.835 0.656)",jadeA12:"color(display-p3 0.734 0.934 0.838)"},greenDark={green1:"#0e1512",green2:"#121b17",green3:"#132d21",green4:"#113b29",green5:"#174933",green6:"#20573e",green7:"#28684a",green8:"#2f7c57",green9:"#30a46c",green10:"#33b074",green11:"#3dd68c",green12:"#b1f1cb"},greenDarkA={greenA1:"#00de4505",greenA2:"#29f99d0b",greenA3:"#22ff991e",greenA4:"#11ff992d",greenA5:"#2bffa23c",greenA6:"#44ffaa4b",greenA7:"#50fdac5e",greenA8:"#54ffad73",greenA9:"#44ffa49e",greenA10:"#43fea4ab",greenA11:"#46fea5d4",greenA12:"#bbffd7f0"},greenDarkP3={green1:"color(display-p3 0.062 0.083 0.071)",green2:"color(display-p3 0.079 0.106 0.09)",green3:"color(display-p3 0.1 0.173 0.133)",green4:"color(display-p3 0.115 0.229 0.166)",green5:"color(display-p3 0.147 0.282 0.206)",green6:"color(display-p3 0.185 0.338 0.25)",green7:"color(display-p3 0.227 0.403 0.298)",green8:"color(display-p3 0.27 0.479 0.351)",green9:"color(display-p3 0.332 0.634 0.442)",green10:"color(display-p3 0.357 0.682 0.474)",green11:"color(display-p3 0.434 0.828 0.573)",green12:"color(display-p3 0.747 0.938 0.807)"},greenDarkP3A={greenA1:"color(display-p3 0 0.992 0.298 / 0.017)",greenA2:"color(display-p3 0.341 0.98 0.616 / 0.043)",greenA3:"color(display-p3 0.376 0.996 0.655 / 0.114)",greenA4:"color(display-p3 0.341 0.996 0.635 / 0.173)",greenA5:"color(display-p3 0.408 1 0.678 / 0.232)",greenA6:"color(display-p3 0.475 1 0.706 / 0.29)",greenA7:"color(display-p3 0.514 1 0.706 / 0.362)",greenA8:"color(display-p3 0.529 1 0.718 / 0.442)",greenA9:"color(display-p3 0.502 0.996 0.682 / 0.61)",greenA10:"color(display-p3 0.506 1 0.682 / 0.66)",greenA11:"color(display-p3 0.434 0.828 0.573)",greenA12:"color(display-p3 0.747 0.938 0.807)"},grassDark={grass1:"#0e1511",grass2:"#141a15",grass3:"#1b2a1e",grass4:"#1d3a24",grass5:"#25482d",grass6:"#2d5736",grass7:"#366740",grass8:"#3e7949",grass9:"#46a758",grass10:"#53b365",grass11:"#71d083",grass12:"#c2f0c2"},grassDarkA={grassA1:"#00de1205",grassA2:"#5ef7780a",grassA3:"#70fe8c1b",grassA4:"#57ff802c",grassA5:"#68ff8b3b",grassA6:"#71ff8f4b",grassA7:"#77fd925d",grassA8:"#77fd9070",grassA9:"#65ff82a1",grassA10:"#72ff8dae",grassA11:"#89ff9fcd",grassA12:"#ceffceef"},grassDarkP3={grass1:"color(display-p3 0.062 0.083 0.067)",grass2:"color(display-p3 0.083 0.103 0.085)",grass3:"color(display-p3 0.118 0.163 0.122)",grass4:"color(display-p3 0.142 0.225 0.15)",grass5:"color(display-p3 0.178 0.279 0.186)",grass6:"color(display-p3 0.217 0.337 0.224)",grass7:"color(display-p3 0.258 0.4 0.264)",grass8:"color(display-p3 0.302 0.47 0.305)",grass9:"color(display-p3 0.38 0.647 0.378)",grass10:"color(display-p3 0.426 0.694 0.426)",grass11:"color(display-p3 0.535 0.807 0.542)",grass12:"color(display-p3 0.797 0.936 0.776)"},grassDarkP3A={grassA1:"color(display-p3 0 0.992 0.071 / 0.017)",grassA2:"color(display-p3 0.482 0.996 0.584 / 0.038)",grassA3:"color(display-p3 0.549 0.992 0.588 / 0.106)",grassA4:"color(display-p3 0.51 0.996 0.557 / 0.169)",grassA5:"color(display-p3 0.553 1 0.588 / 0.227)",grassA6:"color(display-p3 0.584 1 0.608 / 0.29)",grassA7:"color(display-p3 0.604 1 0.616 / 0.358)",grassA8:"color(display-p3 0.608 1 0.62 / 0.433)",grassA9:"color(display-p3 0.573 1 0.569 / 0.622)",grassA10:"color(display-p3 0.6 0.996 0.6 / 0.673)",grassA11:"color(display-p3 0.535 0.807 0.542)",grassA12:"color(display-p3 0.797 0.936 0.776)"},brownDark={brown1:"#12110f",brown2:"#1c1816",brown3:"#28211d",brown4:"#322922",brown5:"#3e3128",brown6:"#4d3c2f",brown7:"#614a39",brown8:"#7c5f46",brown9:"#ad7f58",brown10:"#b88c67",brown11:"#dbb594",brown12:"#f2e1ca"},brownDarkA={brownA1:"#91110002",brownA2:"#fba67c0c",brownA3:"#fcb58c19",brownA4:"#fbbb8a24",brownA5:"#fcb88931",brownA6:"#fdba8741",brownA7:"#ffbb8856",brownA8:"#ffbe8773",brownA9:"#feb87da8",brownA10:"#ffc18cb3",brownA11:"#fed1aad9",brownA12:"#feecd4f2"},brownDarkP3={brown1:"color(display-p3 0.071 0.067 0.059)",brown2:"color(display-p3 0.107 0.095 0.087)",brown3:"color(display-p3 0.151 0.13 0.115)",brown4:"color(display-p3 0.191 0.161 0.138)",brown5:"color(display-p3 0.235 0.194 0.162)",brown6:"color(display-p3 0.291 0.237 0.192)",brown7:"color(display-p3 0.365 0.295 0.232)",brown8:"color(display-p3 0.469 0.377 0.287)",brown9:"color(display-p3 0.651 0.505 0.368)",brown10:"color(display-p3 0.697 0.557 0.423)",brown11:"color(display-p3 0.835 0.715 0.597)",brown12:"color(display-p3 0.938 0.885 0.802)"},brownDarkP3A={brownA1:"color(display-p3 0.855 0.071 0 / 0.005)",brownA2:"color(display-p3 0.98 0.706 0.525 / 0.043)",brownA3:"color(display-p3 0.996 0.745 0.576 / 0.093)",brownA4:"color(display-p3 1 0.765 0.592 / 0.135)",brownA5:"color(display-p3 1 0.761 0.588 / 0.181)",brownA6:"color(display-p3 1 0.773 0.592 / 0.24)",brownA7:"color(display-p3 0.996 0.776 0.58 / 0.32)",brownA8:"color(display-p3 1 0.78 0.573 / 0.433)",brownA9:"color(display-p3 1 0.769 0.549 / 0.627)",brownA10:"color(display-p3 1 0.792 0.596 / 0.677)",brownA11:"color(display-p3 0.835 0.715 0.597)",brownA12:"color(display-p3 0.938 0.885 0.802)"},bronzeDark={bronze1:"#141110",bronze2:"#1c1917",bronze3:"#262220",bronze4:"#302a27",bronze5:"#3b3330",bronze6:"#493e3a",bronze7:"#5a4c47",bronze8:"#6f5f58",bronze9:"#a18072",bronze10:"#ae8c7e",bronze11:"#d4b3a5",bronze12:"#ede0d9"},bronzeDarkA={bronzeA1:"#d1110004",bronzeA2:"#fbbc910c",bronzeA3:"#faceb817",bronzeA4:"#facdb622",bronzeA5:"#ffd2c12d",bronzeA6:"#ffd1c03c",bronzeA7:"#fdd0c04f",bronzeA8:"#ffd6c565",bronzeA9:"#fec7b09b",bronzeA10:"#fecab5a9",bronzeA11:"#ffd7c6d1",bronzeA12:"#fff1e9ec"},bronzeDarkP3={bronze1:"color(display-p3 0.076 0.067 0.063)",bronze2:"color(display-p3 0.106 0.097 0.093)",bronze3:"color(display-p3 0.147 0.132 0.125)",bronze4:"color(display-p3 0.185 0.166 0.156)",bronze5:"color(display-p3 0.227 0.202 0.19)",bronze6:"color(display-p3 0.278 0.246 0.23)",bronze7:"color(display-p3 0.343 0.302 0.281)",bronze8:"color(display-p3 0.426 0.374 0.347)",bronze9:"color(display-p3 0.611 0.507 0.455)",bronze10:"color(display-p3 0.66 0.556 0.504)",bronze11:"color(display-p3 0.81 0.707 0.655)",bronze12:"color(display-p3 0.921 0.88 0.854)"},bronzeDarkP3A={bronzeA1:"color(display-p3 0.941 0.067 0 / 0.009)",bronzeA2:"color(display-p3 0.98 0.8 0.706 / 0.043)",bronzeA3:"color(display-p3 0.988 0.851 0.761 / 0.085)",bronzeA4:"color(display-p3 0.996 0.839 0.78 / 0.127)",bronzeA5:"color(display-p3 0.996 0.863 0.773 / 0.173)",bronzeA6:"color(display-p3 1 0.863 0.796 / 0.227)",bronzeA7:"color(display-p3 1 0.867 0.8 / 0.295)",bronzeA8:"color(display-p3 1 0.859 0.788 / 0.387)",bronzeA9:"color(display-p3 1 0.82 0.733 / 0.585)",bronzeA10:"color(display-p3 1 0.839 0.761 / 0.635)",bronzeA11:"color(display-p3 0.81 0.707 0.655)",bronzeA12:"color(display-p3 0.921 0.88 0.854)"},goldDark={gold1:"#121211",gold2:"#1b1a17",gold3:"#24231f",gold4:"#2d2b26",gold5:"#38352e",gold6:"#444039",gold7:"#544f46",gold8:"#696256",gold9:"#978365",gold10:"#a39073",gold11:"#cbb99f",gold12:"#e8e2d9"},goldDarkA={goldA1:"#91911102",goldA2:"#f9e29d0b",goldA3:"#f8ecbb15",goldA4:"#ffeec41e",goldA5:"#feecc22a",goldA6:"#feebcb37",goldA7:"#ffedcd48",goldA8:"#fdeaca5f",goldA9:"#ffdba690",goldA10:"#fedfb09d",goldA11:"#fee7c6c8",goldA12:"#fef7ede7"},goldDarkP3={gold1:"color(display-p3 0.071 0.071 0.067)",gold2:"color(display-p3 0.104 0.101 0.09)",gold3:"color(display-p3 0.141 0.136 0.122)",gold4:"color(display-p3 0.177 0.17 0.152)",gold5:"color(display-p3 0.217 0.207 0.185)",gold6:"color(display-p3 0.265 0.252 0.225)",gold7:"color(display-p3 0.327 0.31 0.277)",gold8:"color(display-p3 0.407 0.384 0.342)",gold9:"color(display-p3 0.579 0.517 0.41)",gold10:"color(display-p3 0.628 0.566 0.463)",gold11:"color(display-p3 0.784 0.728 0.635)",gold12:"color(display-p3 0.906 0.887 0.855)"},goldDarkP3A={goldA1:"color(display-p3 0.855 0.855 0.071 / 0.005)",goldA2:"color(display-p3 0.98 0.89 0.616 / 0.043)",goldA3:"color(display-p3 1 0.949 0.753 / 0.08)",goldA4:"color(display-p3 1 0.933 0.8 / 0.118)",goldA5:"color(display-p3 1 0.949 0.804 / 0.16)",goldA6:"color(display-p3 1 0.925 0.8 / 0.215)",goldA7:"color(display-p3 1 0.945 0.831 / 0.278)",goldA8:"color(display-p3 1 0.937 0.82 / 0.366)",goldA9:"color(display-p3 0.996 0.882 0.69 / 0.551)",goldA10:"color(display-p3 1 0.894 0.725 / 0.601)",goldA11:"color(display-p3 0.784 0.728 0.635)",goldA12:"color(display-p3 0.906 0.887 0.855)"},skyDark={sky1:"#0d141f",sky2:"#111a27",sky3:"#112840",sky4:"#113555",sky5:"#154467",sky6:"#1b537b",sky7:"#1f6692",sky8:"#197cae",sky9:"#7ce2fe",sky10:"#a8eeff",sky11:"#75c7f0",sky12:"#c2f3ff"},skyDarkA={skyA1:"#0044ff0f",skyA2:"#1171fb18",skyA3:"#1184fc33",skyA4:"#128fff49",skyA5:"#1c9dfd5d",skyA6:"#28a5ff72",skyA7:"#2badfe8b",skyA8:"#1db2fea9",skyA9:"#7ce3fffe",skyA10:"#a8eeff",skyA11:"#7cd3ffef",skyA12:"#c2f3ff"},skyDarkP3={sky1:"color(display-p3 0.056 0.078 0.116)",sky2:"color(display-p3 0.075 0.101 0.149)",sky3:"color(display-p3 0.089 0.154 0.244)",sky4:"color(display-p3 0.106 0.207 0.323)",sky5:"color(display-p3 0.135 0.261 0.394)",sky6:"color(display-p3 0.17 0.322 0.469)",sky7:"color(display-p3 0.205 0.394 0.557)",sky8:"color(display-p3 0.232 0.48 0.665)",sky9:"color(display-p3 0.585 0.877 0.983)",sky10:"color(display-p3 0.718 0.925 0.991)",sky11:"color(display-p3 0.536 0.772 0.924)",sky12:"color(display-p3 0.799 0.947 0.993)"},skyDarkP3A={skyA1:"color(display-p3 0 0.282 0.996 / 0.055)",skyA2:"color(display-p3 0.157 0.467 0.992 / 0.089)",skyA3:"color(display-p3 0.192 0.522 0.996 / 0.19)",skyA4:"color(display-p3 0.212 0.584 1 / 0.274)",skyA5:"color(display-p3 0.259 0.631 1 / 0.349)",skyA6:"color(display-p3 0.302 0.655 1 / 0.433)",skyA7:"color(display-p3 0.329 0.686 1 / 0.526)",skyA8:"color(display-p3 0.325 0.71 1 / 0.643)",skyA9:"color(display-p3 0.592 0.894 1 / 0.984)",skyA10:"color(display-p3 0.722 0.933 1 / 0.992)",skyA11:"color(display-p3 0.536 0.772 0.924)",skyA12:"color(display-p3 0.799 0.947 0.993)"},mintDark={mint1:"#0e1515",mint2:"#0f1b1b",mint3:"#092c2b",mint4:"#003a38",mint5:"#004744",mint6:"#105650",mint7:"#1e685f",mint8:"#277f70",mint9:"#86ead4",mint10:"#a8f5e5",mint11:"#58d5ba",mint12:"#c4f5e1"},mintDarkA={mintA1:"#00dede05",mintA2:"#00f9f90b",mintA3:"#00fff61d",mintA4:"#00fff42c",mintA5:"#00fff23a",mintA6:"#0effeb4a",mintA7:"#34fde55e",mintA8:"#41ffdf76",mintA9:"#92ffe7e9",mintA10:"#aefeedf5",mintA11:"#67ffded2",mintA12:"#cbfee9f5"},mintDarkP3={mint1:"color(display-p3 0.059 0.082 0.081)",mint2:"color(display-p3 0.068 0.104 0.105)",mint3:"color(display-p3 0.077 0.17 0.168)",mint4:"color(display-p3 0.068 0.224 0.22)",mint5:"color(display-p3 0.104 0.275 0.264)",mint6:"color(display-p3 0.154 0.332 0.313)",mint7:"color(display-p3 0.207 0.403 0.373)",mint8:"color(display-p3 0.258 0.49 0.441)",mint9:"color(display-p3 0.62 0.908 0.834)",mint10:"color(display-p3 0.725 0.954 0.898)",mint11:"color(display-p3 0.482 0.825 0.733)",mint12:"color(display-p3 0.807 0.955 0.887)"},mintDarkP3A={mintA1:"color(display-p3 0 0.992 0.992 / 0.017)",mintA2:"color(display-p3 0.071 0.98 0.98 / 0.043)",mintA3:"color(display-p3 0.176 0.996 0.996 / 0.11)",mintA4:"color(display-p3 0.071 0.996 0.973 / 0.169)",mintA5:"color(display-p3 0.243 1 0.949 / 0.223)",mintA6:"color(display-p3 0.369 1 0.933 / 0.286)",mintA7:"color(display-p3 0.459 1 0.914 / 0.362)",mintA8:"color(display-p3 0.49 1 0.89 / 0.454)",mintA9:"color(display-p3 0.678 0.996 0.914 / 0.904)",mintA10:"color(display-p3 0.761 1 0.941 / 0.95)",mintA11:"color(display-p3 0.482 0.825 0.733)",mintA12:"color(display-p3 0.807 0.955 0.887)"},limeDark={lime1:"#11130c",lime2:"#151a10",lime3:"#1f2917",lime4:"#29371d",lime5:"#334423",lime6:"#3d522a",lime7:"#496231",lime8:"#577538",lime9:"#bdee63",lime10:"#d4ff70",lime11:"#bde56c",lime12:"#e3f7ba"},limeDarkA={limeA1:"#11bb0003",limeA2:"#78f7000a",limeA3:"#9bfd4c1a",limeA4:"#a7fe5c29",limeA5:"#affe6537",limeA6:"#b2fe6d46",limeA7:"#b6ff6f57",limeA8:"#b6fd6d6c",limeA9:"#caff69ed",limeA10:"#d4ff70",limeA11:"#d1fe77e4",limeA12:"#e9febff7"},limeDarkP3={lime1:"color(display-p3 0.067 0.073 0.048)",lime2:"color(display-p3 0.086 0.1 0.067)",lime3:"color(display-p3 0.13 0.16 0.099)",lime4:"color(display-p3 0.172 0.214 0.126)",lime5:"color(display-p3 0.213 0.266 0.153)",lime6:"color(display-p3 0.257 0.321 0.182)",lime7:"color(display-p3 0.307 0.383 0.215)",lime8:"color(display-p3 0.365 0.456 0.25)",lime9:"color(display-p3 0.78 0.928 0.466)",lime10:"color(display-p3 0.865 0.995 0.519)",lime11:"color(display-p3 0.771 0.893 0.485)",lime12:"color(display-p3 0.905 0.966 0.753)"},limeDarkP3A={limeA1:"color(display-p3 0.067 0.941 0 / 0.009)",limeA2:"color(display-p3 0.584 0.996 0.071 / 0.038)",limeA3:"color(display-p3 0.69 1 0.38 / 0.101)",limeA4:"color(display-p3 0.729 1 0.435 / 0.16)",limeA5:"color(display-p3 0.745 1 0.471 / 0.215)",limeA6:"color(display-p3 0.769 1 0.482 / 0.274)",limeA7:"color(display-p3 0.769 1 0.506 / 0.341)",limeA8:"color(display-p3 0.784 1 0.51 / 0.416)",limeA9:"color(display-p3 0.839 1 0.502 / 0.925)",limeA10:"color(display-p3 0.871 1 0.522 / 0.996)",limeA11:"color(display-p3 0.771 0.893 0.485)",limeA12:"color(display-p3 0.905 0.966 0.753)"},yellowDark={yellow1:"#14120b",yellow2:"#1b180f",yellow3:"#2d2305",yellow4:"#362b00",yellow5:"#433500",yellow6:"#524202",yellow7:"#665417",yellow8:"#836a21",yellow9:"#ffe629",yellow10:"#ffff57",yellow11:"#f5e147",yellow12:"#f6eeb4"},yellowDarkA={yellowA1:"#d1510004",yellowA2:"#f9b4000b",yellowA3:"#ffaa001e",yellowA4:"#fdb70028",yellowA5:"#febb0036",yellowA6:"#fec40046",yellowA7:"#fdcb225c",yellowA8:"#fdca327b",yellowA9:"#ffe629",yellowA10:"#ffff57",yellowA11:"#fee949f5",yellowA12:"#fef6baf6"},yellowDarkP3={yellow1:"color(display-p3 0.078 0.069 0.047)",yellow2:"color(display-p3 0.103 0.094 0.063)",yellow3:"color(display-p3 0.168 0.137 0.039)",yellow4:"color(display-p3 0.209 0.169 0)",yellow5:"color(display-p3 0.255 0.209 0)",yellow6:"color(display-p3 0.31 0.261 0.07)",yellow7:"color(display-p3 0.389 0.331 0.135)",yellow8:"color(display-p3 0.497 0.42 0.182)",yellow9:"color(display-p3 1 0.92 0.22)",yellow10:"color(display-p3 1 1 0.456)",yellow11:"color(display-p3 0.948 0.885 0.392)",yellow12:"color(display-p3 0.959 0.934 0.731)"},yellowDarkP3A={yellowA1:"color(display-p3 0.973 0.369 0 / 0.013)",yellowA2:"color(display-p3 0.996 0.792 0 / 0.038)",yellowA3:"color(display-p3 0.996 0.71 0 / 0.11)",yellowA4:"color(display-p3 0.996 0.741 0 / 0.152)",yellowA5:"color(display-p3 0.996 0.765 0 / 0.202)",yellowA6:"color(display-p3 0.996 0.816 0.082 / 0.261)",yellowA7:"color(display-p3 1 0.831 0.263 / 0.345)",yellowA8:"color(display-p3 1 0.831 0.314 / 0.463)",yellowA9:"color(display-p3 1 0.922 0.22)",yellowA10:"color(display-p3 1 1 0.455)",yellowA11:"color(display-p3 0.948 0.885 0.392)",yellowA12:"color(display-p3 0.959 0.934 0.731)"},amberDark={amber1:"#16120c",amber2:"#1d180f",amber3:"#302008",amber4:"#3f2700",amber5:"#4d3000",amber6:"#5c3d05",amber7:"#714f19",amber8:"#8f6424",amber9:"#ffc53d",amber10:"#ffd60a",amber11:"#ffca16",amber12:"#ffe7b3"},amberDarkA={amberA1:"#e63c0006",amberA2:"#fd9b000d",amberA3:"#fa820022",amberA4:"#fc820032",amberA5:"#fd8b0041",amberA6:"#fd9b0051",amberA7:"#ffab2567",amberA8:"#ffae3587",amberA9:"#ffc53d",amberA10:"#ffd60a",amberA11:"#ffca16",amberA12:"#ffe7b3"},amberDarkP3={amber1:"color(display-p3 0.082 0.07 0.05)",amber2:"color(display-p3 0.111 0.094 0.064)",amber3:"color(display-p3 0.178 0.128 0.049)",amber4:"color(display-p3 0.239 0.156 0)",amber5:"color(display-p3 0.29 0.193 0)",amber6:"color(display-p3 0.344 0.245 0.076)",amber7:"color(display-p3 0.422 0.314 0.141)",amber8:"color(display-p3 0.535 0.399 0.189)",amber9:"color(display-p3 1 0.77 0.26)",amber10:"color(display-p3 1 0.87 0.15)",amber11:"color(display-p3 1 0.8 0.29)",amber12:"color(display-p3 0.984 0.909 0.726)"},amberDarkP3A={amberA1:"color(display-p3 0.992 0.298 0 / 0.017)",amberA2:"color(display-p3 0.988 0.651 0 / 0.047)",amberA3:"color(display-p3 1 0.6 0 / 0.118)",amberA4:"color(display-p3 1 0.557 0 / 0.185)",amberA5:"color(display-p3 1 0.592 0 / 0.24)",amberA6:"color(display-p3 1 0.659 0.094 / 0.299)",amberA7:"color(display-p3 1 0.714 0.263 / 0.383)",amberA8:"color(display-p3 0.996 0.729 0.306 / 0.5)",amberA9:"color(display-p3 1 0.769 0.259)",amberA10:"color(display-p3 1 0.871 0.149)",amberA11:"color(display-p3 1 0.8 0.29)",amberA12:"color(display-p3 0.984 0.909 0.726)"},orangeDark={orange1:"#17120e",orange2:"#1e160f",orange3:"#331e0b",orange4:"#462100",orange5:"#562800",orange6:"#66350c",orange7:"#7e451d",orange8:"#a35829",orange9:"#f76b15",orange10:"#ff801f",orange11:"#ffa057",orange12:"#ffe0c2"},orangeDarkA={orangeA1:"#ec360007",orangeA2:"#fe6d000e",orangeA3:"#fb6a0025",orangeA4:"#ff590039",orangeA5:"#ff61004a",orangeA6:"#fd75045c",orangeA7:"#ff832c75",orangeA8:"#fe84389d",orangeA9:"#fe6d15f7",orangeA10:"#ff801f",orangeA11:"#ffa057",orangeA12:"#ffe0c2"},orangeDarkP3={orange1:"color(display-p3 0.088 0.07 0.057)",orange2:"color(display-p3 0.113 0.089 0.061)",orange3:"color(display-p3 0.189 0.12 0.056)",orange4:"color(display-p3 0.262 0.132 0)",orange5:"color(display-p3 0.315 0.168 0.016)",orange6:"color(display-p3 0.376 0.219 0.088)",orange7:"color(display-p3 0.465 0.283 0.147)",orange8:"color(display-p3 0.601 0.359 0.201)",orange9:"color(display-p3 0.9 0.45 0.2)",orange10:"color(display-p3 0.98 0.51 0.23)",orange11:"color(display-p3 1 0.63 0.38)",orange12:"color(display-p3 0.98 0.883 0.775)"},orangeDarkP3A={orangeA1:"color(display-p3 0.961 0.247 0 / 0.022)",orangeA2:"color(display-p3 0.992 0.529 0 / 0.051)",orangeA3:"color(display-p3 0.996 0.486 0 / 0.131)",orangeA4:"color(display-p3 0.996 0.384 0 / 0.211)",orangeA5:"color(display-p3 1 0.455 0 / 0.265)",orangeA6:"color(display-p3 1 0.529 0.129 / 0.332)",orangeA7:"color(display-p3 1 0.569 0.251 / 0.429)",orangeA8:"color(display-p3 1 0.584 0.302 / 0.572)",orangeA9:"color(display-p3 1 0.494 0.216 / 0.895)",orangeA10:"color(display-p3 1 0.522 0.235 / 0.979)",orangeA11:"color(display-p3 1 0.63 0.38)",orangeA12:"color(display-p3 0.98 0.883 0.775)"},gray={gray1:"#fcfcfc",gray2:"#f9f9f9",gray3:"#f0f0f0",gray4:"#e8e8e8",gray5:"#e0e0e0",gray6:"#d9d9d9",gray7:"#cecece",gray8:"#bbbbbb",gray9:"#8d8d8d",gray10:"#838383",gray11:"#646464",gray12:"#202020"},grayA={grayA1:"#00000003",grayA2:"#00000006",grayA3:"#0000000f",grayA4:"#00000017",grayA5:"#0000001f",grayA6:"#00000026",grayA7:"#00000031",grayA8:"#00000044",grayA9:"#00000072",grayA10:"#0000007c",grayA11:"#0000009b",grayA12:"#000000df"},grayP3={gray1:"color(display-p3 0.988 0.988 0.988)",gray2:"color(display-p3 0.975 0.975 0.975)",gray3:"color(display-p3 0.939 0.939 0.939)",gray4:"color(display-p3 0.908 0.908 0.908)",gray5:"color(display-p3 0.88 0.88 0.88)",gray6:"color(display-p3 0.849 0.849 0.849)",gray7:"color(display-p3 0.807 0.807 0.807)",gray8:"color(display-p3 0.732 0.732 0.732)",gray9:"color(display-p3 0.553 0.553 0.553)",gray10:"color(display-p3 0.512 0.512 0.512)",gray11:"color(display-p3 0.392 0.392 0.392)",gray12:"color(display-p3 0.125 0.125 0.125)"},grayP3A={grayA1:"color(display-p3 0 0 0 / 0.012)",grayA2:"color(display-p3 0 0 0 / 0.024)",grayA3:"color(display-p3 0 0 0 / 0.063)",grayA4:"color(display-p3 0 0 0 / 0.09)",grayA5:"color(display-p3 0 0 0 / 0.122)",grayA6:"color(display-p3 0 0 0 / 0.153)",grayA7:"color(display-p3 0 0 0 / 0.192)",grayA8:"color(display-p3 0 0 0 / 0.267)",grayA9:"color(display-p3 0 0 0 / 0.447)",grayA10:"color(display-p3 0 0 0 / 0.486)",grayA11:"color(display-p3 0 0 0 / 0.608)",grayA12:"color(display-p3 0 0 0 / 0.875)"},mauve={mauve1:"#fdfcfd",mauve2:"#faf9fb",mauve3:"#f2eff3",mauve4:"#eae7ec",mauve5:"#e3dfe6",mauve6:"#dbd8e0",mauve7:"#d0cdd7",mauve8:"#bcbac7",mauve9:"#8e8c99",mauve10:"#84828e",mauve11:"#65636d",mauve12:"#211f26"},mauveA={mauveA1:"#55005503",mauveA2:"#2b005506",mauveA3:"#30004010",mauveA4:"#20003618",mauveA5:"#20003820",mauveA6:"#14003527",mauveA7:"#10003332",mauveA8:"#08003145",mauveA9:"#05001d73",mauveA10:"#0500197d",mauveA11:"#0400119c",mauveA12:"#020008e0"},mauveP3={mauve1:"color(display-p3 0.991 0.988 0.992)",mauve2:"color(display-p3 0.98 0.976 0.984)",mauve3:"color(display-p3 0.946 0.938 0.952)",mauve4:"color(display-p3 0.915 0.906 0.925)",mauve5:"color(display-p3 0.886 0.876 0.901)",mauve6:"color(display-p3 0.856 0.846 0.875)",mauve7:"color(display-p3 0.814 0.804 0.84)",mauve8:"color(display-p3 0.735 0.728 0.777)",mauve9:"color(display-p3 0.555 0.549 0.596)",mauve10:"color(display-p3 0.514 0.508 0.552)",mauve11:"color(display-p3 0.395 0.388 0.424)",mauve12:"color(display-p3 0.128 0.122 0.147)"},mauveP3A={mauveA1:"color(display-p3 0.349 0.024 0.349 / 0.012)",mauveA2:"color(display-p3 0.184 0.024 0.349 / 0.024)",mauveA3:"color(display-p3 0.129 0.008 0.255 / 0.063)",mauveA4:"color(display-p3 0.094 0.012 0.216 / 0.095)",mauveA5:"color(display-p3 0.098 0.008 0.224 / 0.126)",mauveA6:"color(display-p3 0.055 0.004 0.18 / 0.153)",mauveA7:"color(display-p3 0.067 0.008 0.184 / 0.197)",mauveA8:"color(display-p3 0.02 0.004 0.176 / 0.271)",mauveA9:"color(display-p3 0.02 0.004 0.106 / 0.451)",mauveA10:"color(display-p3 0.012 0.004 0.09 / 0.491)",mauveA11:"color(display-p3 0.016 0 0.059 / 0.612)",mauveA12:"color(display-p3 0.008 0 0.027 / 0.879)"},slate={slate1:"#fcfcfd",slate2:"#f9f9fb",slate3:"#f0f0f3",slate4:"#e8e8ec",slate5:"#e0e1e6",slate6:"#d9d9e0",slate7:"#cdced6",slate8:"#b9bbc6",slate9:"#8b8d98",slate10:"#80838d",slate11:"#60646c",slate12:"#1c2024"},slateA={slateA1:"#00005503",slateA2:"#00005506",slateA3:"#0000330f",slateA4:"#00002d17",slateA5:"#0009321f",slateA6:"#00002f26",slateA7:"#00062e32",slateA8:"#00083046",slateA9:"#00051d74",slateA10:"#00071b7f",slateA11:"#0007149f",slateA12:"#000509e3"},slateP3={slate1:"color(display-p3 0.988 0.988 0.992)",slate2:"color(display-p3 0.976 0.976 0.984)",slate3:"color(display-p3 0.94 0.941 0.953)",slate4:"color(display-p3 0.908 0.909 0.925)",slate5:"color(display-p3 0.88 0.881 0.901)",slate6:"color(display-p3 0.85 0.852 0.876)",slate7:"color(display-p3 0.805 0.808 0.838)",slate8:"color(display-p3 0.727 0.733 0.773)",slate9:"color(display-p3 0.547 0.553 0.592)",slate10:"color(display-p3 0.503 0.512 0.549)",slate11:"color(display-p3 0.379 0.392 0.421)",slate12:"color(display-p3 0.113 0.125 0.14)"},slateP3A={slateA1:"color(display-p3 0.024 0.024 0.349 / 0.012)",slateA2:"color(display-p3 0.024 0.024 0.349 / 0.024)",slateA3:"color(display-p3 0.004 0.004 0.204 / 0.059)",slateA4:"color(display-p3 0.012 0.012 0.184 / 0.091)",slateA5:"color(display-p3 0.004 0.039 0.2 / 0.122)",slateA6:"color(display-p3 0.008 0.008 0.165 / 0.15)",slateA7:"color(display-p3 0.008 0.027 0.184 / 0.197)",slateA8:"color(display-p3 0.004 0.031 0.176 / 0.275)",slateA9:"color(display-p3 0.004 0.02 0.106 / 0.455)",slateA10:"color(display-p3 0.004 0.027 0.098 / 0.499)",slateA11:"color(display-p3 0 0.02 0.063 / 0.62)",slateA12:"color(display-p3 0 0.012 0.031 / 0.887)"},sage={sage1:"#fbfdfc",sage2:"#f7f9f8",sage3:"#eef1f0",sage4:"#e6e9e8",sage5:"#dfe2e0",sage6:"#d7dad9",sage7:"#cbcfcd",sage8:"#b8bcba",sage9:"#868e8b",sage10:"#7c8481",sage11:"#5f6563",sage12:"#1a211e"},sageA={sageA1:"#00804004",sageA2:"#00402008",sageA3:"#002d1e11",sageA4:"#001f1519",sageA5:"#00180820",sageA6:"#00140d28",sageA7:"#00140a34",sageA8:"#000f0847",sageA9:"#00110b79",sageA10:"#00100a83",sageA11:"#000a07a0",sageA12:"#000805e5"},sageP3={sage1:"color(display-p3 0.986 0.992 0.988)",sage2:"color(display-p3 0.97 0.977 0.974)",sage3:"color(display-p3 0.935 0.944 0.94)",sage4:"color(display-p3 0.904 0.913 0.909)",sage5:"color(display-p3 0.875 0.885 0.88)",sage6:"color(display-p3 0.844 0.854 0.849)",sage7:"color(display-p3 0.8 0.811 0.806)",sage8:"color(display-p3 0.725 0.738 0.732)",sage9:"color(display-p3 0.531 0.556 0.546)",sage10:"color(display-p3 0.492 0.515 0.506)",sage11:"color(display-p3 0.377 0.395 0.389)",sage12:"color(display-p3 0.107 0.129 0.118)"},sageP3A={sageA1:"color(display-p3 0.024 0.514 0.267 / 0.016)",sageA2:"color(display-p3 0.02 0.267 0.145 / 0.032)",sageA3:"color(display-p3 0.008 0.184 0.125 / 0.067)",sageA4:"color(display-p3 0.012 0.094 0.051 / 0.095)",sageA5:"color(display-p3 0.008 0.098 0.035 / 0.126)",sageA6:"color(display-p3 0.004 0.078 0.027 / 0.157)",sageA7:"color(display-p3 0 0.059 0.039 / 0.2)",sageA8:"color(display-p3 0.004 0.047 0.031 / 0.275)",sageA9:"color(display-p3 0.004 0.059 0.035 / 0.471)",sageA10:"color(display-p3 0 0.047 0.031 / 0.51)",sageA11:"color(display-p3 0 0.031 0.02 / 0.624)",sageA12:"color(display-p3 0 0.027 0.012 / 0.895)"},olive={olive1:"#fcfdfc",olive2:"#f8faf8",olive3:"#eff1ef",olive4:"#e7e9e7",olive5:"#dfe2df",olive6:"#d7dad7",olive7:"#cccfcc",olive8:"#b9bcb8",olive9:"#898e87",olive10:"#7f847d",olive11:"#60655f",olive12:"#1d211c"},oliveA={oliveA1:"#00550003",oliveA2:"#00490007",oliveA3:"#00200010",oliveA4:"#00160018",oliveA5:"#00180020",oliveA6:"#00140028",oliveA7:"#000f0033",oliveA8:"#040f0047",oliveA9:"#050f0078",oliveA10:"#040e0082",oliveA11:"#020a00a0",oliveA12:"#010600e3"},oliveP3={olive1:"color(display-p3 0.989 0.992 0.989)",olive2:"color(display-p3 0.974 0.98 0.973)",olive3:"color(display-p3 0.939 0.945 0.937)",olive4:"color(display-p3 0.907 0.914 0.905)",olive5:"color(display-p3 0.878 0.885 0.875)",olive6:"color(display-p3 0.846 0.855 0.843)",olive7:"color(display-p3 0.803 0.812 0.8)",olive8:"color(display-p3 0.727 0.738 0.723)",olive9:"color(display-p3 0.541 0.556 0.532)",olive10:"color(display-p3 0.5 0.515 0.491)",olive11:"color(display-p3 0.38 0.395 0.374)",olive12:"color(display-p3 0.117 0.129 0.111)"},oliveP3A={oliveA1:"color(display-p3 0.024 0.349 0.024 / 0.012)",oliveA2:"color(display-p3 0.024 0.302 0.024 / 0.028)",oliveA3:"color(display-p3 0.008 0.129 0.008 / 0.063)",oliveA4:"color(display-p3 0.012 0.094 0.012 / 0.095)",oliveA5:"color(display-p3 0.035 0.098 0.008 / 0.126)",oliveA6:"color(display-p3 0.027 0.078 0.004 / 0.157)",oliveA7:"color(display-p3 0.02 0.059 0 / 0.2)",oliveA8:"color(display-p3 0.02 0.059 0.004 / 0.279)",oliveA9:"color(display-p3 0.02 0.051 0.004 / 0.467)",oliveA10:"color(display-p3 0.024 0.047 0 / 0.51)",oliveA11:"color(display-p3 0.012 0.039 0 / 0.628)",oliveA12:"color(display-p3 0.008 0.024 0 / 0.891)"},sand={sand1:"#fdfdfc",sand2:"#f9f9f8",sand3:"#f1f0ef",sand4:"#e9e8e6",sand5:"#e2e1de",sand6:"#dad9d6",sand7:"#cfceca",sand8:"#bcbbb5",sand9:"#8d8d86",sand10:"#82827c",sand11:"#63635e",sand12:"#21201c"},sandA={sandA1:"#55550003",sandA2:"#25250007",sandA3:"#20100010",sandA4:"#1f150019",sandA5:"#1f180021",sandA6:"#19130029",sandA7:"#19140035",sandA8:"#1915014a",sandA9:"#0f0f0079",sandA10:"#0c0c0083",sandA11:"#080800a1",sandA12:"#060500e3"},sandP3={sand1:"color(display-p3 0.992 0.992 0.989)",sand2:"color(display-p3 0.977 0.977 0.973)",sand3:"color(display-p3 0.943 0.942 0.936)",sand4:"color(display-p3 0.913 0.912 0.903)",sand5:"color(display-p3 0.885 0.883 0.873)",sand6:"color(display-p3 0.854 0.852 0.839)",sand7:"color(display-p3 0.813 0.81 0.794)",sand8:"color(display-p3 0.738 0.734 0.713)",sand9:"color(display-p3 0.553 0.553 0.528)",sand10:"color(display-p3 0.511 0.511 0.488)",sand11:"color(display-p3 0.388 0.388 0.37)",sand12:"color(display-p3 0.129 0.126 0.111)"},sandP3A={sandA1:"color(display-p3 0.349 0.349 0.024 / 0.012)",sandA2:"color(display-p3 0.161 0.161 0.024 / 0.028)",sandA3:"color(display-p3 0.067 0.067 0.008 / 0.063)",sandA4:"color(display-p3 0.129 0.129 0.012 / 0.099)",sandA5:"color(display-p3 0.098 0.067 0.008 / 0.126)",sandA6:"color(display-p3 0.102 0.075 0.004 / 0.161)",sandA7:"color(display-p3 0.098 0.098 0.004 / 0.208)",sandA8:"color(display-p3 0.086 0.075 0.004 / 0.287)",sandA9:"color(display-p3 0.051 0.051 0.004 / 0.471)",sandA10:"color(display-p3 0.047 0.047 0 / 0.514)",sandA11:"color(display-p3 0.031 0.031 0 / 0.632)",sandA12:"color(display-p3 0.024 0.02 0 / 0.891)"},tomato={tomato1:"#fffcfc",tomato2:"#fff8f7",tomato3:"#feebe7",tomato4:"#ffdcd3",tomato5:"#ffcdc2",tomato6:"#fdbdaf",tomato7:"#f5a898",tomato8:"#ec8e7b",tomato9:"#e54d2e",tomato10:"#dd4425",tomato11:"#d13415",tomato12:"#5c271f"},tomatoA={tomatoA1:"#ff000003",tomatoA2:"#ff200008",tomatoA3:"#f52b0018",tomatoA4:"#ff35002c",tomatoA5:"#ff2e003d",tomatoA6:"#f92d0050",tomatoA7:"#e7280067",tomatoA8:"#db250084",tomatoA9:"#df2600d1",tomatoA10:"#d72400da",tomatoA11:"#cd2200ea",tomatoA12:"#460900e0"},tomatoP3={tomato1:"color(display-p3 0.998 0.989 0.988)",tomato2:"color(display-p3 0.994 0.974 0.969)",tomato3:"color(display-p3 0.985 0.924 0.909)",tomato4:"color(display-p3 0.996 0.868 0.835)",tomato5:"color(display-p3 0.98 0.812 0.77)",tomato6:"color(display-p3 0.953 0.75 0.698)",tomato7:"color(display-p3 0.917 0.673 0.611)",tomato8:"color(display-p3 0.875 0.575 0.502)",tomato9:"color(display-p3 0.831 0.345 0.231)",tomato10:"color(display-p3 0.802 0.313 0.2)",tomato11:"color(display-p3 0.755 0.259 0.152)",tomato12:"color(display-p3 0.335 0.165 0.132)"},tomatoP3A={tomatoA1:"color(display-p3 0.675 0.024 0.024 / 0.012)",tomatoA2:"color(display-p3 0.757 0.145 0.02 / 0.032)",tomatoA3:"color(display-p3 0.831 0.184 0.012 / 0.091)",tomatoA4:"color(display-p3 0.976 0.192 0.004 / 0.165)",tomatoA5:"color(display-p3 0.918 0.192 0.004 / 0.232)",tomatoA6:"color(display-p3 0.847 0.173 0.004 / 0.302)",tomatoA7:"color(display-p3 0.788 0.165 0.004 / 0.389)",tomatoA8:"color(display-p3 0.749 0.153 0.004 / 0.499)",tomatoA9:"color(display-p3 0.78 0.149 0 / 0.769)",tomatoA10:"color(display-p3 0.757 0.141 0 / 0.8)",tomatoA11:"color(display-p3 0.755 0.259 0.152)",tomatoA12:"color(display-p3 0.335 0.165 0.132)"},red={red1:"#fffcfc",red2:"#fff7f7",red3:"#feebec",red4:"#ffdbdc",red5:"#ffcdce",red6:"#fdbdbe",red7:"#f4a9aa",red8:"#eb8e90",red9:"#e5484d",red10:"#dc3e42",red11:"#ce2c31",red12:"#641723"},redA={redA1:"#ff000003",redA2:"#ff000008",redA3:"#f3000d14",redA4:"#ff000824",redA5:"#ff000632",redA6:"#f8000442",redA7:"#df000356",redA8:"#d2000571",redA9:"#db0007b7",redA10:"#d10005c1",redA11:"#c40006d3",redA12:"#55000de8"},redP3={red1:"color(display-p3 0.998 0.989 0.988)",red2:"color(display-p3 0.995 0.971 0.971)",red3:"color(display-p3 0.985 0.925 0.925)",red4:"color(display-p3 0.999 0.866 0.866)",red5:"color(display-p3 0.984 0.812 0.811)",red6:"color(display-p3 0.955 0.751 0.749)",red7:"color(display-p3 0.915 0.675 0.672)",red8:"color(display-p3 0.872 0.575 0.572)",red9:"color(display-p3 0.83 0.329 0.324)",red10:"color(display-p3 0.798 0.294 0.285)",red11:"color(display-p3 0.744 0.234 0.222)",red12:"color(display-p3 0.36 0.115 0.143)"},redP3A={redA1:"color(display-p3 0.675 0.024 0.024 / 0.012)",redA2:"color(display-p3 0.863 0.024 0.024 / 0.028)",redA3:"color(display-p3 0.792 0.008 0.008 / 0.075)",redA4:"color(display-p3 1 0.008 0.008 / 0.134)",redA5:"color(display-p3 0.918 0.008 0.008 / 0.189)",redA6:"color(display-p3 0.831 0.02 0.004 / 0.251)",redA7:"color(display-p3 0.741 0.016 0.004 / 0.33)",redA8:"color(display-p3 0.698 0.012 0.004 / 0.428)",redA9:"color(display-p3 0.749 0.008 0 / 0.675)",redA10:"color(display-p3 0.714 0.012 0 / 0.714)",redA11:"color(display-p3 0.744 0.234 0.222)",redA12:"color(display-p3 0.36 0.115 0.143)"},ruby={ruby1:"#fffcfd",ruby2:"#fff7f8",ruby3:"#feeaed",ruby4:"#ffdce1",ruby5:"#ffced6",ruby6:"#f8bfc8",ruby7:"#efacb8",ruby8:"#e592a3",ruby9:"#e54666",ruby10:"#dc3b5d",ruby11:"#ca244d",ruby12:"#64172b"},rubyA={rubyA1:"#ff005503",rubyA2:"#ff002008",rubyA3:"#f3002515",rubyA4:"#ff002523",rubyA5:"#ff002a31",rubyA6:"#e4002440",rubyA7:"#ce002553",rubyA8:"#c300286d",rubyA9:"#db002cb9",rubyA10:"#d2002cc4",rubyA11:"#c10030db",rubyA12:"#550016e8"},rubyP3={ruby1:"color(display-p3 0.998 0.989 0.992)",ruby2:"color(display-p3 0.995 0.971 0.974)",ruby3:"color(display-p3 0.983 0.92 0.928)",ruby4:"color(display-p3 0.987 0.869 0.885)",ruby5:"color(display-p3 0.968 0.817 0.839)",ruby6:"color(display-p3 0.937 0.758 0.786)",ruby7:"color(display-p3 0.897 0.685 0.721)",ruby8:"color(display-p3 0.851 0.588 0.639)",ruby9:"color(display-p3 0.83 0.323 0.408)",ruby10:"color(display-p3 0.795 0.286 0.375)",ruby11:"color(display-p3 0.728 0.211 0.311)",ruby12:"color(display-p3 0.36 0.115 0.171)"},rubyP3A={rubyA1:"color(display-p3 0.675 0.024 0.349 / 0.012)",rubyA2:"color(display-p3 0.863 0.024 0.024 / 0.028)",rubyA3:"color(display-p3 0.804 0.008 0.11 / 0.079)",rubyA4:"color(display-p3 0.91 0.008 0.125 / 0.13)",rubyA5:"color(display-p3 0.831 0.004 0.133 / 0.185)",rubyA6:"color(display-p3 0.745 0.004 0.118 / 0.244)",rubyA7:"color(display-p3 0.678 0.004 0.114 / 0.314)",rubyA8:"color(display-p3 0.639 0.004 0.125 / 0.412)",rubyA9:"color(display-p3 0.753 0 0.129 / 0.679)",rubyA10:"color(display-p3 0.714 0 0.125 / 0.714)",rubyA11:"color(display-p3 0.728 0.211 0.311)",rubyA12:"color(display-p3 0.36 0.115 0.171)"},crimson={crimson1:"#fffcfd",crimson2:"#fef7f9",crimson3:"#ffe9f0",crimson4:"#fedce7",crimson5:"#facedd",crimson6:"#f3bed1",crimson7:"#eaacc3",crimson8:"#e093b2",crimson9:"#e93d82",crimson10:"#df3478",crimson11:"#cb1d63",crimson12:"#621639"},crimsonA={crimsonA1:"#ff005503",crimsonA2:"#e0004008",crimsonA3:"#ff005216",crimsonA4:"#f8005123",crimsonA5:"#e5004f31",crimsonA6:"#d0004b41",crimsonA7:"#bf004753",crimsonA8:"#b6004a6c",crimsonA9:"#e2005bc2",crimsonA10:"#d70056cb",crimsonA11:"#c4004fe2",crimsonA12:"#530026e9"},crimsonP3={crimson1:"color(display-p3 0.998 0.989 0.992)",crimson2:"color(display-p3 0.991 0.969 0.976)",crimson3:"color(display-p3 0.987 0.917 0.941)",crimson4:"color(display-p3 0.975 0.866 0.904)",crimson5:"color(display-p3 0.953 0.813 0.864)",crimson6:"color(display-p3 0.921 0.755 0.817)",crimson7:"color(display-p3 0.88 0.683 0.761)",crimson8:"color(display-p3 0.834 0.592 0.694)",crimson9:"color(display-p3 0.843 0.298 0.507)",crimson10:"color(display-p3 0.807 0.266 0.468)",crimson11:"color(display-p3 0.731 0.195 0.388)",crimson12:"color(display-p3 0.352 0.111 0.221)"},crimsonP3A={crimsonA1:"color(display-p3 0.675 0.024 0.349 / 0.012)",crimsonA2:"color(display-p3 0.757 0.02 0.267 / 0.032)",crimsonA3:"color(display-p3 0.859 0.008 0.294 / 0.083)",crimsonA4:"color(display-p3 0.827 0.008 0.298 / 0.134)",crimsonA5:"color(display-p3 0.753 0.008 0.275 / 0.189)",crimsonA6:"color(display-p3 0.682 0.004 0.247 / 0.244)",crimsonA7:"color(display-p3 0.62 0.004 0.251 / 0.318)",crimsonA8:"color(display-p3 0.6 0.004 0.251 / 0.408)",crimsonA9:"color(display-p3 0.776 0 0.298 / 0.702)",crimsonA10:"color(display-p3 0.737 0 0.275 / 0.734)",crimsonA11:"color(display-p3 0.731 0.195 0.388)",crimsonA12:"color(display-p3 0.352 0.111 0.221)"},pink={pink1:"#fffcfe",pink2:"#fef7fb",pink3:"#fee9f5",pink4:"#fbdcef",pink5:"#f6cee7",pink6:"#efbfdd",pink7:"#e7acd0",pink8:"#dd93c2",pink9:"#d6409f",pink10:"#cf3897",pink11:"#c2298a",pink12:"#651249"},pinkA={pinkA1:"#ff00aa03",pinkA2:"#e0008008",pinkA3:"#f4008c16",pinkA4:"#e2008b23",pinkA5:"#d1008331",pinkA6:"#c0007840",pinkA7:"#b6006f53",pinkA8:"#af006f6c",pinkA9:"#c8007fbf",pinkA10:"#c2007ac7",pinkA11:"#b60074d6",pinkA12:"#59003bed"},pinkP3={pink1:"color(display-p3 0.998 0.989 0.996)",pink2:"color(display-p3 0.992 0.97 0.985)",pink3:"color(display-p3 0.981 0.917 0.96)",pink4:"color(display-p3 0.963 0.867 0.932)",pink5:"color(display-p3 0.939 0.815 0.899)",pink6:"color(display-p3 0.907 0.756 0.859)",pink7:"color(display-p3 0.869 0.683 0.81)",pink8:"color(display-p3 0.825 0.59 0.751)",pink9:"color(display-p3 0.775 0.297 0.61)",pink10:"color(display-p3 0.748 0.27 0.581)",pink11:"color(display-p3 0.698 0.219 0.528)",pink12:"color(display-p3 0.363 0.101 0.279)"},pinkP3A={pinkA1:"color(display-p3 0.675 0.024 0.675 / 0.012)",pinkA2:"color(display-p3 0.757 0.02 0.51 / 0.032)",pinkA3:"color(display-p3 0.765 0.008 0.529 / 0.083)",pinkA4:"color(display-p3 0.737 0.008 0.506 / 0.134)",pinkA5:"color(display-p3 0.663 0.004 0.451 / 0.185)",pinkA6:"color(display-p3 0.616 0.004 0.424 / 0.244)",pinkA7:"color(display-p3 0.596 0.004 0.412 / 0.318)",pinkA8:"color(display-p3 0.573 0.004 0.404 / 0.412)",pinkA9:"color(display-p3 0.682 0 0.447 / 0.702)",pinkA10:"color(display-p3 0.655 0 0.424 / 0.73)",pinkA11:"color(display-p3 0.698 0.219 0.528)",pinkA12:"color(display-p3 0.363 0.101 0.279)"},plum={plum1:"#fefcff",plum2:"#fdf7fd",plum3:"#fbebfb",plum4:"#f7def8",plum5:"#f2d1f3",plum6:"#e9c2ec",plum7:"#deade3",plum8:"#cf91d8",plum9:"#ab4aba",plum10:"#a144af",plum11:"#953ea3",plum12:"#53195d"},plumA={plumA1:"#aa00ff03",plumA2:"#c000c008",plumA3:"#cc00cc14",plumA4:"#c200c921",plumA5:"#b700bd2e",plumA6:"#a400b03d",plumA7:"#9900a852",plumA8:"#9000a56e",plumA9:"#89009eb5",plumA10:"#7f0092bb",plumA11:"#730086c1",plumA12:"#40004be6"},plumP3={plum1:"color(display-p3 0.995 0.988 0.999)",plum2:"color(display-p3 0.988 0.971 0.99)",plum3:"color(display-p3 0.973 0.923 0.98)",plum4:"color(display-p3 0.953 0.875 0.966)",plum5:"color(display-p3 0.926 0.825 0.945)",plum6:"color(display-p3 0.89 0.765 0.916)",plum7:"color(display-p3 0.84 0.686 0.877)",plum8:"color(display-p3 0.775 0.58 0.832)",plum9:"color(display-p3 0.624 0.313 0.708)",plum10:"color(display-p3 0.587 0.29 0.667)",plum11:"color(display-p3 0.543 0.263 0.619)",plum12:"color(display-p3 0.299 0.114 0.352)"},plumP3A={plumA1:"color(display-p3 0.675 0.024 1 / 0.012)",plumA2:"color(display-p3 0.58 0.024 0.58 / 0.028)",plumA3:"color(display-p3 0.655 0.008 0.753 / 0.079)",plumA4:"color(display-p3 0.627 0.008 0.722 / 0.126)",plumA5:"color(display-p3 0.58 0.004 0.69 / 0.177)",plumA6:"color(display-p3 0.537 0.004 0.655 / 0.236)",plumA7:"color(display-p3 0.49 0.004 0.616 / 0.314)",plumA8:"color(display-p3 0.471 0.004 0.6 / 0.42)",plumA9:"color(display-p3 0.451 0 0.576 / 0.687)",plumA10:"color(display-p3 0.42 0 0.529 / 0.71)",plumA11:"color(display-p3 0.543 0.263 0.619)",plumA12:"color(display-p3 0.299 0.114 0.352)"},purple={purple1:"#fefcfe",purple2:"#fbf7fe",purple3:"#f7edfe",purple4:"#f2e2fc",purple5:"#ead5f9",purple6:"#e0c4f4",purple7:"#d1afec",purple8:"#be93e4",purple9:"#8e4ec6",purple10:"#8347b9",purple11:"#8145b5",purple12:"#402060"},purpleA={purpleA1:"#aa00aa03",purpleA2:"#8000e008",purpleA3:"#8e00f112",purpleA4:"#8d00e51d",purpleA5:"#8000db2a",purpleA6:"#7a01d03b",purpleA7:"#6d00c350",purpleA8:"#6600c06c",purpleA9:"#5c00adb1",purpleA10:"#53009eb8",purpleA11:"#52009aba",purpleA12:"#250049df"},purpleP3={purple1:"color(display-p3 0.995 0.988 0.996)",purple2:"color(display-p3 0.983 0.971 0.993)",purple3:"color(display-p3 0.963 0.931 0.989)",purple4:"color(display-p3 0.937 0.888 0.981)",purple5:"color(display-p3 0.904 0.837 0.966)",purple6:"color(display-p3 0.86 0.774 0.942)",purple7:"color(display-p3 0.799 0.69 0.91)",purple8:"color(display-p3 0.719 0.583 0.874)",purple9:"color(display-p3 0.523 0.318 0.751)",purple10:"color(display-p3 0.483 0.289 0.7)",purple11:"color(display-p3 0.473 0.281 0.687)",purple12:"color(display-p3 0.234 0.132 0.363)"},purpleP3A={purpleA1:"color(display-p3 0.675 0.024 0.675 / 0.012)",purpleA2:"color(display-p3 0.443 0.024 0.722 / 0.028)",purpleA3:"color(display-p3 0.506 0.008 0.835 / 0.071)",purpleA4:"color(display-p3 0.451 0.004 0.831 / 0.114)",purpleA5:"color(display-p3 0.431 0.004 0.788 / 0.165)",purpleA6:"color(display-p3 0.384 0.004 0.745 / 0.228)",purpleA7:"color(display-p3 0.357 0.004 0.71 / 0.31)",purpleA8:"color(display-p3 0.322 0.004 0.702 / 0.416)",purpleA9:"color(display-p3 0.298 0 0.639 / 0.683)",purpleA10:"color(display-p3 0.271 0 0.58 / 0.71)",purpleA11:"color(display-p3 0.473 0.281 0.687)",purpleA12:"color(display-p3 0.234 0.132 0.363)"},violet={violet1:"#fdfcfe",violet2:"#faf8ff",violet3:"#f4f0fe",violet4:"#ebe4ff",violet5:"#e1d9ff",violet6:"#d4cafe",violet7:"#c2b5f5",violet8:"#aa99ec",violet9:"#6e56cf",violet10:"#654dc4",violet11:"#6550b9",violet12:"#2f265f"},violetA={violetA1:"#5500aa03",violetA2:"#4900ff07",violetA3:"#4400ee0f",violetA4:"#4300ff1b",violetA5:"#3600ff26",violetA6:"#3100fb35",violetA7:"#2d01dd4a",violetA8:"#2b00d066",violetA9:"#2400b7a9",violetA10:"#2300abb2",violetA11:"#1f0099af",violetA12:"#0b0043d9"},violetP3={violet1:"color(display-p3 0.991 0.988 0.995)",violet2:"color(display-p3 0.978 0.974 0.998)",violet3:"color(display-p3 0.953 0.943 0.993)",violet4:"color(display-p3 0.916 0.897 1)",violet5:"color(display-p3 0.876 0.851 1)",violet6:"color(display-p3 0.825 0.793 0.981)",violet7:"color(display-p3 0.752 0.712 0.943)",violet8:"color(display-p3 0.654 0.602 0.902)",violet9:"color(display-p3 0.417 0.341 0.784)",violet10:"color(display-p3 0.381 0.306 0.741)",violet11:"color(display-p3 0.383 0.317 0.702)",violet12:"color(display-p3 0.179 0.15 0.359)"},violetP3A={violetA1:"color(display-p3 0.349 0.024 0.675 / 0.012)",violetA2:"color(display-p3 0.161 0.024 0.863 / 0.028)",violetA3:"color(display-p3 0.204 0.004 0.871 / 0.059)",violetA4:"color(display-p3 0.196 0.004 1 / 0.102)",violetA5:"color(display-p3 0.165 0.008 1 / 0.15)",violetA6:"color(display-p3 0.153 0.004 0.906 / 0.208)",violetA7:"color(display-p3 0.141 0.004 0.796 / 0.287)",violetA8:"color(display-p3 0.133 0.004 0.753 / 0.397)",violetA9:"color(display-p3 0.114 0 0.675 / 0.659)",violetA10:"color(display-p3 0.11 0 0.627 / 0.695)",violetA11:"color(display-p3 0.383 0.317 0.702)",violetA12:"color(display-p3 0.179 0.15 0.359)"},iris={iris1:"#fdfdff",iris2:"#f8f8ff",iris3:"#f0f1fe",iris4:"#e6e7ff",iris5:"#dadcff",iris6:"#cbcdff",iris7:"#b8baf8",iris8:"#9b9ef0",iris9:"#5b5bd6",iris10:"#5151cd",iris11:"#5753c6",iris12:"#272962"},irisA={irisA1:"#0000ff02",irisA2:"#0000ff07",irisA3:"#0011ee0f",irisA4:"#000bff19",irisA5:"#000eff25",irisA6:"#000aff34",irisA7:"#0008e647",irisA8:"#0008d964",irisA9:"#0000c0a4",irisA10:"#0000b6ae",irisA11:"#0600abac",irisA12:"#000246d8"},irisP3={iris1:"color(display-p3 0.992 0.992 0.999)",iris2:"color(display-p3 0.972 0.973 0.998)",iris3:"color(display-p3 0.943 0.945 0.992)",iris4:"color(display-p3 0.902 0.906 1)",iris5:"color(display-p3 0.857 0.861 1)",iris6:"color(display-p3 0.799 0.805 0.987)",iris7:"color(display-p3 0.721 0.727 0.955)",iris8:"color(display-p3 0.61 0.619 0.918)",iris9:"color(display-p3 0.357 0.357 0.81)",iris10:"color(display-p3 0.318 0.318 0.774)",iris11:"color(display-p3 0.337 0.326 0.748)",iris12:"color(display-p3 0.154 0.161 0.371)"},irisP3A={irisA1:"color(display-p3 0.02 0.02 1 / 0.008)",irisA2:"color(display-p3 0.024 0.024 0.863 / 0.028)",irisA3:"color(display-p3 0.004 0.071 0.871 / 0.059)",irisA4:"color(display-p3 0.012 0.051 1 / 0.099)",irisA5:"color(display-p3 0.008 0.035 1 / 0.142)",irisA6:"color(display-p3 0 0.02 0.941 / 0.2)",irisA7:"color(display-p3 0.004 0.02 0.847 / 0.279)",irisA8:"color(display-p3 0.004 0.024 0.788 / 0.389)",irisA9:"color(display-p3 0 0 0.706 / 0.644)",irisA10:"color(display-p3 0 0 0.667 / 0.683)",irisA11:"color(display-p3 0.337 0.326 0.748)",irisA12:"color(display-p3 0.154 0.161 0.371)"},indigo={indigo1:"#fdfdfe",indigo2:"#f7f9ff",indigo3:"#edf2fe",indigo4:"#e1e9ff",indigo5:"#d2deff",indigo6:"#c1d0ff",indigo7:"#abbdf9",indigo8:"#8da4ef",indigo9:"#3e63dd",indigo10:"#3358d4",indigo11:"#3a5bc7",indigo12:"#1f2d5c"},indigoA={indigoA1:"#00008002",indigoA2:"#0040ff08",indigoA3:"#0047f112",indigoA4:"#0044ff1e",indigoA5:"#0044ff2d",indigoA6:"#003eff3e",indigoA7:"#0037ed54",indigoA8:"#0034dc72",indigoA9:"#0031d2c1",indigoA10:"#002ec9cc",indigoA11:"#002bb7c5",indigoA12:"#001046e0"},indigoP3={indigo1:"color(display-p3 0.992 0.992 0.996)",indigo2:"color(display-p3 0.971 0.977 0.998)",indigo3:"color(display-p3 0.933 0.948 0.992)",indigo4:"color(display-p3 0.885 0.914 1)",indigo5:"color(display-p3 0.831 0.87 1)",indigo6:"color(display-p3 0.767 0.814 0.995)",indigo7:"color(display-p3 0.685 0.74 0.957)",indigo8:"color(display-p3 0.569 0.639 0.916)",indigo9:"color(display-p3 0.276 0.384 0.837)",indigo10:"color(display-p3 0.234 0.343 0.801)",indigo11:"color(display-p3 0.256 0.354 0.755)",indigo12:"color(display-p3 0.133 0.175 0.348)"},indigoP3A={indigoA1:"color(display-p3 0.02 0.02 0.51 / 0.008)",indigoA2:"color(display-p3 0.024 0.161 0.863 / 0.028)",indigoA3:"color(display-p3 0.008 0.239 0.886 / 0.067)",indigoA4:"color(display-p3 0.004 0.247 1 / 0.114)",indigoA5:"color(display-p3 0.004 0.235 1 / 0.169)",indigoA6:"color(display-p3 0.004 0.208 0.984 / 0.232)",indigoA7:"color(display-p3 0.004 0.176 0.863 / 0.314)",indigoA8:"color(display-p3 0.004 0.165 0.812 / 0.432)",indigoA9:"color(display-p3 0 0.153 0.773 / 0.726)",indigoA10:"color(display-p3 0 0.137 0.737 / 0.765)",indigoA11:"color(display-p3 0.256 0.354 0.755)",indigoA12:"color(display-p3 0.133 0.175 0.348)"},blue={blue1:"#fbfdff",blue2:"#f4faff",blue3:"#e6f4fe",blue4:"#d5efff",blue5:"#c2e5ff",blue6:"#acd8fc",blue7:"#8ec8f6",blue8:"#5eb1ef",blue9:"#0090ff",blue10:"#0588f0",blue11:"#0d74ce",blue12:"#113264"},blueA={blueA1:"#0080ff04",blueA2:"#008cff0b",blueA3:"#008ff519",blueA4:"#009eff2a",blueA5:"#0093ff3d",blueA6:"#0088f653",blueA7:"#0083eb71",blueA8:"#0084e6a1",blueA9:"#0090ff",blueA10:"#0086f0fa",blueA11:"#006dcbf2",blueA12:"#002359ee"},blueP3={blue1:"color(display-p3 0.986 0.992 0.999)",blue2:"color(display-p3 0.96 0.979 0.998)",blue3:"color(display-p3 0.912 0.956 0.991)",blue4:"color(display-p3 0.853 0.932 1)",blue5:"color(display-p3 0.788 0.894 0.998)",blue6:"color(display-p3 0.709 0.843 0.976)",blue7:"color(display-p3 0.606 0.777 0.947)",blue8:"color(display-p3 0.451 0.688 0.917)",blue9:"color(display-p3 0.247 0.556 0.969)",blue10:"color(display-p3 0.234 0.523 0.912)",blue11:"color(display-p3 0.15 0.44 0.84)",blue12:"color(display-p3 0.102 0.193 0.379)"},blueP3A={blueA1:"color(display-p3 0.024 0.514 1 / 0.016)",blueA2:"color(display-p3 0.024 0.514 0.906 / 0.04)",blueA3:"color(display-p3 0.012 0.506 0.914 / 0.087)",blueA4:"color(display-p3 0.008 0.545 1 / 0.146)",blueA5:"color(display-p3 0.004 0.502 0.984 / 0.212)",blueA6:"color(display-p3 0.004 0.463 0.922 / 0.291)",blueA7:"color(display-p3 0.004 0.431 0.863 / 0.393)",blueA8:"color(display-p3 0 0.427 0.851 / 0.55)",blueA9:"color(display-p3 0 0.412 0.961 / 0.753)",blueA10:"color(display-p3 0 0.376 0.886 / 0.765)",blueA11:"color(display-p3 0.15 0.44 0.84)",blueA12:"color(display-p3 0.102 0.193 0.379)"},cyan={cyan1:"#fafdfe",cyan2:"#f2fafb",cyan3:"#def7f9",cyan4:"#caf1f6",cyan5:"#b5e9f0",cyan6:"#9ddde7",cyan7:"#7dcedc",cyan8:"#3db9cf",cyan9:"#00a2c7",cyan10:"#0797b9",cyan11:"#107d98",cyan12:"#0d3c48"},cyanA={cyanA1:"#0099cc05",cyanA2:"#009db10d",cyanA3:"#00c2d121",cyanA4:"#00bcd435",cyanA5:"#01b4cc4a",cyanA6:"#00a7c162",cyanA7:"#009fbb82",cyanA8:"#00a3c0c2",cyanA9:"#00a2c7",cyanA10:"#0094b7f8",cyanA11:"#007491ef",cyanA12:"#00323ef2"},cyanP3={cyan1:"color(display-p3 0.982 0.992 0.996)",cyan2:"color(display-p3 0.955 0.981 0.984)",cyan3:"color(display-p3 0.888 0.965 0.975)",cyan4:"color(display-p3 0.821 0.941 0.959)",cyan5:"color(display-p3 0.751 0.907 0.935)",cyan6:"color(display-p3 0.671 0.862 0.9)",cyan7:"color(display-p3 0.564 0.8 0.854)",cyan8:"color(display-p3 0.388 0.715 0.798)",cyan9:"color(display-p3 0.282 0.627 0.765)",cyan10:"color(display-p3 0.264 0.583 0.71)",cyan11:"color(display-p3 0.08 0.48 0.63)",cyan12:"color(display-p3 0.108 0.232 0.277)"},cyanP3A={cyanA1:"color(display-p3 0.02 0.608 0.804 / 0.02)",cyanA2:"color(display-p3 0.02 0.557 0.647 / 0.044)",cyanA3:"color(display-p3 0.004 0.694 0.796 / 0.114)",cyanA4:"color(display-p3 0.004 0.678 0.784 / 0.181)",cyanA5:"color(display-p3 0.004 0.624 0.733 / 0.248)",cyanA6:"color(display-p3 0.004 0.584 0.706 / 0.33)",cyanA7:"color(display-p3 0.004 0.541 0.667 / 0.436)",cyanA8:"color(display-p3 0 0.533 0.667 / 0.612)",cyanA9:"color(display-p3 0 0.482 0.675 / 0.718)",cyanA10:"color(display-p3 0 0.435 0.608 / 0.738)",cyanA11:"color(display-p3 0.08 0.48 0.63)",cyanA12:"color(display-p3 0.108 0.232 0.277)"},teal={teal1:"#fafefd",teal2:"#f3fbf9",teal3:"#e0f8f3",teal4:"#ccf3ea",teal5:"#b8eae0",teal6:"#a1ded2",teal7:"#83cdc1",teal8:"#53b9ab",teal9:"#12a594",teal10:"#0d9b8a",teal11:"#008573",teal12:"#0d3d38"},tealA={tealA1:"#00cc9905",tealA2:"#00aa800c",tealA3:"#00c69d1f",tealA4:"#00c39633",tealA5:"#00b49047",tealA6:"#00a6855e",tealA7:"#0099807c",tealA8:"#009783ac",tealA9:"#009e8ced",tealA10:"#009684f2",tealA11:"#008573",tealA12:"#00332df2"},tealP3={teal1:"color(display-p3 0.983 0.996 0.992)",teal2:"color(display-p3 0.958 0.983 0.976)",teal3:"color(display-p3 0.895 0.971 0.952)",teal4:"color(display-p3 0.831 0.949 0.92)",teal5:"color(display-p3 0.761 0.914 0.878)",teal6:"color(display-p3 0.682 0.864 0.825)",teal7:"color(display-p3 0.581 0.798 0.756)",teal8:"color(display-p3 0.433 0.716 0.671)",teal9:"color(display-p3 0.297 0.637 0.581)",teal10:"color(display-p3 0.275 0.599 0.542)",teal11:"color(display-p3 0.08 0.5 0.43)",teal12:"color(display-p3 0.11 0.235 0.219)"},tealP3A={tealA1:"color(display-p3 0.024 0.757 0.514 / 0.016)",tealA2:"color(display-p3 0.02 0.647 0.467 / 0.044)",tealA3:"color(display-p3 0.004 0.741 0.557 / 0.106)",tealA4:"color(display-p3 0.004 0.702 0.537 / 0.169)",tealA5:"color(display-p3 0.004 0.643 0.494 / 0.24)",tealA6:"color(display-p3 0.004 0.569 0.447 / 0.318)",tealA7:"color(display-p3 0.004 0.518 0.424 / 0.42)",tealA8:"color(display-p3 0 0.506 0.424 / 0.569)",tealA9:"color(display-p3 0 0.482 0.404 / 0.702)",tealA10:"color(display-p3 0 0.451 0.369 / 0.726)",tealA11:"color(display-p3 0.08 0.5 0.43)",tealA12:"color(display-p3 0.11 0.235 0.219)"},jade={jade1:"#fbfefd",jade2:"#f4fbf7",jade3:"#e6f7ed",jade4:"#d6f1e3",jade5:"#c3e9d7",jade6:"#acdec8",jade7:"#8bceb6",jade8:"#56ba9f",jade9:"#29a383",jade10:"#26997b",jade11:"#208368",jade12:"#1d3b31"},jadeA={jadeA1:"#00c08004",jadeA2:"#00a3460b",jadeA3:"#00ae4819",jadeA4:"#00a85129",jadeA5:"#00a2553c",jadeA6:"#009a5753",jadeA7:"#00945f74",jadeA8:"#00976ea9",jadeA9:"#00916bd6",jadeA10:"#008764d9",jadeA11:"#007152df",jadeA12:"#002217e2"},jadeP3={jade1:"color(display-p3 0.986 0.996 0.992)",jade2:"color(display-p3 0.962 0.983 0.969)",jade3:"color(display-p3 0.912 0.965 0.932)",jade4:"color(display-p3 0.858 0.941 0.893)",jade5:"color(display-p3 0.795 0.909 0.847)",jade6:"color(display-p3 0.715 0.864 0.791)",jade7:"color(display-p3 0.603 0.802 0.718)",jade8:"color(display-p3 0.44 0.72 0.629)",jade9:"color(display-p3 0.319 0.63 0.521)",jade10:"color(display-p3 0.299 0.592 0.488)",jade11:"color(display-p3 0.15 0.5 0.37)",jade12:"color(display-p3 0.142 0.229 0.194)"},jadeP3A={jadeA1:"color(display-p3 0.024 0.757 0.514 / 0.016)",jadeA2:"color(display-p3 0.024 0.612 0.22 / 0.04)",jadeA3:"color(display-p3 0.012 0.596 0.235 / 0.087)",jadeA4:"color(display-p3 0.008 0.588 0.255 / 0.142)",jadeA5:"color(display-p3 0.004 0.561 0.251 / 0.204)",jadeA6:"color(display-p3 0.004 0.525 0.278 / 0.287)",jadeA7:"color(display-p3 0.004 0.506 0.29 / 0.397)",jadeA8:"color(display-p3 0 0.506 0.337 / 0.561)",jadeA9:"color(display-p3 0 0.459 0.298 / 0.683)",jadeA10:"color(display-p3 0 0.42 0.271 / 0.702)",jadeA11:"color(display-p3 0.15 0.5 0.37)",jadeA12:"color(display-p3 0.142 0.229 0.194)"},green={green1:"#fbfefc",green2:"#f4fbf6",green3:"#e6f6eb",green4:"#d6f1df",green5:"#c4e8d1",green6:"#adddc0",green7:"#8eceaa",green8:"#5bb98b",green9:"#30a46c",green10:"#2b9a66",green11:"#218358",green12:"#193b2d"},greenA={greenA1:"#00c04004",greenA2:"#00a32f0b",greenA3:"#00a43319",greenA4:"#00a83829",greenA5:"#019c393b",greenA6:"#00963c52",greenA7:"#00914071",greenA8:"#00924ba4",greenA9:"#008f4acf",greenA10:"#008647d4",greenA11:"#00713fde",greenA12:"#002616e6"},greenP3={green1:"color(display-p3 0.986 0.996 0.989)",green2:"color(display-p3 0.963 0.983 0.967)",green3:"color(display-p3 0.913 0.964 0.925)",green4:"color(display-p3 0.859 0.94 0.879)",green5:"color(display-p3 0.796 0.907 0.826)",green6:"color(display-p3 0.718 0.863 0.761)",green7:"color(display-p3 0.61 0.801 0.675)",green8:"color(display-p3 0.451 0.715 0.559)",green9:"color(display-p3 0.332 0.634 0.442)",green10:"color(display-p3 0.308 0.595 0.417)",green11:"color(display-p3 0.19 0.5 0.32)",green12:"color(display-p3 0.132 0.228 0.18)"},greenP3A={greenA1:"color(display-p3 0.024 0.757 0.267 / 0.016)",greenA2:"color(display-p3 0.024 0.565 0.129 / 0.036)",greenA3:"color(display-p3 0.012 0.596 0.145 / 0.087)",greenA4:"color(display-p3 0.008 0.588 0.145 / 0.142)",greenA5:"color(display-p3 0.004 0.541 0.157 / 0.204)",greenA6:"color(display-p3 0.004 0.518 0.157 / 0.283)",greenA7:"color(display-p3 0.004 0.486 0.165 / 0.389)",greenA8:"color(display-p3 0 0.478 0.2 / 0.55)",greenA9:"color(display-p3 0 0.455 0.165 / 0.667)",greenA10:"color(display-p3 0 0.416 0.153 / 0.691)",greenA11:"color(display-p3 0.19 0.5 0.32)",greenA12:"color(display-p3 0.132 0.228 0.18)"},grass={grass1:"#fbfefb",grass2:"#f5fbf5",grass3:"#e9f6e9",grass4:"#daf1db",grass5:"#c9e8ca",grass6:"#b2ddb5",grass7:"#94ce9a",grass8:"#65ba74",grass9:"#46a758",grass10:"#3e9b4f",grass11:"#2a7e3b",grass12:"#203c25"},grassA={grassA1:"#00c00004",grassA2:"#0099000a",grassA3:"#00970016",grassA4:"#009f0725",grassA5:"#00930536",grassA6:"#008f0a4d",grassA7:"#018b0f6b",grassA8:"#008d199a",grassA9:"#008619b9",grassA10:"#007b17c1",grassA11:"#006514d5",grassA12:"#002006df"},grassP3={grass1:"color(display-p3 0.986 0.996 0.985)",grass2:"color(display-p3 0.966 0.983 0.964)",grass3:"color(display-p3 0.923 0.965 0.917)",grass4:"color(display-p3 0.872 0.94 0.865)",grass5:"color(display-p3 0.811 0.908 0.802)",grass6:"color(display-p3 0.733 0.864 0.724)",grass7:"color(display-p3 0.628 0.803 0.622)",grass8:"color(display-p3 0.477 0.72 0.482)",grass9:"color(display-p3 0.38 0.647 0.378)",grass10:"color(display-p3 0.344 0.598 0.342)",grass11:"color(display-p3 0.263 0.488 0.261)",grass12:"color(display-p3 0.151 0.233 0.153)"},grassP3A={grassA1:"color(display-p3 0.024 0.757 0.024 / 0.016)",grassA2:"color(display-p3 0.024 0.565 0.024 / 0.036)",grassA3:"color(display-p3 0.059 0.576 0.008 / 0.083)",grassA4:"color(display-p3 0.035 0.565 0.008 / 0.134)",grassA5:"color(display-p3 0.047 0.545 0.008 / 0.197)",grassA6:"color(display-p3 0.031 0.502 0.004 / 0.275)",grassA7:"color(display-p3 0.012 0.482 0.004 / 0.377)",grassA8:"color(display-p3 0 0.467 0.008 / 0.522)",grassA9:"color(display-p3 0.008 0.435 0 / 0.624)",grassA10:"color(display-p3 0.008 0.388 0 / 0.659)",grassA11:"color(display-p3 0.263 0.488 0.261)",grassA12:"color(display-p3 0.151 0.233 0.153)"},brown={brown1:"#fefdfc",brown2:"#fcf9f6",brown3:"#f6eee7",brown4:"#f0e4d9",brown5:"#ebdaca",brown6:"#e4cdb7",brown7:"#dcbc9f",brown8:"#cea37e",brown9:"#ad7f58",brown10:"#a07553",brown11:"#815e46",brown12:"#3e332e"},brownA={brownA1:"#aa550003",brownA2:"#aa550009",brownA3:"#a04b0018",brownA4:"#9b4a0026",brownA5:"#9f4d0035",brownA6:"#a04e0048",brownA7:"#a34e0060",brownA8:"#9f4a0081",brownA9:"#823c00a7",brownA10:"#723300ac",brownA11:"#522100b9",brownA12:"#140600d1"},brownP3={brown1:"color(display-p3 0.995 0.992 0.989)",brown2:"color(display-p3 0.987 0.976 0.964)",brown3:"color(display-p3 0.959 0.936 0.909)",brown4:"color(display-p3 0.934 0.897 0.855)",brown5:"color(display-p3 0.909 0.856 0.798)",brown6:"color(display-p3 0.88 0.808 0.73)",brown7:"color(display-p3 0.841 0.742 0.639)",brown8:"color(display-p3 0.782 0.647 0.514)",brown9:"color(display-p3 0.651 0.505 0.368)",brown10:"color(display-p3 0.601 0.465 0.344)",brown11:"color(display-p3 0.485 0.374 0.288)",brown12:"color(display-p3 0.236 0.202 0.183)"},brownP3A={brownA1:"color(display-p3 0.675 0.349 0.024 / 0.012)",brownA2:"color(display-p3 0.675 0.349 0.024 / 0.036)",brownA3:"color(display-p3 0.573 0.314 0.012 / 0.091)",brownA4:"color(display-p3 0.545 0.302 0.008 / 0.146)",brownA5:"color(display-p3 0.561 0.29 0.004 / 0.204)",brownA6:"color(display-p3 0.553 0.294 0.004 / 0.271)",brownA7:"color(display-p3 0.557 0.286 0.004 / 0.361)",brownA8:"color(display-p3 0.549 0.275 0.004 / 0.487)",brownA9:"color(display-p3 0.447 0.22 0 / 0.632)",brownA10:"color(display-p3 0.388 0.188 0 / 0.655)",brownA11:"color(display-p3 0.485 0.374 0.288)",brownA12:"color(display-p3 0.236 0.202 0.183)"},bronze={bronze1:"#fdfcfc",bronze2:"#fdf7f5",bronze3:"#f6edea",bronze4:"#efe4df",bronze5:"#e7d9d3",bronze6:"#dfcdc5",bronze7:"#d3bcb3",bronze8:"#c2a499",bronze9:"#a18072",bronze10:"#957468",bronze11:"#7d5e54",bronze12:"#43302b"},bronzeA={bronzeA1:"#55000003",bronzeA2:"#cc33000a",bronzeA3:"#92250015",bronzeA4:"#80280020",bronzeA5:"#7423002c",bronzeA6:"#7324003a",bronzeA7:"#6c1f004c",bronzeA8:"#671c0066",bronzeA9:"#551a008d",bronzeA10:"#4c150097",bronzeA11:"#3d0f00ab",bronzeA12:"#1d0600d4"},bronzeP3={bronze1:"color(display-p3 0.991 0.988 0.988)",bronze2:"color(display-p3 0.989 0.97 0.961)",bronze3:"color(display-p3 0.958 0.932 0.919)",bronze4:"color(display-p3 0.929 0.894 0.877)",bronze5:"color(display-p3 0.898 0.853 0.832)",bronze6:"color(display-p3 0.861 0.805 0.778)",bronze7:"color(display-p3 0.812 0.739 0.706)",bronze8:"color(display-p3 0.741 0.647 0.606)",bronze9:"color(display-p3 0.611 0.507 0.455)",bronze10:"color(display-p3 0.563 0.461 0.414)",bronze11:"color(display-p3 0.471 0.373 0.336)",bronze12:"color(display-p3 0.251 0.191 0.172)"},bronzeP3A={bronzeA1:"color(display-p3 0.349 0.024 0.024 / 0.012)",bronzeA2:"color(display-p3 0.71 0.22 0.024 / 0.04)",bronzeA3:"color(display-p3 0.482 0.2 0.008 / 0.083)",bronzeA4:"color(display-p3 0.424 0.133 0.004 / 0.122)",bronzeA5:"color(display-p3 0.4 0.145 0.004 / 0.169)",bronzeA6:"color(display-p3 0.388 0.125 0.004 / 0.224)",bronzeA7:"color(display-p3 0.365 0.11 0.004 / 0.295)",bronzeA8:"color(display-p3 0.341 0.102 0.004 / 0.393)",bronzeA9:"color(display-p3 0.29 0.094 0 / 0.546)",bronzeA10:"color(display-p3 0.255 0.082 0 / 0.585)",bronzeA11:"color(display-p3 0.471 0.373 0.336)",bronzeA12:"color(display-p3 0.251 0.191 0.172)"},gold={gold1:"#fdfdfc",gold2:"#faf9f2",gold3:"#f2f0e7",gold4:"#eae6db",gold5:"#e1dccf",gold6:"#d8d0bf",gold7:"#cbc0aa",gold8:"#b9a88d",gold9:"#978365",gold10:"#8c7a5e",gold11:"#71624b",gold12:"#3b352b"},goldA={goldA1:"#55550003",goldA2:"#9d8a000d",goldA3:"#75600018",goldA4:"#6b4e0024",goldA5:"#60460030",goldA6:"#64440040",goldA7:"#63420055",goldA8:"#633d0072",goldA9:"#5332009a",goldA10:"#492d00a1",goldA11:"#362100b4",goldA12:"#130c00d4"},goldP3={gold1:"color(display-p3 0.992 0.992 0.989)",gold2:"color(display-p3 0.98 0.976 0.953)",gold3:"color(display-p3 0.947 0.94 0.909)",gold4:"color(display-p3 0.914 0.904 0.865)",gold5:"color(display-p3 0.88 0.865 0.816)",gold6:"color(display-p3 0.84 0.818 0.756)",gold7:"color(display-p3 0.788 0.753 0.677)",gold8:"color(display-p3 0.715 0.66 0.565)",gold9:"color(display-p3 0.579 0.517 0.41)",gold10:"color(display-p3 0.538 0.479 0.38)",gold11:"color(display-p3 0.433 0.386 0.305)",gold12:"color(display-p3 0.227 0.209 0.173)"},goldP3A={goldA1:"color(display-p3 0.349 0.349 0.024 / 0.012)",goldA2:"color(display-p3 0.592 0.514 0.024 / 0.048)",goldA3:"color(display-p3 0.4 0.357 0.012 / 0.091)",goldA4:"color(display-p3 0.357 0.298 0.008 / 0.134)",goldA5:"color(display-p3 0.345 0.282 0.004 / 0.185)",goldA6:"color(display-p3 0.341 0.263 0.004 / 0.244)",goldA7:"color(display-p3 0.345 0.235 0.004 / 0.322)",goldA8:"color(display-p3 0.345 0.22 0.004 / 0.436)",goldA9:"color(display-p3 0.286 0.18 0 / 0.589)",goldA10:"color(display-p3 0.255 0.161 0 / 0.62)",goldA11:"color(display-p3 0.433 0.386 0.305)",goldA12:"color(display-p3 0.227 0.209 0.173)"},sky={sky1:"#f9feff",sky2:"#f1fafd",sky3:"#e1f6fd",sky4:"#d1f0fa",sky5:"#bee7f5",sky6:"#a9daed",sky7:"#8dcae3",sky8:"#60b3d7",sky9:"#7ce2fe",sky10:"#74daf8",sky11:"#00749e",sky12:"#1d3e56"},skyA={skyA1:"#00d5ff06",skyA2:"#00a4db0e",skyA3:"#00b3ee1e",skyA4:"#00ace42e",skyA5:"#00a1d841",skyA6:"#0092ca56",skyA7:"#0089c172",skyA8:"#0085bf9f",skyA9:"#00c7fe83",skyA10:"#00bcf38b",skyA11:"#00749e",skyA12:"#002540e2"},skyP3={sky1:"color(display-p3 0.98 0.995 0.999)",sky2:"color(display-p3 0.953 0.98 0.99)",sky3:"color(display-p3 0.899 0.963 0.989)",sky4:"color(display-p3 0.842 0.937 0.977)",sky5:"color(display-p3 0.777 0.9 0.954)",sky6:"color(display-p3 0.701 0.851 0.921)",sky7:"color(display-p3 0.604 0.785 0.879)",sky8:"color(display-p3 0.457 0.696 0.829)",sky9:"color(display-p3 0.585 0.877 0.983)",sky10:"color(display-p3 0.555 0.845 0.959)",sky11:"color(display-p3 0.193 0.448 0.605)",sky12:"color(display-p3 0.145 0.241 0.329)"},skyP3A={skyA1:"color(display-p3 0.02 0.804 1 / 0.02)",skyA2:"color(display-p3 0.024 0.592 0.757 / 0.048)",skyA3:"color(display-p3 0.004 0.655 0.886 / 0.102)",skyA4:"color(display-p3 0.004 0.604 0.851 / 0.157)",skyA5:"color(display-p3 0.004 0.565 0.792 / 0.224)",skyA6:"color(display-p3 0.004 0.502 0.737 / 0.299)",skyA7:"color(display-p3 0.004 0.459 0.694 / 0.397)",skyA8:"color(display-p3 0 0.435 0.682 / 0.542)",skyA9:"color(display-p3 0.004 0.71 0.965 / 0.416)",skyA10:"color(display-p3 0.004 0.647 0.914 / 0.444)",skyA11:"color(display-p3 0.193 0.448 0.605)",skyA12:"color(display-p3 0.145 0.241 0.329)"},mint={mint1:"#f9fefd",mint2:"#f2fbf9",mint3:"#ddf9f2",mint4:"#c8f4e9",mint5:"#b3ecde",mint6:"#9ce0d0",mint7:"#7ecfbd",mint8:"#4cbba5",mint9:"#86ead4",mint10:"#7de0cb",mint11:"#027864",mint12:"#16433c"},mintA={mintA1:"#00d5aa06",mintA2:"#00b18a0d",mintA3:"#00d29e22",mintA4:"#00cc9937",mintA5:"#00c0914c",mintA6:"#00b08663",mintA7:"#00a17d81",mintA8:"#009e7fb3",mintA9:"#00d3a579",mintA10:"#00c39982",mintA11:"#007763fd",mintA12:"#00312ae9"},mintP3={mint1:"color(display-p3 0.98 0.995 0.992)",mint2:"color(display-p3 0.957 0.985 0.977)",mint3:"color(display-p3 0.888 0.972 0.95)",mint4:"color(display-p3 0.819 0.951 0.916)",mint5:"color(display-p3 0.747 0.918 0.873)",mint6:"color(display-p3 0.668 0.87 0.818)",mint7:"color(display-p3 0.567 0.805 0.744)",mint8:"color(display-p3 0.42 0.724 0.649)",mint9:"color(display-p3 0.62 0.908 0.834)",mint10:"color(display-p3 0.585 0.871 0.797)",mint11:"color(display-p3 0.203 0.463 0.397)",mint12:"color(display-p3 0.136 0.259 0.236)"},mintP3A={mintA1:"color(display-p3 0.02 0.804 0.608 / 0.02)",mintA2:"color(display-p3 0.02 0.647 0.467 / 0.044)",mintA3:"color(display-p3 0.004 0.761 0.553 / 0.114)",mintA4:"color(display-p3 0.004 0.741 0.545 / 0.181)",mintA5:"color(display-p3 0.004 0.678 0.51 / 0.255)",mintA6:"color(display-p3 0.004 0.616 0.463 / 0.334)",mintA7:"color(display-p3 0.004 0.549 0.412 / 0.432)",mintA8:"color(display-p3 0 0.529 0.392 / 0.581)",mintA9:"color(display-p3 0.004 0.765 0.569 / 0.381)",mintA10:"color(display-p3 0.004 0.69 0.51 / 0.416)",mintA11:"color(display-p3 0.203 0.463 0.397)",mintA12:"color(display-p3 0.136 0.259 0.236)"},lime={lime1:"#fcfdfa",lime2:"#f8faf3",lime3:"#eef6d6",lime4:"#e2f0bd",lime5:"#d3e7a6",lime6:"#c2da91",lime7:"#abc978",lime8:"#8db654",lime9:"#bdee63",lime10:"#b0e64c",lime11:"#5c7c2f",lime12:"#37401c"},limeA={limeA1:"#66990005",limeA2:"#6b95000c",limeA3:"#96c80029",limeA4:"#8fc60042",limeA5:"#81bb0059",limeA6:"#72aa006e",limeA7:"#61990087",limeA8:"#559200ab",limeA9:"#93e4009c",limeA10:"#8fdc00b3",limeA11:"#375f00d0",limeA12:"#1e2900e3"},limeP3={lime1:"color(display-p3 0.989 0.992 0.981)",lime2:"color(display-p3 0.975 0.98 0.954)",lime3:"color(display-p3 0.939 0.965 0.851)",lime4:"color(display-p3 0.896 0.94 0.76)",lime5:"color(display-p3 0.843 0.903 0.678)",lime6:"color(display-p3 0.778 0.852 0.599)",lime7:"color(display-p3 0.694 0.784 0.508)",lime8:"color(display-p3 0.585 0.707 0.378)",lime9:"color(display-p3 0.78 0.928 0.466)",lime10:"color(display-p3 0.734 0.896 0.397)",lime11:"color(display-p3 0.386 0.482 0.227)",lime12:"color(display-p3 0.222 0.25 0.128)"},limeP3A={limeA1:"color(display-p3 0.412 0.608 0.02 / 0.02)",limeA2:"color(display-p3 0.514 0.592 0.024 / 0.048)",limeA3:"color(display-p3 0.584 0.765 0.008 / 0.15)",limeA4:"color(display-p3 0.561 0.757 0.004 / 0.24)",limeA5:"color(display-p3 0.514 0.698 0.004 / 0.322)",limeA6:"color(display-p3 0.443 0.627 0 / 0.4)",limeA7:"color(display-p3 0.376 0.561 0.004 / 0.491)",limeA8:"color(display-p3 0.333 0.529 0 / 0.624)",limeA9:"color(display-p3 0.588 0.867 0 / 0.534)",limeA10:"color(display-p3 0.561 0.827 0 / 0.604)",limeA11:"color(display-p3 0.386 0.482 0.227)",limeA12:"color(display-p3 0.222 0.25 0.128)"},yellow={yellow1:"#fdfdf9",yellow2:"#fefce9",yellow3:"#fffab8",yellow4:"#fff394",yellow5:"#ffe770",yellow6:"#f3d768",yellow7:"#e4c767",yellow8:"#d5ae39",yellow9:"#ffe629",yellow10:"#ffdc00",yellow11:"#9e6c00",yellow12:"#473b1f"},yellowA={yellowA1:"#aaaa0006",yellowA2:"#f4dd0016",yellowA3:"#ffee0047",yellowA4:"#ffe3016b",yellowA5:"#ffd5008f",yellowA6:"#ebbc0097",yellowA7:"#d2a10098",yellowA8:"#c99700c6",yellowA9:"#ffe100d6",yellowA10:"#ffdc00",yellowA11:"#9e6c00",yellowA12:"#2e2000e0"},yellowP3={yellow1:"color(display-p3 0.992 0.992 0.978)",yellow2:"color(display-p3 0.995 0.99 0.922)",yellow3:"color(display-p3 0.997 0.982 0.749)",yellow4:"color(display-p3 0.992 0.953 0.627)",yellow5:"color(display-p3 0.984 0.91 0.51)",yellow6:"color(display-p3 0.934 0.847 0.474)",yellow7:"color(display-p3 0.876 0.785 0.46)",yellow8:"color(display-p3 0.811 0.689 0.313)",yellow9:"color(display-p3 1 0.92 0.22)",yellow10:"color(display-p3 0.977 0.868 0.291)",yellow11:"color(display-p3 0.6 0.44 0)",yellow12:"color(display-p3 0.271 0.233 0.137)"},yellowP3A={yellowA1:"color(display-p3 0.675 0.675 0.024 / 0.024)",yellowA2:"color(display-p3 0.953 0.855 0.008 / 0.079)",yellowA3:"color(display-p3 0.988 0.925 0.004 / 0.251)",yellowA4:"color(display-p3 0.98 0.875 0.004 / 0.373)",yellowA5:"color(display-p3 0.969 0.816 0.004 / 0.491)",yellowA6:"color(display-p3 0.875 0.71 0 / 0.526)",yellowA7:"color(display-p3 0.769 0.604 0 / 0.542)",yellowA8:"color(display-p3 0.725 0.549 0 / 0.687)",yellowA9:"color(display-p3 1 0.898 0 / 0.781)",yellowA10:"color(display-p3 0.969 0.812 0 / 0.71)",yellowA11:"color(display-p3 0.6 0.44 0)",yellowA12:"color(display-p3 0.271 0.233 0.137)"},amber={amber1:"#fefdfb",amber2:"#fefbe9",amber3:"#fff7c2",amber4:"#ffee9c",amber5:"#fbe577",amber6:"#f3d673",amber7:"#e9c162",amber8:"#e2a336",amber9:"#ffc53d",amber10:"#ffba18",amber11:"#ab6400",amber12:"#4f3422"},amberA={amberA1:"#c0800004",amberA2:"#f4d10016",amberA3:"#ffde003d",amberA4:"#ffd40063",amberA5:"#f8cf0088",amberA6:"#eab5008c",amberA7:"#dc9b009d",amberA8:"#da8a00c9",amberA9:"#ffb300c2",amberA10:"#ffb300e7",amberA11:"#ab6400",amberA12:"#341500dd"},amberP3={amber1:"color(display-p3 0.995 0.992 0.985)",amber2:"color(display-p3 0.994 0.986 0.921)",amber3:"color(display-p3 0.994 0.969 0.782)",amber4:"color(display-p3 0.989 0.937 0.65)",amber5:"color(display-p3 0.97 0.902 0.527)",amber6:"color(display-p3 0.936 0.844 0.506)",amber7:"color(display-p3 0.89 0.762 0.443)",amber8:"color(display-p3 0.85 0.65 0.3)",amber9:"color(display-p3 1 0.77 0.26)",amber10:"color(display-p3 0.959 0.741 0.274)",amber11:"color(display-p3 0.64 0.4 0)",amber12:"color(display-p3 0.294 0.208 0.145)"},amberP3A={amberA1:"color(display-p3 0.757 0.514 0.024 / 0.016)",amberA2:"color(display-p3 0.902 0.804 0.008 / 0.079)",amberA3:"color(display-p3 0.965 0.859 0.004 / 0.22)",amberA4:"color(display-p3 0.969 0.82 0.004 / 0.35)",amberA5:"color(display-p3 0.933 0.796 0.004 / 0.475)",amberA6:"color(display-p3 0.875 0.682 0.004 / 0.495)",amberA7:"color(display-p3 0.804 0.573 0 / 0.557)",amberA8:"color(display-p3 0.788 0.502 0 / 0.699)",amberA9:"color(display-p3 1 0.686 0 / 0.742)",amberA10:"color(display-p3 0.945 0.643 0 / 0.726)",amberA11:"color(display-p3 0.64 0.4 0)",amberA12:"color(display-p3 0.294 0.208 0.145)"},orange={orange1:"#fefcfb",orange2:"#fff7ed",orange3:"#ffefd6",orange4:"#ffdfb5",orange5:"#ffd19a",orange6:"#ffc182",orange7:"#f5ae73",orange8:"#ec9455",orange9:"#f76b15",orange10:"#ef5f00",orange11:"#cc4e00",orange12:"#582d1d"},orangeA={orangeA1:"#c0400004",orangeA2:"#ff8e0012",orangeA3:"#ff9c0029",orangeA4:"#ff91014a",orangeA5:"#ff8b0065",orangeA6:"#ff81007d",orangeA7:"#ed6c008c",orangeA8:"#e35f00aa",orangeA9:"#f65e00ea",orangeA10:"#ef5f00",orangeA11:"#cc4e00",orangeA12:"#431200e2"},orangeP3={orange1:"color(display-p3 0.995 0.988 0.985)",orange2:"color(display-p3 0.994 0.968 0.934)",orange3:"color(display-p3 0.989 0.938 0.85)",orange4:"color(display-p3 1 0.874 0.687)",orange5:"color(display-p3 1 0.821 0.583)",orange6:"color(display-p3 0.975 0.767 0.545)",orange7:"color(display-p3 0.919 0.693 0.486)",orange8:"color(display-p3 0.877 0.597 0.379)",orange9:"color(display-p3 0.9 0.45 0.2)",orange10:"color(display-p3 0.87 0.409 0.164)",orange11:"color(display-p3 0.76 0.34 0)",orange12:"color(display-p3 0.323 0.185 0.127)"},orangeP3A={orangeA1:"color(display-p3 0.757 0.267 0.024 / 0.016)",orangeA2:"color(display-p3 0.886 0.533 0.008 / 0.067)",orangeA3:"color(display-p3 0.922 0.584 0.008 / 0.15)",orangeA4:"color(display-p3 1 0.604 0.004 / 0.314)",orangeA5:"color(display-p3 1 0.569 0.004 / 0.416)",orangeA6:"color(display-p3 0.949 0.494 0.004 / 0.455)",orangeA7:"color(display-p3 0.839 0.408 0 / 0.514)",orangeA8:"color(display-p3 0.804 0.349 0 / 0.62)",orangeA9:"color(display-p3 0.878 0.314 0 / 0.8)",orangeA10:"color(display-p3 0.843 0.29 0 / 0.836)",orangeA11:"color(display-p3 0.76 0.34 0)",orangeA12:"color(display-p3 0.323 0.185 0.127)"},blackA={blackA1:"rgba(0, 0, 0, 0.05)",blackA2:"rgba(0, 0, 0, 0.1)",blackA3:"rgba(0, 0, 0, 0.15)",blackA4:"rgba(0, 0, 0, 0.2)",blackA5:"rgba(0, 0, 0, 0.3)",blackA6:"rgba(0, 0, 0, 0.4)",blackA7:"rgba(0, 0, 0, 0.5)",blackA8:"rgba(0, 0, 0, 0.6)",blackA9:"rgba(0, 0, 0, 0.7)",blackA10:"rgba(0, 0, 0, 0.8)",blackA11:"rgba(0, 0, 0, 0.9)",blackA12:"rgba(0, 0, 0, 0.95)"},blackP3A={blackA1:"color(display-p3 0 0 0 / 0.05)",blackA2:"color(display-p3 0 0 0 / 0.1)",blackA3:"color(display-p3 0 0 0 / 0.15)",blackA4:"color(display-p3 0 0 0 / 0.2)",blackA5:"color(display-p3 0 0 0 / 0.3)",blackA6:"color(display-p3 0 0 0 / 0.4)",blackA7:"color(display-p3 0 0 0 / 0.5)",blackA8:"color(display-p3 0 0 0 / 0.6)",blackA9:"color(display-p3 0 0 0 / 0.7)",blackA10:"color(display-p3 0 0 0 / 0.8)",blackA11:"color(display-p3 0 0 0 / 0.9)",blackA12:"color(display-p3 0 0 0 / 0.95)"},whiteA={whiteA1:"rgba(255, 255, 255, 0.05)",whiteA2:"rgba(255, 255, 255, 0.1)",whiteA3:"rgba(255, 255, 255, 0.15)",whiteA4:"rgba(255, 255, 255, 0.2)",whiteA5:"rgba(255, 255, 255, 0.3)",whiteA6:"rgba(255, 255, 255, 0.4)",whiteA7:"rgba(255, 255, 255, 0.5)",whiteA8:"rgba(255, 255, 255, 0.6)",whiteA9:"rgba(255, 255, 255, 0.7)",whiteA10:"rgba(255, 255, 255, 0.8)",whiteA11:"rgba(255, 255, 255, 0.9)",whiteA12:"rgba(255, 255, 255, 0.95)"},whiteP3A={whiteA1:"color(display-p3 1 1 1 / 0.05)",whiteA2:"color(display-p3 1 1 1 / 0.1)",whiteA3:"color(display-p3 1 1 1 / 0.15)",whiteA4:"color(display-p3 1 1 1 / 0.2)",whiteA5:"color(display-p3 1 1 1 / 0.3)",whiteA6:"color(display-p3 1 1 1 / 0.4)",whiteA7:"color(display-p3 1 1 1 / 0.5)",whiteA8:"color(display-p3 1 1 1 / 0.6)",whiteA9:"color(display-p3 1 1 1 / 0.7)",whiteA10:"color(display-p3 1 1 1 / 0.8)",whiteA11:"color(display-p3 1 1 1 / 0.9)",whiteA12:"color(display-p3 1 1 1 / 0.95)"},RadixColors=Object.freeze(Object.defineProperty({__proto__:null,amber,amberA,amberDark,amberDarkA,amberDarkP3,amberDarkP3A,amberP3,amberP3A,blackA,blackP3A,blue,blueA,blueDark,blueDarkA,blueDarkP3,blueDarkP3A,blueP3,blueP3A,bronze,bronzeA,bronzeDark,bronzeDarkA,bronzeDarkP3,bronzeDarkP3A,bronzeP3,bronzeP3A,brown,brownA,brownDark,brownDarkA,brownDarkP3,brownDarkP3A,brownP3,brownP3A,crimson,crimsonA,crimsonDark,crimsonDarkA,crimsonDarkP3,crimsonDarkP3A,crimsonP3,crimsonP3A,cyan,cyanA,cyanDark,cyanDarkA,cyanDarkP3,cyanDarkP3A,cyanP3,cyanP3A,gold,goldA,goldDark,goldDarkA,goldDarkP3,goldDarkP3A,goldP3,goldP3A,grass,grassA,grassDark,grassDarkA,grassDarkP3,grassDarkP3A,grassP3,grassP3A,gray,grayA,grayDark,grayDarkA,grayDarkP3,grayDarkP3A,grayP3,grayP3A,green,greenA,greenDark,greenDarkA,greenDarkP3,greenDarkP3A,greenP3,greenP3A,indigo,indigoA,indigoDark,indigoDarkA,indigoDarkP3,indigoDarkP3A,indigoP3,indigoP3A,iris,irisA,irisDark,irisDarkA,irisDarkP3,irisDarkP3A,irisP3,irisP3A,jade,jadeA,jadeDark,jadeDarkA,jadeDarkP3,jadeDarkP3A,jadeP3,jadeP3A,lime,limeA,limeDark,limeDarkA,limeDarkP3,limeDarkP3A,limeP3,limeP3A,mauve,mauveA,mauveDark,mauveDarkA,mauveDarkP3,mauveDarkP3A,mauveP3,mauveP3A,mint,mintA,mintDark,mintDarkA,mintDarkP3,mintDarkP3A,mintP3,mintP3A,olive,oliveA,oliveDark,oliveDarkA,oliveDarkP3,oliveDarkP3A,oliveP3,oliveP3A,orange,orangeA,orangeDark,orangeDarkA,orangeDarkP3,orangeDarkP3A,orangeP3,orangeP3A,pink,pinkA,pinkDark,pinkDarkA,pinkDarkP3,pinkDarkP3A,pinkP3,pinkP3A,plum,plumA,plumDark,plumDarkA,plumDarkP3,plumDarkP3A,plumP3,plumP3A,purple,purpleA,purpleDark,purpleDarkA,purpleDarkP3,purpleDarkP3A,purpleP3,purpleP3A,red,redA,redDark,redDarkA,redDarkP3,redDarkP3A,redP3,redP3A,ruby,rubyA,rubyDark,rubyDarkA,rubyDarkP3,rubyDarkP3A,rubyP3,rubyP3A,sage,sageA,sageDark,sageDarkA,sageDarkP3,sageDarkP3A,sageP3,sageP3A,sand,sandA,sandDark,sandDarkA,sandDarkP3,sandDarkP3A,sandP3,sandP3A,sky,skyA,skyDark,skyDarkA,skyDarkP3,skyDarkP3A,skyP3,skyP3A,slate,slateA,slateDark,slateDarkA,slateDarkP3,slateDarkP3A,slateP3,slateP3A,teal,tealA,tealDark,tealDarkA,tealDarkP3,tealDarkP3A,tealP3,tealP3A,tomato,tomatoA,tomatoDark,tomatoDarkA,tomatoDarkP3,tomatoDarkP3A,tomatoP3,tomatoP3A,violet,violetA,violetDark,violetDarkA,violetDarkP3,violetDarkP3A,violetP3,violetP3A,whiteA,whiteP3A,yellow,yellowA,yellowDark,yellowDarkA,yellowDarkP3,yellowDarkP3A,yellowP3,yellowP3A},Symbol.toStringTag,{value:"Module"}));var NEWTON_ITERATIONS=4,NEWTON_MIN_SLOPE=.001,SUBDIVISION_PRECISION=1e-7,SUBDIVISION_MAX_ITERATIONS=10,kSplineTableSize=11,kSampleStepSize=1/(kSplineTableSize-1),float32ArraySupported=typeof Float32Array=="function";function A(h,v){return 1-3*v+3*h}function B(h,v){return 3*v-6*h}function C(h){return 3*h}function calcBezier(h,v,y){return((A(v,y)*h+B(v,y))*h+C(v))*h}function getSlope(h,v,y){return 3*A(v,y)*h*h+2*B(v,y)*h+C(v)}function binarySubdivide(h,v,y,_,x){var w,S,E=0;do S=v+(y-v)/2,w=calcBezier(S,_,x)-h,w>0?y=S:v=S;while(Math.abs(w)>SUBDIVISION_PRECISION&&++E<SUBDIVISION_MAX_ITERATIONS);return S}function newtonRaphsonIterate(h,v,y,_){for(var x=0;x<NEWTON_ITERATIONS;++x){var w=getSlope(v,y,_);if(w===0)return v;var S=calcBezier(v,y,_)-h;v-=S/w}return v}function LinearEasing(h){return h}var src=function(v,y,_,x){if(!(0<=v&&v<=1&&0<=_&&_<=1))throw new Error("bezier x values must be in [0, 1] range");if(v===y&&_===x)return LinearEasing;for(var w=float32ArraySupported?new Float32Array(kSplineTableSize):new Array(kSplineTableSize),S=0;S<kSplineTableSize;++S)w[S]=calcBezier(S*kSampleStepSize,v,_);function E(I){for(var L=0,O=1,F=kSplineTableSize-1;O!==F&&w[O]<=I;++O)L+=kSampleStepSize;--O;var z=(I-w[O])/(w[O+1]-w[O]),N=L+z*kSampleStepSize,H=getSlope(N,v,_);return H>=NEWTON_MIN_SLOPE?newtonRaphsonIterate(I,N,v,_):H===0?N:binarySubdivide(I,L,L+kSampleStepSize,v,_)}return function(L){return L===0?0:L===1?1:calcBezier(E(L),y,x)}};const BezierEasing=getDefaultExportFromCjs(src);function multiplyMatrices$1(h,v){let y=h.length;Array.isArray(h[0])||(h=[h]),Array.isArray(v[0])||(v=v.map(S=>[S]));let _=v[0].length,x=v[0].map((S,E)=>v.map(I=>I[E])),w=h.map(S=>x.map(E=>{let I=0;if(!Array.isArray(S)){for(let L of E)I+=S*L;return I}for(let L=0;L<S.length;L++)I+=S[L]*(E[L]||0);return I}));return y===1&&(w=w[0]),_===1?w.map(S=>S[0]):w}function isString$2(h){return type$1(h)==="string"}function type$1(h){return(Object.prototype.toString.call(h).match(/^\[object\s+(.*?)\]$/)[1]||"").toLowerCase()}function serializeNumber(h,{precision:v,unit:y}){return isNone(h)?"none":toPrecision(h,v)+(y??"")}function isNone(h){return Number.isNaN(h)||h instanceof Number&&(h==null?void 0:h.none)}function skipNone(h){return isNone(h)?0:h}function toPrecision(h,v){if(h===0)return 0;let y=~~h,_=0;y&&v&&(_=~~Math.log10(Math.abs(y))+1);const x=10**(v-_);return Math.floor(h*x+.5)/x}const angleFactor={deg:1,grad:.9,rad:180/Math.PI,turn:360};function parseFunction(h){if(!h)return;h=h.trim();const v=/^([a-z]+)\((.+?)\)$/i,y=/^-?[\d.]+$/,_=/%|deg|g?rad|turn$/,x=/\/?\s*(none|[-\w.]+(?:%|deg|g?rad|turn)?)/g;let w=h.match(v);if(w){let S=[];return w[2].replace(x,(E,I)=>{let L=I.match(_),O=I;if(L){let F=L[0],z=O.slice(0,-F.length);F==="%"?(O=new Number(z/100),O.type="<percentage>"):(O=new Number(z*angleFactor[F]),O.type="<angle>",O.unit=F)}else y.test(O)?(O=new Number(O),O.type="<number>"):O==="none"&&(O=new Number(NaN),O.none=!0);E.startsWith("/")&&(O=O instanceof Number?O:new Number(O),O.alpha=!0),typeof O=="object"&&O instanceof Number&&(O.raw=I),S.push(O)}),{name:w[1].toLowerCase(),rawName:w[1],rawArgs:w[2],args:S}}}function last$1(h){return h[h.length-1]}function interpolate(h,v,y){return isNaN(h)?v:isNaN(v)?h:h+(v-h)*y}function interpolateInv(h,v,y){return(y-h)/(v-h)}function mapRange(h,v,y){return interpolate(v[0],v[1],interpolateInv(h[0],h[1],y))}function parseCoordGrammar(h){return h.map(v=>v.split("|").map(y=>{y=y.trim();let _=y.match(/^(<[a-z]+>)\[(-?[.\d]+),\s*(-?[.\d]+)\]?$/);if(_){let x=new String(_[1]);return x.range=[+_[2],+_[3]],x}return y}))}function clamp$2(h,v,y){return Math.max(Math.min(y,v),h)}function copySign(h,v){return Math.sign(h)===Math.sign(v)?h:-h}function spow(h,v){return copySign(Math.abs(h)**v,h)}function zdiv(h,v){return v===0?0:h/v}function bisectLeft(h,v,y=0,_=h.length){for(;y<_;){const x=y+_>>1;h[x]<v?y=x+1:_=x}return y}var util=Object.freeze({__proto__:null,bisectLeft,clamp:clamp$2,copySign,interpolate,interpolateInv,isNone,isString:isString$2,last:last$1,mapRange,multiplyMatrices:multiplyMatrices$1,parseCoordGrammar,parseFunction,serializeNumber,skipNone,spow,toPrecision,type:type$1,zdiv});class Hooks{add(v,y,_){if(typeof arguments[0]!="string"){for(var v in arguments[0])this.add(v,arguments[0][v],arguments[1]);return}(Array.isArray(v)?v:[v]).forEach(function(x){this[x]=this[x]||[],y&&this[x][_?"unshift":"push"](y)},this)}run(v,y){this[v]=this[v]||[],this[v].forEach(function(_){_.call(y&&y.context?y.context:y,y)})}}const hooks=new Hooks;var defaults={gamut_mapping:"css",precision:5,deltaE:"76",verbose:((Mu=(Eu=(Su=globalThis==null?void 0:globalThis.process)==null?void 0:Su.env)==null?void 0:Eu.NODE_ENV)==null?void 0:Mu.toLowerCase())!=="test",warn:function(v){var y,_;this.verbose&&((_=(y=globalThis==null?void 0:globalThis.console)==null?void 0:y.warn)==null||_.call(y,v))}};const WHITES={D50:[.3457/.3585,1,(1-.3457-.3585)/.3585],D65:[.3127/.329,1,(1-.3127-.329)/.329]};function getWhite(h){return Array.isArray(h)?h:WHITES[h]}function adapt$2(h,v,y,_={}){if(h=getWhite(h),v=getWhite(v),!h||!v)throw new TypeError(`Missing white point to convert ${h?"":"from"}${!h&&!v?"/":""}${v?"":"to"}`);if(h===v)return y;let x={W1:h,W2:v,XYZ:y,options:_};if(hooks.run("chromatic-adaptation-start",x),x.M||(x.W1===WHITES.D65&&x.W2===WHITES.D50?x.M=[[1.0479297925449969,.022946870601609652,-.05019226628920524],[.02962780877005599,.9904344267538799,-.017073799063418826],[-.009243040646204504,.015055191490298152,.7518742814281371]]:x.W1===WHITES.D50&&x.W2===WHITES.D65&&(x.M=[[.955473421488075,-.02309845494876471,.06325924320057072],[-.0283697093338637,1.0099953980813041,.021041441191917323],[.012314014864481998,-.020507649298898964,1.330365926242124]])),hooks.run("chromatic-adaptation-end",x),x.M)return multiplyMatrices$1(x.M,x.XYZ);throw new TypeError("Only Bradford CAT with white points D50 and D65 supported for now.")}const noneTypes=new Set(["<number>","<percentage>","<angle>"]);function coerceCoords(h,v,y,_){return Object.entries(h.coords).map(([w,S],E)=>{let I=v.coordGrammar[E],L=_[E],O=L==null?void 0:L.type,F;if(L.none?F=I.find(H=>noneTypes.has(H)):F=I.find(H=>H==O),!F){let H=S.name||w;throw new TypeError(`${O??L.raw} not allowed for ${H} in ${y}()`)}let z=F.range;O==="<percentage>"&&(z||(z=[0,1]));let N=S.range||S.refRange;return z&&N&&(_[E]=mapRange(z,N,_[E])),F})}function parse(h,{meta:v}={}){var _,x,w,S;let y={str:(_=String(h))==null?void 0:_.trim()};if(hooks.run("parse-start",y),y.color)return y.color;if(y.parsed=parseFunction(y.str),y.parsed){let E=y.parsed.name;if(E==="color"){let I=y.parsed.args.shift(),L=I.startsWith("--")?I.substring(2):`--${I}`,O=[I,L],F=y.parsed.rawArgs.indexOf("/")>0?y.parsed.args.pop():1;for(let H of ColorSpace.all){let X=H.getFormat("color");if(X&&(O.includes(X.id)||(x=X.ids)!=null&&x.filter(J=>O.includes(J)).length)){const J=Object.keys(H.coords).map((ve,pe)=>y.parsed.args[pe]||0);let ae;return X.coordGrammar&&(ae=coerceCoords(H,X,"color",J)),v&&Object.assign(v,{formatId:"color",types:ae}),X.id.startsWith("--")&&!I.startsWith("--")&&defaults.warn(`${H.name} is a non-standard space and not currently supported in the CSS spec. Use prefixed color(${X.id}) instead of color(${I}).`),I.startsWith("--")&&!X.id.startsWith("--")&&defaults.warn(`${H.name} is a standard space and supported in the CSS spec. Use color(${X.id}) instead of prefixed color(${I}).`),{spaceId:H.id,coords:J,alpha:F}}}let z="",N=I in ColorSpace.registry?I:L;if(N in ColorSpace.registry){let H=(S=(w=ColorSpace.registry[N].formats)==null?void 0:w.color)==null?void 0:S.id;H&&(z=`Did you mean color(${H})?`)}throw new TypeError(`Cannot parse color(${I}). `+(z||"Missing a plugin?"))}else for(let I of ColorSpace.all){let L=I.getFormat(E);if(L&&L.type==="function"){let O=1;(L.lastAlpha||last$1(y.parsed.args).alpha)&&(O=y.parsed.args.pop());let F=y.parsed.args,z;return L.coordGrammar&&(z=coerceCoords(I,L,E,F)),v&&Object.assign(v,{formatId:L.name,types:z}),{spaceId:I.id,coords:F,alpha:O}}}}else for(let E of ColorSpace.all)for(let I in E.formats){let L=E.formats[I];if(L.type!=="custom"||L.test&&!L.test(y.str))continue;let O=L.parse(y.str);if(O)return O.alpha??(O.alpha=1),v&&(v.formatId=I),O}throw new TypeError(`Could not parse ${h} as a color. Missing a plugin?`)}function getColor(h){if(Array.isArray(h))return h.map(getColor);if(!h)throw new TypeError("Empty color reference");isString$2(h)&&(h=parse(h));let v=h.space||h.spaceId;return v instanceof ColorSpace||(h.space=ColorSpace.get(v)),h.alpha===void 0&&(h.alpha=1),h}const $7=75e-6,_i=class _i{constructor(v){var x;this.id=v.id,this.name=v.name,this.base=v.base?_i.get(v.base):null,this.aliases=v.aliases,this.base&&(this.fromBase=v.fromBase,this.toBase=v.toBase);let y=v.coords??this.base.coords;for(let w in y)"name"in y[w]||(y[w].name=w);this.coords=y;let _=v.white??this.base.white??"D65";this.white=getWhite(_),this.formats=v.formats??{};for(let w in this.formats){let S=this.formats[w];S.type||(S.type="function"),S.name||(S.name=w)}(x=this.formats.color)!=null&&x.id||(this.formats.color={...this.formats.color??{},id:v.cssId||this.id}),v.gamutSpace?this.gamutSpace=v.gamutSpace==="self"?this:_i.get(v.gamutSpace):this.isPolar?this.gamutSpace=this.base:this.gamutSpace=this,this.gamutSpace.isUnbounded&&(this.inGamut=(w,S)=>!0),this.referred=v.referred,Object.defineProperty(this,"path",{value:getPath$1(this).reverse(),writable:!1,enumerable:!0,configurable:!0}),hooks.run("colorspace-init-end",this)}inGamut(v,{epsilon:y=$7}={}){if(!this.equals(this.gamutSpace))return v=this.to(this.gamutSpace,v),this.gamutSpace.inGamut(v,{epsilon:y});let _=Object.values(this.coords);return v.every((x,w)=>{let S=_[w];if(S.type!=="angle"&&S.range){if(Number.isNaN(x))return!0;let[E,I]=S.range;return(E===void 0||x>=E-y)&&(I===void 0||x<=I+y)}return!0})}get isUnbounded(){return Object.values(this.coords).every(v=>!("range"in v))}get cssId(){var v,y;return((y=(v=this.formats)==null?void 0:v.color)==null?void 0:y.id)||this.id}get isPolar(){for(let v in this.coords)if(this.coords[v].type==="angle")return!0;return!1}getFormat(v){if(typeof v=="object")return v=processFormat(v,this),v;let y;return v==="default"?y=Object.values(this.formats)[0]:y=this.formats[v],y?(y=processFormat(y,this),y):null}equals(v){return v?this===v||this.id===v||this.id===v.id:!1}to(v,y){if(arguments.length===1){const E=getColor(v);[v,y]=[E.space,E.coords]}if(v=_i.get(v),this.equals(v))return y;y=y.map(E=>Number.isNaN(E)?0:E);let _=this.path,x=v.path,w,S;for(let E=0;E<_.length&&_[E].equals(x[E]);E++)w=_[E],S=E;if(!w)throw new Error(`Cannot convert between color spaces ${this} and ${v}: no connection space was found`);for(let E=_.length-1;E>S;E--)y=_[E].toBase(y);for(let E=S+1;E<x.length;E++)y=x[E].fromBase(y);return y}from(v,y){if(arguments.length===1){const _=getColor(v);[v,y]=[_.space,_.coords]}return v=_i.get(v),v.to(this,y)}toString(){return`${this.name} (${this.id})`}getMinCoords(){let v=[];for(let y in this.coords){let _=this.coords[y],x=_.range||_.refRange;v.push((x==null?void 0:x.min)??0)}return v}static get all(){return[...new Set(Object.values(_i.registry))]}static register(v,y){if(arguments.length===1&&(y=arguments[0],v=y.id),y=this.get(y),this.registry[v]&&this.registry[v]!==y)throw new Error(`Duplicate color space registration: '${v}'`);if(this.registry[v]=y,arguments.length===1&&y.aliases)for(let _ of y.aliases)this.register(_,y);return y}static get(v,...y){if(!v||v instanceof _i)return v;if(type$1(v)==="string"){let x=_i.registry[v.toLowerCase()];if(!x)throw new TypeError(`No color space found with id = "${v}"`);return x}if(y.length)return _i.get(...y);throw new TypeError(`${v} is not a valid color space`)}static resolveCoord(v,y){var I;let _=type$1(v),x,w;if(_==="string"?v.includes(".")?[x,w]=v.split("."):[x,w]=[,v]:Array.isArray(v)?[x,w]=v:(x=v.space,w=v.coordId),x=_i.get(x),x||(x=y),!x)throw new TypeError(`Cannot resolve coordinate reference ${v}: No color space specified and relative references are not allowed here`);if(_=type$1(w),_==="number"||_==="string"&&w>=0){let L=Object.entries(x.coords)[w];if(L)return{space:x,id:L[0],index:w,...L[1]}}x=_i.get(x);let S=w.toLowerCase(),E=0;for(let L in x.coords){let O=x.coords[L];if(L.toLowerCase()===S||((I=O.name)==null?void 0:I.toLowerCase())===S)return{space:x,id:L,index:E,...O};E++}throw new TypeError(`No "${w}" coordinate found in ${x.name}. Its coordinates are: ${Object.keys(x.coords).join(", ")}`)}};ma(_i,"registry",{}),ma(_i,"DEFAULT_FORMAT",{type:"functions",name:"color"});let ColorSpace=_i;function getPath$1(h){let v=[h];for(let y=h;y=y.base;)v.push(y);return v}function processFormat(h,{coords:v}={}){if(h.coords&&!h.coordGrammar){h.type||(h.type="function"),h.name||(h.name="color"),h.coordGrammar=parseCoordGrammar(h.coords);let y=Object.entries(v).map(([_,x],w)=>{let S=h.coordGrammar[w][0],E=x.range||x.refRange,I=S.range,L="";return S=="<percentage>"?(I=[0,100],L="%"):S=="<angle>"&&(L="deg"),{fromRange:E,toRange:I,suffix:L}});h.serializeCoords=(_,x)=>_.map((w,S)=>{let{fromRange:E,toRange:I,suffix:L}=y[S];return E&&I&&(w=mapRange(E,I,w)),w=serializeNumber(w,{precision:x,unit:L}),w})}return h}var xyz_d65=new ColorSpace({id:"xyz-d65",name:"XYZ D65",coords:{x:{name:"X"},y:{name:"Y"},z:{name:"Z"}},white:"D65",formats:{color:{ids:["xyz-d65","xyz"]}},aliases:["xyz"]});class RGBColorSpace extends ColorSpace{constructor(v){v.coords||(v.coords={r:{range:[0,1],name:"Red"},g:{range:[0,1],name:"Green"},b:{range:[0,1],name:"Blue"}}),v.base||(v.base=xyz_d65),v.toXYZ_M&&v.fromXYZ_M&&(v.toBase??(v.toBase=y=>{let _=multiplyMatrices$1(v.toXYZ_M,y);return this.white!==this.base.white&&(_=adapt$2(this.white,this.base.white,_)),_}),v.fromBase??(v.fromBase=y=>(y=adapt$2(this.base.white,this.white,y),multiplyMatrices$1(v.fromXYZ_M,y)))),v.referred??(v.referred="display"),super(v)}}function getAll(h,v){return h=getColor(h),!v||h.space.equals(v)?h.coords.slice():(v=ColorSpace.get(v),v.from(h))}function get(h,v){h=getColor(h);let{space:y,index:_}=ColorSpace.resolveCoord(v,h.space);return getAll(h,y)[_]}function setAll(h,v,y){return h=getColor(h),v=ColorSpace.get(v),h.coords=v.to(h.space,y),h}setAll.returns="color";function set(h,v,y){if(h=getColor(h),arguments.length===2&&type$1(arguments[1])==="object"){let _=arguments[1];for(let x in _)set(h,x,_[x])}else{typeof y=="function"&&(y=y(get(h,v)));let{space:_,index:x}=ColorSpace.resolveCoord(v,h.space),w=getAll(h,_);w[x]=y,setAll(h,_,w)}return h}set.returns="color";var XYZ_D50=new ColorSpace({id:"xyz-d50",name:"XYZ D50",white:"D50",base:xyz_d65,fromBase:h=>adapt$2(xyz_d65.white,"D50",h),toBase:h=>adapt$2("D50",xyz_d65.white,h)});const $6=216/24389,3$1=24/116,$4=24389/27;let white$4=WHITES.D50;var lab$2=new ColorSpace({id:"lab",name:"Lab",coords:{l:{refRange:[0,100],name:"Lightness"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:white$4,base:XYZ_D50,fromBase(h){let y=h.map((_,x)=>_/white$4[x]).map(_=>_>$6?Math.cbrt(_):($4*_+16)/116);return[116*y[1]-16,500*(y[0]-y[1]),200*(y[1]-y[2])]},toBase(h){let v=[];return v[1]=(h[0]+16)/116,v[0]=h[1]/500+v[1],v[2]=v[1]-h[2]/200,[v[0]>3$1?Math.pow(v[0],3):(116*v[0]-16)/$4,h[0]>8?Math.pow((h[0]+16)/116,3):h[0]/$4,v[2]>3$1?Math.pow(v[2],3):(116*v[2]-16)/$4].map((_,x)=>_*white$4[x])},formats:{lab:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function constrain(h){return(h%360+360)%360}function adjust(h,v){if(h==="raw")return v;let[y,_]=v.map(constrain),x=_-y;return h==="increasing"?x<0&&(_+=360):h==="decreasing"?x>0&&(y+=360):h==="longer"?-180<x&&x<180&&(x>0?y+=360:_+=360):h==="shorter"&&(x>180?y+=360:x<-180&&(_+=360)),[y,_]}var lch$2=new ColorSpace({id:"lch",name:"LCH",coords:{l:{refRange:[0,100],name:"Lightness"},c:{refRange:[0,150],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:lab$2,fromBase(h){let[v,y,_]=h,x;const w=.02;return Math.abs(y)<w&&Math.abs(_)<w?x=NaN:x=Math.atan2(_,y)*180/Math.PI,[v,Math.sqrt(y**2+_**2),constrain(x)]},toBase(h){let[v,y,_]=h;return y<0&&(y=0),isNaN(_)&&(_=0),[v,y*Math.cos(_*Math.PI/180),y*Math.sin(_*Math.PI/180)]},formats:{lch:{coords:["<number> | <percentage>","<number> | <percentage>","<number> | <angle>"]}}});const Gfactor=25**7,$1=Math.PI,r2d=180/$1,d2r$1=$1/180;function pow7(h){const v=h*h;return v*v*v*h}function deltaE2000(h,v,{kL:y=1,kC:_=1,kH:x=1}={}){[h,v]=getColor([h,v]);let[w,S,E]=lab$2.from(h),I=lch$2.from(lab$2,[w,S,E])[1],[L,O,F]=lab$2.from(v),z=lch$2.from(lab$2,[L,O,F])[1];I<0&&(I=0),z<0&&(z=0);let N=(I+z)/2,H=pow7(N),X=.5*(1-Math.sqrt(H/(H+Gfactor))),J=(1+X)*S,ae=(1+X)*O,ve=Math.sqrt(J**2+E**2),pe=Math.sqrt(ae**2+F**2),de=J===0&&E===0?0:Math.atan2(E,J),ce=ae===0&&F===0?0:Math.atan2(F,ae);de<0&&(de+=2*$1),ce<0&&(ce+=2*$1),de*=r2d,ce*=r2d;let V=L-w,ie=pe-ve,ke=ce-de,be=de+ce,Ae=Math.abs(ke),ue;ve*pe===0?ue=0:Ae<=180?ue=ke:ke>180?ue=ke-360:ke<-180?ue=ke+360:defaults.warn("the unthinkable has happened");let xe=2*Math.sqrt(pe*ve)*Math.sin(ue*d2r$1/2),Me=(w+L)/2,Ge=(ve+pe)/2,lt=pow7(Ge),Le;ve*pe===0?Le=be:Ae<=180?Le=be/2:be<360?Le=(be+360)/2:Le=(be-360)/2;let Je=(Me-50)**2,gt=1+.015*Je/Math.sqrt(20+Je),ct=1+.045*Ge,Ot=1;Ot-=.17*Math.cos((Le-30)*d2r$1),Ot+=.24*Math.cos(2*Le*d2r$1),Ot+=.32*Math.cos((3*Le+6)*d2r$1),Ot-=.2*Math.cos((4*Le-63)*d2r$1);let ur=1+.015*Ge*Ot,rr=30*Math.exp(-1*((Le-275)/25)**2),Yt=2*Math.sqrt(lt/(lt+Gfactor)),Er=-1*Math.sin(2*rr*d2r$1)*Yt,Oe=(V/(y*gt))**2;return Oe+=(ie/(_*ct))**2,Oe+=(xe/(x*ur))**2,Oe+=Er*(ie/(_*ct))*(xe/(x*ur)),Math.sqrt(Oe)}const XYZtoLMS_M$1=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],LMStoXYZ_M$1=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],LMStoLab_M=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],LabtoLMS_M=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]];var OKLab=new ColorSpace({id:"oklab",name:"Oklab",coords:{l:{refRange:[0,1],name:"Lightness"},a:{refRange:[-.4,.4]},b:{refRange:[-.4,.4]}},white:"D65",base:xyz_d65,fromBase(h){let y=multiplyMatrices$1(XYZtoLMS_M$1,h).map(_=>Math.cbrt(_));return multiplyMatrices$1(LMStoLab_M,y)},toBase(h){let y=multiplyMatrices$1(LabtoLMS_M,h).map(_=>_**3);return multiplyMatrices$1(LMStoXYZ_M$1,y)},formats:{oklab:{coords:["<percentage> | <number>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function deltaEOK(h,v){[h,v]=getColor([h,v]);let[y,_,x]=OKLab.from(h),[w,S,E]=OKLab.from(v),I=y-w,L=_-S,O=x-E;return Math.sqrt(I**2+L**2+O**2)}const $5=75e-6;function inGamut(h,v,{epsilon:y=$5}={}){h=getColor(h),v||(v=h.space),v=ColorSpace.get(v);let _=h.coords;return v!==h.space&&(_=v.from(h)),v.inGamut(_,{epsilon:y})}function clone(h){return{space:h.space,coords:h.coords.slice(),alpha:h.alpha}}function distance$1(h,v,y="lab"){y=ColorSpace.get(y);let _=y.from(h),x=y.from(v);return Math.sqrt(_.reduce((w,S,E)=>{let I=x[E];return isNaN(S)||isNaN(I)?w:w+(I-S)**2},0))}function deltaE76(h,v){return distance$1(h,v,"lab")}const =Math.PI,d2r=/180;function deltaECMC(h,v,{l:y=2,c:_=1}={}){[h,v]=getColor([h,v]);let[x,w,S]=lab$2.from(h),[,E,I]=lch$2.from(lab$2,[x,w,S]),[L,O,F]=lab$2.from(v),z=lch$2.from(lab$2,[L,O,F])[1];E<0&&(E=0),z<0&&(z=0);let N=x-L,H=E-z,X=w-O,J=S-F,ae=X**2+J**2-H**2,ve=.511;x>=16&&(ve=.040975*x/(1+.01765*x));let pe=.0638*E/(1+.0131*E)+.638,de;Number.isNaN(I)&&(I=0),I>=164&&I<=345?de=.56+Math.abs(.2*Math.cos((I+168)*d2r)):de=.36+Math.abs(.4*Math.cos((I+35)*d2r));let ce=Math.pow(E,4),V=Math.sqrt(ce/(ce+1900)),ie=pe*(V*de+1-V),ke=(N/(y*ve))**2;return ke+=(H/(_*pe))**2,ke+=ae/ie**2,Math.sqrt(ke)}const Yw$1=203;var XYZ_Abs_D65=new ColorSpace({id:"xyz-abs-d65",cssId:"--xyz-abs-d65",name:"Absolute XYZ D65",coords:{x:{refRange:[0,9504.7],name:"Xa"},y:{refRange:[0,1e4],name:"Ya"},z:{refRange:[0,10888.3],name:"Za"}},base:xyz_d65,fromBase(h){return h.map(v=>Math.max(v*Yw$1,0))},toBase(h){return h.map(v=>Math.max(v/Yw$1,0))}});const b$1=1.15,g=.66,n$1$1=2610/2**14,ninv$1=2**14/2610,c1$2=3424/2**12,c2$2=2413/2**7,c3$2=2392/2**7,p$1=1.7*2523/2**5,pinv=2**5/(1.7*2523),d$1=-.56,d0=16295499532821565e-27,XYZtoCone_M=[[.41478972,.579999,.014648],[-.20151,1.120649,.0531008],[-.0166008,.2648,.6684799]],ConetoXYZ_M=[[1.9242264357876067,-1.0047923125953657,.037651404030618],[.35031676209499907,.7264811939316552,-.06538442294808501],[-.09098281098284752,-.3127282905230739,1.5227665613052603]],ConetoIab_M=[[.5,.5,0],[3.524,-4.066708,.542708],[.199076,1.096799,-1.295875]],IabtoCone_M=[[1,.1386050432715393,.05804731615611886],[.9999999999999999,-.1386050432715393,-.05804731615611886],[.9999999999999998,-.09601924202631895,-.8118918960560388]];var Jzazbz=new ColorSpace({id:"jzazbz",name:"Jzazbz",coords:{jz:{refRange:[0,1],name:"Jz"},az:{refRange:[-.5,.5]},bz:{refRange:[-.5,.5]}},base:XYZ_Abs_D65,fromBase(h){let[v,y,_]=h,x=b$1*v-(b$1-1)*_,w=g*y-(g-1)*v,E=multiplyMatrices$1(XYZtoCone_M,[x,w,_]).map(function(z){let N=c1$2+c2$2*(z/1e4)**n$1$1,H=1+c3$2*(z/1e4)**n$1$1;return(N/H)**p$1}),[I,L,O]=multiplyMatrices$1(ConetoIab_M,E);return[(1+d$1)*I/(1+d$1*I)-d0,L,O]},toBase(h){let[v,y,_]=h,x=(v+d0)/(1+d$1-d$1*(v+d0)),S=multiplyMatrices$1(IabtoCone_M,[x,y,_]).map(function(z){let N=c1$2-z**pinv,H=c3$2*z**pinv-c2$2;return 1e4*(N/H)**ninv$1}),[E,I,L]=multiplyMatrices$1(ConetoXYZ_M,S),O=(E+(b$1-1)*L)/b$1,F=(I+(g-1)*O)/g;return[O,F,L]},formats:{color:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}}),jzczhz=new ColorSpace({id:"jzczhz",name:"JzCzHz",coords:{jz:{refRange:[0,1],name:"Jz"},cz:{refRange:[0,1],name:"Chroma"},hz:{refRange:[0,360],type:"angle",name:"Hue"}},base:Jzazbz,fromBase(h){let[v,y,_]=h,x;const w=2e-4;return Math.abs(y)<w&&Math.abs(_)<w?x=NaN:x=Math.atan2(_,y)*180/Math.PI,[v,Math.sqrt(y**2+_**2),constrain(x)]},toBase(h){return[h[0],h[1]*Math.cos(h[2]*Math.PI/180),h[1]*Math.sin(h[2]*Math.PI/180)]}});function deltaEJz(h,v){[h,v]=getColor([h,v]);let[y,_,x]=jzczhz.from(h),[w,S,E]=jzczhz.from(v),I=y-w,L=_-S;Number.isNaN(x)&&Number.isNaN(E)?(x=0,E=0):Number.isNaN(x)?x=E:Number.isNaN(E)&&(E=x);let O=x-E,F=2*Math.sqrt(_*S)*Math.sin(O/2*(Math.PI/180));return Math.sqrt(I**2+L**2+F**2)}const c1$1=3424/4096,c2$1=2413/128,c3$1=2392/128,m1$1=2610/16384,m2=2523/32,im1=16384/2610,im2=32/2523,XYZtoLMS_M=[[.3592832590121217,.6976051147779502,-.035891593232029],[-.1920808463704993,1.100476797037432,.0753748658519118],[.0070797844607479,.0748396662186362,.8433265453898765]],LMStoIPT_M=[[2048/4096,2048/4096,0],[6610/4096,-13613/4096,7003/4096],[17933/4096,-17390/4096,-543/4096]],IPTtoLMS_M=[[.9999999999999998,.0086090370379328,.111029625003026],[.9999999999999998,-.0086090370379328,-.1110296250030259],[.9999999999999998,.5600313357106791,-.3206271749873188]],LMStoXYZ_M=[[2.0701522183894223,-1.3263473389671563,.2066510476294053],[.3647385209748072,.6805660249472273,-.0453045459220347],[-.0497472075358123,-.0492609666966131,1.1880659249923042]];var ictcp=new ColorSpace({id:"ictcp",name:"ICTCP",coords:{i:{refRange:[0,1],name:"I"},ct:{refRange:[-.5,.5],name:"CT"},cp:{refRange:[-.5,.5],name:"CP"}},base:XYZ_Abs_D65,fromBase(h){let v=multiplyMatrices$1(XYZtoLMS_M,h);return LMStoICtCp(v)},toBase(h){let v=ICtCptoLMS(h);return multiplyMatrices$1(LMStoXYZ_M,v)}});function LMStoICtCp(h){let v=h.map(function(y){let _=c1$1+c2$1*(y/1e4)**m1$1,x=1+c3$1*(y/1e4)**m1$1;return(_/x)**m2});return multiplyMatrices$1(LMStoIPT_M,v)}function ICtCptoLMS(h){return multiplyMatrices$1(IPTtoLMS_M,h).map(function(_){let x=Math.max(_**im2-c1$1,0),w=c2$1-c3$1*_**im2;return 1e4*(x/w)**im1})}function deltaEITP(h,v){[h,v]=getColor([h,v]);let[y,_,x]=ictcp.from(h),[w,S,E]=ictcp.from(v);return 720*Math.sqrt((y-w)**2+.25*(_-S)**2+(x-E)**2)}const white$3=WHITES.D65,adaptedCoef=.42,adaptedCoefInv=1/adaptedCoef,tau$1=2*Math.PI,cat16=[[.401288,.650173,-.051461],[-.250268,1.204414,.045854],[-.002079,.048952,.953127]],cat16Inv=[[1.8620678550872327,-1.0112546305316843,.14918677544445175],[.38752654323613717,.6214474419314753,-.008973985167612518],[-.015841498849333856,-.03412293802851557,1.0499644368778496]],m1=[[460,451,288],[460,-891,-261],[460,-220,-6300]],surroundMap={dark:[.8,.525,.8],dim:[.9,.59,.9],average:[1,.69,1]},hueQuadMap={h:[20.14,90,164.25,237.53,380.14],e:[.8,.7,1,1.2,.8],H:[0,100,200,300,400]},rad2deg=180/Math.PI,deg2rad$1=Math.PI/180;function adapt$1(h,v){return h.map(_=>{const x=spow(v*Math.abs(_)*.01,adaptedCoef);return 400*copySign(x,_)/(x+27.13)})}function unadapt(h,v){const y=100/v*27.13**adaptedCoefInv;return h.map(_=>{const x=Math.abs(_);return copySign(y*spow(x/(400-x),adaptedCoefInv),_)})}function hueQuadrature(h){let v=constrain(h);v<=hueQuadMap.h[0]&&(v+=360);const y=bisectLeft(hueQuadMap.h,v)-1,[_,x]=hueQuadMap.h.slice(y,y+2),[w,S]=hueQuadMap.e.slice(y,y+2),E=hueQuadMap.H[y],I=(v-_)/w;return E+100*I/(I+(x-v)/S)}function invHueQuadrature(h){let v=(h%400+400)%400;const y=Math.floor(.01*v);v=v%100;const[_,x]=hueQuadMap.h.slice(y,y+2),[w,S]=hueQuadMap.e.slice(y,y+2);return constrain((v*(S*_-w*x)-100*_*S)/(v*(S-w)-100*S))}function environment(h,v,y,_,x){const w={};w.discounting=x,w.refWhite=h,w.surround=_;const S=h.map(X=>X*100);w.la=v,w.yb=y;const E=S[1],I=multiplyMatrices$1(cat16,S);_=surroundMap[w.surround];const L=_[0];w.c=_[1],w.nc=_[2];const F=(1/(5*w.la+1))**4;w.fl=F*w.la+.1*(1-F)*(1-F)*Math.cbrt(5*w.la),w.flRoot=w.fl**.25,w.n=w.yb/E,w.z=1.48+Math.sqrt(w.n),w.nbb=.725*w.n**-.2,w.ncb=w.nbb;const z=Math.max(Math.min(L*(1-1/3.6*Math.exp((-w.la-42)/92)),1),0);w.dRgb=I.map(X=>interpolate(1,E/X,z)),w.dRgbInv=w.dRgb.map(X=>1/X);const N=I.map((X,J)=>X*w.dRgb[J]),H=adapt$1(N,w.fl);return w.aW=w.nbb*(2*H[0]+H[1]+.05*H[2]),w}const viewingConditions$1=environment(white$3,64/Math.PI*.2,20,"average",!1);function fromCam16(h,v){if(!(h.J!==void 0^h.Q!==void 0))throw new Error("Conversion requires one and only one: 'J' or 'Q'");if(!(h.C!==void 0^h.M!==void 0^h.s!==void 0))throw new Error("Conversion requires one and only one: 'C', 'M' or 's'");if(!(h.h!==void 0^h.H!==void 0))throw new Error("Conversion requires one and only one: 'h' or 'H'");if(h.J===0||h.Q===0)return[0,0,0];let y=0;h.h!==void 0?y=constrain(h.h)*deg2rad$1:y=invHueQuadrature(h.H)*deg2rad$1;const _=Math.cos(y),x=Math.sin(y);let w=0;h.J!==void 0?w=spow(h.J,1/2)*.1:h.Q!==void 0&&(w=.25*v.c*h.Q/((v.aW+4)*v.flRoot));let S=0;h.C!==void 0?S=h.C/w:h.M!==void 0?S=h.M/v.flRoot/w:h.s!==void 0&&(S=4e-4*h.s**2*(v.aW+4)/v.c);const E=spow(S*Math.pow(1.64-Math.pow(.29,v.n),-.73),10/9),I=.25*(Math.cos(y+2)+3.8),L=v.aW*spow(w,2/v.c/v.z),O=5e4/13*v.nc*v.ncb*I,F=L/v.nbb,z=23*(F+.305)*zdiv(E,23*O+E*(11*_+108*x)),N=z*_,H=z*x,X=unadapt(multiplyMatrices$1(m1,[F,N,H]).map(J=>J*1/1403),v.fl);return multiplyMatrices$1(cat16Inv,X.map((J,ae)=>J*v.dRgbInv[ae])).map(J=>J/100)}function toCam16(h,v){const y=h.map(pe=>pe*100),_=adapt$1(multiplyMatrices$1(cat16,y).map((pe,de)=>pe*v.dRgb[de]),v.fl),x=_[0]+(-12*_[1]+_[2])/11,w=(_[0]+_[1]-2*_[2])/9,S=(Math.atan2(w,x)%tau$1+tau$1)%tau$1,E=.25*(Math.cos(S+2)+3.8),I=5e4/13*v.nc*v.ncb*zdiv(E*Math.sqrt(x**2+w**2),_[0]+_[1]+1.05*_[2]+.305),L=spow(I,.9)*Math.pow(1.64-Math.pow(.29,v.n),.73),O=v.nbb*(2*_[0]+_[1]+.05*_[2]),F=spow(O/v.aW,.5*v.c*v.z),z=100*spow(F,2),N=4/v.c*F*(v.aW+4)*v.flRoot,H=L*F,X=H*v.flRoot,J=constrain(S*rad2deg),ae=hueQuadrature(J),ve=50*spow(v.c*L/(v.aW+4),1/2);return{J:z,C:H,h:J,s:ve,Q:N,M:X,H:ae}}var cam16=new ColorSpace({id:"cam16-jmh",cssId:"--cam16-jmh",name:"CAM16-JMh",coords:{j:{refRange:[0,100],name:"J"},m:{refRange:[0,105],name:"Colorfulness"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:xyz_d65,fromBase(h){const v=toCam16(h,viewingConditions$1);return[v.J,v.M,v.h]},toBase(h){return fromCam16({J:h[0],M:h[1],h:h[2]},viewingConditions$1)}});const white$2=WHITES.D65,$4=216/24389,$3=24389/27;function toLstar(h){return 116*(h>$4?Math.cbrt(h):($3*h+16)/116)-16}function fromLstar(h){return h>8?Math.pow((h+16)/116,3):h/$3}function fromHct(h,v){let[y,_,x]=h,w=[],S=0;if(x===0)return[0,0,0];let E=fromLstar(x);x>0?S=.00379058511492914*x**2+.608983189401032*x+.9155088574762233:S=9514440756550361e-21*x**2+.08693057439788597*x-21.928975842194614;const I=2e-12,L=15;let O=0,F=1/0;for(;O<=L;){w=fromCam16({J:S,C:_,h:y},v);const z=Math.abs(w[1]-E);if(z<F){if(z<=I)return w;F=z}S=S-(w[1]-E)*S/(2*w[1]),O+=1}return fromCam16({J:S,C:_,h:y},v)}function toHct(h,v){const y=toLstar(h[1]);if(y===0)return[0,0,0];const _=toCam16(h,viewingConditions);return[constrain(_.h),_.C,y]}const viewingConditions=environment(white$2,200/Math.PI*fromLstar(50),fromLstar(50)*100,"average",!1);var hct=new ColorSpace({id:"hct",name:"HCT",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},c:{refRange:[0,145],name:"Colorfulness"},t:{refRange:[0,100],name:"Tone"}},base:xyz_d65,fromBase(h){return toHct(h)},toBase(h){return fromHct(h,viewingConditions)},formats:{color:{id:"--hct",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}});const deg2rad=Math.PI/180,ucsCoeff=[1,.007,.0228];function convertUcsAb(h){h[1]<0&&(h=hct.fromBase(hct.toBase(h)));const v=Math.log(Math.max(1+ucsCoeff[2]*h[1]*viewingConditions.flRoot,1))/ucsCoeff[2],y=h[0]*deg2rad,_=v*Math.cos(y),x=v*Math.sin(y);return[h[2],_,x]}function deltaEHCT(h,v){[h,v]=getColor([h,v]);let[y,_,x]=convertUcsAb(hct.from(h)),[w,S,E]=convertUcsAb(hct.from(v));return Math.sqrt((y-w)**2+(_-S)**2+(x-E)**2)}var deltaEMethods={deltaE76,deltaECMC,deltaE2000,deltaEJz,deltaEITP,deltaEOK,deltaEHCT};function calcEpsilon(h){const v=h?Math.floor(Math.log10(Math.abs(h))):0;return Math.max(parseFloat(`1e${v-2}`),1e-6)}const GMAPPRESET={hct:{method:"hct.c",jnd:2,deltaEMethod:"hct",blackWhiteClamp:{}},"hct-tonal":{method:"hct.c",jnd:0,deltaEMethod:"hct",blackWhiteClamp:{channel:"hct.t",min:0,max:100}}};function toGamut(h,{method:v=defaults.gamut_mapping,space:y=void 0,deltaEMethod:_="",jnd:x=2,blackWhiteClamp:w={}}={}){if(h=getColor(h),isString$2(arguments[1])?y=arguments[1]:y||(y=h.space),y=ColorSpace.get(y),inGamut(h,y,{epsilon:0}))return h;let S;if(v==="css")S=toGamutCSS(h,{space:y});else{if(v!=="clip"&&!inGamut(h,y)){Object.prototype.hasOwnProperty.call(GMAPPRESET,v)&&({method:v,jnd:x,deltaEMethod:_,blackWhiteClamp:w}=GMAPPRESET[v]);let E=deltaE2000;if(_!==""){for(let L in deltaEMethods)if("deltae"+_.toLowerCase()===L.toLowerCase()){E=deltaEMethods[L];break}}let I=toGamut(to(h,y),{method:"clip",space:y});if(E(h,I)>x){if(Object.keys(w).length===3){let ve=ColorSpace.resolveCoord(w.channel),pe=get(to(h,ve.space),ve.id);if(isNone(pe)&&(pe=0),pe>=w.max)return to({space:"xyz-d65",coords:WHITES.D65},h.space);if(pe<=w.min)return to({space:"xyz-d65",coords:[0,0,0]},h.space)}let L=ColorSpace.resolveCoord(v),O=L.space,F=L.id,z=to(h,O);z.coords.forEach((ve,pe)=>{isNone(ve)&&(z.coords[pe]=0)});let H=(L.range||L.refRange)[0],X=calcEpsilon(x),J=H,ae=get(z,F);for(;ae-J>X;){let ve=clone(z);ve=toGamut(ve,{space:y,method:"clip"}),E(z,ve)-x<X?J=get(z,F):ae=get(z,F),set(z,F,(J+ae)/2)}S=to(z,y)}else S=I}else S=to(h,y);if(v==="clip"||!inGamut(S,y,{epsilon:0})){let E=Object.values(y.coords).map(I=>I.range||[]);S.coords=S.coords.map((I,L)=>{let[O,F]=E[L];return O!==void 0&&(I=Math.max(O,I)),F!==void 0&&(I=Math.min(I,F)),I})}}return y!==h.space&&(S=to(S,h.space)),h.coords=S.coords,h}toGamut.returns="color";const COLORS={WHITE:{space:OKLab,coords:[1,0,0]},BLACK:{space:OKLab,coords:[0,0,0]}};function toGamutCSS(h,{space:v}={}){h=getColor(h),v||(v=h.space),v=ColorSpace.get(v);const x=ColorSpace.get("oklch");if(v.isUnbounded)return to(h,v);const w=to(h,x);let S=w.coords[0];if(S>=1){const H=to(COLORS.WHITE,v);return H.alpha=h.alpha,to(H,v)}if(S<=0){const H=to(COLORS.BLACK,v);return H.alpha=h.alpha,to(H,v)}if(inGamut(w,v,{epsilon:0}))return to(w,v);function E(H){const X=to(H,v),J=Object.values(v.coords);return X.coords=X.coords.map((ae,ve)=>{if("range"in J[ve]){const[pe,de]=J[ve].range;return clamp$2(pe,ae,de)}return ae}),X}let I=0,L=w.coords[1],O=!0,F=clone(w),z=E(F),N=deltaEOK(z,F);if(N<.02)return z;for(;L-I>1e-4;){const H=(I+L)/2;if(F.coords[1]=H,O&&inGamut(F,v,{epsilon:0}))I=H;else if(z=E(F),N=deltaEOK(z,F),N<.02){if(.02-N<1e-4)break;O=!1,I=H}else L=H}return z}function to(h,v,{inGamut:y}={}){h=getColor(h),v=ColorSpace.get(v);let _=v.from(h),x={space:v,coords:_,alpha:h.alpha};return y&&(x=toGamut(x,y===!0?void 0:y)),x}to.returns="color";function serialize(h,{precision:v=defaults.precision,format:y="default",inGamut:_=!0,...x}={}){var I;let w;h=getColor(h);let S=y;y=h.space.getFormat(y)??h.space.getFormat("default")??ColorSpace.DEFAULT_FORMAT;let E=h.coords.slice();if(_||(_=y.toGamut),_&&!inGamut(h)&&(E=toGamut(clone(h),_===!0?void 0:_).coords),y.type==="custom")if(x.precision=v,y.serialize)w=y.serialize(E,h.alpha,x);else throw new TypeError(`format ${S} can only be used to parse colors, not for serialization`);else{let L=y.name||"color";y.serializeCoords?E=y.serializeCoords(E,v):v!==null&&(E=E.map(N=>serializeNumber(N,{precision:v})));let O=[...E];if(L==="color"){let N=y.id||((I=y.ids)==null?void 0:I[0])||h.space.id;O.unshift(N)}let F=h.alpha;v!==null&&(F=serializeNumber(F,{precision:v}));let z=h.alpha>=1||y.noAlpha?"":`${y.commas?",":" /"} ${F}`;w=`${L}(${O.join(y.commas?", ":" ")}${z})`}return w}const toXYZ_M$5=[[.6369580483012914,.14461690358620832,.1688809751641721],[.2627002120112671,.6779980715188708,.05930171646986196],[0,.028072693049087428,1.060985057710791]],fromXYZ_M$5=[[1.716651187971268,-.355670783776392,-.25336628137366],[-.666684351832489,1.616481236634939,.0157685458139111],[.017639857445311,-.042770613257809,.942103121235474]];var REC2020Linear=new RGBColorSpace({id:"rec2020-linear",cssId:"--rec2020-linear",name:"Linear REC.2020",white:"D65",toXYZ_M:toXYZ_M$5,fromXYZ_M:fromXYZ_M$5});const =1.09929682680944,=.018053968510807;var REC2020=new RGBColorSpace({id:"rec2020",name:"REC.2020",base:REC2020Linear,toBase(h){return h.map(function(v){return v<*4.5?v/4.5:Math.pow((v+-1)/,1/.45)})},fromBase(h){return h.map(function(v){return v>=?*Math.pow(v,.45)-(-1):4.5*v})}});const toXYZ_M$4=[[.4865709486482162,.26566769316909306,.1982172852343625],[.2289745640697488,.6917385218365064,.079286914093745],[0,.04511338185890264,1.043944368900976]],fromXYZ_M$4=[[2.493496911941425,-.9313836179191239,-.40271078445071684],[-.8294889695615747,1.7626640603183463,.023624685841943577],[.03584583024378447,-.07617238926804182,.9568845240076872]];var P3Linear=new RGBColorSpace({id:"p3-linear",cssId:"--display-p3-linear",name:"Linear P3",white:"D65",toXYZ_M:toXYZ_M$4,fromXYZ_M:fromXYZ_M$4});const toXYZ_M$3=[[.41239079926595934,.357584339383878,.1804807884018343],[.21263900587151027,.715168678767756,.07219231536073371],[.01933081871559182,.11919477979462598,.9505321522496607]],fromXYZ_M$3=[[3.2409699419045226,-1.537383177570094,-.4986107602930034],[-.9692436362808796,1.8759675015077202,.04155505740717559],[.05563007969699366,-.20397695888897652,1.0569715142428786]];var sRGBLinear=new RGBColorSpace({id:"srgb-linear",name:"Linear sRGB",white:"D65",toXYZ_M:toXYZ_M$3,fromXYZ_M:fromXYZ_M$3}),KEYWORDS={aliceblue:[240/255,248/255,1],antiquewhite:[250/255,235/255,215/255],aqua:[0,1,1],aquamarine:[127/255,1,212/255],azure:[240/255,1,1],beige:[245/255,245/255,220/255],bisque:[1,228/255,196/255],black:[0,0,0],blanchedalmond:[1,235/255,205/255],blue:[0,0,1],blueviolet:[138/255,43/255,226/255],brown:[165/255,42/255,42/255],burlywood:[222/255,184/255,135/255],cadetblue:[95/255,158/255,160/255],chartreuse:[127/255,1,0],chocolate:[210/255,105/255,30/255],coral:[1,127/255,80/255],cornflowerblue:[100/255,149/255,237/255],cornsilk:[1,248/255,220/255],crimson:[220/255,20/255,60/255],cyan:[0,1,1],darkblue:[0,0,139/255],darkcyan:[0,139/255,139/255],darkgoldenrod:[184/255,134/255,11/255],darkgray:[169/255,169/255,169/255],darkgreen:[0,100/255,0],darkgrey:[169/255,169/255,169/255],darkkhaki:[189/255,183/255,107/255],darkmagenta:[139/255,0,139/255],darkolivegreen:[85/255,107/255,47/255],darkorange:[1,140/255,0],darkorchid:[153/255,50/255,204/255],darkred:[139/255,0,0],darksalmon:[233/255,150/255,122/255],darkseagreen:[143/255,188/255,143/255],darkslateblue:[72/255,61/255,139/255],darkslategray:[47/255,79/255,79/255],darkslategrey:[47/255,79/255,79/255],darkturquoise:[0,206/255,209/255],darkviolet:[148/255,0,211/255],deeppink:[1,20/255,147/255],deepskyblue:[0,191/255,1],dimgray:[105/255,105/255,105/255],dimgrey:[105/255,105/255,105/255],dodgerblue:[30/255,144/255,1],firebrick:[178/255,34/255,34/255],floralwhite:[1,250/255,240/255],forestgreen:[34/255,139/255,34/255],fuchsia:[1,0,1],gainsboro:[220/255,220/255,220/255],ghostwhite:[248/255,248/255,1],gold:[1,215/255,0],goldenrod:[218/255,165/255,32/255],gray:[128/255,128/255,128/255],green:[0,128/255,0],greenyellow:[173/255,1,47/255],grey:[128/255,128/255,128/255],honeydew:[240/255,1,240/255],hotpink:[1,105/255,180/255],indianred:[205/255,92/255,92/255],indigo:[75/255,0,130/255],ivory:[1,1,240/255],khaki:[240/255,230/255,140/255],lavender:[230/255,230/255,250/255],lavenderblush:[1,240/255,245/255],lawngreen:[124/255,252/255,0],lemonchiffon:[1,250/255,205/255],lightblue:[173/255,216/255,230/255],lightcoral:[240/255,128/255,128/255],lightcyan:[224/255,1,1],lightgoldenrodyellow:[250/255,250/255,210/255],lightgray:[211/255,211/255,211/255],lightgreen:[144/255,238/255,144/255],lightgrey:[211/255,211/255,211/255],lightpink:[1,182/255,193/255],lightsalmon:[1,160/255,122/255],lightseagreen:[32/255,178/255,170/255],lightskyblue:[135/255,206/255,250/255],lightslategray:[119/255,136/255,153/255],lightslategrey:[119/255,136/255,153/255],lightsteelblue:[176/255,196/255,222/255],lightyellow:[1,1,224/255],lime:[0,1,0],limegreen:[50/255,205/255,50/255],linen:[250/255,240/255,230/255],magenta:[1,0,1],maroon:[128/255,0,0],mediumaquamarine:[102/255,205/255,170/255],mediumblue:[0,0,205/255],mediumorchid:[186/255,85/255,211/255],mediumpurple:[147/255,112/255,219/255],mediumseagreen:[60/255,179/255,113/255],mediumslateblue:[123/255,104/255,238/255],mediumspringgreen:[0,250/255,154/255],mediumturquoise:[72/255,209/255,204/255],mediumvioletred:[199/255,21/255,133/255],midnightblue:[25/255,25/255,112/255],mintcream:[245/255,1,250/255],mistyrose:[1,228/255,225/255],moccasin:[1,228/255,181/255],navajowhite:[1,222/255,173/255],navy:[0,0,128/255],oldlace:[253/255,245/255,230/255],olive:[128/255,128/255,0],olivedrab:[107/255,142/255,35/255],orange:[1,165/255,0],orangered:[1,69/255,0],orchid:[218/255,112/255,214/255],palegoldenrod:[238/255,232/255,170/255],palegreen:[152/255,251/255,152/255],paleturquoise:[175/255,238/255,238/255],palevioletred:[219/255,112/255,147/255],papayawhip:[1,239/255,213/255],peachpuff:[1,218/255,185/255],peru:[205/255,133/255,63/255],pink:[1,192/255,203/255],plum:[221/255,160/255,221/255],powderblue:[176/255,224/255,230/255],purple:[128/255,0,128/255],rebeccapurple:[102/255,51/255,153/255],red:[1,0,0],rosybrown:[188/255,143/255,143/255],royalblue:[65/255,105/255,225/255],saddlebrown:[139/255,69/255,19/255],salmon:[250/255,128/255,114/255],sandybrown:[244/255,164/255,96/255],seagreen:[46/255,139/255,87/255],seashell:[1,245/255,238/255],sienna:[160/255,82/255,45/255],silver:[192/255,192/255,192/255],skyblue:[135/255,206/255,235/255],slateblue:[106/255,90/255,205/255],slategray:[112/255,128/255,144/255],slategrey:[112/255,128/255,144/255],snow:[1,250/255,250/255],springgreen:[0,1,127/255],steelblue:[70/255,130/255,180/255],tan:[210/255,180/255,140/255],teal:[0,128/255,128/255],thistle:[216/255,191/255,216/255],tomato:[1,99/255,71/255],turquoise:[64/255,224/255,208/255],violet:[238/255,130/255,238/255],wheat:[245/255,222/255,179/255],white:[1,1,1],whitesmoke:[245/255,245/255,245/255],yellow:[1,1,0],yellowgreen:[154/255,205/255,50/255]};let coordGrammar=Array(3).fill("<percentage> | <number>[0, 255]"),coordGrammarNumber=Array(3).fill("<number>[0, 255]");var sRGB=new RGBColorSpace({id:"srgb",name:"sRGB",base:sRGBLinear,fromBase:h=>h.map(v=>{let y=v<0?-1:1,_=v*y;return _>.0031308?y*(1.055*_**(1/2.4)-.055):12.92*v}),toBase:h=>h.map(v=>{let y=v<0?-1:1,_=v*y;return _<=.04045?v/12.92:y*((_+.055)/1.055)**2.4}),formats:{rgb:{coords:coordGrammar},rgb_number:{name:"rgb",commas:!0,coords:coordGrammarNumber,noAlpha:!0},color:{},rgba:{coords:coordGrammar,commas:!0,lastAlpha:!0},rgba_number:{name:"rgba",commas:!0,coords:coordGrammarNumber},hex:{type:"custom",toGamut:!0,test:h=>/^#([a-f0-9]{3,4}){1,2}$/i.test(h),parse(h){h.length<=5&&(h=h.replace(/[a-f0-9]/gi,"$&$&"));let v=[];return h.replace(/[a-f0-9]{2}/gi,y=>{v.push(parseInt(y,16)/255)}),{spaceId:"srgb",coords:v.slice(0,3),alpha:v.slice(3)[0]}},serialize:(h,v,{collapse:y=!0}={})=>{v<1&&h.push(v),h=h.map(w=>Math.round(w*255));let _=y&&h.every(w=>w%17===0);return"#"+h.map(w=>_?(w/17).toString(16):w.toString(16).padStart(2,"0")).join("")}},keyword:{type:"custom",test:h=>/^[a-z]+$/i.test(h),parse(h){h=h.toLowerCase();let v={spaceId:"srgb",coords:null,alpha:1};if(h==="transparent"?(v.coords=KEYWORDS.black,v.alpha=0):v.coords=KEYWORDS[h],v.coords)return v}}}}),P3=new RGBColorSpace({id:"p3",cssId:"display-p3",name:"P3",base:P3Linear,fromBase:sRGB.fromBase,toBase:sRGB.toBase});defaults.display_space=sRGB;let supportsNone;if(typeof CSS<"u"&&CSS.supports)for(let h of[lab$2,REC2020,P3]){let v=h.getMinCoords(),_=serialize({space:h,coords:v,alpha:1});if(CSS.supports("color",_)){defaults.display_space=h;break}}function display(h,{space:v=defaults.display_space,...y}={}){let _=serialize(h,y);if(typeof CSS>"u"||CSS.supports("color",_)||!defaults.display_space)_=new String(_),_.color=h;else{let x=h;if((h.coords.some(isNone)||isNone(h.alpha))&&!(supportsNone??(supportsNone=CSS.supports("color","hsl(none 50% 50%)")))&&(x=clone(h),x.coords=x.coords.map(skipNone),x.alpha=skipNone(x.alpha),_=serialize(x,y),CSS.supports("color",_)))return _=new String(_),_.color=x,_;x=to(x,v),_=new String(serialize(x,y)),_.color=x}return _}function equals(h,v){return h=getColor(h),v=getColor(v),h.space===v.space&&h.alpha===v.alpha&&h.coords.every((y,_)=>y===v.coords[_])}function getLuminance(h){return get(h,[xyz_d65,"y"])}function setLuminance(h,v){set(h,[xyz_d65,"y"],v)}function register$2(h){Object.defineProperty(h.prototype,"luminance",{get(){return getLuminance(this)},set(v){setLuminance(this,v)}})}var luminance=Object.freeze({__proto__:null,getLuminance,register:register$2,setLuminance});function contrastWCAG21(h,v){h=getColor(h),v=getColor(v);let y=Math.max(getLuminance(h),0),_=Math.max(getLuminance(v),0);return _>y&&([y,_]=[_,y]),(y+.05)/(_+.05)}const normBG=.56,normTXT=.57,revTXT=.62,revBG=.65,blkThrs=.022,blkClmp=1.414,loClip=.1,deltaYmin=5e-4,scaleBoW=1.14,loBoWoffset=.027,scaleWoB=1.14;function fclamp(h){return h>=blkThrs?h:h+(blkThrs-h)**blkClmp}function linearize(h){let v=h<0?-1:1,y=Math.abs(h);return v*Math.pow(y,2.4)}function contrastAPCA$1(h,v){v=getColor(v),h=getColor(h);let y,_,x,w,S,E;v=to(v,"srgb"),[w,S,E]=v.coords;let I=linearize(w)*.2126729+linearize(S)*.7151522+linearize(E)*.072175;h=to(h,"srgb"),[w,S,E]=h.coords;let L=linearize(w)*.2126729+linearize(S)*.7151522+linearize(E)*.072175,O=fclamp(I),F=fclamp(L),z=F>O;return Math.abs(F-O)<deltaYmin?_=0:z?(y=F**normBG-O**normTXT,_=y*scaleBoW):(y=F**revBG-O**revTXT,_=y*scaleWoB),Math.abs(_)<loClip?x=0:_>0?x=_-loBoWoffset:x=_+loBoWoffset,x*100}function contrastMichelson(h,v){h=getColor(h),v=getColor(v);let y=Math.max(getLuminance(h),0),_=Math.max(getLuminance(v),0);_>y&&([y,_]=[_,y]);let x=y+_;return x===0?0:(y-_)/x}const max$7=5e4;function contrastWeber(h,v){h=getColor(h),v=getColor(v);let y=Math.max(getLuminance(h),0),_=Math.max(getLuminance(v),0);return _>y&&([y,_]=[_,y]),_===0?max$7:(y-_)/_}function contrastLstar(h,v){h=getColor(h),v=getColor(v);let y=get(h,[lab$2,"l"]),_=get(v,[lab$2,"l"]);return Math.abs(y-_)}const $3=216/24389,3=24/116,$2=24389/27;let white$1=WHITES.D65;var lab_d65=new ColorSpace({id:"lab-d65",name:"Lab D65",coords:{l:{refRange:[0,100],name:"Lightness"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:white$1,base:xyz_d65,fromBase(h){let y=h.map((_,x)=>_/white$1[x]).map(_=>_>$3?Math.cbrt(_):($2*_+16)/116);return[116*y[1]-16,500*(y[0]-y[1]),200*(y[1]-y[2])]},toBase(h){let v=[];return v[1]=(h[0]+16)/116,v[0]=h[1]/500+v[1],v[2]=v[1]-h[2]/200,[v[0]>3?Math.pow(v[0],3):(116*v[0]-16)/$2,h[0]>8?Math.pow((h[0]+16)/116,3):h[0]/$2,v[2]>3?Math.pow(v[2],3):(116*v[2]-16)/$2].map((_,x)=>_*white$1[x])},formats:{"lab-d65":{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});const phi=Math.pow(5,.5)*.5+.5;function contrastDeltaPhi(h,v){h=getColor(h),v=getColor(v);let y=get(h,[lab_d65,"l"]),_=get(v,[lab_d65,"l"]),x=Math.abs(Math.pow(y,phi)-Math.pow(_,phi)),w=Math.pow(x,1/phi)*Math.SQRT2-40;return w<7.5?0:w}var contrastMethods=Object.freeze({__proto__:null,contrastAPCA:contrastAPCA$1,contrastDeltaPhi,contrastLstar,contrastMichelson,contrastWCAG21,contrastWeber});function contrast$1(h,v,y={}){isString$2(y)&&(y={algorithm:y});let{algorithm:_,...x}=y;if(!_){let w=Object.keys(contrastMethods).map(S=>S.replace(/^contrast/,"")).join(", ");throw new TypeError(`contrast() function needs a contrast algorithm. Please specify one of: ${w}`)}h=getColor(h),v=getColor(v);for(let w in contrastMethods)if("contrast"+_.toLowerCase()===w.toLowerCase())return contrastMethods[w](h,v,x);throw new TypeError(`Unknown contrast algorithm: ${_}`)}function uv(h){let[v,y,_]=getAll(h,xyz_d65),x=v+15*y+3*_;return[4*v/x,9*y/x]}function xy(h){let[v,y,_]=getAll(h,xyz_d65),x=v+y+_;return[v/x,y/x]}function register$1(h){Object.defineProperty(h.prototype,"uv",{get(){return uv(this)}}),Object.defineProperty(h.prototype,"xy",{get(){return xy(this)}})}var chromaticity=Object.freeze({__proto__:null,register:register$1,uv,xy});function deltaE$1(h,v,y={}){isString$2(y)&&(y={method:y});let{method:_=defaults.deltaE,...x}=y;for(let w in deltaEMethods)if("deltae"+_.toLowerCase()===w.toLowerCase())return deltaEMethods[w](h,v,x);throw new TypeError(`Unknown deltaE method: ${_}`)}function lighten$1(h,v=.25){let _=[ColorSpace.get("oklch","lch"),"l"];return set(h,_,x=>x*(1+v))}function darken$1(h,v=.25){let _=[ColorSpace.get("oklch","lch"),"l"];return set(h,_,x=>x*(1-v))}var variations=Object.freeze({__proto__:null,darken:darken$1,lighten:lighten$1});function mix$1(h,v,y=.5,_={}){return[h,v]=[getColor(h),getColor(v)],type$1(y)==="object"&&([y,_]=[.5,y]),range(h,v,_)(y)}function steps(h,v,y={}){let _;isRange(h)&&([_,y]=[h,v],[h,v]=_.rangeArgs.colors);let{maxDeltaE:x,deltaEMethod:w,steps:S=2,maxSteps:E=1e3,...I}=y;_||([h,v]=[getColor(h),getColor(v)],_=range(h,v,I));let L=deltaE$1(h,v),O=x>0?Math.max(S,Math.ceil(L/x)+1):S,F=[];if(E!==void 0&&(O=Math.min(O,E)),O===1)F=[{p:.5,color:_(.5)}];else{let z=1/(O-1);F=Array.from({length:O},(N,H)=>{let X=H*z;return{p:X,color:_(X)}})}if(x>0){let z=F.reduce((N,H,X)=>{if(X===0)return 0;let J=deltaE$1(H.color,F[X-1].color,w);return Math.max(N,J)},0);for(;z>x;){z=0;for(let N=1;N<F.length&&F.length<E;N++){let H=F[N-1],X=F[N],J=(X.p+H.p)/2,ae=_(J);z=Math.max(z,deltaE$1(ae,H.color),deltaE$1(ae,X.color)),F.splice(N,0,{p:J,color:_(J)}),N++}}}return F=F.map(z=>z.color),F}function range(h,v,y={}){if(isRange(h)){let[I,L]=[h,v];return range(...I.rangeArgs.colors,{...I.rangeArgs.options,...L})}let{space:_,outputSpace:x,progression:w,premultiplied:S}=y;h=getColor(h),v=getColor(v),h=clone(h),v=clone(v);let E={colors:[h,v],options:y};if(_?_=ColorSpace.get(_):_=ColorSpace.registry[defaults.interpolationSpace]||h.space,x=x?ColorSpace.get(x):_,h=to(h,_),v=to(v,_),h=toGamut(h),v=toGamut(v),_.coords.h&&_.coords.h.type==="angle"){let I=y.hue=y.hue||"shorter",L=[_,"h"],[O,F]=[get(h,L),get(v,L)];isNaN(O)&&!isNaN(F)?O=F:isNaN(F)&&!isNaN(O)&&(F=O),[O,F]=adjust(I,[O,F]),set(h,L,O),set(v,L,F)}return S&&(h.coords=h.coords.map(I=>I*h.alpha),v.coords=v.coords.map(I=>I*v.alpha)),Object.assign(I=>{I=w?w(I):I;let L=h.coords.map((z,N)=>{let H=v.coords[N];return interpolate(z,H,I)}),O=interpolate(h.alpha,v.alpha,I),F={space:_,coords:L,alpha:O};return S&&(F.coords=F.coords.map(z=>z/O)),x!==_&&(F=to(F,x)),F},{rangeArgs:E})}function isRange(h){return type$1(h)==="function"&&!!h.rangeArgs}defaults.interpolationSpace="lab";function register(h){h.defineFunction("mix",mix$1,{returns:"color"}),h.defineFunction("range",range,{returns:"function<color>"}),h.defineFunction("steps",steps,{returns:"array<color>"})}var interpolation=Object.freeze({__proto__:null,isRange,mix:mix$1,range,register,steps}),HSL=new ColorSpace({id:"hsl",name:"HSL",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:sRGB,fromBase:h=>{let v=Math.max(...h),y=Math.min(...h),[_,x,w]=h,[S,E,I]=[NaN,0,(y+v)/2],L=v-y;if(L!==0){switch(E=I===0||I===1?0:(v-I)/Math.min(I,1-I),v){case _:S=(x-w)/L+(x<w?6:0);break;case x:S=(w-_)/L+2;break;case w:S=(_-x)/L+4}S=S*60}return E<0&&(S+=180,E=Math.abs(E)),S>=360&&(S-=360),[S,E*100,I*100]},toBase:h=>{let[v,y,_]=h;v=v%360,v<0&&(v+=360),y/=100,_/=100;function x(w){let S=(w+v/30)%12,E=y*Math.min(_,1-_);return _-E*Math.max(-1,Math.min(S-3,9-S,1))}return[x(0),x(8),x(4)]},formats:{hsl:{coords:["<number> | <angle>","<percentage>","<percentage>"]},hsla:{coords:["<number> | <angle>","<percentage>","<percentage>"],commas:!0,lastAlpha:!0}}}),HSV=new ColorSpace({id:"hsv",name:"HSV",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},v:{range:[0,100],name:"Value"}},base:HSL,fromBase(h){let[v,y,_]=h;y/=100,_/=100;let x=_+y*Math.min(_,1-_);return[v,x===0?0:200*(1-_/x),100*x]},toBase(h){let[v,y,_]=h;y/=100,_/=100;let x=_*(1-y/2);return[v,x===0||x===1?0:(_-x)/Math.min(x,1-x)*100,x*100]},formats:{color:{id:"--hsv",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}}),hwb=new ColorSpace({id:"hwb",name:"HWB",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},w:{range:[0,100],name:"Whiteness"},b:{range:[0,100],name:"Blackness"}},base:HSV,fromBase(h){let[v,y,_]=h;return[v,_*(100-y)/100,100-_]},toBase(h){let[v,y,_]=h;y/=100,_/=100;let x=y+_;if(x>=1){let E=y/x;return[v,0,E*100]}let w=1-_,S=w===0?0:1-y/w;return[v,S*100,w*100]},formats:{hwb:{coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}});const toXYZ_M$2=[[.5766690429101305,.1855582379065463,.1882286462349947],[.29734497525053605,.6273635662554661,.07529145849399788],[.02703136138641234,.07068885253582723,.9913375368376388]],fromXYZ_M$2=[[2.0415879038107465,-.5650069742788596,-.34473135077832956],[-.9692436362808795,1.8759675015077202,.04155505740717557],[.013444280632031142,-.11836239223101838,1.0151749943912054]];var A98Linear=new RGBColorSpace({id:"a98rgb-linear",cssId:"--a98-rgb-linear",name:"Linear Adobe 98 RGB compatible",white:"D65",toXYZ_M:toXYZ_M$2,fromXYZ_M:fromXYZ_M$2}),a98rgb=new RGBColorSpace({id:"a98rgb",cssId:"a98-rgb",name:"Adobe 98 RGB compatible",base:A98Linear,toBase:h=>h.map(v=>Math.pow(Math.abs(v),563/256)*Math.sign(v)),fromBase:h=>h.map(v=>Math.pow(Math.abs(v),256/563)*Math.sign(v))});const toXYZ_M$1=[[.7977666449006423,.13518129740053308,.0313477341283922],[.2880748288194013,.711835234241873,8993693872564e-17],[0,0,.8251046025104602]],fromXYZ_M$1=[[1.3457868816471583,-.25557208737979464,-.05110186497554526],[-.5446307051249019,1.5082477428451468,.02052744743642139],[0,0,1.2119675456389452]];var ProPhotoLinear=new RGBColorSpace({id:"prophoto-linear",cssId:"--prophoto-rgb-linear",name:"Linear ProPhoto",white:"D50",base:XYZ_D50,toXYZ_M:toXYZ_M$1,fromXYZ_M:fromXYZ_M$1});const Et=1/512,Et2=16/512;var prophoto=new RGBColorSpace({id:"prophoto",cssId:"prophoto-rgb",name:"ProPhoto",base:ProPhotoLinear,toBase(h){return h.map(v=>v<Et2?v/16:v**1.8)},fromBase(h){return h.map(v=>v>=Et?v**(1/1.8):16*v)}}),oklch$2=new ColorSpace({id:"oklch",name:"Oklch",coords:{l:{refRange:[0,1],name:"Lightness"},c:{refRange:[0,.4],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},white:"D65",base:OKLab,fromBase(h){let[v,y,_]=h,x;const w=2e-4;return Math.abs(y)<w&&Math.abs(_)<w?x=NaN:x=Math.atan2(_,y)*180/Math.PI,[v,Math.sqrt(y**2+_**2),constrain(x)]},toBase(h){let[v,y,_]=h,x,w;return isNaN(_)?(x=0,w=0):(x=y*Math.cos(_*Math.PI/180),w=y*Math.sin(_*Math.PI/180)),[v,x,w]},formats:{oklch:{coords:["<percentage> | <number>","<number> | <percentage>[0,1]","<number> | <angle>"]}}});let white=WHITES.D65;const $2=216/24389,$1=24389/27,[U_PRIME_WHITE,V_PRIME_WHITE]=uv({space:xyz_d65,coords:white});var Luv=new ColorSpace({id:"luv",name:"Luv",coords:{l:{refRange:[0,100],name:"Lightness"},u:{refRange:[-215,215]},v:{refRange:[-215,215]}},white,base:xyz_d65,fromBase(h){let v=[skipNone(h[0]),skipNone(h[1]),skipNone(h[2])],y=v[1],[_,x]=uv({space:xyz_d65,coords:v});if(!Number.isFinite(_)||!Number.isFinite(x))return[0,0,0];let w=y<=$2?$1*y:116*Math.cbrt(y)-16;return[w,13*w*(_-U_PRIME_WHITE),13*w*(x-V_PRIME_WHITE)]},toBase(h){let[v,y,_]=h;if(v===0||isNone(v))return[0,0,0];y=skipNone(y),_=skipNone(_);let x=y/(13*v)+U_PRIME_WHITE,w=_/(13*v)+V_PRIME_WHITE,S=v<=8?v/$1:Math.pow((v+16)/116,3);return[S*(9*x/(4*w)),S,S*((12-3*x-20*w)/(4*w))]},formats:{color:{id:"--luv",coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}}),LCHuv=new ColorSpace({id:"lchuv",name:"LChuv",coords:{l:{refRange:[0,100],name:"Lightness"},c:{refRange:[0,220],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:Luv,fromBase(h){let[v,y,_]=h,x;const w=.02;return Math.abs(y)<w&&Math.abs(_)<w?x=NaN:x=Math.atan2(_,y)*180/Math.PI,[v,Math.sqrt(y**2+_**2),constrain(x)]},toBase(h){let[v,y,_]=h;return y<0&&(y=0),isNaN(_)&&(_=0),[v,y*Math.cos(_*Math.PI/180),y*Math.sin(_*Math.PI/180)]},formats:{color:{id:"--lchuv",coords:["<number> | <percentage>","<number> | <percentage>","<number> | <angle>"]}}});const $1=216/24389,=24389/27,m_r0=fromXYZ_M$3[0][0],m_r1=fromXYZ_M$3[0][1],m_r2=fromXYZ_M$3[0][2],m_g0=fromXYZ_M$3[1][0],m_g1=fromXYZ_M$3[1][1],m_g2=fromXYZ_M$3[1][2],m_b0=fromXYZ_M$3[2][0],m_b1=fromXYZ_M$3[2][1],m_b2=fromXYZ_M$3[2][2];function distanceFromOriginAngle(h,v,y){const _=v/(Math.sin(y)-h*Math.cos(y));return _<0?1/0:_}function calculateBoundingLines(h){const v=Math.pow(h+16,3)/1560896,y=v>$1?v:h/,_=y*(284517*m_r0-94839*m_r2),x=y*(838422*m_r2+769860*m_r1+731718*m_r0),w=y*(632260*m_r2-126452*m_r1),S=y*(284517*m_g0-94839*m_g2),E=y*(838422*m_g2+769860*m_g1+731718*m_g0),I=y*(632260*m_g2-126452*m_g1),L=y*(284517*m_b0-94839*m_b2),O=y*(838422*m_b2+769860*m_b1+731718*m_b0),F=y*(632260*m_b2-126452*m_b1);return{r0s:_/w,r0i:x*h/w,r1s:_/(w+126452),r1i:(x-769860)*h/(w+126452),g0s:S/I,g0i:E*h/I,g1s:S/(I+126452),g1i:(E-769860)*h/(I+126452),b0s:L/F,b0i:O*h/F,b1s:L/(F+126452),b1i:(O-769860)*h/(F+126452)}}function calcMaxChromaHsluv(h,v){const y=v/360*Math.PI*2,_=distanceFromOriginAngle(h.r0s,h.r0i,y),x=distanceFromOriginAngle(h.r1s,h.r1i,y),w=distanceFromOriginAngle(h.g0s,h.g0i,y),S=distanceFromOriginAngle(h.g1s,h.g1i,y),E=distanceFromOriginAngle(h.b0s,h.b0i,y),I=distanceFromOriginAngle(h.b1s,h.b1i,y);return Math.min(_,x,w,S,E,I)}var hsluv=new ColorSpace({id:"hsluv",name:"HSLuv",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:LCHuv,gamutSpace:sRGB,fromBase(h){let[v,y,_]=[skipNone(h[0]),skipNone(h[1]),skipNone(h[2])],x;if(v>99.9999999)x=0,v=100;else if(v<1e-8)x=0,v=0;else{let w=calculateBoundingLines(v),S=calcMaxChromaHsluv(w,_);x=y/S*100}return[_,x,v]},toBase(h){let[v,y,_]=[skipNone(h[0]),skipNone(h[1]),skipNone(h[2])],x;if(_>99.9999999)_=100,x=0;else if(_<1e-8)_=0,x=0;else{let w=calculateBoundingLines(_);x=calcMaxChromaHsluv(w,v)/100*y}return[_,x,v]},formats:{color:{id:"--hsluv",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}});fromXYZ_M$3[0][0],fromXYZ_M$3[0][1],fromXYZ_M$3[0][2],fromXYZ_M$3[1][0],fromXYZ_M$3[1][1],fromXYZ_M$3[1][2],fromXYZ_M$3[2][0],fromXYZ_M$3[2][1],fromXYZ_M$3[2][2];function distanceFromOrigin(h,v){return Math.abs(v)/Math.sqrt(Math.pow(h,2)+1)}function calcMaxChromaHpluv(h){let v=distanceFromOrigin(h.r0s,h.r0i),y=distanceFromOrigin(h.r1s,h.r1i),_=distanceFromOrigin(h.g0s,h.g0i),x=distanceFromOrigin(h.g1s,h.g1i),w=distanceFromOrigin(h.b0s,h.b0i),S=distanceFromOrigin(h.b1s,h.b1i);return Math.min(v,y,_,x,w,S)}var hpluv=new ColorSpace({id:"hpluv",name:"HPLuv",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:LCHuv,gamutSpace:"self",fromBase(h){let[v,y,_]=[skipNone(h[0]),skipNone(h[1]),skipNone(h[2])],x;if(v>99.9999999)x=0,v=100;else if(v<1e-8)x=0,v=0;else{let w=calculateBoundingLines(v),S=calcMaxChromaHpluv(w);x=y/S*100}return[_,x,v]},toBase(h){let[v,y,_]=[skipNone(h[0]),skipNone(h[1]),skipNone(h[2])],x;if(_>99.9999999)_=100,x=0;else if(_<1e-8)_=0,x=0;else{let w=calculateBoundingLines(_);x=calcMaxChromaHpluv(w)/100*y}return[_,x,v]},formats:{color:{id:"--hpluv",coords:["<number> | <angle>","<percentage> | <number>","<percentage> | <number>"]}}});const Yw=203,n$2=2610/2**14,ninv=2**14/2610,m=2523/2**5,minv=2**5/2523,c1=3424/2**12,c2=2413/2**7,c3=2392/2**7;var rec2100Pq=new RGBColorSpace({id:"rec2100pq",cssId:"rec2100-pq",name:"REC.2100-PQ",base:REC2020Linear,toBase(h){return h.map(function(v){return(Math.max(v**minv-c1,0)/(c2-c3*v**minv))**ninv*1e4/Yw})},fromBase(h){return h.map(function(v){let y=Math.max(v*Yw/1e4,0),_=c1+c2*y**n$2,x=1+c3*y**n$2;return(_/x)**m})}});const a$1=.17883277,b$2=.28466892,c$1=.55991073,scale$1=3.7743;var rec2100Hlg=new RGBColorSpace({id:"rec2100hlg",cssId:"rec2100-hlg",name:"REC.2100-HLG",referred:"scene",base:REC2020Linear,toBase(h){return h.map(function(v){return v<=.5?v**2/3*scale$1:(Math.exp((v-c$1)/a$1)+b$2)/12*scale$1})},fromBase(h){return h.map(function(v){return v/=scale$1,v<=1/12?Math.sqrt(3*v):a$1*Math.log(12*v-b$2)+c$1})}});const CATs={};hooks.add("chromatic-adaptation-start",h=>{h.options.method&&(h.M=adapt$3(h.W1,h.W2,h.options.method))}),hooks.add("chromatic-adaptation-end",h=>{h.M||(h.M=adapt$3(h.W1,h.W2,h.options.method))});function defineCAT({id:h,toCone_M:v,fromCone_M:y}){CATs[h]=arguments[0]}function adapt$3(h,v,y="Bradford"){let _=CATs[y],[x,w,S]=multiplyMatrices$1(_.toCone_M,h),[E,I,L]=multiplyMatrices$1(_.toCone_M,v),O=[[E/x,0,0],[0,I/w,0],[0,0,L/S]],F=multiplyMatrices$1(O,_.toCone_M);return multiplyMatrices$1(_.fromCone_M,F)}defineCAT({id:"von Kries",toCone_M:[[.40024,.7076,-.08081],[-.2263,1.16532,.0457],[0,0,.91822]],fromCone_M:[[1.8599363874558397,-1.1293816185800916,.21989740959619328],[.3611914362417676,.6388124632850422,-6370596838649899e-21],[0,0,1.0890636230968613]]}),defineCAT({id:"Bradford",toCone_M:[[.8951,.2664,-.1614],[-.7502,1.7135,.0367],[.0389,-.0685,1.0296]],fromCone_M:[[.9869929054667121,-.14705425642099013,.15996265166373122],[.4323052697233945,.5183602715367774,.049291228212855594],[-.00852866457517732,.04004282165408486,.96848669578755]]}),defineCAT({id:"CAT02",toCone_M:[[.7328,.4296,-.1624],[-.7036,1.6975,.0061],[.003,.0136,.9834]],fromCone_M:[[1.0961238208355142,-.27886900021828726,.18274517938277307],[.4543690419753592,.4735331543074117,.07209780371722911],[-.009627608738429355,-.00569803121611342,1.0153256399545427]]}),defineCAT({id:"CAT16",toCone_M:[[.401288,.650173,-.051461],[-.250268,1.204414,.045854],[-.002079,.048952,.953127]],fromCone_M:[[1.862067855087233,-1.0112546305316845,.14918677544445172],[.3875265432361372,.6214474419314753,-.008973985167612521],[-.01584149884933386,-.03412293802851557,1.0499644368778496]]}),Object.assign(WHITES,{A:[1.0985,1,.35585],C:[.98074,1,1.18232],D55:[.95682,1,.92149],D75:[.94972,1,1.22638],E:[1,1,1],F2:[.99186,1,.67393],F7:[.95041,1,1.08747],F11:[1.00962,1,.6435]}),WHITES.ACES=[.32168/.33767,1,(1-.32168-.33767)/.33767];const toXYZ_M=[[.6624541811085053,.13400420645643313,.1561876870049078],[.27222871678091454,.6740817658111484,.05368951740793705],[-.005574649490394108,.004060733528982826,1.0103391003129971]],fromXYZ_M=[[1.6410233796943257,-.32480329418479,-.23642469523761225],[-.6636628587229829,1.6153315916573379,.016756347685530137],[.011721894328375376,-.008284441996237409,.9883948585390215]];var ACEScg=new RGBColorSpace({id:"acescg",cssId:"--acescg",name:"ACEScg",coords:{r:{range:[0,65504],name:"Red"},g:{range:[0,65504],name:"Green"},b:{range:[0,65504],name:"Blue"}},referred:"scene",white:WHITES.ACES,toXYZ_M,fromXYZ_M});const =2**-16,ACES_min_nonzero=-.35828683,ACES_cc_max=(Math.log2(65504)+9.72)/17.52;var acescc=new RGBColorSpace({id:"acescc",cssId:"--acescc",name:"ACEScc",coords:{r:{range:[ACES_min_nonzero,ACES_cc_max],name:"Red"},g:{range:[ACES_min_nonzero,ACES_cc_max],name:"Green"},b:{range:[ACES_min_nonzero,ACES_cc_max],name:"Blue"}},referred:"scene",base:ACEScg,toBase(h){const v=-.3013698630136986;return h.map(function(y){return y<=v?(2**(y*17.52-9.72)-)*2:y<ACES_cc_max?2**(y*17.52-9.72):65504})},fromBase(h){return h.map(function(v){return v<=0?(Math.log2()+9.72)/17.52:v<?(Math.log2(+v*.5)+9.72)/17.52:(Math.log2(v)+9.72)/17.52})}}),spaces=Object.freeze({__proto__:null,A98RGB:a98rgb,A98RGB_Linear:A98Linear,ACEScc:acescc,ACEScg,CAM16_JMh:cam16,HCT:hct,HPLuv:hpluv,HSL,HSLuv:hsluv,HSV,HWB:hwb,ICTCP:ictcp,JzCzHz:jzczhz,Jzazbz,LCH:lch$2,LCHuv,Lab:lab$2,Lab_D65:lab_d65,Luv,OKLCH:oklch$2,OKLab,P3,P3_Linear:P3Linear,ProPhoto:prophoto,ProPhoto_Linear:ProPhotoLinear,REC_2020:REC2020,REC_2020_Linear:REC2020Linear,REC_2100_HLG:rec2100Hlg,REC_2100_PQ:rec2100Pq,XYZ_ABS_D65:XYZ_Abs_D65,XYZ_D50,XYZ_D65:xyz_d65,sRGB,sRGB_Linear:sRGBLinear});let Color$1=class ki{constructor(...v){let y;v.length===1&&(y=getColor(v[0]));let _,x,w;y?(_=y.space||y.spaceId,x=y.coords,w=y.alpha):[_,x,w]=v,Object.defineProperty(this,"space",{value:ColorSpace.get(_),writable:!1,enumerable:!0,configurable:!0}),this.coords=x?x.slice():[0,0,0],this.alpha=w>1||w===void 0?1:w<0?0:w;for(let S=0;S<this.coords.length;S++)this.coords[S]==="NaN"&&(this.coords[S]=NaN);for(let S in this.space.coords)Object.defineProperty(this,S,{get:()=>this.get(S),set:E=>this.set(S,E)})}get spaceId(){return this.space.id}clone(){return new ki(this.space,this.coords,this.alpha)}toJSON(){return{spaceId:this.spaceId,coords:this.coords,alpha:this.alpha}}display(...v){let y=display(this,...v);return y.color=new ki(y.color),y}static get(v,...y){return v instanceof ki?v:new ki(v,...y)}static defineFunction(v,y,_=y){let{instance:x=!0,returns:w}=_,S=function(...E){let I=y(...E);if(w==="color")I=ki.get(I);else if(w==="function<color>"){let L=I;I=function(...O){let F=L(...O);return ki.get(F)},Object.assign(I,L)}else w==="array<color>"&&(I=I.map(L=>ki.get(L)));return I};v in ki||(ki[v]=S),x&&(ki.prototype[v]=function(...E){return S(this,...E)})}static defineFunctions(v){for(let y in v)ki.defineFunction(y,v[y],v[y])}static extend(v){if(v.register)v.register(ki);else for(let y in v)ki.defineFunction(y,v[y])}};Color$1.defineFunctions({get,getAll,set,setAll,to,equals,inGamut,toGamut,distance:distance$1,toString:serialize}),Object.assign(Color$1,{util,hooks,WHITES,Space:ColorSpace,spaces:ColorSpace.registry,parse,defaults});for(let h of Object.keys(spaces))ColorSpace.register(spaces[h]);for(let h in ColorSpace.registry)addSpaceAccessors(h,ColorSpace.registry[h]);hooks.add("colorspace-init-end",h=>{var v;addSpaceAccessors(h.id,h),(v=h.aliases)==null||v.forEach(y=>{addSpaceAccessors(y,h)})});function addSpaceAccessors(h,v){let y=h.replace(/-/g,"_");Object.defineProperty(Color$1.prototype,y,{get(){let _=this.getAll(h);return typeof Proxy>"u"?_:new Proxy(_,{has:(x,w)=>{try{return ColorSpace.resolveCoord([v,w]),!0}catch{}return Reflect.has(x,w)},get:(x,w,S)=>{if(w&&typeof w!="symbol"&&!(w in x)){let{index:E}=ColorSpace.resolveCoord([v,w]);if(E>=0)return x[E]}return Reflect.get(x,w,S)},set:(x,w,S,E)=>{if(w&&typeof w!="symbol"&&!(w in x)||w>=0){let{index:I}=ColorSpace.resolveCoord([v,w]);if(I>=0)return x[I]=S,this.setAll(h,x),!0}return Reflect.set(x,w,S,E)}})},set(_){this.setAll(h,_)},configurable:!0,enumerable:!0})}Color$1.extend(deltaEMethods),Color$1.extend({deltaE:deltaE$1}),Object.assign(Color$1,{deltaEMethods}),Color$1.extend(variations),Color$1.extend({contrast:contrast$1}),Color$1.extend(chromaticity),Color$1.extend(luminance),Color$1.extend(interpolation),Color$1.extend(contrastMethods);const arrayOf12=[0,1,2,3,4,5,6,7,8,9,10,11],grayScaleNames=["gray","mauve","slate","sage","olive","sand"],scaleNames=[...grayScaleNames,"tomato","red","ruby","crimson","pink","plum","purple","violet","iris","indigo","blue","cyan","teal","jade","green","grass","brown","orange","sky","mint","lime","yellow","amber"],lightColors=Object.fromEntries(scaleNames.map(h=>[h,Object.values(RadixColors[`${h}P3`]).map(v=>new Color$1(v).to("oklch"))])),darkColors=Object.fromEntries(scaleNames.map(h=>[h,Object.values(RadixColors[`${h}DarkP3`]).map(v=>new Color$1(v).to("oklch"))])),lightGrayColors=Object.fromEntries(grayScaleNames.map(h=>[h,Object.values(RadixColors[`${h}P3`]).map(v=>new Color$1(v).to("oklch"))])),darkGrayColors=Object.fromEntries(grayScaleNames.map(h=>[h,Object.values(RadixColors[`${h}DarkP3`]).map(v=>new Color$1(v).to("oklch"))])),generateThemeColorsRadix=({appearance:h,...v})=>{const y=h==="light"?lightColors:darkColors,_=h==="light"?lightGrayColors:darkGrayColors,x=new Color$1(v.background).to("oklch"),w=new Color$1(v.gray).to("oklch"),S=getScaleFromColor(w,_,x),E=new Color$1(v.accent).to("oklch");let I=getScaleFromColor(E,y,x);const L=x.to("srgb").toString({format:"hex"}),O=E.to("srgb").toString({format:"hex"});(O==="#000"||O==="#fff")&&(I=S.map(ke=>ke.clone()));const[F,z]=getStep9Colors(I,E);I[8]=F,I[9]=getButtonHoverColor(F,[I]),I[10].coords[1]=Math.min(Math.max(I[8].coords[1],I[7].coords[1]),I[10].coords[1]),I[11].coords[1]=Math.min(Math.max(I[8].coords[1],I[7].coords[1]),I[11].coords[1]);const N=I.map(ke=>ke.to("srgb").toString({format:"hex"})),H=I.map(toOklchString),X=N.map(ke=>getAlphaColorSrgb(ke,L)),J=N.map(ke=>getAlphaColorP3(ke,L)),ae=z.to("srgb").toString({format:"hex"}),ve=S.map(ke=>ke.to("srgb").toString({format:"hex"})),pe=S.map(toOklchString),de=ve.map(ke=>getAlphaColorSrgb(ke,L)),ce=ve.map(ke=>getAlphaColorP3(ke,L)),V=h==="light"?getAlphaColorSrgb(N[1],L,.8):getAlphaColorSrgb(N[1],L,.5),ie=h==="light"?getAlphaColorP3(H[1],L,.8):getAlphaColorP3(H[1],L,.5);return{accentScale:N,accentScaleAlpha:X,accentScaleWideGamut:H,accentScaleAlphaWideGamut:J,accentContrast:ae,grayScale:ve,grayScaleAlpha:de,grayScaleWideGamut:pe,grayScaleAlphaWideGamut:ce,graySurface:h==="light"?"#ffffffcc":"rgba(0, 0, 0, 0.05)",graySurfaceWideGamut:h==="light"?"color(display-p3 1 1 1 / 80%)":"color(display-p3 0 0 0 / 5%)",accentSurface:V,accentSurfaceWideGamut:ie,background:L}};function getStep9Colors(h,v){const y=h[0];return v.deltaEOK(y)*100<25?[h[8],getTextColor(h[8])]:[v,getTextColor(v)]}function getButtonHoverColor(h,v){const[y,_,x]=h.coords,w=y>.4?y-.03/(y+.1):y+.03/(y+.1),S=y>.4&&!isNaN(x)?_*.93+0:_,E=new Color$1("oklch",[w,S,x]);let I=E,L=1/0;return v.forEach(O=>{for(const F of O){const z=E.deltaEOK(F);z<L&&(L=z,I=F)}}),E.coords[1]=I.coords[1],E.coords[2]=I.coords[2],E}function getScaleFromColor(h,v,y){const _=[];Object.entries(v).forEach(([Je,gt])=>{for(const ct of gt){const Ot=h.deltaEOK(ct);_.push({scale:Je,distance:Ot,color:ct})}}),_.sort((Je,gt)=>Je.distance-gt.distance);const x=_.filter((Je,gt,ct)=>gt===ct.findIndex(Ot=>Ot.scale===Je.scale)),w=grayScaleNames;if(!x.every(Je=>w.includes(Je.scale))&&w.includes(x[0].scale))for(;w.includes(x[1].scale);)x.splice(1,1);const E=x[0],I=x[1],L=I.distance,O=E.distance,F=E.color.deltaEOK(I.color),z=(O**2+F**2-L**2)/(2*O*F),N=Math.acos(z),H=Math.sin(N),X=(L**2+F**2-O**2)/(2*L*F),J=Math.acos(X),ae=Math.sin(J),ve=z/H,pe=X/ae,de=Math.max(0,ve/pe)*.5,ce=v[E.scale],V=v[I.scale],ie=arrayOf12.map(Je=>new Color$1(Color$1.mix(ce[Je],V[Je],de)).to("oklch")),ke=ie.slice().sort((Je,gt)=>h.deltaEOK(Je)-h.deltaEOK(gt))[0],be=h.coords[1]/ke.coords[1];if(ie.forEach(Je=>{Je.coords[1]=Math.min(h.coords[1]*1.5,Je.coords[1]*be),Je.coords[2]=h.coords[2]}),ie[0].coords[0]>.5){const Je=ie.map(({coords:Ot})=>Ot[0]),gt=Math.max(0,Math.min(1,y.coords[0])),ct=transposeProgressionStart(gt,[1,...Je],lightModeEasing);return ct.shift(),ct.forEach((Ot,ur)=>{ie[ur].coords[0]=Ot}),ie}const Ae=[...darkModeEasing],ue=ie[0].coords[0],Me=Math.max(0,Math.min(1,y.coords[0]))/ue;if(Me>1)for(let gt=0;gt<Ae.length;gt++){const ct=(Me-1)*3;Ae[gt]=Me>1.5?0:Math.max(0,Ae[gt]*(1-ct))}const Ge=ie.map(({coords:Je})=>Je[0]),lt=y.coords[0];return transposeProgressionStart(lt,Ge,Ae).forEach((Je,gt)=>{ie[gt].coords[0]=Je}),ie}function getTextColor(h){const v=new Color$1("oklch",[1,0,0]);if(Math.abs(v.contrastAPCA(h))<40){const[,y,_]=h.coords;return new Color$1("oklch",[.25,Math.max(.08*y,.04),_])}return v}function getAlphaColor(h,v,y,_,x){const[w,S,E]=h.map(Ae=>Math.round(Ae*y)),[I,L,O]=v.map(Ae=>Math.round(Ae*y));if(w===void 0||S===void 0||E===void 0||I===void 0||L===void 0||O===void 0)throw Error("Color is undefined");let F=0;(w>I||S>L||E>O)&&(F=y);const z=(w-I)/(F-I),N=(S-L)/(F-L),H=(E-O)/(F-O),X=[z,N,H].every(Ae=>Ae===z);if(!x&&X){const Ae=F/y;return[Ae,Ae,Ae,z]}const J=Ae=>isNaN(Ae)?0:Math.min(y,Math.max(0,Ae)),ae=Ae=>isNaN(Ae)?0:Math.min(_,Math.max(0,Ae)),ve=x??Math.max(z,N,H),pe=ae(Math.ceil(ve*_))/_;let de=J((I*(1-pe)-w)/pe*-1),ce=J((L*(1-pe)-S)/pe*-1),V=J((O*(1-pe)-E)/pe*-1);de=Math.ceil(de),ce=Math.ceil(ce),V=Math.ceil(V);const ie=blendAlpha(de,pe,I),ke=blendAlpha(ce,pe,L),be=blendAlpha(V,pe,O);return F===0&&(w<=I&&w!==ie&&(de=w>ie?de+1:de-1),S<=L&&S!==ke&&(ce=S>ke?ce+1:ce-1),E<=O&&E!==be&&(V=E>be?V+1:V-1)),F===y&&(w>=I&&w!==ie&&(de=w>ie?de+1:de-1),S>=L&&S!==ke&&(ce=S>ke?ce+1:ce-1),E>=O&&E!==be&&(V=E>be?V+1:V-1)),de=de/y,ce=ce/y,V=V/y,[de,ce,V,pe]}function blendAlpha(h,v,y,_=!0){return _?Math.round(y*(1-v))+Math.round(h*v):y*(1-v)+h*v}function getAlphaColorSrgb(h,v,y){const[_,x,w,S]=getAlphaColor(new Color$1(h).to("srgb").coords,new Color$1(v).to("srgb").coords,255,255,y);return formatHex(new Color$1("srgb",[_,x,w],S).toString({format:"hex"}))}function getAlphaColorP3(h,v,y){const[_,x,w,S]=getAlphaColor(new Color$1(h).to("p3").coords,new Color$1(v).to("p3").coords,255,1e3,y);return new Color$1("p3",[_,x,w],S).toString({precision:4}).replace("color(p3 ","color(display-p3 ")}function formatHex(h){if(!h.startsWith("#"))return h;if(h.length===4){const v=h.charAt(0),y=h.charAt(1),_=h.charAt(2),x=h.charAt(3);return v+y+y+_+_+x+x}if(h.length===5){const v=h.charAt(0),y=h.charAt(1),_=h.charAt(2),x=h.charAt(3),w=h.charAt(4);return v+y+y+_+_+x+x+w+w}return h}const darkModeEasing=[1,0,1,0],lightModeEasing=[0,2,0,2];function transposeProgressionStart(h,v,y){return v.map((_,x,w)=>{const S=w.length-1,E=w[0]-h,I=BezierEasing(...y);return _-E*I(1-x/S)})}function toOklchString(h){const v=+(h.coords[0]*100).toFixed(1);return h.to("oklch").toString({precision:4}).replace(/(\S+)(.+)/,`oklch(${v}%$2`)}const useThemeStore=defineStore("theme",()=>{const h=useAppConfigStore().group("theme"),v=h.ref("accentColor","#0000ff"),y=h.ref("colorMode","light"),_=h.ref("grayColor","#8B8D98"),x=h.ref("backgroundColor",y.value==="light"?"#ffffff":"#111111");vue.watchEffect(()=>{y.value==="light"?x.value="#ffffff":x.value="#111111"});function w(L){L.colorMode&&(y.default=L.colorMode),L.accentColor&&(v.default=L.accentColor),L.backgroundColor&&(x.default=L.backgroundColor),L.grayColor&&(_.default=L.grayColor)}const S=vue.computed(()=>themeFromSourceColor(argbFromHex(v.value))),E=vue.computed(()=>{const L=generateThemeColorsRadix({appearance:y.value,background:x.value,accent:v.value,gray:_.value}),O=y.value==="dark",F=S.value.schemes[O?"dark":"light"],z=argbFromHex(v.value),N=customColor(z,{value:16711680,name:"error",blend:!0}),H=customColor(z,{value:4674303,name:"affirmative",blend:!0});return{colorAccent:L.accentScale[8],colorOnAccent:L.accentContrast,colorAccentHover:L.accentScale[10],colorAccentSoft:L.accentScale[4],colorAccentSoftHover:L.accentScale[5],colorBackground:L.background,colorText:L.grayScale[11],colorTextMute:L.grayScale[10],colorTextSubtle:L.grayScale[9],colorSurface:`color-mix(in srgb, transparent, ${L.grayScale[0]} 80%)`,colorBorder:L.grayScaleAlpha[3],colorBorderSubtle:L.grayScaleAlpha[2],colorShadow:O?"#000000aa":`color-mix(in srgb, transparent, ${L.grayScale[11]} 20%)`,colorInput:L.grayScale[2],colorInputHover:L.grayScale[3],colorSelection:L.accentScale[10],colorOnSelection:L.background,colorSecondary:toColor(F.secondary),colorError:toColor(O?N.dark.color:N.light.color),colorErrorSoft:toColor(O?N.dark.color:N.light.colorContainer),colorRec:toColor(O?N.dark.color:N.light.color),colorAffirmative:toColor(O?H.dark.color:H.light.color),fontCode:"'Geist Mono', monospace",fontHeading:"Geist, sans-serif",fontUi:"system-ui, sans-serif",fontNumeric:"Geist, system-ui, sans-serif",rem:12,radiusInput:4,radiusPopup:6,radiusPane:12,popupWidth:240,popupPadding:9,iconSize:18,inputHeight:24,inputGap:9,panePadding:12,scrollbarWidth:6,hoverTransitionDuration:"0.15s",activeTransitionDuration:"64ms"}});let I=document.querySelector("meta[name=theme-color]");return I||(I=document.createElement("meta"),I.setAttribute("name","theme-color"),document.head.appendChild(I)),vue.watch(E,()=>{for(const[L,O]of Object.entries(E.value)){const F="--tq-"+Case.kebab(L),z=typeof O=="number"?`${O}px`:O;document.body.style.setProperty(F,z)}I.setAttribute("content",E.value.colorBackground)},{immediate:!0}),{accentColor:v,colorMode:y,backgroundColor:x,grayColor:_,setDefault:w,...vue.toRefs(toReactive(E))}});function toColor(h,v){return`${hexFromArgb(h)}`}function initTweeq(h,v={}){const y=useAppConfigStore();y.appId=h,useThemeStore().setDefault(v),useInputColor()}function useTweeq(){const h=useThemeStore(),v=useActionsStore(),y=useAppConfigStore(),_=useModalStore();return{theme:h,actions:v,config:y,modal:_,...components}}const _hoisted_1$H={class:"TqViewport"},_sfc_main$_=vue.defineComponent({__name:"Viewport",setup(h){return initTweeq("viewport"),(v,y)=>(vue.openBlock(),vue.createElementBlock("div",_hoisted_1$H,[vue.renderSlot(v.$slots,"default")]))}});var types$1={CR:1,LF:2,Control:4,Extend:8,ZWJ:16,Regional_Indicator:32,Prepend:64,SpacingMark:128,L:256,V:512,T:1024,LV:2048,LVT:4096,Extended_Pictographic:8192};const data$1="ABAOAAAAAACwiAAAAYkHdvjtnH+IFkUYxx/v3vPe7uw8UkjsD43ChKICDQsT3iIJy4gSiZAjkn5JUFlaiFmjccT9ESkpGBGVIlQgWSkY/QDBoMgrQv0jRJDAfkCXhUmgRX23d4ebnndmd3Z3ZnfVeeDDzM7MPs8zv57Zd2+5hd1Ed4ClYAisBuuUsqLpMHgJjIBNFu1fBW8l1O8AO8Ee8Cn4HIyCg+CI0u4Y+AmMgVPgDOhuEHWBPjAZXAy2gjfA9kb73hlx+i7SK8AHYDf4BOwHB8AoOAyOguPgB/ArOKlcnwHdPe32/Uin9LTvvwTph0gv62nbubKnXT+nZ1z/DcjfFF8vQno7uEaxH923BGVXN9v5Zcgvj/VFPIT8Y/H1k0jXxPn1SEfARjBdab8V+TfB22CXUh5xd3OcZTH3g6di1LZJbLNs55q96M9n4J9Gm6hsfzQvcT8fbfy//TyUf8vG4Lses/5jcd2PSE/IcQan4/o/UXYadE0kaoJBMG1ivNbidNbETr1XoWyuplwyHFN0fFai/8/EY7BIKY/68EpCvwP+mc/m/2vNGnBhp1eZ51bCmgsEAoFAIBAIBAKBQKAO3Irfrg3lfc4qi/cXd+Kee5TfvAd6ieY0ie5D2cNx+eNInwZLmu33gWuRn4/8C3H9CNJNYEt8/TrS35HuSPktvRP1z0LPOvAceB4IsB5saIa6UBfqQl2oc123AjwBVjWrP7MCgcC5y/ue/56yqXv87+qcIU2Z+ny8tuHHpyxsvrDNITDXgqkDRJcPdJY/wMo24/oQmDqZaPHkdplAuhv8ApqDRDeCVj/OAvD9BUSX9qF8Qpt7lTxnZ7+5TmVtrGMM7XchP3sS0SNgGzg4yU5HIBAIBM5NfsO5QDgfjuM54STOw7/Az/F3QtfhfF4Qn9F/gxMouxm/WU7F9afBQuUM7+rtPF+jb0b6ese/I7sI+emadhEzUT5bqbsW+esNbSMWoG6hWo/8gOLPUqUu+v5rKEHX8oS6iEXQexd7XlmBe1aCNWAp6kSsYyjHc82Liv2Xkd/C/HkN1w/Geren+KryToa2PtlQg2c9zijGZnGJ9kaibzZh84jmmfx4TeYpK9H3usMKqxnDCWxsdLY/3ygy9h+l/LYbYHtuXw2/rfsSPo0a/Jrn6PvPrzL2+7CmfV88lkc9j+F7cRzYU4N48DF8uA3n/T7Fly9q4Jdvoth0uLf9LORC11hvO/0D6RnQfRa99+2Hr1NS/M26VvfEe2jaWTAOvG8zzgKf8zCrYL++qUEfbumeQAjTVnQp+QmW99gQpDoJ4+9uHZe5/l3OW/M8x6WUZaduUvUc5p13NTXlz3VpGbCVrGNe5zOnjvGlrDWY1IdWShuuQ9fWh6h+VSV1Wit1lvNhHFz1zeUYtCg5ntvOSStDW5cITRnF5RJ+rcasJHExztwu910tl6LzLYsvuvvzilB0mvSaxt/V+SY0EMurfkjbrTjfInf+FJGkNdzSlOukZaDo3snqs7RZpqj2Gx7sS52D5O79k+93W2W/T3NhQxe3VeF16pwn4eI8qev7Sl1s0PnPy5PalSV57Pp6XuDxrypR9wBR8nOCzm/eXuYp5d4s/lV1XvL+lG2b+2AaQ1nPr23Hrc7z0WT5qvZL0v7QtdX5zdu6HMei+gV1ri8et4XSVpCfdeB7fRWNRy79UP0RCT4Jyre/88bbKsQUawUrV69dxjd+nlXxbCKos79pz1BpOqucz0gEdZ5hMk+aa7Wdy/7xZ5Yqhc+nyHivrkyQ/reM7tziuFojfM7zxtq0505XYutvHrtVnzNl2ONrTGdPkLv9ZjNHOoShnCh5nLLYKOKfK4qK7bjx/gqyj9lFJc2Wz/HIqyMSYaGnqM8+xp6vB1/6feg22UmLFUno1rurvelz7yT1UVfORW3L7+d6fMcAXdzxIVK3TNNioZpSyj2242izpky6y5S0fpr6q5ZXJT7O1qrmQRVB+rkQ1Dk3vvYttyGoc+51/mUVkYLtXvTx7MCvbUnzW2czyR8pql4XUlbcN9l1pSfPfOl0JV2bylyKoM4959sHQfr9Vpbk2V8u4ry0ndcvH5I1xggP9qVem/PHZL+qeGLrc945tLnHtG/LEtdjr4urxMpM92X1RZDd+pLtsorUydeCaiuvbtdSpQ9l2M4SU01nvI1e35L3uS5Jlw8pe1ykCKo2JtrGK9O9ujOlimcD6Y9LEWQ+7019d2VDLVPrTCLrsvjsQ1TfJVJM12pZmm5b4Xptx6HM9SpFkP2c6drJa5/iSr+pD7r+CNLvATVfpST1RYog/fwKTdsyxLVNQfnWrkyziGltJK2hLLptzjHXIsh+/HytmyQfpPA5VNtzXWWLzbiVsc9sbWSJ7UWE69KNh6v9kya2c6TzMa0fwpD37TtvQ6wuiw9CA9cny33Mj2pLte9Kp6996HO/83HPQ5r+ov5mvU9Qte/fIrGJP7axPO/9eXX6kjLPKZNd17iyZdOHLP31JSbfXY6hC59c+ZZ136TZ9SFlj6cvmVkSrkSQn3NG5KBqEVSeH6Ji/vvnhFWjSlfFNDwzyMgqLvvKxXffbeASBWo+Zj4p2x6TfwE=",require$$1={data:data$1},data="AAACAAAAAACAOAAAAbYBSf7t2S1IBEEYBuDVDZ7FYrQMNsFiu3hgEYOI0SCXRIUrB8JhEZtgs5gEg1GMFk02m82oGI02m+9xezCOczv/uwv3fvAwc/PzfXOzcdqzWdaBDdiGPdiHdjE+DS3RNDuCfsn8idQ/g3OH3BdwKf0e96/gumTfYcncLdzBPTzAo+RZ+f0Cr/AG7/AJX4738x1wtz9FO5PX/50n6UXMNdfg/0lERERERERERERERETpdedHBvDRql4nq0cXtW9af98qdRby0Vvp8K4W0V+C5Xw0t4J2bfjeBp3cnEu1brnnCTYNa7eKdz91XP7WO9Lb4GqRb7cY6xbtAdqeVOsY/QGcevw/tb6OT85YhvfKYEx9CMuxKsKnrs+eJtVInVvHJ0eVYVvTZk2siFVLOCjb61PTZX3MdVWEyP7fjzpmMxdzTyq2Ebue6x61nXRGnzndWpf1an7dXmGYE4Y1ptqqKsK1nu26Ju0ty+maV2Rpvk+qnDZjKUIobUiesdAQE/jmCTmHmsskpFZsVYbtmXRcaoSGUPomunW2derQhDPFjtT1Q/eb8vnm990fq35oHVt11bU9m89c7DNI8Qs=",require$$2$1={data};var TINF_OK=0,TINF_DATA_ERROR=-3;function Tree(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function Data(h,v){this.source=h,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=v,this.destLen=0,this.ltree=new Tree,this.dtree=new Tree}var sltree=new Tree,sdtree=new Tree,length_bits=new Uint8Array(30),length_base=new Uint16Array(30),dist_bits=new Uint8Array(30),dist_base=new Uint16Array(30),clcidx=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),code_tree=new Tree,lengths=new Uint8Array(320);function tinf_build_bits_base(h,v,y,_){var x,w;for(x=0;x<y;++x)h[x]=0;for(x=0;x<30-y;++x)h[x+y]=x/y|0;for(w=_,x=0;x<30;++x)v[x]=w,w+=1<<h[x]}function tinf_build_fixed_trees(h,v){var y;for(y=0;y<7;++y)h.table[y]=0;for(h.table[7]=24,h.table[8]=152,h.table[9]=112,y=0;y<24;++y)h.trans[y]=256+y;for(y=0;y<144;++y)h.trans[24+y]=y;for(y=0;y<8;++y)h.trans[168+y]=280+y;for(y=0;y<112;++y)h.trans[176+y]=144+y;for(y=0;y<5;++y)v.table[y]=0;for(v.table[5]=32,y=0;y<32;++y)v.trans[y]=y}var offs=new Uint16Array(16);function tinf_build_tree(h,v,y,_){var x,w;for(x=0;x<16;++x)h.table[x]=0;for(x=0;x<_;++x)h.table[v[y+x]]++;for(h.table[0]=0,w=0,x=0;x<16;++x)offs[x]=w,w+=h.table[x];for(x=0;x<_;++x)v[y+x]&&(h.trans[offs[v[y+x]]++]=x)}function tinf_getbit(h){h.bitcount--||(h.tag=h.source[h.sourceIndex++],h.bitcount=7);var v=h.tag&1;return h.tag>>>=1,v}function tinf_read_bits(h,v,y){if(!v)return y;for(;h.bitcount<24;)h.tag|=h.source[h.sourceIndex++]<<h.bitcount,h.bitcount+=8;var _=h.tag&65535>>>16-v;return h.tag>>>=v,h.bitcount-=v,_+y}function tinf_decode_symbol(h,v){for(;h.bitcount<24;)h.tag|=h.source[h.sourceIndex++]<<h.bitcount,h.bitcount+=8;var y=0,_=0,x=0,w=h.tag;do _=2*_+(w&1),w>>>=1,++x,y+=v.table[x],_-=v.table[x];while(_>=0);return h.tag=w,h.bitcount-=x,v.trans[y+_]}function tinf_decode_trees(h,v,y){var _,x,w,S,E,I;for(_=tinf_read_bits(h,5,257),x=tinf_read_bits(h,5,1),w=tinf_read_bits(h,4,4),S=0;S<19;++S)lengths[S]=0;for(S=0;S<w;++S){var L=tinf_read_bits(h,3,0);lengths[clcidx[S]]=L}for(tinf_build_tree(code_tree,lengths,0,19),E=0;E<_+x;){var O=tinf_decode_symbol(h,code_tree);switch(O){case 16:var F=lengths[E-1];for(I=tinf_read_bits(h,2,3);I;--I)lengths[E++]=F;break;case 17:for(I=tinf_read_bits(h,3,3);I;--I)lengths[E++]=0;break;case 18:for(I=tinf_read_bits(h,7,11);I;--I)lengths[E++]=0;break;default:lengths[E++]=O;break}}tinf_build_tree(v,lengths,0,_),tinf_build_tree(y,lengths,_,x)}function tinf_inflate_block_data(h,v,y){for(;;){var _=tinf_decode_symbol(h,v);if(_===256)return TINF_OK;if(_<256)h.dest[h.destLen++]=_;else{var x,w,S,E;for(_-=257,x=tinf_read_bits(h,length_bits[_],length_base[_]),w=tinf_decode_symbol(h,y),S=h.destLen-tinf_read_bits(h,dist_bits[w],dist_base[w]),E=S;E<S+x;++E)h.dest[h.destLen++]=h.dest[E]}}}function tinf_inflate_uncompressed_block(h){for(var v,y,_;h.bitcount>8;)h.sourceIndex--,h.bitcount-=8;if(v=h.source[h.sourceIndex+1],v=256*v+h.source[h.sourceIndex],y=h.source[h.sourceIndex+3],y=256*y+h.source[h.sourceIndex+2],v!==(~y&65535))return TINF_DATA_ERROR;for(h.sourceIndex+=4,_=v;_;--_)h.dest[h.destLen++]=h.source[h.sourceIndex++];return h.bitcount=0,TINF_OK}function tinf_uncompress(h,v){var y=new Data(h,v),_,x,w;do{switch(_=tinf_getbit(y),x=tinf_read_bits(y,2,0),x){case 0:w=tinf_inflate_uncompressed_block(y);break;case 1:w=tinf_inflate_block_data(y,sltree,sdtree);break;case 2:tinf_decode_trees(y,y.ltree,y.dtree),w=tinf_inflate_block_data(y,y.ltree,y.dtree);break;default:w=TINF_DATA_ERROR}if(w!==TINF_OK)throw new Error("Data error")}while(!_);return y.destLen<y.dest.length?typeof y.dest.slice=="function"?y.dest.slice(0,y.destLen):y.dest.subarray(0,y.destLen):y.dest}tinf_build_fixed_trees(sltree,sdtree),tinf_build_bits_base(length_bits,length_base,4,3),tinf_build_bits_base(dist_bits,dist_base,2,1),length_bits[28]=0,length_base[28]=258;var tinyInflate=tinf_uncompress;const isBigEndian=new Uint8Array(new Uint32Array([305419896]).buffer)[0]===18,swap=(h,v,y)=>{let _=h[v];h[v]=h[y],h[y]=_},swap32=h=>{const v=h.length;for(let y=0;y<v;y+=4)swap(h,y,y+3),swap(h,y+1,y+2)},swap32LE$1=h=>{isBigEndian&&swap32(h)};var swap_1={swap32LE:swap32LE$1};const inflate=tinyInflate,{swap32LE}=swap_1,SHIFT_1=11,SHIFT_2=5,SHIFT_1_2=SHIFT_1-SHIFT_2,OMITTED_BMP_INDEX_1_LENGTH=65536>>SHIFT_1,INDEX_2_BLOCK_LENGTH=1<<SHIFT_1_2,INDEX_2_MASK=INDEX_2_BLOCK_LENGTH-1,INDEX_SHIFT=2,DATA_BLOCK_LENGTH=1<<SHIFT_2,DATA_MASK=DATA_BLOCK_LENGTH-1,LSCP_INDEX_2_OFFSET=65536>>SHIFT_2,LSCP_INDEX_2_LENGTH=1024>>SHIFT_2,INDEX_2_BMP_LENGTH=LSCP_INDEX_2_OFFSET+LSCP_INDEX_2_LENGTH,UTF8_2B_INDEX_2_OFFSET=INDEX_2_BMP_LENGTH,UTF8_2B_INDEX_2_LENGTH=32,INDEX_1_OFFSET=UTF8_2B_INDEX_2_OFFSET+UTF8_2B_INDEX_2_LENGTH,DATA_GRANULARITY=1<<INDEX_SHIFT;let UnicodeTrie$1=class{constructor(v){const y=typeof v.readUInt32BE=="function"&&typeof v.slice=="function";if(y||v instanceof Uint8Array){let _;if(y)this.highStart=v.readUInt32LE(0),this.errorValue=v.readUInt32LE(4),_=v.readUInt32LE(8),v=v.slice(12);else{const x=new DataView(v.buffer);this.highStart=x.getUint32(0,!0),this.errorValue=x.getUint32(4,!0),_=x.getUint32(8,!0),v=v.subarray(12)}v=inflate(v,new Uint8Array(_)),v=inflate(v,new Uint8Array(_)),swap32LE(v),this.data=new Uint32Array(v.buffer)}else({data:this.data,highStart:this.highStart,errorValue:this.errorValue}=v)}get(v){let y;return v<0||v>1114111?this.errorValue:v<55296||v>56319&&v<=65535?(y=(this.data[v>>SHIFT_2]<<INDEX_SHIFT)+(v&DATA_MASK),this.data[y]):v<=65535?(y=(this.data[LSCP_INDEX_2_OFFSET+(v-55296>>SHIFT_2)]<<INDEX_SHIFT)+(v&DATA_MASK),this.data[y]):v<this.highStart?(y=this.data[INDEX_1_OFFSET-OMITTED_BMP_INDEX_1_LENGTH+(v>>SHIFT_1)],y=this.data[y+(v>>SHIFT_2&INDEX_2_MASK)],y=(y<<INDEX_SHIFT)+(v&DATA_MASK),this.data[y]):this.data[this.data.length-DATA_GRANULARITY]}};var unicodeTrie=UnicodeTrie$1,base64={exports:{}};(function(h,v){(function(y,_){h.exports=_()})(typeof self<"u"?self:typeof window<"u"?window:commonjsGlobal,function(){var y="3.7.6",_=y,x=typeof atob=="function",w=typeof btoa=="function",S=typeof Buffer=="function",E=typeof TextDecoder=="function"?new TextDecoder:void 0,I=typeof TextEncoder=="function"?new TextEncoder:void 0,L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",O=Array.prototype.slice.call(L),F=function(He){var Ct={};return He.forEach(function(Ut,pr){return Ct[Ut]=pr}),Ct}(O),z=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,N=String.fromCharCode.bind(String),H=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):function(He){return new Uint8Array(Array.prototype.slice.call(He,0))},X=function(He){return He.replace(/=/g,"").replace(/[+\/]/g,function(Ct){return Ct=="+"?"-":"_"})},J=function(He){return He.replace(/[^A-Za-z0-9\+\/]/g,"")},ae=function(He){for(var Ct,Ut,pr,Pr,tn="",un=He.length%3,pn=0;pn<He.length;){if((Ut=He.charCodeAt(pn++))>255||(pr=He.charCodeAt(pn++))>255||(Pr=He.charCodeAt(pn++))>255)throw new TypeError("invalid character found");Ct=Ut<<16|pr<<8|Pr,tn+=O[Ct>>18&63]+O[Ct>>12&63]+O[Ct>>6&63]+O[Ct&63]}return un?tn.slice(0,un-3)+"===".substring(un):tn},ve=w?function(He){return btoa(He)}:S?function(He){return Buffer.from(He,"binary").toString("base64")}:ae,pe=S?function(He){return Buffer.from(He).toString("base64")}:function(He){for(var Ct=4096,Ut=[],pr=0,Pr=He.length;pr<Pr;pr+=Ct)Ut.push(N.apply(null,He.subarray(pr,pr+Ct)));return ve(Ut.join(""))},de=function(He,Ct){return Ct===void 0&&(Ct=!1),Ct?X(pe(He)):pe(He)},ce=function(He){if(He.length<2){var Ct=He.charCodeAt(0);return Ct<128?He:Ct<2048?N(192|Ct>>>6)+N(128|Ct&63):N(224|Ct>>>12&15)+N(128|Ct>>>6&63)+N(128|Ct&63)}else{var Ct=65536+(He.charCodeAt(0)-55296)*1024+(He.charCodeAt(1)-56320);return N(240|Ct>>>18&7)+N(128|Ct>>>12&63)+N(128|Ct>>>6&63)+N(128|Ct&63)}},V=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,ie=function(He){return He.replace(V,ce)},ke=S?function(He){return Buffer.from(He,"utf8").toString("base64")}:I?function(He){return pe(I.encode(He))}:function(He){return ve(ie(He))},be=function(He,Ct){return Ct===void 0&&(Ct=!1),Ct?X(ke(He)):ke(He)},Ae=function(He){return be(He,!0)},ue=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,xe=function(He){switch(He.length){case 4:var Ct=(7&He.charCodeAt(0))<<18|(63&He.charCodeAt(1))<<12|(63&He.charCodeAt(2))<<6|63&He.charCodeAt(3),Ut=Ct-65536;return N((Ut>>>10)+55296)+N((Ut&1023)+56320);case 3:return N((15&He.charCodeAt(0))<<12|(63&He.charCodeAt(1))<<6|63&He.charCodeAt(2));default:return N((31&He.charCodeAt(0))<<6|63&He.charCodeAt(1))}},Me=function(He){return He.replace(ue,xe)},Ge=function(He){if(He=He.replace(/\s+/g,""),!z.test(He))throw new TypeError("malformed base64.");He+="==".slice(2-(He.length&3));for(var Ct,Ut="",pr,Pr,tn=0;tn<He.length;)Ct=F[He.charAt(tn++)]<<18|F[He.charAt(tn++)]<<12|(pr=F[He.charAt(tn++)])<<6|(Pr=F[He.charAt(tn++)]),Ut+=pr===64?N(Ct>>16&255):Pr===64?N(Ct>>16&255,Ct>>8&255):N(Ct>>16&255,Ct>>8&255,Ct&255);return Ut},lt=x?function(He){return atob(J(He))}:S?function(He){return Buffer.from(He,"base64").toString("binary")}:Ge,Le=S?function(He){return H(Buffer.from(He,"base64"))}:function(He){return H(lt(He).split("").map(function(Ct){return Ct.charCodeAt(0)}))},Je=function(He){return Le(ct(He))},gt=S?function(He){return Buffer.from(He,"base64").toString("utf8")}:E?function(He){return E.decode(Le(He))}:function(He){return Me(lt(He))},ct=function(He){return J(He.replace(/[-_]/g,function(Ct){return Ct=="-"?"+":"/"}))},Ot=function(He){return gt(ct(He))},ur=function(He){if(typeof He!="string")return!1;var Ct=He.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(Ct)||!/[^\s0-9a-zA-Z\-_]/.test(Ct)},rr=function(He){return{value:He,enumerable:!1,writable:!0,configurable:!0}},Yt=function(){var He=function(Ct,Ut){return Object.defineProperty(String.prototype,Ct,rr(Ut))};He("fromBase64",function(){return Ot(this)}),He("toBase64",function(Ct){return be(this,Ct)}),He("toBase64URI",function(){return be(this,!0)}),He("toBase64URL",function(){return be(this,!0)}),He("toUint8Array",function(){return Je(this)})},Er=function(){var He=function(Ct,Ut){return Object.defineProperty(Uint8Array.prototype,Ct,rr(Ut))};He("toBase64",function(Ct){return de(this,Ct)}),He("toBase64URI",function(){return de(this,!0)}),He("toBase64URL",function(){return de(this,!0)})},Oe=function(){Yt(),Er()},dt={version:y,VERSION:_,atob:lt,atobPolyfill:Ge,btoa:ve,btoaPolyfill:ae,fromBase64:Ot,toBase64:be,encode:be,encodeURI:Ae,encodeURL:Ae,utob:ie,btou:Me,decode:Ot,isValid:ur,fromUint8Array:de,toUint8Array:Je,extendString:Yt,extendUint8Array:Er,extendBuiltins:Oe};return dt.Base64={},Object.keys(dt).forEach(function(He){return dt.Base64[He]=dt[He]}),dt})})(base64);var base64Exports=base64.exports;const types=types$1,typeTrieData=require$$1.data,extPictData=require$$2$1.data,UnicodeTrie=unicodeTrie,Base64=base64Exports.Base64,typeTrie=new UnicodeTrie(Base64.toUint8Array(typeTrieData)),extPict=new UnicodeTrie(Base64.toUint8Array(extPictData));function is(h,v){return(h&v)!==0}const GB11State={Initial:0,ExtendOrZWJ:1,NotBoundary:2};function nextGraphemeClusterSize(h,v){const y=h.length;let _=0,x=GB11State.Initial;for(let w=v;w+1<y;w++){const S=h[w+0],E=h[w+1];switch(is(S,types.Regional_Indicator)||(_=0),x){case GB11State.NotBoundary:case GB11State.Initial:is(S,types.Extended_Pictographic)?x=GB11State.ExtendOrZWJ:x=GB11State.Initial;break;case GB11State.ExtendOrZWJ:is(S,types.Extend)?x=GB11State.ExtendOrZWJ:is(S,types.ZWJ)&&is(E,types.Extended_Pictographic)?x=GB11State.NotBoundary:x=GB11State.Initial;break}if(!(is(S,types.CR)&&is(E,types.LF))){if(is(S,types.Control|types.CR|types.LF)||is(E,types.Control|types.CR|types.LF))return w+1-v;if(!(is(S,types.L)&&is(E,types.L|types.V|types.LV|types.LVT))&&!(is(S,types.LV|types.V)&&is(E,types.V|types.T))&&!(is(S,types.LVT|types.T)&&is(E,types.T))&&!is(E,types.Extend|types.ZWJ)&&!is(E,types.SpacingMark)&&!is(S,types.Prepend)&&x!==GB11State.NotBoundary){if(is(S,types.Regional_Indicator)&&is(E,types.Regional_Indicator)&&_%2===0){_++;continue}return w+1-v}}}return y-v}var graphemesplit=function(v){const y=[],_=[0],x=[];for(let w=0;w<v.length;){const S=v.codePointAt(w);x.push(typeTrie.get(S)|extPict.get(S)),w+=S>65535?2:1,_.push(w)}for(let w=0;w<x.length;){const S=nextGraphemeClusterSize(x,w),E=_[w],I=_[w+S];y.push(v.slice(E,I)),w+=S}return y};const split=getDefaultExportFromCjs(graphemesplit),splitUnicode=h=>h.normalize("NFKD").split(""),whitespaceRegex=/^\s+$/,nonWordRegex=/^[`~!@#$%^&*()\-=_+{}[\]\|\\;':",./<>?]+$/,sortKind={insertOrder:"insertOrder",bestMatch:"bestMatch"},defaultOptions$1={keySelector:h=>h,threshold:.6,ignoreCase:!0,ignoreSymbols:!0,normalizeWhitespace:!0,returnMatchData:!1,useDamerau:!0,useSellers:!0,useSeparatedUnicode:!1,sortBy:sortKind.bestMatch},noop=()=>{},arrayWrap=h=>h instanceof Array?h:[h];function normalize$2(h,v){const y=v.ignoreCase?h.toLocaleLowerCase():h,_=[],x=[];let w=!0,S=0;const E=v.useSeparatedUnicode?splitUnicode(y):split(y);for(const I of E)whitespaceRegex.lastIndex=0,nonWordRegex.lastIndex=0,v.normalizeWhitespace&&whitespaceRegex.test(I)?w||(_.push(" "),x.push(S),w=!0):v.ignoreSymbols&&nonWordRegex.test(I)||(v.useSeparatedUnicode?_.push(I):_.push(I.normalize()),x.push(S),w=!1),S+=I.length;for(x.push(h.length);_[_.length-1]===" ";)_.pop(),x.pop();return{original:h,normal:_,map:x}}function denormalizeMatchPosition(h,v){return{index:v[h.start],length:v[h.end+1]-v[h.start]}}function walkBack(h,v){if(v===0)return{index:0,length:0};let y=v;for(let _=h.length-2;_>0&&y>1;_--){const x=h[_];y=x[y]<x[y-1]?y:y-1}return{start:y-1,end:v-1}}function noopWalkback(){return{start:0,end:0}}const levUpdateScore=()=>!0,sellersUpdateScore=(h,v)=>h<v;function initLevRows(h,v){const y=new Array(h);for(let _=0;_<h;_++)y[_]=new Array(v),y[_][0]=_;for(let _=0;_<v;_++)y[0][_]=_;return y}function initSellersRows(h,v){const y=new Array(h);y[0]=new Array(v).fill(0);for(let _=1;_<h;_++)y[_]=new Array(v),y[_][0]=_;return y}function levCore(h,v,y,_,x){const w=y[_],S=y[_+1],E=h[_]===v[x]?0:1;let I,L=S[x]+1;(I=w[x+1]+1)<L&&(L=I),(I=w[x]+E)<L&&(L=I),S[x+1]=L}function levenshtein(h,v,y,_){for(let x=0;x<h.length;x++)levCore(h,v,y,x,_)}function damerauLevenshtein(h,v,y,_){if(_===0){levenshtein(h,v,y,_);return}h.length>0&&levCore(h,v,y,0,_);for(let x=1;x<h.length;x++){const w=y[x-1],S=y[x],E=y[x+1],I=h[x]===v[_]?0:1;let L,O=E[_]+1;(L=S[_+1]+1)<O&&(O=L),(L=S[_]+I)<O&&(O=L),h[x]===v[_-1]&&h[x-1]===v[_]&&(L=w[_-1]+I)<O&&(O=L),E[_+1]=O}}function trieInsert(h,v,y){let _=h;for(let x=0;x<v.length;x++){const w=v[x];_.children[w]==null&&(_.children[w]={children:{},candidates:[],depth:0}),_.depth=Math.max(_.depth,v.length-x),_=_.children[w]}_.candidates.push(y)}function createSearchTrie(h,v,y,_){for(const x of y){const w=arrayWrap(_.keySelector(x)).map((S,E)=>({index:v,keyIndex:E,item:x,normalized:normalize$2(S,_)}));v++;for(const S of w)trieInsert(h,S.normalized.normal,S)}}function compareItemsBestScore(h,v){const y=v.score-h.score;if(y!==0)return y;const _=h.match.start-v.match.start;if(_!==0)return _;const x=h.keyIndex-v.keyIndex;if(x!==0)return x;const w=h.lengthDiff-v.lengthDiff;return w!==0?w:compareItemsInsertOrder(h,v)}function compareItemsInsertOrder(h,v){return h.index-v.index}function getCompareFunc(h){switch(h){case sortKind.bestMatch:return compareItemsBestScore;case sortKind.insertOrder:return compareItemsInsertOrder;default:throw new Error(`unknown sortBy method ${h}`)}}function addResult(h,v,y,_,x,w,S){const E={item:y.item,normalized:y.normalized,score:_,match:x,index:y.index,keyIndex:y.keyIndex,lengthDiff:w};v[y.index]==null?(v[y.index]=h.length,h.push(E)):S(E,h[v[y.index]])<0&&(h[v[y.index]]=E)}const getLevLength=Math.max,getSellersLength=h=>h;function levShouldContinue(h,v,y,_,x){const w=v+x,S=Math.min(y.length,v+h.depth+1),E=Math.ceil((w+S)/2);return 1-(E-S)/E>=_}function sellersShouldContinue(h,v,y,_,x,w){return 1-Math.min(x,w-(h.depth+1))/y.length>=_}function searchRecurse(h,v,y,_,x,w,S){const E=[];for(const L in h.children){const O=h.children[L];E.push([O,1,L,0,v.length])}const I=new Array(h.depth);for(;E.length!==0;){const[L,O,F,z,N]=E.pop();I[O-1]=F,y.score(v,I,_,O-1);const H=O,X=_[_.length-1][H];let J=z,ae=N;if(y.shouldUpdateScore(X,N)&&(J=H,ae=X),L.candidates.length>0){const ve=y.getLength(v.length,O),pe=1-ae/ve;if(pe>=S.threshold){const de=walkBack(_,J),ce=Math.abs(O-v.length);for(const V of L.candidates)addResult(x,w,V,pe,de,ce,y.compareItems)}}for(const ve in L.children){const pe=L.children[ve];y.shouldContinue(pe,O,v,S.threshold,ae,X)&&E.push([pe,O+1,ve,J,ae])}}}function searchCore(h,v,y){const _=y.useSellers?initSellersRows:initLevRows,x={score:y.useDamerau?damerauLevenshtein:levenshtein,getLength:y.useSellers?getSellersLength:getLevLength,shouldUpdateScore:y.useSellers?sellersUpdateScore:levUpdateScore,shouldContinue:y.useSellers?sellersShouldContinue:levShouldContinue,walkBack:y.useSellers?walkBack:noopWalkback,compareItems:getCompareFunc(y.sortBy)},w={},S=[],E=_(h.length+1,v.depth+1);if(y.threshold<=0||h.length===0)for(const L of v.candidates)addResult(S,w,L,0,{index:0,length:0},h.length,x.compareItems);searchRecurse(v,h,x,E,S,w,y);const I=S.sort(x.compareItems);if(y.returnMatchData){const L=y.useSellers?denormalizeMatchPosition:noop;return I.map(O=>({item:O.item,original:O.normalized.original,key:O.normalized.normal.join(""),score:O.score,match:L(O.match,O.normalized.map)}))}return I.map(L=>L.item)}function search(h,v,y){y={...defaultOptions$1,...y};const _={children:{},candidates:[],depth:0};return createSearchTrie(_,0,v,y),searchCore(normalize$2(h,y).normal,_,y)}const matchIconName=/^[a-z0-9]+(-[a-z0-9]+)*$/,stringToIcon=(h,v,y,_="")=>{const x=h.split(":");if(h.slice(0,1)==="@"){if(x.length<2||x.length>3)return null;_=x.shift().slice(1)}if(x.length>3||!x.length)return null;if(x.length>1){const E=x.pop(),I=x.pop(),L={provider:x.length>0?x[0]:_,prefix:I,name:E};return v&&!validateIconName(L)?null:L}const w=x[0],S=w.split("-");if(S.length>1){const E={provider:_,prefix:S.shift(),name:S.join("-")};return v&&!validateIconName(E)?null:E}if(y&&_===""){const E={provider:_,prefix:"",name:w};return v&&!validateIconName(E,y)?null:E}return null},validateIconName=(h,v)=>h?!!((v&&h.prefix===""||h.prefix)&&h.name):!1,defaultIconDimensions=Object.freeze({left:0,top:0,width:16,height:16}),defaultIconTransformations=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),defaultIconProps=Object.freeze({...defaultIconDimensions,...defaultIconTransformations}),defaultExtendedIconProps=Object.freeze({...defaultIconProps,body:"",hidden:!1});function mergeIconTransformations(h,v){const y={};!h.hFlip!=!v.hFlip&&(y.hFlip=!0),!h.vFlip!=!v.vFlip&&(y.vFlip=!0);const _=((h.rotate||0)+(v.rotate||0))%4;return _&&(y.rotate=_),y}function mergeIconData(h,v){const y=mergeIconTransformations(h,v);for(const _ in defaultExtendedIconProps)_ in defaultIconTransformations?_ in h&&!(_ in y)&&(y[_]=defaultIconTransformations[_]):_ in v?y[_]=v[_]:_ in h&&(y[_]=h[_]);return y}function getIconsTree(h,v){const y=h.icons,_=h.aliases||Object.create(null),x=Object.create(null);function w(S){if(y[S])return x[S]=[];if(!(S in x)){x[S]=null;const E=_[S]&&_[S].parent,I=E&&w(E);I&&(x[S]=[E].concat(I))}return x[S]}return Object.keys(y).concat(Object.keys(_)).forEach(w),x}function internalGetIconData(h,v,y){const _=h.icons,x=h.aliases||Object.create(null);let w={};function S(E){w=mergeIconData(_[E]||x[E],w)}return S(v),y.forEach(S),mergeIconData(h,w)}function parseIconSet(h,v){const y=[];if(typeof h!="object"||typeof h.icons!="object")return y;h.not_found instanceof Array&&h.not_found.forEach(x=>{v(x,null),y.push(x)});const _=getIconsTree(h);for(const x in _){const w=_[x];w&&(v(x,internalGetIconData(h,x,w)),y.push(x))}return y}const optionalPropertyDefaults={provider:"",aliases:{},not_found:{},...defaultIconDimensions};function checkOptionalProps(h,v){for(const y in v)if(y in h&&typeof h[y]!=typeof v[y])return!1;return!0}function quicklyValidateIconSet(h){if(typeof h!="object"||h===null)return null;const v=h;if(typeof v.prefix!="string"||!h.icons||typeof h.icons!="object"||!checkOptionalProps(h,optionalPropertyDefaults))return null;const y=v.icons;for(const x in y){const w=y[x];if(!x||typeof w.body!="string"||!checkOptionalProps(w,defaultExtendedIconProps))return null}const _=v.aliases||Object.create(null);for(const x in _){const w=_[x],S=w.parent;if(!x||typeof S!="string"||!y[S]&&!_[S]||!checkOptionalProps(w,defaultExtendedIconProps))return null}return v}const dataStorage=Object.create(null);function newStorage(h,v){return{provider:h,prefix:v,icons:Object.create(null),missing:new Set}}function getStorage(h,v){const y=dataStorage[h]||(dataStorage[h]=Object.create(null));return y[v]||(y[v]=newStorage(h,v))}function addIconSet(h,v){return quicklyValidateIconSet(v)?parseIconSet(v,(y,_)=>{_?h.icons[y]=_:h.missing.add(y)}):[]}function addIconToStorage(h,v,y){try{if(typeof y.body=="string")return h.icons[v]={...y},!0}catch{}return!1}let simpleNames=!1;function allowSimpleNames(h){return typeof h=="boolean"&&(simpleNames=h),simpleNames}function getIconData(h){const v=typeof h=="string"?stringToIcon(h,!0,simpleNames):h;if(v){const y=getStorage(v.provider,v.prefix),_=v.name;return y.icons[_]||(y.missing.has(_)?null:void 0)}}function addIcon(h,v){const y=stringToIcon(h,!0,simpleNames);if(!y)return!1;const _=getStorage(y.provider,y.prefix);return v?addIconToStorage(_,y.name,v):(_.missing.add(y.name),!0)}function addCollection(h,v){if(typeof h!="object")return!1;if(typeof v!="string"&&(v=h.provider||""),simpleNames&&!v&&!h.prefix){let x=!1;return quicklyValidateIconSet(h)&&(h.prefix="",parseIconSet(h,(w,S)=>{addIcon(w,S)&&(x=!0)})),x}const y=h.prefix;if(!validateIconName({prefix:y,name:"a"}))return!1;const _=getStorage(v,y);return!!addIconSet(_,h)}const defaultIconSizeCustomisations=Object.freeze({width:null,height:null}),defaultIconCustomisations=Object.freeze({...defaultIconSizeCustomisations,...defaultIconTransformations}),unitsSplit=/(-?[0-9.]*[0-9]+[0-9.]*)/g,unitsTest=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function calculateSize(h,v,y){if(v===1)return h;if(y=y||100,typeof h=="number")return Math.ceil(h*v*y)/y;if(typeof h!="string")return h;const _=h.split(unitsSplit);if(_===null||!_.length)return h;const x=[];let w=_.shift(),S=unitsTest.test(w);for(;;){if(S){const E=parseFloat(w);isNaN(E)?x.push(w):x.push(Math.ceil(E*v*y)/y)}else x.push(w);if(w=_.shift(),w===void 0)return x.join("");S=!S}}function splitSVGDefs(h,v="defs"){let y="";const _=h.indexOf("<"+v);for(;_>=0;){const x=h.indexOf(">",_),w=h.indexOf("</"+v);if(x===-1||w===-1)break;const S=h.indexOf(">",w);if(S===-1)break;y+=h.slice(x+1,w).trim(),h=h.slice(0,_).trim()+h.slice(S+1)}return{defs:y,content:h}}function mergeDefsAndContent(h,v){return h?"<defs>"+h+"</defs>"+v:v}function wrapSVGContent(h,v,y){const _=splitSVGDefs(h);return mergeDefsAndContent(_.defs,v+_.content+y)}const isUnsetKeyword=h=>h==="unset"||h==="undefined"||h==="none";function iconToSVG(h,v){const y={...defaultIconProps,...h},_={...defaultIconCustomisations,...v},x={left:y.left,top:y.top,width:y.width,height:y.height};let w=y.body;[y,_].forEach(X=>{const J=[],ae=X.hFlip,ve=X.vFlip;let pe=X.rotate;ae?ve?pe+=2:(J.push("translate("+(x.width+x.left).toString()+" "+(0-x.top).toString()+")"),J.push("scale(-1 1)"),x.top=x.left=0):ve&&(J.push("translate("+(0-x.left).toString()+" "+(x.height+x.top).toString()+")"),J.push("scale(1 -1)"),x.top=x.left=0);let de;switch(pe<0&&(pe-=Math.floor(pe/4)*4),pe=pe%4,pe){case 1:de=x.height/2+x.top,J.unshift("rotate(90 "+de.toString()+" "+de.toString()+")");break;case 2:J.unshift("rotate(180 "+(x.width/2+x.left).toString()+" "+(x.height/2+x.top).toString()+")");break;case 3:de=x.width/2+x.left,J.unshift("rotate(-90 "+de.toString()+" "+de.toString()+")");break}pe%2===1&&(x.left!==x.top&&(de=x.left,x.left=x.top,x.top=de),x.width!==x.height&&(de=x.width,x.width=x.height,x.height=de)),J.length&&(w=wrapSVGContent(w,'<g transform="'+J.join(" ")+'">',"</g>"))});const S=_.width,E=_.height,I=x.width,L=x.height;let O,F;S===null?(F=E===null?"1em":E==="auto"?L:E,O=calculateSize(F,I/L)):(O=S==="auto"?I:S,F=E===null?calculateSize(O,L/I):E==="auto"?L:E);const z={},N=(X,J)=>{isUnsetKeyword(J)||(z[X]=J.toString())};N("width",O),N("height",F);const H=[x.left,x.top,I,L];return z.viewBox=H.join(" "),{attributes:z,viewBox:H,body:w}}const regex$2=/\sid="(\S+)"/g,randomPrefix="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let counter=0;function replaceIDs(h,v=randomPrefix){const y=[];let _;for(;_=regex$2.exec(h);)y.push(_[1]);if(!y.length)return h;const x="suffix"+(Math.random()*16777216|Date.now()).toString(16);return y.forEach(w=>{const S=typeof v=="function"?v(w):v+(counter++).toString(),E=w.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");h=h.replace(new RegExp('([#;"])('+E+')([")]|\\.[a-z])',"g"),"$1"+S+x+"$3")}),h=h.replace(new RegExp(x,"g"),""),h}const storage=Object.create(null);function setAPIModule(h,v){storage[h]=v}function getAPIModule(h){return storage[h]||storage[""]}function createAPIConfig(h){let v;if(typeof h.resources=="string")v=[h.resources];else if(v=h.resources,!(v instanceof Array)||!v.length)return null;return{resources:v,path:h.path||"/",maxURL:h.maxURL||500,rotate:h.rotate||750,timeout:h.timeout||5e3,random:h.random===!0,index:h.index||0,dataAfterTimeout:h.dataAfterTimeout!==!1}}const configStorage=Object.create(null),fallBackAPISources=["https://api.simplesvg.com","https://api.unisvg.com"],fallBackAPI=[];for(;fallBackAPISources.length>0;)fallBackAPISources.length===1||Math.random()>.5?fallBackAPI.push(fallBackAPISources.shift()):fallBackAPI.push(fallBackAPISources.pop());configStorage[""]=createAPIConfig({resources:["https://api.iconify.design"].concat(fallBackAPI)});function addAPIProvider(h,v){const y=createAPIConfig(v);return y===null?!1:(configStorage[h]=y,!0)}function getAPIConfig(h){return configStorage[h]}const detectFetch=()=>{let h;try{if(h=fetch,typeof h=="function")return h}catch{}};let fetchModule=detectFetch();function calculateMaxLength(h,v){const y=getAPIConfig(h);if(!y)return 0;let _;if(!y.maxURL)_=0;else{let x=0;y.resources.forEach(S=>{x=Math.max(x,S.length)});const w=v+".json?icons=";_=y.maxURL-x-y.path.length-w.length}return _}function shouldAbort(h){return h===404}const prepare=(h,v,y)=>{const _=[],x=calculateMaxLength(h,v),w="icons";let S={type:w,provider:h,prefix:v,icons:[]},E=0;return y.forEach((I,L)=>{E+=I.length+1,E>=x&&L>0&&(_.push(S),S={type:w,provider:h,prefix:v,icons:[]},E=I.length),S.icons.push(I)}),_.push(S),_};function getPath(h){if(typeof h=="string"){const v=getAPIConfig(h);if(v)return v.path}return"/"}const send=(h,v,y)=>{if(!fetchModule){y("abort",424);return}let _=getPath(v.provider);switch(v.type){case"icons":{const w=v.prefix,E=v.icons.join(","),I=new URLSearchParams({icons:E});_+=w+".json?"+I.toString();break}case"custom":{const w=v.uri;_+=w.slice(0,1)==="/"?w.slice(1):w;break}default:y("abort",400);return}let x=503;fetchModule(h+_).then(w=>{const S=w.status;if(S!==200){setTimeout(()=>{y(shouldAbort(S)?"abort":"next",S)});return}return x=501,w.json()}).then(w=>{if(typeof w!="object"||w===null){setTimeout(()=>{w===404?y("abort",w):y("next",x)});return}setTimeout(()=>{y("success",w)})}).catch(()=>{y("next",x)})},fetchAPIModule={prepare,send};function sortIcons(h){const v={loaded:[],missing:[],pending:[]},y=Object.create(null);h.sort((x,w)=>x.provider!==w.provider?x.provider.localeCompare(w.provider):x.prefix!==w.prefix?x.prefix.localeCompare(w.prefix):x.name.localeCompare(w.name));let _={provider:"",prefix:"",name:""};return h.forEach(x=>{if(_.name===x.name&&_.prefix===x.prefix&&_.provider===x.provider)return;_=x;const w=x.provider,S=x.prefix,E=x.name,I=y[w]||(y[w]=Object.create(null)),L=I[S]||(I[S]=getStorage(w,S));let O;E in L.icons?O=v.loaded:S===""||L.missing.has(E)?O=v.missing:O=v.pending;const F={provider:w,prefix:S,name:E};O.push(F)}),v}function removeCallback(h,v){h.forEach(y=>{const _=y.loaderCallbacks;_&&(y.loaderCallbacks=_.filter(x=>x.id!==v))})}function updateCallbacks(h){h.pendingCallbacksFlag||(h.pendingCallbacksFlag=!0,setTimeout(()=>{h.pendingCallbacksFlag=!1;const v=h.loaderCallbacks?h.loaderCallbacks.slice(0):[];if(!v.length)return;let y=!1;const _=h.provider,x=h.prefix;v.forEach(w=>{const S=w.icons,E=S.pending.length;S.pending=S.pending.filter(I=>{if(I.prefix!==x)return!0;const L=I.name;if(h.icons[L])S.loaded.push({provider:_,prefix:x,name:L});else if(h.missing.has(L))S.missing.push({provider:_,prefix:x,name:L});else return y=!0,!0;return!1}),S.pending.length!==E&&(y||removeCallback([h],w.id),w.callback(S.loaded.slice(0),S.missing.slice(0),S.pending.slice(0),w.abort))})}))}let idCounter=0;function storeCallback(h,v,y){const _=idCounter++,x=removeCallback.bind(null,y,_);if(!v.pending.length)return x;const w={id:_,icons:v,callback:h,abort:x};return y.forEach(S=>{(S.loaderCallbacks||(S.loaderCallbacks=[])).push(w)}),x}function listToIcons(h,v=!0,y=!1){const _=[];return h.forEach(x=>{const w=typeof x=="string"?stringToIcon(x,v,y):x;w&&_.push(w)}),_}var defaultConfig={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function sendQuery(h,v,y,_){const x=h.resources.length,w=h.random?Math.floor(Math.random()*x):h.index;let S;if(h.random){let V=h.resources.slice(0);for(S=[];V.length>1;){const ie=Math.floor(Math.random()*V.length);S.push(V[ie]),V=V.slice(0,ie).concat(V.slice(ie+1))}S=S.concat(V)}else S=h.resources.slice(w).concat(h.resources.slice(0,w));const E=Date.now();let I="pending",L=0,O,F=null,z=[],N=[];typeof _=="function"&&N.push(_);function H(){F&&(clearTimeout(F),F=null)}function X(){I==="pending"&&(I="aborted"),H(),z.forEach(V=>{V.status==="pending"&&(V.status="aborted")}),z=[]}function J(V,ie){ie&&(N=[]),typeof V=="function"&&N.push(V)}function ae(){return{startTime:E,payload:v,status:I,queriesSent:L,queriesPending:z.length,subscribe:J,abort:X}}function ve(){I="failed",N.forEach(V=>{V(void 0,O)})}function pe(){z.forEach(V=>{V.status==="pending"&&(V.status="aborted")}),z=[]}function de(V,ie,ke){const be=ie!=="success";switch(z=z.filter(Ae=>Ae!==V),I){case"pending":break;case"failed":if(be||!h.dataAfterTimeout)return;break;default:return}if(ie==="abort"){O=ke,ve();return}if(be){O=ke,z.length||(S.length?ce():ve());return}if(H(),pe(),!h.random){const Ae=h.resources.indexOf(V.resource);Ae!==-1&&Ae!==h.index&&(h.index=Ae)}I="completed",N.forEach(Ae=>{Ae(ke)})}function ce(){if(I!=="pending")return;H();const V=S.shift();if(V===void 0){if(z.length){F=setTimeout(()=>{H(),I==="pending"&&(pe(),ve())},h.timeout);return}ve();return}const ie={status:"pending",resource:V,callback:(ke,be)=>{de(ie,ke,be)}};z.push(ie),L++,F=setTimeout(ce,h.rotate),y(V,v,ie.callback)}return setTimeout(ce),ae}function initRedundancy(h){const v={...defaultConfig,...h};let y=[];function _(){y=y.filter(E=>E().status==="pending")}function x(E,I,L){const O=sendQuery(v,E,I,(F,z)=>{_(),L&&L(F,z)});return y.push(O),O}function w(E){return y.find(I=>E(I))||null}return{query:x,find:w,setIndex:E=>{v.index=E},getIndex:()=>v.index,cleanup:_}}function emptyCallback$1(){}const redundancyCache=Object.create(null);function getRedundancyCache(h){if(!redundancyCache[h]){const v=getAPIConfig(h);if(!v)return;const y=initRedundancy(v),_={config:v,redundancy:y};redundancyCache[h]=_}return redundancyCache[h]}function sendAPIQuery(h,v,y){let _,x;if(typeof h=="string"){const w=getAPIModule(h);if(!w)return y(void 0,424),emptyCallback$1;x=w.send;const S=getRedundancyCache(h);S&&(_=S.redundancy)}else{const w=createAPIConfig(h);if(w){_=initRedundancy(w);const S=h.resources?h.resources[0]:"",E=getAPIModule(S);E&&(x=E.send)}}return!_||!x?(y(void 0,424),emptyCallback$1):_.query(v,x,y)().abort}function emptyCallback(){}function loadedNewIcons(h){h.iconsLoaderFlag||(h.iconsLoaderFlag=!0,setTimeout(()=>{h.iconsLoaderFlag=!1,updateCallbacks(h)}))}function checkIconNamesForAPI(h){const v=[],y=[];return h.forEach(_=>{(_.match(matchIconName)?v:y).push(_)}),{valid:v,invalid:y}}function parseLoaderResponse(h,v,y){function _(){const x=h.pendingIcons;v.forEach(w=>{x&&x.delete(w),h.icons[w]||h.missing.add(w)})}if(y&&typeof y=="object")try{if(!addIconSet(h,y).length){_();return}}catch(x){console.error(x)}_(),loadedNewIcons(h)}function parsePossiblyAsyncResponse(h,v){h instanceof Promise?h.then(y=>{v(y)}).catch(()=>{v(null)}):v(h)}function loadNewIcons(h,v){h.iconsToLoad?h.iconsToLoad=h.iconsToLoad.concat(v).sort():h.iconsToLoad=v,h.iconsQueueFlag||(h.iconsQueueFlag=!0,setTimeout(()=>{h.iconsQueueFlag=!1;const{provider:y,prefix:_}=h,x=h.iconsToLoad;if(delete h.iconsToLoad,!x||!x.length)return;const w=h.loadIcon;if(h.loadIcons&&(x.length>1||!w)){parsePossiblyAsyncResponse(h.loadIcons(x,_,y),O=>{parseLoaderResponse(h,x,O)});return}if(w){x.forEach(O=>{const F=w(O,_,y);parsePossiblyAsyncResponse(F,z=>{const N=z?{prefix:_,icons:{[O]:z}}:null;parseLoaderResponse(h,[O],N)})});return}const{valid:S,invalid:E}=checkIconNamesForAPI(x);if(E.length&&parseLoaderResponse(h,E,null),!S.length)return;const I=_.match(matchIconName)?getAPIModule(y):null;if(!I){parseLoaderResponse(h,S,null);return}I.prepare(y,_,S).forEach(O=>{sendAPIQuery(y,O,F=>{parseLoaderResponse(h,O.icons,F)})})}))}const loadIcons=(h,v)=>{const y=listToIcons(h,!0,allowSimpleNames()),_=sortIcons(y);if(!_.pending.length){let I=!0;return v&&setTimeout(()=>{I&&v(_.loaded,_.missing,_.pending,emptyCallback)}),()=>{I=!1}}const x=Object.create(null),w=[];let S,E;return _.pending.forEach(I=>{const{provider:L,prefix:O}=I;if(O===E&&L===S)return;S=L,E=O,w.push(getStorage(L,O));const F=x[L]||(x[L]=Object.create(null));F[O]||(F[O]=[])}),_.pending.forEach(I=>{const{provider:L,prefix:O,name:F}=I,z=getStorage(L,O),N=z.pendingIcons||(z.pendingIcons=new Set);N.has(F)||(N.add(F),x[L][O].push(F))}),w.forEach(I=>{const L=x[I.provider][I.prefix];L.length&&loadNewIcons(I,L)}),v?storeCallback(v,_,w):emptyCallback};function mergeCustomisations(h,v){const y={...h};for(const _ in v){const x=v[_],w=typeof x;_ in defaultIconSizeCustomisations?(x===null||x&&(w==="string"||w==="number"))&&(y[_]=x):w===typeof y[_]&&(y[_]=_==="rotate"?x%4:x)}return y}const separator=/[\s,]+/;function flipFromString(h,v){v.split(separator).forEach(y=>{switch(y.trim()){case"horizontal":h.hFlip=!0;break;case"vertical":h.vFlip=!0;break}})}function rotateFromString(h,v=0){const y=h.replace(/^-?[0-9.]*/,"");function _(x){for(;x<0;)x+=4;return x%4}if(y===""){const x=parseInt(h);return isNaN(x)?0:_(x)}else if(y!==h){let x=0;switch(y){case"%":x=25;break;case"deg":x=90}if(x){let w=parseFloat(h.slice(0,h.length-y.length));return isNaN(w)?0:(w=w/x,w%1===0?_(w):0)}}return v}function iconToHTML(h,v){let y=h.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const _ in v)y+=" "+_+'="'+v[_]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+y+">"+h+"</svg>"}function encodeSVGforURL(h){return h.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function svgToData(h){return"data:image/svg+xml,"+encodeSVGforURL(h)}function svgToURL(h){return'url("'+svgToData(h)+'")'}const defaultExtendedIconCustomisations={...defaultIconCustomisations,inline:!1},svgDefaults={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},commonProps={display:"inline-block"},monotoneProps={backgroundColor:"currentColor"},coloredProps={backgroundColor:"transparent"},propsToAdd={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},propsToAddTo={webkitMask:monotoneProps,mask:monotoneProps,background:coloredProps};for(const h in propsToAddTo){const v=propsToAddTo[h];for(const y in propsToAdd)v[h+y]=propsToAdd[y]}const customisationAliases={};["horizontal","vertical"].forEach(h=>{const v=h.slice(0,1)+"Flip";customisationAliases[h+"-flip"]=v,customisationAliases[h.slice(0,1)+"-flip"]=v,customisationAliases[h+"Flip"]=v});function fixSize(h){return h+(h.match(/^[-0-9.]+$/)?"px":"")}const render=(h,v)=>{const y=mergeCustomisations(defaultExtendedIconCustomisations,v),_={...svgDefaults},x=v.mode||"svg",w={},S=v.style,E=typeof S=="object"&&!(S instanceof Array)?S:{};for(let X in v){const J=v[X];if(J!==void 0)switch(X){case"icon":case"style":case"onLoad":case"mode":case"ssr":break;case"inline":case"hFlip":case"vFlip":y[X]=J===!0||J==="true"||J===1;break;case"flip":typeof J=="string"&&flipFromString(y,J);break;case"color":w.color=J;break;case"rotate":typeof J=="string"?y[X]=rotateFromString(J):typeof J=="number"&&(y[X]=J);break;case"ariaHidden":case"aria-hidden":J!==!0&&J!=="true"&&delete _["aria-hidden"];break;default:{const ae=customisationAliases[X];ae?(J===!0||J==="true"||J===1)&&(y[ae]=!0):defaultExtendedIconCustomisations[X]===void 0&&(_[X]=J)}}}const I=iconToSVG(h,y),L=I.attributes;if(y.inline&&(w.verticalAlign="-0.125em"),x==="svg"){_.style={...w,...E},Object.assign(_,L);let X=0,J=v.id;return typeof J=="string"&&(J=J.replace(/-/g,"_")),_.innerHTML=replaceIDs(I.body,J?()=>J+"ID"+X++:"iconifyVue"),vue.h("svg",_)}const{body:O,width:F,height:z}=h,N=x==="mask"||(x==="bg"?!1:O.indexOf("currentColor")!==-1),H=iconToHTML(O,{...L,width:F+"",height:z+""});return _.style={...w,"--svg":svgToURL(H),width:fixSize(L.width),height:fixSize(L.height),...commonProps,...N?monotoneProps:coloredProps,...E},vue.h("span",_)};if(allowSimpleNames(!0),setAPIModule("",fetchAPIModule),typeof document<"u"&&typeof window<"u"){const h=window;if(h.IconifyPreload!==void 0){const v=h.IconifyPreload,y="Invalid IconifyPreload syntax.";typeof v=="object"&&v!==null&&(v instanceof Array?v:[v]).forEach(_=>{try{(typeof _!="object"||_===null||_ instanceof Array||typeof _.icons!="object"||typeof _.prefix!="string"||!addCollection(_))&&console.error(y)}catch{console.error(y)}})}if(h.IconifyProviders!==void 0){const v=h.IconifyProviders;if(typeof v=="object"&&v!==null)for(let y in v){const _="IconifyProviders["+y+"] is invalid.";try{const x=v[y];if(typeof x!="object"||!x||x.resources===void 0)continue;addAPIProvider(y,x)||console.error(_)}catch{console.error(_)}}}}const emptyIcon={...defaultIconProps,body:""},Icon$1=vue.defineComponent({inheritAttrs:!1,data(){return{_name:"",_loadingIcon:null,iconMounted:!1,counter:0}},mounted(){this.iconMounted=!0},unmounted(){this.abortLoading()},methods:{abortLoading(){this._loadingIcon&&(this._loadingIcon.abort(),this._loadingIcon=null)},getIcon(h,v,y){if(typeof h=="object"&&h!==null&&typeof h.body=="string")return this._name="",this.abortLoading(),{data:h};let _;if(typeof h!="string"||(_=stringToIcon(h,!1,!0))===null)return this.abortLoading(),null;let x=getIconData(_);if(!x)return(!this._loadingIcon||this._loadingIcon.name!==h)&&(this.abortLoading(),this._name="",x!==null&&(this._loadingIcon={name:h,abort:loadIcons([_],()=>{this.counter++})})),null;if(this.abortLoading(),this._name!==h&&(this._name=h,v&&v(h)),y){x=Object.assign({},x);const S=y(x.body,_.name,_.prefix,_.provider);typeof S=="string"&&(x.body=S)}const w=["iconify"];return _.prefix!==""&&w.push("iconify--"+_.prefix),_.provider!==""&&w.push("iconify--"+_.provider),{data:x,classes:w}}},render(){this.counter;const h=this.$attrs,v=this.iconMounted||h.ssr?this.getIcon(h.icon,h.onLoad,h.customise):null;if(!v)return render(emptyIcon,h);let y=h;return v.classes&&(y={...h,class:(typeof h.class=="string"?h.class+" ":"")+v.classes.join(" ")}),render({...defaultIconProps,...v.data},y)}}),_hoisted_1$G=["d"],_sfc_main$Z=vue.defineComponent({inheritAttrs:!1,__name:"Icon",props:{icon:{}},setup(h){const v=h,y=vue.computed(()=>v.icon.startsWith("char:")?{type:"char",value:v.icon.slice(5)}:v.icon.startsWith("fill:")?{type:"fill",value:v.icon.slice(5)}:{type:"iconify",value:v.icon});return(_,x)=>y.value.type==="iconify"?(vue.openBlock(),vue.createBlock(vue.unref(Icon$1),vue.mergeProps({key:0,class:"TqIcon iconify",icon:y.value.value},_.$attrs),null,16,["icon"])):y.value.type==="char"?(vue.openBlock(),vue.createElementBlock("div",vue.mergeProps({key:1,class:"TqIcon char"},_.$attrs),vue.toDisplayString(y.value.value),17)):y.value.type==="fill"?(vue.openBlock(),vue.createElementBlock("svg",vue.mergeProps({key:2,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",class:"TqIcon fill"},_.$attrs),[vue.createElementVNode("path",{fill:"currentColor",d:y.value.value},null,8,_hoisted_1$G)],16)):vue.createCommentVNode("",!0)}}),_export_sfc=(h,v)=>{const y=h.__vccOpts||h;for(const[_,x]of v)y[_]=x;return y},Icon=_export_sfc(_sfc_main$Z,[["__scopeId","data-v-14c1390b"]]),_hoisted_1$F={class:"BindIcon"},_hoisted_2$p={key:0},_sfc_main$Y=vue.defineComponent({__name:"BindIcon",props:{icon:{}},setup(h){return(v,y)=>(vue.openBlock(),vue.createElementBlock("div",_hoisted_1$F,[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(v.icon,(_,x)=>(vue.openBlock(),vue.createElementBlock(vue.Fragment,{key:x},[typeof _=="string"?(vue.openBlock(),vue.createElementBlock("span",_hoisted_2$p,vue.toDisplayString(_),1)):_.type==="iconify"?(vue.openBlock(),vue.createBlock(vue.unref(Icon),{key:1,class:"icon",icon:_.icon},null,8,["icon"])):vue.createCommentVNode("",!0)],64))),128))]))}}),BindIcon=_export_sfc(_sfc_main$Y,[["__scopeId","data-v-d7969654"]]);function useBndr(h,v){let y;vue.onMounted(()=>{const _=unrefElement(h);_&&(y=createScope(()=>{v(_)}))}),vue.onBeforeUnmount(()=>{y==null||y(),y=void 0})}function precisionOf(h){return h===0?0:Math.max(0,Math.ceil(-Math.log10(h)))}function toFixed(h,v){if(typeof h!="number")throw console.error("Error",h),new Error("Error");return h.toFixed(v).replace(/\.(.*?)[0]+$/,".$1").replace(/\.$/,"")}function getNumberPresition(h){const v=/\.[0-9]*$/.exec(h);return v?v[0].length-1:0}const unsignedMod=(h,v)=>(h%v+v)%v;function isDecendantElementOf(h,v){let y=h;for(;y;){if(y===v)return!0;y=y.parentElement}return!1}function toPercent(h){return`${h*100}%`}function nodeContains(h,v){return h===v||h.contains(v)}const _hoisted_1$E={class:"searchContainer"},_hoisted_2$o={key:0,class:"recentActions"},_hoisted_3$h=["onPointermove","onClick"],_hoisted_4$8={class:"action-label"},_sfc_main$X=vue.defineComponent({__name:"CommandPalette",setup(h){const v=useActionsStore(),y=vue.useTemplateRef("$popover"),_=vue.ref(""),w=useAppConfigStore().ref("commandPalette.performedActionsHistory",[]),S=vue.ref(!1);useEventListener(y,"toggle",F=>{S.value=F.newState==="open"}),vue.watch(S,F=>{var z,N;_.value="",F&&((N=(z=y.value)==null?void 0:z.querySelector("input"))==null||N.focus())},{immediate:!0});const E=vue.computed(()=>_.value===""&&S.value?w.value.map(F=>v.allActions[F]).filter(F=>F!==void 0):search(_.value,Object.values(v.allActions),{keySelector:F=>F.label})),I=vue.ref(null);vue.watch(E,()=>{E.value.length>0?I.value=E.value[0]:I.value=null}),useBndr(y,F=>{keyboard$1().hotkey("command+p",{preventDefault:!0,capture:!0}).on(()=>F instanceof HTMLElement&&F.togglePopover())});function L(F){var z;if(F.key==="p"&&F.metaKey&&(F.preventDefault(),(z=y.value)==null||z.hidePopover()),I.value&&(F.key==="ArrowDown"||F.key==="ArrowUp")){const N=E.value.indexOf(I.value),H=E.value.length,X=F.key==="ArrowDown"?1:-1,J=unsignedMod(N+X,H);I.value=E.value[J]}F.key==="Enter"&&I.value&&O(I.value)}function O(F){var z;w.value=[...new Set([F.id,...w.value])].slice(0,10),(z=y.value)==null||z.hidePopover(),F.perform()}return(F,z)=>(vue.openBlock(),vue.createElementBlock("div",{ref_key:"$popover",ref:y,class:"TqCommandPalette",popover:""},[vue.createElementVNode("div",_hoisted_1$E,[vue.createVNode(vue.unref(Icon),{class:"search-icon",icon:"material-symbols:search-rounded"}),vue.withDirectives(vue.createElementVNode("input",{"onUpdate:modelValue":z[0]||(z[0]=N=>_.value=N),class:"search",type:"text",placeholder:"Search menus and commands",onKeydown:L},null,544),[[vue.vModelText,_.value]])]),_.value===""&&E.value.length>0?(vue.openBlock(),vue.createElementBlock("div",_hoisted_2$o," Recent Actions ")):vue.createCommentVNode("",!0),vue.createElementVNode("ul",null,[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(E.value,N=>{var H;return vue.openBlock(),vue.createElementBlock("li",{key:N.id,class:vue.normalizeClass(["action",{selected:N===I.value}]),onPointermove:X=>I.value=N,onClick:X=>O(N)},[vue.createVNode(vue.unref(Icon),{class:"action-icon",icon:N.icon??""},null,8,["icon"]),vue.createElementVNode("span",_hoisted_4$8,vue.toDisplayString(N.label),1),(H=N.bind)!=null&&H.icon?(vue.openBlock(),vue.createBlock(vue.unref(BindIcon),{key:0,icon:N.bind.icon,class:"action-bind-icon"},null,8,["icon"])):vue.createCommentVNode("",!0)],42,_hoisted_3$h)}),128))])],512))}}),CommandPalette=_export_sfc(_sfc_main$X,[["__scopeId","data-v-d4ae20e6"]]),_hoisted_1$D=["inline-position","block-position","disabled"],_hoisted_2$n={key:1,class:"label"},_sfc_main$W=vue.defineComponent({__name:"InputButton",props:{invalid:{type:Boolean},disabled:{type:Boolean},inlinePosition:{},blockPosition:{},icon:{},label:{},tooltip:{},blink:{type:Boolean},subtle:{type:Boolean}},setup(h){return(v,y)=>(vue.openBlock(),vue.createElementBlock("button",{class:vue.normalizeClass(["TqInputButton",{blink:v.blink,subtle:v.subtle}]),"inline-position":v.inlinePosition,"block-position":v.blockPosition,disabled:v.disabled},[v.icon?(vue.openBlock(),vue.createBlock(vue.unref(Icon),{key:0,class:"icon",icon:v.icon},null,8,["icon"])):vue.createCommentVNode("",!0),v.label?(vue.openBlock(),vue.createElementBlock("span",_hoisted_2$n,vue.toDisplayString(v.label),1)):vue.createCommentVNode("",!0)],10,_hoisted_1$D))}}),InputButton=_export_sfc(_sfc_main$W,[["__scopeId","data-v-f08b6279"]]),EPSILON$1=1e-6,DEG2RAD$2=Math.PI/180,RAD2DEG$2=180/Math.PI;function round$8(h){return h>=0?Math.round(h):h%.5===0?Math.floor(h):Math.round(h)}function vecToString$1(h,v=2){return"["+h.map(_=>toFixedSimple$2(_,v)).join(", ")+"]"}function toFixedSimple$2(h,v=2){return h.toFixed(v).replace(/\.([\d]*?)(0+)$/g,".$1").replace(/\.$/g,"")}function createMatToStringFunction$1(h,v){function y(_,x,w){const[S,E]=_.split("."),I=S.padStart(x," "),L=(E!==void 0?"."+E:"").padEnd(w," ");return I+L}return function(_,x=2){const w=_.map(L=>toFixedSimple$2(L,x)),S=[],E=[];for(let L=0;L<h;L++){const O=[];for(let F=0;F<v;F++)O.push(w[L+F*h]);E.push(Math.max(...O.map(F=>F.split(".")[0].length))),S.push(Math.max(...O.map(F=>{const z=F.split(".")[1];return z!==void 0?("."+z).length:0})))}const I=[];for(let L=0;L<v;L++){const O=[];for(let F=0;F<h;F++){const z=w[F+L*h],N=E[F],H=S[F];O.push(y(z,N,H))}I.push(O.join(", "))}return"["+I.join(`,
 `)+"]"}}var scalar$1;(function(h){function v(...Oe){return Oe.reduce((dt,He)=>dt+He,0)}h.add=v;function y(...Oe){return Oe.length===0?0:Oe.length===1?-Oe[0]:Oe.reduce((dt,He)=>dt-He)}h.subtract=y,h.sub=y;function _(...Oe){return Oe.reduce((dt,He)=>dt*He,1)}h.multiply=_,h.mul=_;function x(...Oe){return Oe.length===0?1:Oe.length===1?1/Oe[0]:Oe.reduce((dt,He)=>dt/He)}h.divide=x,h.div=x,h.round=round$8,h.ceil=Math.ceil,h.floor=Math.floor,h.sign=Math.sign,h.abs=Math.abs;function w(Oe){return Oe<0?Math.ceil(Oe):Math.floor(Oe)}h.trunc=w;function S(Oe){return Oe-h.floor(Oe)}h.fract=S;function E(Oe,dt){return Oe-dt*h.floor(Oe/dt)}h.mod=E;function I(Oe,dt,He=0){return dt===0?Oe:Math.round((Oe-He)/dt)*dt+He}h.quantize=I,h.min=Math.min,h.max=Math.max;function L(Oe,dt,He){return Math.max(dt,Math.min(He,Oe))}h.clamp=L;function O(Oe,dt){return Oe*dt}h.scale=O;function F(...Oe){let dt=0;const He=1/(Oe.length||1);for(const Ct of Oe)dt+=Ct;return dt/He}h.average=F,h.avg=F;function z(Oe,dt,He){return Oe+dt*He}h.scaleAndAdd=z;function N(Oe,dt){return Math.abs(Oe-dt)}h.distance=N,h.dist=N;function H(Oe,dt){return(Oe-dt)**2}h.squaredDistance=H,h.sqrDist=H,h.length=Math.abs,h.len=h.length;function X(Oe){return Oe**2}h.squaredLength=X,h.sqrLen=X;function J(Oe){return-Oe}h.negate=J;function ae(Oe){return 1/Oe}h.invert=ae;function ve(Oe){return 1-Oe}h.oneMinus=ve,h.normalize=Math.sign;function pe(Oe,dt,He){return Oe+(dt-Oe)*He}h.lerp=pe,h.mix=pe;function de(Oe,dt,He){return Oe===dt?.5:(He-Oe)/(dt-Oe)}h.inverseLerp=de,h.invlerp=de;function ce(Oe,dt,He,Ct,Ut){if(He===dt)return pe(Ct,Ut,.5);const pr=L((Oe-dt)/(He-dt),0,1);return pe(Ct,Ut,pr)}h.fit=ce;function V(Oe,dt,He,Ct,Ut){if(He===dt)return pe(Ct,Ut,.5);const pr=(Oe-dt)/(He-dt);return pe(Ct,Ut,pr)}h.efit=V;function ie(Oe,dt){return dt<Oe?0:1}h.step=ie;function ke(Oe,dt,He){const Ct=L((He-Oe)/(dt-Oe),0,1);return Ct*Ct*(3-2*Ct)}h.smoothstep=ke;function be(Oe){return Oe*180/Math.PI}h.degrees=be,h.deg=be;function Ae(Oe){return Oe*Math.PI/180}h.radians=Ae,h.rad=Ae;function ue(Oe){return Math.sin(Oe*DEG2RAD$2)}h.sin=ue;function xe(Oe){return Math.cos(Oe*DEG2RAD$2)}h.cos=xe;function Me(Oe){return Math.tan(Oe*DEG2RAD$2)}h.tan=Me;function Ge(Oe){return Math.asin(Oe)*RAD2DEG$2}h.asin=Ge;function lt(Oe){return Math.acos(Oe)*RAD2DEG$2}h.acos=lt;function Le(Oe,dt){return dt===void 0?Math.atan(Oe)*RAD2DEG$2:Math.atan2(Oe,dt)*RAD2DEG$2}h.atan=Le;function Je(Oe,dt){return Math.atan2(Oe,dt)*RAD2DEG$2}h.atan2=Je,h.pow=Math.exp,h.exp=Math.exp,h.log=Math.log;function gt(Oe){return 2**Oe}h.exp2=gt,h.log2=Math.log2,h.sqrt=Math.sqrt;function ct(Oe){return 1/Math.sqrt(Oe)}h.inverseSqrt=ct,h.invsqrt=ct;function Ot(Oe,dt=1){return Oe/=dt,Oe===1?1:Oe<0?(1+Oe%1)%1:Oe%1}h.sawtooth=Ot,h.ramp=Ot;function ur(Oe,dt=1){return Oe/=dt,1-Math.abs(1-2*(Math.abs(Oe)%1))}h.triangle=ur;function rr(Oe,dt=1){return Oe=Oe*Math.PI*2/dt,(-Math.cos(Oe)+1)/2}h.coswave=rr;function Yt(Oe,dt=1){return Oe=Oe*Math.PI*2/dt,(-Math.sin(Oe)+1)/2}h.sinwave=Yt;function Er(Oe,dt){return Math.abs(Oe-dt)<=EPSILON$1*Math.max(1,Math.abs(Oe),Math.abs(dt))}h.approxEquals=Er,h.approx=Er,h.equals=Er})(scalar$1||(scalar$1={}));var vec2$1;(function(h){function v(T,$=T){return[T,$]}h.of=v;function y(T){return[...T]}h.clone=y,h.zero=Object.freeze([0,0]),h.one=Object.freeze([1,1]),h.unitX=Object.freeze([1,0]),h.unitY=Object.freeze([0,1]);function _(...T){let $=0,R=0;for(const G of T)$+=G[0],R+=G[1];return[$,R]}h.add=_;function x(...T){if(T.length===0)return h.zero;if(T.length===1)return[-T[0][0],-T[0][1]];const[$,...R]=T;let[G,K]=typeof $=="number"?[$,$]:[...$];for(const Y of R)G-=Y[0],K-=Y[1];return[G,K]}h.subtract=x,h.sub=x;function w(T,$){return[$[0]-T[0],$[1]-T[1]]}h.delta=w;function S(...T){let $=1,R=1;for(const G of T)$*=G[0],R*=G[1];return[$,R]}h.multiply=S,h.mul=S;function E(...T){if(T.length===0)return h.one;if(T.length===1)return[1/T[0][0],1/T[0][1]];const[$,...R]=T;let[G,K]=$;for(const Y of R)G/=Y[0],K/=Y[1];return[G,K]}h.divide=E,h.div=E;function I(...T){if(T.length===0)return[1/0,1/0];if(T.length===1)return T[0];if(T.length>2){const[G,K,...Y]=T;return I(I(G,K),...Y)}const[$,R]=T;return[Math.min($[0],R[0]),Math.min($[1],R[1])]}h.min=I;function L(...T){if(T.length===0)return[-1/0,-1/0];if(T.length===1)return T[0];if(T.length>2){const[G,K,...Y]=T;return L(L(G,K),...Y)}const[$,R]=T;return[Math.max($[0],R[0]),Math.max($[1],R[1])]}h.max=L;function O(T,$,R){return typeof $=="number"&&($=[$,$]),typeof R=="number"&&(R=[R,R]),[Math.min(Math.max(T[0],$[0]),R[0]),Math.min(Math.max(T[1],$[1]),R[1])]}h.clamp=O;function F(T){return[Math.abs(T[0]),Math.abs(T[1])]}h.abs=F;function z(T){return[round$8(T[0]),round$8(T[1])]}h.round=z;function N(T){return[Math.ceil(T[0]),Math.ceil(T[1])]}h.ceil=N;function H(T){return[Math.floor(T[0]),Math.floor(T[1])]}h.floor=H;function X(T){return[Math.sign(T[0]),Math.sign(T[1])]}h.sign=X;function J(T){return[T[0]<0?Math.ceil(T[0]):Math.floor(T[0]),T[1]<0?Math.ceil(T[1]):Math.floor(T[1])]}h.trunc=J;function ae(T){return h.sub(T,H(T))}h.fract=ae;function ve(T,$){return typeof $=="number"&&($=[$,$]),[T[0]-$[0]*Math.floor(T[0]/$[0]),T[1]-$[1]*Math.floor(T[1]/$[1])]}h.mod=ve;function pe(T,$,R=h.zero){return typeof $=="number"&&($=[$,$]),typeof R=="number"&&(R=[R,R]),[scalar$1.quantize(T[0],$[0],R[0]),scalar$1.quantize(T[1],$[1],R[1])]}h.quantize=pe;function de(T,$){return[T[0]*$,T[1]*$]}h.scale=de;function ce(...T){let $=0,R=0;const G=T.length||1;for(const K of T)$+=K[0],R+=K[1];return[$/G,R/G]}h.average=ce,h.avg=ce;function V(T,$,R){return[T[0]+$[0]*R,T[1]+$[1]*R]}h.scaleAndAdd=V;function ie(T,$){const R=$[0]-T[0],G=$[1]-T[1];return Math.hypot(R,G)}h.distance=ie,h.dist=ie;function ke(T,$){const R=$[0]-T[0],G=$[1]-T[1];return R*R+G*G}h.squaredDistance=ke,h.sqrDist=ke;function be(T){return Math.hypot(T[0],T[1])}h.length=be,h.len=be;function Ae(T){return T[0]**2+T[1]**2}h.squaredLength=Ae,h.sqrLen=Ae;function ue(T){return[-T[0],-T[1]]}h.negate=ue,h.neg=ue;function xe(T){return[1/T[0],1/T[1]]}h.invert=xe,h.inv=xe;function Me(T){return x(h.one,T)}h.oneMinus=Me;function Ge(T){const R=T[0]===0&&T[1]===0?0:1/Math.hypot(T[0],T[1]);return[T[0]*R,T[1]*R]}h.normalize=Ge;function lt(T,$){return T[0]*$[0]+T[1]*$[1]}h.dot=lt;function Le(T,$){return[0,0,T[0]*$[1]-T[1]*$[0]]}h.cross=Le;function Je(T,$,R){return typeof R=="number"&&(R=[R,R]),[T[0]+R[0]*($[0]-T[0]),T[1]+R[1]*($[1]-T[1])]}h.lerp=Je,h.mix=Je;function gt(T,$,R){return[T[0]===$[0]?.5:(R[0]-T[0])/($[0]-T[0]),T[1]===$[1]?.5:(R[1]-T[1])/($[1]-T[1])]}h.inverseLerp=gt,h.invlerp=gt;function ct(T,$,R,G,K){return[scalar$1.fit(T[0],$[0],R[0],G[0],K[0]),scalar$1.fit(T[1],$[1],R[1],G[1],K[1])]}h.fit=ct;function Ot(T,$,R,G,K){return[scalar$1.efit(T[0],$[0],R[0],G[0],K[0]),scalar$1.efit(T[1],$[1],R[1],G[1],K[1])]}h.efit=Ot;function ur(T,$){const[R,G]=T;return[$[0]*R+$[2]*G,$[1]*R+$[3]*G]}h.transformMat2=ur;function rr(T,$){const[R,G]=T;return[$[0]*R+$[2]*G+$[4],$[1]*R+$[3]*G+$[5]]}h.transformMat2d=rr;function Yt(T,$){const[R,G]=T;return[$[0]*R+$[3]*G+$[6],$[1]*R+$[4]*G+$[7]]}h.transformMat3=Yt;function Er(T,$,R=h.zero){const G=T[0]-R[0],K=T[1]-R[1],Y=Math.sin($*DEG2RAD$2),j=Math.cos($*DEG2RAD$2);return[G*j-K*Y+R[0],G*Y+K*j+R[1]]}h.rotate=Er;function Oe(T,$=!0,R){if(R){const[G,K]=x(T,R);return $?_(R,[-K,G]):_(R,[K,-G])}else return $?[-T[1],T[0]]:[T[1],-T[0]]}h.rotate90=Oe;function dt(T,$){if(!$)return Math.atan2(T[1],T[0])*RAD2DEG$2;if(h.eq(T,$))return 0;const[R,G]=T,[K,Y]=$,j=Math.hypot(R,G)*Math.hypot(K,Y);if(j===0)return 0;const q=R*Y-G*K>=0?1:-1,W=Math.acos(scalar$1.clamp(lt(T,$)/j,-1,1)),Q=q*W*RAD2DEG$2;return Q<=-180?Q+360:Q}h.angle=dt;function He(T,$=1,R=h.zero){return[Math.cos(T*DEG2RAD$2)*$+R[0],Math.sin(T*DEG2RAD$2)*$+R[1]]}h.direction=He,h.dir=He;function Ct(T,$){return typeof T=="number"&&(T=[T,T]),[$[0]<T[0]?0:1,$[1]<T[1]?0:1]}h.step=Ct;function Ut(T,$,R){const G=scalar$1.clamp((R[0]-T[0])/($[0]-T[0]),0,1),K=scalar$1.clamp((R[1]-$[1])/($[1]-$[1]),0,1);return[G*G*(3-2*G),K*K*(3-2*K)]}h.smoothstep=Ut;function pr(T){return[T[0]*RAD2DEG$2,T[1]*RAD2DEG$2]}h.degrees=pr,h.deg=pr;function Pr(T){return[T[0]*DEG2RAD$2,T[1]*DEG2RAD$2]}h.radians=Pr,h.rad=Pr;function tn(T){return[Math.sin(T[0]*DEG2RAD$2),Math.sin(T[1]*DEG2RAD$2)]}h.sin=tn;function un(T){return[Math.cos(T[0]*DEG2RAD$2),Math.cos(T[1]*DEG2RAD$2)]}h.cos=un;function pn(T){return[Math.tan(T[0]*DEG2RAD$2),Math.tan(T[1]*DEG2RAD$2)]}h.tan=pn;function kn(T){return[Math.asin(T[0])*RAD2DEG$2,Math.asin(T[1])*RAD2DEG$2]}h.asin=kn;function Bn(T){return[Math.acos(T[0]*RAD2DEG$2),Math.acos(T[1]*RAD2DEG$2)]}h.acos=Bn;function ai(T,$){return $===void 0?[Math.atan(T[0])*RAD2DEG$2,Math.atan(T[1])*RAD2DEG$2]:[Math.atan2(T[0],$[0])*RAD2DEG$2,Math.atan2(T[1],$[1])*RAD2DEG$2]}h.atan=ai;function vn(T,$){return[Math.atan2(T[0],$[0])*RAD2DEG$2,Math.atan2(T[1],$[1])*RAD2DEG$2]}h.atan2=vn;function oi(T,$){return[Math.pow(T[0],$[0]),Math.pow(T[1],$[1])]}h.pow=oi;function Hn(T){return[Math.exp(T[0]),Math.exp(T[1])]}h.exp=Hn;function ln(T){return[Math.log(T[0]),Math.log(T[1])]}h.log=ln;function In(T){return[2**T[0],2**T[1]]}h.exp2=In;function Ee(T){return[Math.log2(T[0]),Math.log2(T[1])]}h.log2=Ee;function Xe(T){return[Math.sqrt(T[0]),Math.sqrt(T[1])]}h.sqrt=Xe;function ut(T){return[1/Math.sqrt(T[0]),1/Math.sqrt(T[1])]}h.inverseSqrt=ut,h.invsqrt=ut;function k(T,$){return T[0]===$[0]&&T[1]===$[1]}h.exactEquals=k,h.eq=k;function M(T,$){const[R,G]=T,[K,Y]=$;return Math.abs(R-K)<=EPSILON$1*Math.max(1,Math.abs(R),Math.abs(K))&&Math.abs(G-Y)<=EPSILON$1*Math.max(1,Math.abs(G),Math.abs(Y))}h.approxEquals=M,h.approx=M,h.equals=M,h.toString=vecToString$1})(vec2$1||(vec2$1={}));var mat2$1;(function(h){function v(V,ie,ke,be){return[V,ie,ke,be]}h.of=v;function y(V){return[...V]}h.clone=y,h.identity=Object.freeze([1,0,0,1]),h.I=h.identity,h.id=h.identity,h.ident=h.identity,h.zero=Object.freeze([0,0,0,0]);function _(V){return[V[0],V[2],V[1],V[3]]}h.transpose=_;function x(V){const[ie,ke,be,Ae]=V,ue=ie*Ae-be*ke;if(!ue)return null;const xe=1/ue;return[Ae*xe,-ke*xe,-be*xe,ie*xe]}h.invert=x,h.inv=x;function w(V){const ie=V[0];return[V[3],-V[1],-V[2],ie]}h.adjoint=w;function S(V){return V[0]*V[3]-V[2]*V[1]}h.determinant=S,h.det=S;function E(...V){if(V.length===0)return h.identity;if(V.length===1)return V[0];if(V.length>2){const[lt,Le,...Je]=V;return E(E(lt,Le),...Je)}const[ie,ke,be,Ae]=V[0],[ue,xe,Me,Ge]=V[1];return[ie*ue+be*xe,ke*ue+Ae*xe,ie*Me+be*Ge,ke*Me+Ae*Ge]}h.multiply=E,h.mul=E;function I(V,ie){const[ke,be,Ae,ue]=V,xe=Math.sin(ie*DEG2RAD$2),Me=Math.cos(ie*DEG2RAD$2);return[ke*Me+Ae*xe,be*Me+ue*xe,ke*-xe+Ae*Me,be*-xe+ue*Me]}h.rotate=I;function L(V,ie){const[ke,be,Ae,ue]=V,[xe,Me]=typeof ie=="number"?[ie,ie]:ie;return[ke*xe,be*xe,Ae*Me,ue*Me]}h.scale=L;function O(V,ie){return E(V,N(ie))}h.skew=O;function F(V){const ie=Math.sin(V*DEG2RAD$2),ke=Math.cos(V*DEG2RAD$2);return[ke,ie,-ie,ke]}h.fromRotation=F,h.rotation=F;function z(V){return[V[0],0,0,V[1]]}h.fromScaling=z,h.scaling=z;function N(V){const ie=Math.tan(V[0]*DEG2RAD$2);return[1,Math.tan(V[1]*DEG2RAD$2),ie,1]}h.fromSkew=N,h.skewing=N;function H(V=null,ie=null){V??(V=0),ie??(ie=vec2$1.one);const ke=Math.cos(V*DEG2RAD$2),be=Math.sin(V*DEG2RAD$2);return[ie[0]*ke,ie[0]*be,ie[1]*-be,ie[1]*ke]}h.fromRotScale=H,h.rs=H;function X(V){return Math.hypot(V[0],V[1],V[2],V[3])}h.frob=X;function J(...V){if(V.length===0)return h.zero;if(V.length===1)return V[0];if(V.length>2){const[be,Ae,...ue]=V;return J(J(be,Ae),...ue)}const[ie,ke]=V;return[ie[0]+ke[0],ie[1]+ke[1],ie[2]+ke[2],ie[3]+ke[3]]}h.add=J;function ae(...V){if(V.length===0)return h.zero;if(V.length===1)return[-V[0],-V[1],-V[2],-V[3]];if(V.length>2){const[be,Ae,...ue]=V;return ae(ae(be,Ae),...ue)}const[ie,ke]=V;return[ie[0]-ke[0],ie[1]-ke[1],ie[2]-ke[2],ie[3]-ke[3]]}h.subtract=ae,h.sub=ae;function ve(V,ie){return[ie[0]-V[0],ie[1]-V[1],ie[2]-V[2],ie[3]-V[3]]}h.delta=ve;function pe(V){return[V[0],V[1],V[2],V[3]]}h.fromMat2d=pe;function de(V,ie){return V[0]===ie[0]&&V[1]===ie[1]&&V[2]===ie[2]&&V[3]===ie[3]}h.exactEquals=de,h.eq=de;function ce(V,ie){const[ke,be,Ae,ue]=V,[xe,Me,Ge,lt]=ie;return Math.abs(ke-xe)<=EPSILON$1*Math.max(1,Math.abs(ke),Math.abs(xe))&&Math.abs(be-Me)<=EPSILON$1*Math.max(1,Math.abs(be),Math.abs(Me))&&Math.abs(Ae-Ge)<=EPSILON$1*Math.max(1,Math.abs(Ae),Math.abs(Ge))&&Math.abs(ue-lt)<=EPSILON$1*Math.max(1,Math.abs(ue),Math.abs(lt))}h.approxEquals=ce,h.approx=ce,h.equals=ce})(mat2$1||(mat2$1={}));var mat2d$1;(function(h){function v(ue,xe,Me,Ge,lt,Le){return[ue,xe,Me,Ge,lt,Le]}h.of=v;function y(ue){return[...ue]}h.clone=y,h.identity=Object.freeze([1,0,0,1,0,0]),h.I=h.identity,h.id=h.identity,h.ident=h.identity,h.zero=Object.freeze([0,0,0,0,0,0]);function _(ue){const[xe,Me,Ge,lt,Le,Je]=ue,gt=xe*lt-Me*Ge;if(!gt)return null;const ct=1/gt;return[lt*ct,-Me*ct,-Ge*ct,xe*ct,(Ge*Je-lt*Le)*ct,(Me*Le-xe*Je)*ct]}h.invert=_,h.inv=_;function x(ue){return ue[0]*ue[3]-ue[1]*ue[2]}h.determinant=x,h.det=x;function w(...ue){if(ue.length===0)return h.identity;if(ue.length===1)return ue[0];if(ue.length>2){const[dt,He,...Ct]=ue;return w(w(dt,He),...Ct)}const[xe,Me]=ue,[Ge,lt,Le,Je,gt,ct]=xe,[Ot,ur,rr,Yt,Er,Oe]=Me;return[Ge*Ot+Le*ur,lt*Ot+Je*ur,Ge*rr+Le*Yt,lt*rr+Je*Yt,Ge*Er+Le*Oe+gt,lt*Er+Je*Oe+ct]}h.multiply=w,h.mul=w;function S(ue,xe,Me){if(Me&&Me)return L(S(ue,xe),Me);const[Ge,lt,Le,Je,gt,ct]=ue,Ot=Math.sin(xe*DEG2RAD$2),ur=Math.cos(xe*DEG2RAD$2);return[Ge*ur+Le*Ot,lt*ur+Je*Ot,Ge*-Ot+Le*ur,lt*-Ot+Je*ur,gt,ct]}h.rotate=S;function E(ue,xe,Me){if(Me)return L(E(ue,xe),Me);const[Ge,lt,Le,Je,gt,ct]=ue,[Ot,ur]=xe;return[Ge*Ot,lt*Ot,Le*ur,Je*ur,gt,ct]}h.scale=E;function I(ue,xe){const[Me,Ge,lt,Le,Je,gt]=ue,[ct,Ot]=xe;return[Me,Ge,lt,Le,Me*ct+lt*Ot+Je,Ge*ct+Le*Ot+gt]}h.translate=I;function L(ue,xe){return w(N(xe),ue,N(vec2$1.negate(xe)))}h.pivot=L;function O(ue,xe,Me){return w(ue,H(xe,Me))}h.skew=O;function F(ue,xe){if(xe)return L(F(ue),xe);const Me=Math.sin(ue*DEG2RAD$2),Ge=Math.cos(ue*DEG2RAD$2);return[Ge,Me,-Me,Ge,0,0]}h.fromRotation=F,h.rotation=F;function z(ue,xe){if(xe)return L(z(ue),xe);const[Me,Ge]=typeof ue=="number"?[ue,ue]:ue;return[Me,0,0,Ge,0,0]}h.fromScaling=z,h.scaling=z;function N(ue){const[xe,Me]=typeof ue=="number"?[ue,ue]:ue;return[1,0,0,1,xe,Me]}h.fromTranslation=N,h.translation=N;function H(ue,xe){if(xe)return L(H(ue),xe);const[Me,Ge]=ue,lt=Math.tan(Me*DEG2RAD$2);return[1,Math.tan(Ge*DEG2RAD$2),lt,1,0,0]}h.fromSkew=H,h.skewing=H;function X(ue){const[xe,Me,Ge,lt,Le,Je]=ue,gt=[1-xe,-Ge,-Me,1-lt],ct=mat2$1.invert(gt);if(!ct)return null;const Ot=ct[0]*Le+ct[1]*Je,ur=ct[2]*Le+ct[3]*Je;return[Ot,ur]}h.fixedPoint=X;function J(ue){return Math.hypot(ue[0],ue[1],ue[2],ue[3],ue[4],ue[5],1)}h.frob=J;function ae(...ue){const xe=[0,0,0,0,0,0];for(const Me of ue)xe[0]+=Me[0],xe[1]+=Me[1],xe[2]+=Me[2],xe[3]+=Me[3],xe[4]+=Me[4],xe[5]+=Me[5];return xe}h.add=ae;function ve(...ue){if(ue.length===0)return h.zero;if(ue.length===1)return[-ue[0],-ue[1],-ue[2],-ue[3],-ue[4],-ue[5]];if(ue.length>2){const[Ge,lt,...Le]=ue;return ve(ve(Ge,lt),...Le)}const[xe,Me]=ue;return[xe[0]-Me[0],xe[1]-Me[1],xe[2]-Me[2],xe[3]-Me[3],xe[4]-Me[4],xe[5]-Me[5]]}h.subtract=ve,h.sub=ve;function pe(ue,xe){return[xe[0]-ue[0],xe[1]-ue[1],xe[2]-ue[2],xe[3]-ue[3],xe[4]-ue[4],xe[5]-ue[5]]}h.delta=pe;function de(ue,xe){return[ue[0]*xe,ue[1]*xe,ue[2]*xe,ue[3]*xe,ue[4]*xe,ue[5]*xe]}h.multiplyScalar=de;function ce(ue,xe,Me){return[ue[0]+xe[0]*Me,ue[1]+xe[1]*Me,ue[2]+xe[2]*Me,ue[3]+xe[3]*Me,ue[4]+xe[4]*Me,ue[5]+xe[5]*Me]}h.multiplyScalarAndAdd=ce;function V(ue,xe,Me){if(!Me){const Je=Math.PI/2;Me=[vec2$1.add(ue[0],vec2$1.rotate(vec2$1.sub(xe[0],ue[0]),Je)),vec2$1.add(ue[1],vec2$1.rotate(vec2$1.sub(xe[1],ue[1]),Je))]}const Ge=[xe[0][0]-ue[0][0],xe[0][1]-ue[0][1],Me[0][0]-ue[0][0],Me[0][1]-ue[0][1],ue[0][0],ue[0][1]],lt=_(Ge);if(!lt)return null;const Le=[xe[1][0]-ue[1][0],xe[1][1]-ue[1][1],Me[1][0]-ue[1][0],Me[1][1]-ue[1][1],ue[1][0],ue[1][1]];return w(Le,lt)}h.fromPoints=V;function ie(ue=null,xe=null,Me=null){ue??(ue=vec2$1.zero),xe??(xe=0),Me===null?Me=vec2$1.one:typeof Me=="number"&&(Me=[Me,Me]);const Ge=Math.cos(xe*DEG2RAD$2),lt=Math.sin(xe*DEG2RAD$2);return[Me[0]*Ge,Me[0]*lt,Me[1]*-lt,Me[1]*Ge,...ue]}h.fromTRS=ie,h.trs=ie;function ke(ue){return[...ue,0,0]}h.fromMat2=ke;function be(ue,xe){return ue[0]===xe[0]&&ue[1]===xe[1]&&ue[2]===xe[2]&&ue[3]===xe[3]&&ue[4]===xe[4]&&ue[5]===xe[5]}h.exactEquals=be,h.eq=be;function Ae(ue,xe){const[Me,Ge,lt,Le,Je,gt]=ue,[ct,Ot,ur,rr,Yt,Er]=xe;return Math.abs(Me-ct)<=EPSILON$1*Math.max(1,Math.abs(Me),Math.abs(ct))&&Math.abs(Ge-Ot)<=EPSILON$1*Math.max(1,Math.abs(Ge),Math.abs(Ot))&&Math.abs(lt-ur)<=EPSILON$1*Math.max(1,Math.abs(lt),Math.abs(ur))&&Math.abs(Le-rr)<=EPSILON$1*Math.max(1,Math.abs(Le),Math.abs(rr))&&Math.abs(Je-Yt)<=EPSILON$1*Math.max(1,Math.abs(Je),Math.abs(Yt))&&Math.abs(gt-Er)<=EPSILON$1*Math.max(1,Math.abs(gt),Math.abs(Er))}h.approxEquals=Ae,h.approx=Ae,h.equals=Ae,h.toString=createMatToStringFunction$1(2,3)})(mat2d$1||(mat2d$1={}));const _hoisted_1$C=["theme","font","align","inline-position","block-position"],_hoisted_2$m=["value","disabled"],_hoisted_3$g={key:0,class:"inactive-content"},_sfc_main$V=vue.defineComponent({__name:"InputTextBase",props:vue.mergeModels({ignoreInput:{type:Boolean},hover:{type:Boolean},active:{type:Boolean},theme:{},font:{},align:{},leftIcon:{},rightIcon:{},inlinePosition:{},blockPosition:{},invalid:{type:Boolean},disabled:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:vue.mergeModels(["focus","blur","keydown","confirm","update:focused"],["update:modelValue"]),setup(h,{expose:v,emit:y}){const _=vue.useModel(h,"modelValue"),x=y,w=vue.useSlots();v({select:(F,z)=>{var N,H,X;F===void 0?(N=E.value)==null||N.select():((H=E.value)==null||H.setSelectionRange(F,z??F+1),(X=E.value)==null||X.focus())}});const S=vue.computed(()=>!!w.inactiveContent),E=vue.useTemplateRef("$input");function I(F){_.value=F.target.value}function L(F){x("update:focused",!0),x("focus",F)}function O(F){x("update:focused",!1),x("blur",F)}return(F,z)=>(vue.openBlock(),vue.createElementBlock("div",{class:vue.normalizeClass(["TqInputTextBase",{active:F.active,invalid:F.invalid,hover:F.hover}]),theme:F.theme,font:F.font,align:F.align,"inline-position":F.inlinePosition,"block-position":F.blockPosition},[vue.renderSlot(F.$slots,"back",{},void 0,!0),vue.createElementVNode("input",{ref_key:"$input",ref:E,class:vue.normalizeClass(["input",{ignore:F.ignoreInput,"has-inactive-content":S.value}]),type:"text",value:_.value,disabled:F.disabled||void 0,onFocus:L,onBlur:O,onInput:I,onKeydown:[z[0]||(z[0]=N=>x("keydown",N)),z[1]||(z[1]=vue.withKeys(N=>x("confirm"),["enter"]))]},null,42,_hoisted_2$m),S.value?(vue.openBlock(),vue.createElementBlock("div",_hoisted_3$g,[vue.renderSlot(F.$slots,"inactiveContent",{},void 0,!0)])):vue.createCommentVNode("",!0),F.leftIcon?(vue.openBlock(),vue.createBlock(vue.unref(Icon),{key:1,class:"icon left",icon:F.leftIcon},null,8,["icon"])):vue.createCommentVNode("",!0),F.rightIcon?(vue.openBlock(),vue.createBlock(vue.unref(Icon),{key:2,class:"icon right",icon:F.rightIcon},null,8,["icon"])):vue.createCommentVNode("",!0),vue.renderSlot(F.$slots,"front",{},void 0,!0)],10,_hoisted_1$C))}}),InputTextBase=_export_sfc(_sfc_main$V,[["__scopeId","data-v-6c45ab0d"]]),EPSILON=1e-6,DEG2RAD$1=Math.PI/180,RAD2DEG$1=180/Math.PI;function round$7(h){return h>=0?Math.round(h):h%.5===0?Math.floor(h):Math.round(h)}function vecToString(h,v=2){return"["+h.map(_=>toFixedSimple$1(_,v)).join(", ")+"]"}function toFixedSimple$1(h,v=2){return h.toFixed(v).replace(/\.([\d]*?)(0+)$/g,".$1").replace(/\.$/g,"")}function createMatToStringFunction(h,v){function y(_,x,w){const[S,E]=_.split("."),I=S.padStart(x," "),L=(E!==void 0?"."+E:"").padEnd(w," ");return I+L}return function(_,x=2){const w=_.map(L=>toFixedSimple$1(L,x)),S=[],E=[];for(let L=0;L<h;L++){const O=[];for(let F=0;F<v;F++)O.push(w[L+F*h]);E.push(Math.max(...O.map(F=>F.split(".")[0].length))),S.push(Math.max(...O.map(F=>{const z=F.split(".")[1];return z!==void 0?("."+z).length:0})))}const I=[];for(let L=0;L<v;L++){const O=[];for(let F=0;F<h;F++){const z=w[F+L*h],N=E[F],H=S[F];O.push(y(z,N,H))}I.push(O.join(", "))}return"["+I.join(`,
 `)+"]"}}var scalar;(function(h){function v(...Oe){return Oe.reduce((dt,He)=>dt+He,0)}h.add=v;function y(...Oe){return Oe.length===0?0:Oe.length===1?-Oe[0]:Oe.reduce((dt,He)=>dt-He)}h.subtract=y,h.sub=y;function _(...Oe){return Oe.reduce((dt,He)=>dt*He,1)}h.multiply=_,h.mul=_;function x(...Oe){return Oe.length===0?1:Oe.length===1?1/Oe[0]:Oe.reduce((dt,He)=>dt/He)}h.divide=x,h.div=x,h.round=round$7,h.ceil=Math.ceil,h.floor=Math.floor,h.sign=Math.sign,h.abs=Math.abs;function w(Oe){return Oe<0?Math.ceil(Oe):Math.floor(Oe)}h.trunc=w;function S(Oe){return Oe-h.floor(Oe)}h.fract=S;function E(Oe,dt){return Oe-dt*h.floor(Oe/dt)}h.mod=E;function I(Oe,dt,He=0){return Math.round((Oe-He)/dt)*dt+He}h.quantize=I,h.min=Math.min,h.max=Math.max;function L(Oe,dt,He){return Math.max(dt,Math.min(He,Oe))}h.clamp=L;function O(Oe,dt){return Oe*dt}h.scale=O;function F(...Oe){let dt=0;const He=1/(Oe.length||1);for(const Ct of Oe)dt+=Ct;return dt/He}h.average=F,h.avg=F;function z(Oe,dt,He){return Oe+dt*He}h.scaleAndAdd=z;function N(Oe,dt){return Math.abs(Oe-dt)}h.distance=N,h.dist=N;function H(Oe,dt){return(Oe-dt)**2}h.squaredDistance=H,h.sqrDist=H,h.length=Math.abs,h.len=h.length;function X(Oe){return Oe**2}h.squaredLength=X,h.sqrLen=X;function J(Oe){return-Oe}h.negate=J;function ae(Oe){return 1/Oe}h.invert=ae;function ve(Oe){return 1-Oe}h.oneMinus=ve,h.normalize=Math.sign;function pe(Oe,dt,He){return Oe+(dt-Oe)*He}h.lerp=pe,h.mix=pe;function de(Oe,dt,He){return Oe===dt?.5:(He-Oe)/(dt-Oe)}h.inverseLerp=de,h.invlerp=de;function ce(Oe,dt,He,Ct,Ut){if(He===dt)return pe(Ct,Ut,.5);const pr=L((Oe-dt)/(He-dt),0,1);return pe(Ct,Ut,pr)}h.fit=ce;function V(Oe,dt,He,Ct,Ut){if(He===dt)return pe(Ct,Ut,.5);const pr=(Oe-dt)/(He-dt);return pe(Ct,Ut,pr)}h.efit=V;function ie(Oe,dt){return dt<Oe?0:1}h.step=ie;function ke(Oe,dt,He){const Ct=L((He-Oe)/(dt-Oe),0,1);return Ct*Ct*(3-2*Ct)}h.smoothstep=ke;function be(Oe){return Oe*180/Math.PI}h.degrees=be,h.deg=be;function Ae(Oe){return Oe*Math.PI/180}h.radians=Ae,h.rad=Ae;function ue(Oe){return Math.sin(Oe*DEG2RAD$1)}h.sin=ue;function xe(Oe){return Math.cos(Oe*DEG2RAD$1)}h.cos=xe;function Me(Oe){return Math.tan(Oe*DEG2RAD$1)}h.tan=Me;function Ge(Oe){return Math.asin(Oe)*RAD2DEG$1}h.asin=Ge;function lt(Oe){return Math.acos(Oe)*RAD2DEG$1}h.acos=lt;function Le(Oe,dt){return dt===void 0?Math.atan(Oe)*RAD2DEG$1:Math.atan2(Oe,dt)*RAD2DEG$1}h.atan=Le;function Je(Oe,dt){return Math.atan2(Oe,dt)*RAD2DEG$1}h.atan2=Je,h.pow=Math.exp,h.exp=Math.exp,h.log=Math.log;function gt(Oe){return 2**Oe}h.exp2=gt,h.log2=Math.log2,h.sqrt=Math.sqrt;function ct(Oe){return 1/Math.sqrt(Oe)}h.inverseSqrt=ct,h.invsqrt=ct;function Ot(Oe,dt=1){return Oe/=dt,Oe===1?1:Oe<0?(1+Oe%1)%1:Oe%1}h.sawtooth=Ot,h.ramp=Ot;function ur(Oe,dt=1){return Oe/=dt,1-Math.abs(1-2*(Math.abs(Oe)%1))}h.triangle=ur;function rr(Oe,dt=1){return Oe=Oe*Math.PI*2/dt,(-Math.cos(Oe)+1)/2}h.coswave=rr;function Yt(Oe,dt=1){return Oe=Oe*Math.PI*2/dt,(-Math.sin(Oe)+1)/2}h.sinwave=Yt;function Er(Oe,dt){return Math.abs(Oe-dt)<=EPSILON*Math.max(1,Math.abs(Oe),Math.abs(dt))}h.approxEquals=Er,h.approx=Er,h.equals=Er})(scalar||(scalar={}));var vec2;(function(h){function v(T,$=T){return[T,$]}h.of=v;function y(T){return[...T]}h.clone=y,h.zero=Object.freeze([0,0]),h.one=Object.freeze([1,1]),h.unitX=Object.freeze([1,0]),h.unitY=Object.freeze([0,1]);function _(...T){let $=0,R=0;for(const G of T)$+=G[0],R+=G[1];return[$,R]}h.add=_;function x(...T){if(T.length===0)return h.zero;if(T.length===1)return[-T[0][0],-T[0][1]];const[$,...R]=T;let[G,K]=typeof $=="number"?[$,$]:[...$];for(const Y of R)G-=Y[0],K-=Y[1];return[G,K]}h.subtract=x,h.sub=x;function w(T,$){return[$[0]-T[0],$[1]-T[1]]}h.delta=w;function S(...T){let $=1,R=1;for(const G of T)$*=G[0],R*=G[1];return[$,R]}h.multiply=S,h.mul=S;function E(...T){if(T.length===0)return h.one;if(T.length===1)return[1/T[0][0],1/T[0][1]];const[$,...R]=T;let[G,K]=$;for(const Y of R)G/=Y[0],K/=Y[1];return[G,K]}h.divide=E,h.div=E;function I(...T){if(T.length===0)return[1/0,1/0];if(T.length===1)return T[0];if(T.length>2){const[G,K,...Y]=T;return I(I(G,K),...Y)}const[$,R]=T;return[Math.min($[0],R[0]),Math.min($[1],R[1])]}h.min=I;function L(...T){if(T.length===0)return[-1/0,-1/0];if(T.length===1)return T[0];if(T.length>2){const[G,K,...Y]=T;return L(L(G,K),...Y)}const[$,R]=T;return[Math.max($[0],R[0]),Math.max($[1],R[1])]}h.max=L;function O(T,$,R){return typeof $=="number"&&($=[$,$]),typeof R=="number"&&(R=[R,R]),[Math.min(Math.max(T[0],$[0]),R[0]),Math.min(Math.max(T[1],$[1]),R[1])]}h.clamp=O;function F(T){return[Math.abs(T[0]),Math.abs(T[1])]}h.abs=F;function z(T){return[round$7(T[0]),round$7(T[1])]}h.round=z;function N(T){return[Math.ceil(T[0]),Math.ceil(T[1])]}h.ceil=N;function H(T){return[Math.floor(T[0]),Math.floor(T[1])]}h.floor=H;function X(T){return[Math.sign(T[0]),Math.sign(T[1])]}h.sign=X;function J(T){return[T[0]<0?Math.ceil(T[0]):Math.floor(T[0]),T[1]<0?Math.ceil(T[1]):Math.floor(T[1])]}h.trunc=J;function ae(T){return h.sub(T,H(T))}h.fract=ae;function ve(T,$){return typeof $=="number"&&($=[$,$]),[T[0]-$[0]*Math.floor(T[0]/$[0]),T[1]-$[1]*Math.floor(T[1]/$[1])]}h.mod=ve;function pe(T,$,R=h.zero){return typeof $=="number"&&($=[$,$]),typeof R=="number"&&(R=[R,R]),[Math.round((T[0]-R[0])/$[0])*$[0]+R[0],Math.round((T[1]-R[1])/$[1])*$[1]+R[1]]}h.quantize=pe;function de(T,$){return[T[0]*$,T[1]*$]}h.scale=de;function ce(...T){let $=0,R=0;const G=T.length||1;for(const K of T)$+=K[0],R+=K[1];return[$/G,R/G]}h.average=ce,h.avg=ce;function V(T,$,R){return[T[0]+$[0]*R,T[1]+$[1]*R]}h.scaleAndAdd=V;function ie(T,$){const R=$[0]-T[0],G=$[1]-T[1];return Math.hypot(R,G)}h.distance=ie,h.dist=ie;function ke(T,$){const R=$[0]-T[0],G=$[1]-T[1];return R*R+G*G}h.squaredDistance=ke,h.sqrDist=ke;function be(T){return Math.hypot(T[0],T[1])}h.length=be,h.len=be;function Ae(T){return T[0]**2+T[1]**2}h.squaredLength=Ae,h.sqrLen=Ae;function ue(T){return[-T[0],-T[1]]}h.negate=ue,h.neg=ue;function xe(T){return[1/T[0],1/T[1]]}h.invert=xe,h.inv=xe;function Me(T){return x(h.one,T)}h.oneMinus=Me;function Ge(T){const R=T[0]===0&&T[1]===0?0:1/Math.hypot(T[0],T[1]);return[T[0]*R,T[1]*R]}h.normalize=Ge;function lt(T,$){return T[0]*$[0]+T[1]*$[1]}h.dot=lt;function Le(T,$){return[0,0,T[0]*$[1]-T[1]*$[0]]}h.cross=Le;function Je(T,$,R){return typeof R=="number"&&(R=[R,R]),[T[0]+R[0]*($[0]-T[0]),T[1]+R[1]*($[1]-T[1])]}h.lerp=Je,h.mix=Je;function gt(T,$,R){return[T[0]===$[0]?.5:(R[0]-T[0])/($[0]-T[0]),T[1]===$[1]?.5:(R[1]-T[1])/($[1]-T[1])]}h.inverseLerp=gt,h.invlerp=gt;function ct(T,$,R,G,K){return[scalar.fit(T[0],$[0],R[0],G[0],K[0]),scalar.fit(T[1],$[1],R[1],G[1],K[1])]}h.fit=ct;function Ot(T,$,R,G,K){return[scalar.efit(T[0],$[0],R[0],G[0],K[0]),scalar.efit(T[1],$[1],R[1],G[1],K[1])]}h.efit=Ot;function ur(T,$){const[R,G]=T;return[$[0]*R+$[2]*G,$[1]*R+$[3]*G]}h.transformMat2=ur;function rr(T,$){const[R,G]=T;return[$[0]*R+$[2]*G+$[4],$[1]*R+$[3]*G+$[5]]}h.transformMat2d=rr;function Yt(T,$){const[R,G]=T;return[$[0]*R+$[3]*G+$[6],$[1]*R+$[4]*G+$[7]]}h.transformMat3=Yt;function Er(T,$,R=h.zero){const G=T[0]-R[0],K=T[1]-R[1],Y=Math.sin($*DEG2RAD$1),j=Math.cos($*DEG2RAD$1);return[G*j-K*Y+R[0],G*Y+K*j+R[1]]}h.rotate=Er;function Oe(T,$=!0,R){if(R){const[G,K]=x(T,R);return $?_(R,[-K,G]):_(R,[K,-G])}else return $?[-T[1],T[0]]:[T[1],-T[0]]}h.rotate90=Oe;function dt(T,$){if(!$)return Math.atan2(T[1],T[0])*RAD2DEG$1;if(h.eq(T,$))return 0;const[R,G]=T,[K,Y]=$,j=Math.hypot(R,G)*Math.hypot(K,Y);if(j===0)return 0;const q=R*Y-G*K>=0?1:-1,W=Math.acos(scalar.clamp(lt(T,$)/j,-1,1)),Q=q*W*RAD2DEG$1;return Q<=-180?Q+360:Q}h.angle=dt;function He(T,$=1,R=h.zero){return[Math.cos(T*DEG2RAD$1)*$+R[0],Math.sin(T*DEG2RAD$1)*$+R[1]]}h.direction=He,h.dir=He;function Ct(T,$){return typeof T=="number"&&(T=[T,T]),[$[0]<T[0]?0:1,$[1]<T[1]?0:1]}h.step=Ct;function Ut(T,$,R){const G=scalar.clamp((R[0]-T[0])/($[0]-T[0]),0,1),K=scalar.clamp((R[1]-$[1])/($[1]-$[1]),0,1);return[G*G*(3-2*G),K*K*(3-2*K)]}h.smoothstep=Ut;function pr(T){return[T[0]*RAD2DEG$1,T[1]*RAD2DEG$1]}h.degrees=pr,h.deg=pr;function Pr(T){return[T[0]*DEG2RAD$1,T[1]*DEG2RAD$1]}h.radians=Pr,h.rad=Pr;function tn(T){return[Math.sin(T[0]*DEG2RAD$1),Math.sin(T[1]*DEG2RAD$1)]}h.sin=tn;function un(T){return[Math.cos(T[0]*DEG2RAD$1),Math.cos(T[1]*DEG2RAD$1)]}h.cos=un;function pn(T){return[Math.tan(T[0]*DEG2RAD$1),Math.tan(T[1]*DEG2RAD$1)]}h.tan=pn;function kn(T){return[Math.asin(T[0])*RAD2DEG$1,Math.asin(T[1])*RAD2DEG$1]}h.asin=kn;function Bn(T){return[Math.acos(T[0]*RAD2DEG$1),Math.acos(T[1]*RAD2DEG$1)]}h.acos=Bn;function ai(T,$){return $===void 0?[Math.atan(T[0])*RAD2DEG$1,Math.atan(T[1])*RAD2DEG$1]:[Math.atan2(T[0],$[0])*RAD2DEG$1,Math.atan2(T[1],$[1])*RAD2DEG$1]}h.atan=ai;function vn(T,$){return[Math.atan2(T[0],$[0])*RAD2DEG$1,Math.atan2(T[1],$[1])*RAD2DEG$1]}h.atan2=vn;function oi(T,$){return[Math.pow(T[0],$[0]),Math.pow(T[1],$[1])]}h.pow=oi;function Hn(T){return[Math.exp(T[0]),Math.exp(T[1])]}h.exp=Hn;function ln(T){return[Math.log(T[0]),Math.log(T[1])]}h.log=ln;function In(T){return[2**T[0],2**T[1]]}h.exp2=In;function Ee(T){return[Math.log2(T[0]),Math.log2(T[1])]}h.log2=Ee;function Xe(T){return[Math.sqrt(T[0]),Math.sqrt(T[1])]}h.sqrt=Xe;function ut(T){return[1/Math.sqrt(T[0]),1/Math.sqrt(T[1])]}h.inverseSqrt=ut,h.invsqrt=ut;function k(T,$){return T[0]===$[0]&&T[1]===$[1]}h.exactEquals=k,h.eq=k;function M(T,$){const[R,G]=T,[K,Y]=$;return Math.abs(R-K)<=EPSILON*Math.max(1,Math.abs(R),Math.abs(K))&&Math.abs(G-Y)<=EPSILON*Math.max(1,Math.abs(G),Math.abs(Y))}h.approxEquals=M,h.approx=M,h.equals=M,h.toString=vecToString})(vec2||(vec2={}));var mat2;(function(h){function v(V,ie,ke,be){return[V,ie,ke,be]}h.of=v;function y(V){return[...V]}h.clone=y,h.identity=Object.freeze([1,0,0,1]),h.I=h.identity,h.id=h.identity,h.ident=h.identity,h.zero=Object.freeze([0,0,0,0]);function _(V){return[V[0],V[2],V[1],V[3]]}h.transpose=_;function x(V){const[ie,ke,be,Ae]=V,ue=ie*Ae-be*ke;if(!ue)return null;const xe=1/ue;return[Ae*xe,-ke*xe,-be*xe,ie*xe]}h.invert=x,h.inv=x;function w(V){const ie=V[0];return[V[3],-V[1],-V[2],ie]}h.adjoint=w;function S(V){return V[0]*V[3]-V[2]*V[1]}h.determinant=S,h.det=S;function E(...V){if(V.length===0)return h.identity;if(V.length===1)return V[0];if(V.length>2){const[lt,Le,...Je]=V;return E(E(lt,Le),...Je)}const[ie,ke,be,Ae]=V[0],[ue,xe,Me,Ge]=V[1];return[ie*ue+be*xe,ke*ue+Ae*xe,ie*Me+be*Ge,ke*Me+Ae*Ge]}h.multiply=E,h.mul=E;function I(V,ie){const[ke,be,Ae,ue]=V,xe=Math.sin(ie*DEG2RAD$1),Me=Math.cos(ie*DEG2RAD$1);return[ke*Me+Ae*xe,be*Me+ue*xe,ke*-xe+Ae*Me,be*-xe+ue*Me]}h.rotate=I;function L(V,ie){const[ke,be,Ae,ue]=V,[xe,Me]=typeof ie=="number"?[ie,ie]:ie;return[ke*xe,be*xe,Ae*Me,ue*Me]}h.scale=L;function O(V,ie){return E(V,N(ie))}h.skew=O;function F(V){const ie=Math.sin(V*DEG2RAD$1),ke=Math.cos(V*DEG2RAD$1);return[ke,ie,-ie,ke]}h.fromRotation=F,h.rotation=F;function z(V){return[V[0],0,0,V[1]]}h.fromScaling=z,h.scaling=z;function N(V){const ie=Math.tan(V[0]*DEG2RAD$1);return[1,Math.tan(V[1]*DEG2RAD$1),ie,1]}h.fromSkew=N,h.skewing=N;function H(V=null,ie=null){V??(V=0),ie??(ie=vec2.one);const ke=Math.cos(V*DEG2RAD$1),be=Math.sin(V*DEG2RAD$1);return[ie[0]*ke,ie[0]*be,ie[1]*-be,ie[1]*ke]}h.fromRotScale=H,h.rs=H;function X(V){return Math.hypot(V[0],V[1],V[2],V[3])}h.frob=X;function J(...V){if(V.length===0)return h.zero;if(V.length===1)return V[0];if(V.length>2){const[be,Ae,...ue]=V;return J(J(be,Ae),...ue)}const[ie,ke]=V;return[ie[0]+ke[0],ie[1]+ke[1],ie[2]+ke[2],ie[3]+ke[3]]}h.add=J;function ae(...V){if(V.length===0)return h.zero;if(V.length===1)return[-V[0],-V[1],-V[2],-V[3]];if(V.length>2){const[be,Ae,...ue]=V;return ae(ae(be,Ae),...ue)}const[ie,ke]=V;return[ie[0]-ke[0],ie[1]-ke[1],ie[2]-ke[2],ie[3]-ke[3]]}h.subtract=ae,h.sub=ae;function ve(V,ie){return[ie[0]-V[0],ie[1]-V[1],ie[2]-V[2],ie[3]-V[3]]}h.delta=ve;function pe(V){return[V[0],V[1],V[2],V[3]]}h.fromMat2d=pe;function de(V,ie){return V[0]===ie[0]&&V[1]===ie[1]&&V[2]===ie[2]&&V[3]===ie[3]}h.exactEquals=de,h.eq=de;function ce(V,ie){const[ke,be,Ae,ue]=V,[xe,Me,Ge,lt]=ie;return Math.abs(ke-xe)<=EPSILON*Math.max(1,Math.abs(ke),Math.abs(xe))&&Math.abs(be-Me)<=EPSILON*Math.max(1,Math.abs(be),Math.abs(Me))&&Math.abs(Ae-Ge)<=EPSILON*Math.max(1,Math.abs(Ae),Math.abs(Ge))&&Math.abs(ue-lt)<=EPSILON*Math.max(1,Math.abs(ue),Math.abs(lt))}h.approxEquals=ce,h.approx=ce,h.equals=ce})(mat2||(mat2={}));var mat2d;(function(h){function v(ue,xe,Me,Ge,lt,Le){return[ue,xe,Me,Ge,lt,Le]}h.of=v;function y(ue){return[...ue]}h.clone=y,h.identity=Object.freeze([1,0,0,1,0,0]),h.I=h.identity,h.id=h.identity,h.ident=h.identity,h.zero=Object.freeze([0,0,0,0,0,0]);function _(ue){const[xe,Me,Ge,lt,Le,Je]=ue,gt=xe*lt-Me*Ge;if(!gt)return null;const ct=1/gt;return[lt*ct,-Me*ct,-Ge*ct,xe*ct,(Ge*Je-lt*Le)*ct,(Me*Le-xe*Je)*ct]}h.invert=_,h.inv=_;function x(ue){return ue[0]*ue[3]-ue[1]*ue[2]}h.determinant=x,h.det=x;function w(...ue){if(ue.length===0)return h.identity;if(ue.length===1)return ue[0];if(ue.length>2){const[dt,He,...Ct]=ue;return w(w(dt,He),...Ct)}const[xe,Me]=ue,[Ge,lt,Le,Je,gt,ct]=xe,[Ot,ur,rr,Yt,Er,Oe]=Me;return[Ge*Ot+Le*ur,lt*Ot+Je*ur,Ge*rr+Le*Yt,lt*rr+Je*Yt,Ge*Er+Le*Oe+gt,lt*Er+Je*Oe+ct]}h.multiply=w,h.mul=w;function S(ue,xe,Me){if(Me&&Me)return L(S(ue,xe),Me);const[Ge,lt,Le,Je,gt,ct]=ue,Ot=Math.sin(xe*DEG2RAD$1),ur=Math.cos(xe*DEG2RAD$1);return[Ge*ur+Le*Ot,lt*ur+Je*Ot,Ge*-Ot+Le*ur,lt*-Ot+Je*ur,gt,ct]}h.rotate=S;function E(ue,xe,Me){if(Me)return L(E(ue,xe),Me);const[Ge,lt,Le,Je,gt,ct]=ue,[Ot,ur]=xe;return[Ge*Ot,lt*Ot,Le*ur,Je*ur,gt,ct]}h.scale=E;function I(ue,xe){const[Me,Ge,lt,Le,Je,gt]=ue,[ct,Ot]=xe;return[Me,Ge,lt,Le,Me*ct+lt*Ot+Je,Ge*ct+Le*Ot+gt]}h.translate=I;function L(ue,xe){return w(N(xe),ue,N(vec2.negate(xe)))}h.pivot=L;function O(ue,xe,Me){return w(ue,H(xe,Me))}h.skew=O;function F(ue,xe){if(xe)return L(F(ue),xe);const Me=Math.sin(ue*DEG2RAD$1),Ge=Math.cos(ue*DEG2RAD$1);return[Ge,Me,-Me,Ge,0,0]}h.fromRotation=F,h.rotation=F;function z(ue,xe){if(xe)return L(z(ue),xe);const[Me,Ge]=typeof ue=="number"?[ue,ue]:ue;return[Me,0,0,Ge,0,0]}h.fromScaling=z,h.scaling=z;function N(ue){const[xe,Me]=typeof ue=="number"?[ue,ue]:ue;return[1,0,0,1,xe,Me]}h.fromTranslation=N,h.translation=N;function H(ue,xe){if(xe)return L(H(ue),xe);const[Me,Ge]=ue,lt=Math.tan(Me*DEG2RAD$1);return[1,Math.tan(Ge*DEG2RAD$1),lt,1,0,0]}h.fromSkew=H,h.skewing=H;function X(ue){const[xe,Me,Ge,lt,Le,Je]=ue,gt=[1-xe,-Ge,-Me,1-lt],ct=mat2.invert(gt);if(!ct)return null;const Ot=ct[0]*Le+ct[1]*Je,ur=ct[2]*Le+ct[3]*Je;return[Ot,ur]}h.fixedPoint=X;function J(ue){return Math.hypot(ue[0],ue[1],ue[2],ue[3],ue[4],ue[5],1)}h.frob=J;function ae(...ue){const xe=[0,0,0,0,0,0];for(const Me of ue)xe[0]+=Me[0],xe[1]+=Me[1],xe[2]+=Me[2],xe[3]+=Me[3],xe[4]+=Me[4],xe[5]+=Me[5];return xe}h.add=ae;function ve(...ue){if(ue.length===0)return h.zero;if(ue.length===1)return[-ue[0],-ue[1],-ue[2],-ue[3],-ue[4],-ue[5]];if(ue.length>2){const[Ge,lt,...Le]=ue;return ve(ve(Ge,lt),...Le)}const[xe,Me]=ue;return[xe[0]-Me[0],xe[1]-Me[1],xe[2]-Me[2],xe[3]-Me[3],xe[4]-Me[4],xe[5]-Me[5]]}h.subtract=ve,h.sub=ve;function pe(ue,xe){return[xe[0]-ue[0],xe[1]-ue[1],xe[2]-ue[2],xe[3]-ue[3],xe[4]-ue[4],xe[5]-ue[5]]}h.delta=pe;function de(ue,xe){return[ue[0]*xe,ue[1]*xe,ue[2]*xe,ue[3]*xe,ue[4]*xe,ue[5]*xe]}h.multiplyScalar=de;function ce(ue,xe,Me){return[ue[0]+xe[0]*Me,ue[1]+xe[1]*Me,ue[2]+xe[2]*Me,ue[3]+xe[3]*Me,ue[4]+xe[4]*Me,ue[5]+xe[5]*Me]}h.multiplyScalarAndAdd=ce;function V(ue,xe,Me){if(!Me){const Je=Math.PI/2;Me=[vec2.add(ue[0],vec2.rotate(vec2.sub(xe[0],ue[0]),Je)),vec2.add(ue[1],vec2.rotate(vec2.sub(xe[1],ue[1]),Je))]}const Ge=[xe[0][0]-ue[0][0],xe[0][1]-ue[0][1],Me[0][0]-ue[0][0],Me[0][1]-ue[0][1],ue[0][0],ue[0][1]],lt=_(Ge);if(!lt)return null;const Le=[xe[1][0]-ue[1][0],xe[1][1]-ue[1][1],Me[1][0]-ue[1][0],Me[1][1]-ue[1][1],ue[1][0],ue[1][1]];return w(Le,lt)}h.fromPoints=V;function ie(ue=null,xe=null,Me=null){ue??(ue=vec2.zero),xe??(xe=0),Me===null?Me=vec2.one:typeof Me=="number"&&(Me=[Me,Me]);const Ge=Math.cos(xe*DEG2RAD$1),lt=Math.sin(xe*DEG2RAD$1);return[Me[0]*Ge,Me[0]*lt,Me[1]*-lt,Me[1]*Ge,...ue]}h.fromTRS=ie,h.trs=ie;function ke(ue){return[...ue,0,0]}h.fromMat2=ke;function be(ue,xe){return ue[0]===xe[0]&&ue[1]===xe[1]&&ue[2]===xe[2]&&ue[3]===xe[3]&&ue[4]===xe[4]&&ue[5]===xe[5]}h.exactEquals=be,h.eq=be;function Ae(ue,xe){const[Me,Ge,lt,Le,Je,gt]=ue,[ct,Ot,ur,rr,Yt,Er]=xe;return Math.abs(Me-ct)<=EPSILON*Math.max(1,Math.abs(Me),Math.abs(ct))&&Math.abs(Ge-Ot)<=EPSILON*Math.max(1,Math.abs(Ge),Math.abs(Ot))&&Math.abs(lt-ur)<=EPSILON*Math.max(1,Math.abs(lt),Math.abs(ur))&&Math.abs(Le-rr)<=EPSILON*Math.max(1,Math.abs(Le),Math.abs(rr))&&Math.abs(Je-Yt)<=EPSILON*Math.max(1,Math.abs(Je),Math.abs(Yt))&&Math.abs(gt-Er)<=EPSILON*Math.max(1,Math.abs(gt),Math.abs(Er))}h.approxEquals=Ae,h.approx=Ae,h.equals=Ae,h.toString=createMatToStringFunction(2,3)})(mat2d||(mat2d={}));function commonjsRequire(h){throw new Error('Could not dynamically require "'+h+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var paperFull={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(__viteBrowserExternal$1);var acorn={exports:{}},hasRequiredAcorn;function requireAcorn(){return hasRequiredAcorn||(hasRequiredAcorn=1,function(h,v){(function(y,_){_(v)})(commonjsGlobal,function(y){var _=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239],x=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],w="-----------------------------------------------------------------------------------------------------------------------------------------------------",S="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",E={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},I="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",L={5:I,"5module":I+" export import",6:I+" const class extends export import super"},O=/^in(stanceof)?$/,F=new RegExp("["+S+"]"),z=new RegExp("["+S+w+"]");function N(D,U){for(var me=65536,we=0;we<U.length;we+=2){if(me+=U[we],me>D)return!1;if(me+=U[we+1],me>=D)return!0}return!1}function H(D,U){return D<65?D===36:D<91?!0:D<97?D===95:D<123?!0:D<=65535?D>=170&&F.test(String.fromCharCode(D)):U===!1?!1:N(D,x)}function X(D,U){return D<48?D===36:D<58?!0:D<65?!1:D<91?!0:D<97?D===95:D<123?!0:D<=65535?D>=170&&z.test(String.fromCharCode(D)):U===!1?!1:N(D,x)||N(D,_)}var J=function(U,me){me===void 0&&(me={}),this.label=U,this.keyword=me.keyword,this.beforeExpr=!!me.beforeExpr,this.startsExpr=!!me.startsExpr,this.isLoop=!!me.isLoop,this.isAssign=!!me.isAssign,this.prefix=!!me.prefix,this.postfix=!!me.postfix,this.binop=me.binop||null,this.updateContext=null};function ae(D,U){return new J(D,{beforeExpr:!0,binop:U})}var ve={beforeExpr:!0},pe={startsExpr:!0},de={};function ce(D,U){return U===void 0&&(U={}),U.keyword=D,de[D]=new J(D,U)}var V={num:new J("num",pe),regexp:new J("regexp",pe),string:new J("string",pe),name:new J("name",pe),privateId:new J("privateId",pe),eof:new J("eof"),bracketL:new J("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new J("]"),braceL:new J("{",{beforeExpr:!0,startsExpr:!0}),braceR:new J("}"),parenL:new J("(",{beforeExpr:!0,startsExpr:!0}),parenR:new J(")"),comma:new J(",",ve),semi:new J(";",ve),colon:new J(":",ve),dot:new J("."),question:new J("?",ve),questionDot:new J("?."),arrow:new J("=>",ve),template:new J("template"),invalidTemplate:new J("invalidTemplate"),ellipsis:new J("...",ve),backQuote:new J("`",pe),dollarBraceL:new J("${",{beforeExpr:!0,startsExpr:!0}),eq:new J("=",{beforeExpr:!0,isAssign:!0}),assign:new J("_=",{beforeExpr:!0,isAssign:!0}),incDec:new J("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new J("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:ae("||",1),logicalAND:ae("&&",2),bitwiseOR:ae("|",3),bitwiseXOR:ae("^",4),bitwiseAND:ae("&",5),equality:ae("==/!=/===/!==",6),relational:ae("</>/<=/>=",7),bitShift:ae("<</>>/>>>",8),plusMin:new J("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:ae("%",10),star:ae("*",10),slash:ae("/",10),starstar:new J("**",{beforeExpr:!0}),coalesce:ae("??",1),_break:ce("break"),_case:ce("case",ve),_catch:ce("catch"),_continue:ce("continue"),_debugger:ce("debugger"),_default:ce("default",ve),_do:ce("do",{isLoop:!0,beforeExpr:!0}),_else:ce("else",ve),_finally:ce("finally"),_for:ce("for",{isLoop:!0}),_function:ce("function",pe),_if:ce("if"),_return:ce("return",ve),_switch:ce("switch"),_throw:ce("throw",ve),_try:ce("try"),_var:ce("var"),_const:ce("const"),_while:ce("while",{isLoop:!0}),_with:ce("with"),_new:ce("new",{beforeExpr:!0,startsExpr:!0}),_this:ce("this",pe),_super:ce("super",pe),_class:ce("class",pe),_extends:ce("extends",ve),_export:ce("export"),_import:ce("import",pe),_null:ce("null",pe),_true:ce("true",pe),_false:ce("false",pe),_in:ce("in",{beforeExpr:!0,binop:7}),_instanceof:ce("instanceof",{beforeExpr:!0,binop:7}),_typeof:ce("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:ce("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:ce("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},ie=/\r\n?|\n|\u2028|\u2029/,ke=new RegExp(ie.source,"g");function be(D){return D===10||D===13||D===8232||D===8233}function Ae(D,U,me){me===void 0&&(me=D.length);for(var we=U;we<me;we++){var Fe=D.charCodeAt(we);if(be(Fe))return we<me-1&&Fe===13&&D.charCodeAt(we+1)===10?we+2:we+1}return-1}var ue=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,xe=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Me=Object.prototype,Ge=Me.hasOwnProperty,lt=Me.toString,Le=Object.hasOwn||function(D,U){return Ge.call(D,U)},Je=Array.isArray||function(D){return lt.call(D)==="[object Array]"},gt=Object.create(null);function ct(D){return gt[D]||(gt[D]=new RegExp("^(?:"+D.replace(/ /g,"|")+")$"))}function Ot(D){return D<=65535?String.fromCharCode(D):(D-=65536,String.fromCharCode((D>>10)+55296,(D&1023)+56320))}var ur=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,rr=function(U,me){this.line=U,this.column=me};rr.prototype.offset=function(U){return new rr(this.line,this.column+U)};var Yt=function(U,me,we){this.start=me,this.end=we,U.sourceFile!==null&&(this.source=U.sourceFile)};function Er(D,U){for(var me=1,we=0;;){var Fe=Ae(D,we,U);if(Fe<0)return new rr(me,U-we);++me,we=Fe}}var Oe={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},dt=!1;function He(D){var U={};for(var me in Oe)U[me]=D&&Le(D,me)?D[me]:Oe[me];if(U.ecmaVersion==="latest"?U.ecmaVersion=1e8:U.ecmaVersion==null?(!dt&&typeof console=="object"&&console.warn&&(dt=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),U.ecmaVersion=11):U.ecmaVersion>=2015&&(U.ecmaVersion-=2009),U.allowReserved==null&&(U.allowReserved=U.ecmaVersion<5),(!D||D.allowHashBang==null)&&(U.allowHashBang=U.ecmaVersion>=14),Je(U.onToken)){var we=U.onToken;U.onToken=function(Fe){return we.push(Fe)}}return Je(U.onComment)&&(U.onComment=Ct(U,U.onComment)),U}function Ct(D,U){return function(me,we,Fe,ht,xt,Kt){var gr={type:me?"Block":"Line",value:we,start:Fe,end:ht};D.locations&&(gr.loc=new Yt(this,xt,Kt)),D.ranges&&(gr.range=[Fe,ht]),U.push(gr)}}var Ut=1,pr=2,Pr=4,tn=8,un=16,pn=32,kn=64,Bn=128,ai=256,vn=Ut|pr|ai;function oi(D,U){return pr|(D?Pr:0)|(U?tn:0)}var Hn=0,ln=1,In=2,Ee=3,Xe=4,ut=5,k=function(U,me,we){this.options=U=He(U),this.sourceFile=U.sourceFile,this.keywords=ct(L[U.ecmaVersion>=6?6:U.sourceType==="module"?"5module":5]);var Fe="";U.allowReserved!==!0&&(Fe=E[U.ecmaVersion>=6?6:U.ecmaVersion===5?5:3],U.sourceType==="module"&&(Fe+=" await")),this.reservedWords=ct(Fe);var ht=(Fe?Fe+" ":"")+E.strict;this.reservedWordsStrict=ct(ht),this.reservedWordsStrictBind=ct(ht+" "+E.strictBind),this.input=String(me),this.containsEsc=!1,we?(this.pos=we,this.lineStart=this.input.lastIndexOf(`
`,we-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(ie).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=V.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=U.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&U.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(Ut),this.regexpState=null,this.privateNameStack=[]},M={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};k.prototype.parse=function(){var U=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(U)},M.inFunction.get=function(){return(this.currentVarScope().flags&pr)>0},M.inGenerator.get=function(){return(this.currentVarScope().flags&tn)>0&&!this.currentVarScope().inClassFieldInit},M.inAsync.get=function(){return(this.currentVarScope().flags&Pr)>0&&!this.currentVarScope().inClassFieldInit},M.canAwait.get=function(){for(var D=this.scopeStack.length-1;D>=0;D--){var U=this.scopeStack[D];if(U.inClassFieldInit||U.flags&ai)return!1;if(U.flags&pr)return(U.flags&Pr)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},M.allowSuper.get=function(){var D=this.currentThisScope(),U=D.flags,me=D.inClassFieldInit;return(U&kn)>0||me||this.options.allowSuperOutsideMethod},M.allowDirectSuper.get=function(){return(this.currentThisScope().flags&Bn)>0},M.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},M.allowNewDotTarget.get=function(){var D=this.currentThisScope(),U=D.flags,me=D.inClassFieldInit;return(U&(pr|ai))>0||me},M.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&ai)>0},k.extend=function(){for(var U=[],me=arguments.length;me--;)U[me]=arguments[me];for(var we=this,Fe=0;Fe<U.length;Fe++)we=U[Fe](we);return we},k.parse=function(U,me){return new this(me,U).parse()},k.parseExpressionAt=function(U,me,we){var Fe=new this(we,U,me);return Fe.nextToken(),Fe.parseExpression()},k.tokenizer=function(U,me){return new this(me,U)},Object.defineProperties(k.prototype,M);var T=k.prototype,$=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;T.strictDirective=function(D){if(this.options.ecmaVersion<5)return!1;for(;;){xe.lastIndex=D,D+=xe.exec(this.input)[0].length;var U=$.exec(this.input.slice(D));if(!U)return!1;if((U[1]||U[2])==="use strict"){xe.lastIndex=D+U[0].length;var me=xe.exec(this.input),we=me.index+me[0].length,Fe=this.input.charAt(we);return Fe===";"||Fe==="}"||ie.test(me[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(Fe)||Fe==="!"&&this.input.charAt(we+1)==="=")}D+=U[0].length,xe.lastIndex=D,D+=xe.exec(this.input)[0].length,this.input[D]===";"&&D++}},T.eat=function(D){return this.type===D?(this.next(),!0):!1},T.isContextual=function(D){return this.type===V.name&&this.value===D&&!this.containsEsc},T.eatContextual=function(D){return this.isContextual(D)?(this.next(),!0):!1},T.expectContextual=function(D){this.eatContextual(D)||this.unexpected()},T.canInsertSemicolon=function(){return this.type===V.eof||this.type===V.braceR||ie.test(this.input.slice(this.lastTokEnd,this.start))},T.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},T.semicolon=function(){!this.eat(V.semi)&&!this.insertSemicolon()&&this.unexpected()},T.afterTrailingComma=function(D,U){if(this.type===D)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),U||this.next(),!0},T.expect=function(D){this.eat(D)||this.unexpected()},T.unexpected=function(D){this.raise(D??this.start,"Unexpected token")};var R=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};T.checkPatternErrors=function(D,U){if(D){D.trailingComma>-1&&this.raiseRecoverable(D.trailingComma,"Comma is not permitted after the rest element");var me=U?D.parenthesizedAssign:D.parenthesizedBind;me>-1&&this.raiseRecoverable(me,U?"Assigning to rvalue":"Parenthesized pattern")}},T.checkExpressionErrors=function(D,U){if(!D)return!1;var me=D.shorthandAssign,we=D.doubleProto;if(!U)return me>=0||we>=0;me>=0&&this.raise(me,"Shorthand property assignments are valid only in destructuring patterns"),we>=0&&this.raiseRecoverable(we,"Redefinition of __proto__ property")},T.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},T.isSimpleAssignTarget=function(D){return D.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(D.expression):D.type==="Identifier"||D.type==="MemberExpression"};var G=k.prototype;G.parseTopLevel=function(D){var U=Object.create(null);for(D.body||(D.body=[]);this.type!==V.eof;){var me=this.parseStatement(null,!0,U);D.body.push(me)}if(this.inModule)for(var we=0,Fe=Object.keys(this.undefinedExports);we<Fe.length;we+=1){var ht=Fe[we];this.raiseRecoverable(this.undefinedExports[ht].start,"Export '"+ht+"' is not defined")}return this.adaptDirectivePrologue(D.body),this.next(),D.sourceType=this.options.sourceType,this.finishNode(D,"Program")};var K={kind:"loop"},Y={kind:"switch"};G.isLet=function(D){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;xe.lastIndex=this.pos;var U=xe.exec(this.input),me=this.pos+U[0].length,we=this.input.charCodeAt(me);if(we===91||we===92)return!0;if(D)return!1;if(we===123||we>55295&&we<56320)return!0;if(H(we,!0)){for(var Fe=me+1;X(we=this.input.charCodeAt(Fe),!0);)++Fe;if(we===92||we>55295&&we<56320)return!0;var ht=this.input.slice(me,Fe);if(!O.test(ht))return!0}return!1},G.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;xe.lastIndex=this.pos;var D=xe.exec(this.input),U=this.pos+D[0].length,me;return!ie.test(this.input.slice(this.pos,U))&&this.input.slice(U,U+8)==="function"&&(U+8===this.input.length||!(X(me=this.input.charCodeAt(U+8))||me>55295&&me<56320))},G.parseStatement=function(D,U,me){var we=this.type,Fe=this.startNode(),ht;switch(this.isLet(D)&&(we=V._var,ht="let"),we){case V._break:case V._continue:return this.parseBreakContinueStatement(Fe,we.keyword);case V._debugger:return this.parseDebuggerStatement(Fe);case V._do:return this.parseDoStatement(Fe);case V._for:return this.parseForStatement(Fe);case V._function:return D&&(this.strict||D!=="if"&&D!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(Fe,!1,!D);case V._class:return D&&this.unexpected(),this.parseClass(Fe,!0);case V._if:return this.parseIfStatement(Fe);case V._return:return this.parseReturnStatement(Fe);case V._switch:return this.parseSwitchStatement(Fe);case V._throw:return this.parseThrowStatement(Fe);case V._try:return this.parseTryStatement(Fe);case V._const:case V._var:return ht=ht||this.value,D&&ht!=="var"&&this.unexpected(),this.parseVarStatement(Fe,ht);case V._while:return this.parseWhileStatement(Fe);case V._with:return this.parseWithStatement(Fe);case V.braceL:return this.parseBlock(!0,Fe);case V.semi:return this.parseEmptyStatement(Fe);case V._export:case V._import:if(this.options.ecmaVersion>10&&we===V._import){xe.lastIndex=this.pos;var xt=xe.exec(this.input),Kt=this.pos+xt[0].length,gr=this.input.charCodeAt(Kt);if(gr===40||gr===46)return this.parseExpressionStatement(Fe,this.parseExpression())}return this.options.allowImportExportEverywhere||(U||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),we===V._import?this.parseImport(Fe):this.parseExport(Fe,me);default:if(this.isAsyncFunction())return D&&this.unexpected(),this.next(),this.parseFunctionStatement(Fe,!0,!D);var Wr=this.value,Nr=this.parseExpression();return we===V.name&&Nr.type==="Identifier"&&this.eat(V.colon)?this.parseLabeledStatement(Fe,Wr,Nr,D):this.parseExpressionStatement(Fe,Nr)}},G.parseBreakContinueStatement=function(D,U){var me=U==="break";this.next(),this.eat(V.semi)||this.insertSemicolon()?D.label=null:this.type!==V.name?this.unexpected():(D.label=this.parseIdent(),this.semicolon());for(var we=0;we<this.labels.length;++we){var Fe=this.labels[we];if((D.label==null||Fe.name===D.label.name)&&(Fe.kind!=null&&(me||Fe.kind==="loop")||D.label&&me))break}return we===this.labels.length&&this.raise(D.start,"Unsyntactic "+U),this.finishNode(D,me?"BreakStatement":"ContinueStatement")},G.parseDebuggerStatement=function(D){return this.next(),this.semicolon(),this.finishNode(D,"DebuggerStatement")},G.parseDoStatement=function(D){return this.next(),this.labels.push(K),D.body=this.parseStatement("do"),this.labels.pop(),this.expect(V._while),D.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(V.semi):this.semicolon(),this.finishNode(D,"DoWhileStatement")},G.parseForStatement=function(D){this.next();var U=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(K),this.enterScope(0),this.expect(V.parenL),this.type===V.semi)return U>-1&&this.unexpected(U),this.parseFor(D,null);var me=this.isLet();if(this.type===V._var||this.type===V._const||me){var we=this.startNode(),Fe=me?"let":this.value;return this.next(),this.parseVar(we,!0,Fe),this.finishNode(we,"VariableDeclaration"),(this.type===V._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&we.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===V._in?U>-1&&this.unexpected(U):D.await=U>-1),this.parseForIn(D,we)):(U>-1&&this.unexpected(U),this.parseFor(D,we))}var ht=this.isContextual("let"),xt=!1,Kt=this.containsEsc,gr=new R,Wr=this.start,Nr=U>-1?this.parseExprSubscripts(gr,"await"):this.parseExpression(!0,gr);return this.type===V._in||(xt=this.options.ecmaVersion>=6&&this.isContextual("of"))?(U>-1?(this.type===V._in&&this.unexpected(U),D.await=!0):xt&&this.options.ecmaVersion>=8&&(Nr.start===Wr&&!Kt&&Nr.type==="Identifier"&&Nr.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(D.await=!1)),ht&&xt&&this.raise(Nr.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(Nr,!1,gr),this.checkLValPattern(Nr),this.parseForIn(D,Nr)):(this.checkExpressionErrors(gr,!0),U>-1&&this.unexpected(U),this.parseFor(D,Nr))},G.parseFunctionStatement=function(D,U,me){return this.next(),this.parseFunction(D,q|(me?0:W),!1,U)},G.parseIfStatement=function(D){return this.next(),D.test=this.parseParenExpression(),D.consequent=this.parseStatement("if"),D.alternate=this.eat(V._else)?this.parseStatement("if"):null,this.finishNode(D,"IfStatement")},G.parseReturnStatement=function(D){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(V.semi)||this.insertSemicolon()?D.argument=null:(D.argument=this.parseExpression(),this.semicolon()),this.finishNode(D,"ReturnStatement")},G.parseSwitchStatement=function(D){this.next(),D.discriminant=this.parseParenExpression(),D.cases=[],this.expect(V.braceL),this.labels.push(Y),this.enterScope(0);for(var U,me=!1;this.type!==V.braceR;)if(this.type===V._case||this.type===V._default){var we=this.type===V._case;U&&this.finishNode(U,"SwitchCase"),D.cases.push(U=this.startNode()),U.consequent=[],this.next(),we?U.test=this.parseExpression():(me&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),me=!0,U.test=null),this.expect(V.colon)}else U||this.unexpected(),U.consequent.push(this.parseStatement(null));return this.exitScope(),U&&this.finishNode(U,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(D,"SwitchStatement")},G.parseThrowStatement=function(D){return this.next(),ie.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),D.argument=this.parseExpression(),this.semicolon(),this.finishNode(D,"ThrowStatement")};var j=[];G.parseCatchClauseParam=function(){var D=this.parseBindingAtom(),U=D.type==="Identifier";return this.enterScope(U?pn:0),this.checkLValPattern(D,U?Xe:In),this.expect(V.parenR),D},G.parseTryStatement=function(D){if(this.next(),D.block=this.parseBlock(),D.handler=null,this.type===V._catch){var U=this.startNode();this.next(),this.eat(V.parenL)?U.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),U.param=null,this.enterScope(0)),U.body=this.parseBlock(!1),this.exitScope(),D.handler=this.finishNode(U,"CatchClause")}return D.finalizer=this.eat(V._finally)?this.parseBlock():null,!D.handler&&!D.finalizer&&this.raise(D.start,"Missing catch or finally clause"),this.finishNode(D,"TryStatement")},G.parseVarStatement=function(D,U,me){return this.next(),this.parseVar(D,!1,U,me),this.semicolon(),this.finishNode(D,"VariableDeclaration")},G.parseWhileStatement=function(D){return this.next(),D.test=this.parseParenExpression(),this.labels.push(K),D.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(D,"WhileStatement")},G.parseWithStatement=function(D){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),D.object=this.parseParenExpression(),D.body=this.parseStatement("with"),this.finishNode(D,"WithStatement")},G.parseEmptyStatement=function(D){return this.next(),this.finishNode(D,"EmptyStatement")},G.parseLabeledStatement=function(D,U,me,we){for(var Fe=0,ht=this.labels;Fe<ht.length;Fe+=1){var xt=ht[Fe];xt.name===U&&this.raise(me.start,"Label '"+U+"' is already declared")}for(var Kt=this.type.isLoop?"loop":this.type===V._switch?"switch":null,gr=this.labels.length-1;gr>=0;gr--){var Wr=this.labels[gr];if(Wr.statementStart===D.start)Wr.statementStart=this.start,Wr.kind=Kt;else break}return this.labels.push({name:U,kind:Kt,statementStart:this.start}),D.body=this.parseStatement(we?we.indexOf("label")===-1?we+"label":we:"label"),this.labels.pop(),D.label=me,this.finishNode(D,"LabeledStatement")},G.parseExpressionStatement=function(D,U){return D.expression=U,this.semicolon(),this.finishNode(D,"ExpressionStatement")},G.parseBlock=function(D,U,me){for(D===void 0&&(D=!0),U===void 0&&(U=this.startNode()),U.body=[],this.expect(V.braceL),D&&this.enterScope(0);this.type!==V.braceR;){var we=this.parseStatement(null);U.body.push(we)}return me&&(this.strict=!1),this.next(),D&&this.exitScope(),this.finishNode(U,"BlockStatement")},G.parseFor=function(D,U){return D.init=U,this.expect(V.semi),D.test=this.type===V.semi?null:this.parseExpression(),this.expect(V.semi),D.update=this.type===V.parenR?null:this.parseExpression(),this.expect(V.parenR),D.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(D,"ForStatement")},G.parseForIn=function(D,U){var me=this.type===V._in;return this.next(),U.type==="VariableDeclaration"&&U.declarations[0].init!=null&&(!me||this.options.ecmaVersion<8||this.strict||U.kind!=="var"||U.declarations[0].id.type!=="Identifier")&&this.raise(U.start,(me?"for-in":"for-of")+" loop variable declaration may not have an initializer"),D.left=U,D.right=me?this.parseExpression():this.parseMaybeAssign(),this.expect(V.parenR),D.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(D,me?"ForInStatement":"ForOfStatement")},G.parseVar=function(D,U,me,we){for(D.declarations=[],D.kind=me;;){var Fe=this.startNode();if(this.parseVarId(Fe,me),this.eat(V.eq)?Fe.init=this.parseMaybeAssign(U):!we&&me==="const"&&!(this.type===V._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!we&&Fe.id.type!=="Identifier"&&!(U&&(this.type===V._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):Fe.init=null,D.declarations.push(this.finishNode(Fe,"VariableDeclarator")),!this.eat(V.comma))break}return D},G.parseVarId=function(D,U){D.id=this.parseBindingAtom(),this.checkLValPattern(D.id,U==="var"?ln:In,!1)};var q=1,W=2,Q=4;G.parseFunction=function(D,U,me,we,Fe){this.initFunction(D),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!we)&&(this.type===V.star&&U&W&&this.unexpected(),D.generator=this.eat(V.star)),this.options.ecmaVersion>=8&&(D.async=!!we),U&q&&(D.id=U&Q&&this.type!==V.name?null:this.parseIdent(),D.id&&!(U&W)&&this.checkLValSimple(D.id,this.strict||D.generator||D.async?this.treatFunctionsAsVar?ln:In:Ee));var ht=this.yieldPos,xt=this.awaitPos,Kt=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(oi(D.async,D.generator)),U&q||(D.id=this.type===V.name?this.parseIdent():null),this.parseFunctionParams(D),this.parseFunctionBody(D,me,!1,Fe),this.yieldPos=ht,this.awaitPos=xt,this.awaitIdentPos=Kt,this.finishNode(D,U&q?"FunctionDeclaration":"FunctionExpression")},G.parseFunctionParams=function(D){this.expect(V.parenL),D.params=this.parseBindingList(V.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},G.parseClass=function(D,U){this.next();var me=this.strict;this.strict=!0,this.parseClassId(D,U),this.parseClassSuper(D);var we=this.enterClassBody(),Fe=this.startNode(),ht=!1;for(Fe.body=[],this.expect(V.braceL);this.type!==V.braceR;){var xt=this.parseClassElement(D.superClass!==null);xt&&(Fe.body.push(xt),xt.type==="MethodDefinition"&&xt.kind==="constructor"?(ht&&this.raiseRecoverable(xt.start,"Duplicate constructor in the same class"),ht=!0):xt.key&&xt.key.type==="PrivateIdentifier"&&ee(we,xt)&&this.raiseRecoverable(xt.key.start,"Identifier '#"+xt.key.name+"' has already been declared"))}return this.strict=me,this.next(),D.body=this.finishNode(Fe,"ClassBody"),this.exitClassBody(),this.finishNode(D,U?"ClassDeclaration":"ClassExpression")},G.parseClassElement=function(D){if(this.eat(V.semi))return null;var U=this.options.ecmaVersion,me=this.startNode(),we="",Fe=!1,ht=!1,xt="method",Kt=!1;if(this.eatContextual("static")){if(U>=13&&this.eat(V.braceL))return this.parseClassStaticBlock(me),me;this.isClassElementNameStart()||this.type===V.star?Kt=!0:we="static"}if(me.static=Kt,!we&&U>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===V.star)&&!this.canInsertSemicolon()?ht=!0:we="async"),!we&&(U>=9||!ht)&&this.eat(V.star)&&(Fe=!0),!we&&!ht&&!Fe){var gr=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?xt=gr:we=gr)}if(we?(me.computed=!1,me.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),me.key.name=we,this.finishNode(me.key,"Identifier")):this.parseClassElementName(me),U<13||this.type===V.parenL||xt!=="method"||Fe||ht){var Wr=!me.static&&te(me,"constructor"),Nr=Wr&&D;Wr&&xt!=="method"&&this.raise(me.key.start,"Constructor can't have get/set modifier"),me.kind=Wr?"constructor":xt,this.parseClassMethod(me,Fe,ht,Nr)}else this.parseClassField(me);return me},G.isClassElementNameStart=function(){return this.type===V.name||this.type===V.privateId||this.type===V.num||this.type===V.string||this.type===V.bracketL||this.type.keyword},G.parseClassElementName=function(D){this.type===V.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),D.computed=!1,D.key=this.parsePrivateIdent()):this.parsePropertyName(D)},G.parseClassMethod=function(D,U,me,we){var Fe=D.key;D.kind==="constructor"?(U&&this.raise(Fe.start,"Constructor can't be a generator"),me&&this.raise(Fe.start,"Constructor can't be an async method")):D.static&&te(D,"prototype")&&this.raise(Fe.start,"Classes may not have a static property named prototype");var ht=D.value=this.parseMethod(U,me,we);return D.kind==="get"&&ht.params.length!==0&&this.raiseRecoverable(ht.start,"getter should have no params"),D.kind==="set"&&ht.params.length!==1&&this.raiseRecoverable(ht.start,"setter should have exactly one param"),D.kind==="set"&&ht.params[0].type==="RestElement"&&this.raiseRecoverable(ht.params[0].start,"Setter cannot use rest params"),this.finishNode(D,"MethodDefinition")},G.parseClassField=function(D){if(te(D,"constructor")?this.raise(D.key.start,"Classes can't have a field named 'constructor'"):D.static&&te(D,"prototype")&&this.raise(D.key.start,"Classes can't have a static field named 'prototype'"),this.eat(V.eq)){var U=this.currentThisScope(),me=U.inClassFieldInit;U.inClassFieldInit=!0,D.value=this.parseMaybeAssign(),U.inClassFieldInit=me}else D.value=null;return this.semicolon(),this.finishNode(D,"PropertyDefinition")},G.parseClassStaticBlock=function(D){D.body=[];var U=this.labels;for(this.labels=[],this.enterScope(ai|kn);this.type!==V.braceR;){var me=this.parseStatement(null);D.body.push(me)}return this.next(),this.exitScope(),this.labels=U,this.finishNode(D,"StaticBlock")},G.parseClassId=function(D,U){this.type===V.name?(D.id=this.parseIdent(),U&&this.checkLValSimple(D.id,In,!1)):(U===!0&&this.unexpected(),D.id=null)},G.parseClassSuper=function(D){D.superClass=this.eat(V._extends)?this.parseExprSubscripts(null,!1):null},G.enterClassBody=function(){var D={declared:Object.create(null),used:[]};return this.privateNameStack.push(D),D.declared},G.exitClassBody=function(){var D=this.privateNameStack.pop(),U=D.declared,me=D.used;if(this.options.checkPrivateFields)for(var we=this.privateNameStack.length,Fe=we===0?null:this.privateNameStack[we-1],ht=0;ht<me.length;++ht){var xt=me[ht];Le(U,xt.name)||(Fe?Fe.used.push(xt):this.raiseRecoverable(xt.start,"Private field '#"+xt.name+"' must be declared in an enclosing class"))}};function ee(D,U){var me=U.key.name,we=D[me],Fe="true";return U.type==="MethodDefinition"&&(U.kind==="get"||U.kind==="set")&&(Fe=(U.static?"s":"i")+U.kind),we==="iget"&&Fe==="iset"||we==="iset"&&Fe==="iget"||we==="sget"&&Fe==="sset"||we==="sset"&&Fe==="sget"?(D[me]="true",!1):we?!0:(D[me]=Fe,!1)}function te(D,U){var me=D.computed,we=D.key;return!me&&(we.type==="Identifier"&&we.name===U||we.type==="Literal"&&we.value===U)}G.parseExportAllDeclaration=function(D,U){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(D.exported=this.parseModuleExportName(),this.checkExport(U,D.exported,this.lastTokStart)):D.exported=null),this.expectContextual("from"),this.type!==V.string&&this.unexpected(),D.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(D.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(D,"ExportAllDeclaration")},G.parseExport=function(D,U){if(this.next(),this.eat(V.star))return this.parseExportAllDeclaration(D,U);if(this.eat(V._default))return this.checkExport(U,"default",this.lastTokStart),D.declaration=this.parseExportDefaultDeclaration(),this.finishNode(D,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())D.declaration=this.parseExportDeclaration(D),D.declaration.type==="VariableDeclaration"?this.checkVariableExport(U,D.declaration.declarations):this.checkExport(U,D.declaration.id,D.declaration.id.start),D.specifiers=[],D.source=null;else{if(D.declaration=null,D.specifiers=this.parseExportSpecifiers(U),this.eatContextual("from"))this.type!==V.string&&this.unexpected(),D.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(D.attributes=this.parseWithClause());else{for(var me=0,we=D.specifiers;me<we.length;me+=1){var Fe=we[me];this.checkUnreserved(Fe.local),this.checkLocalExport(Fe.local),Fe.local.type==="Literal"&&this.raise(Fe.local.start,"A string literal cannot be used as an exported binding without `from`.")}D.source=null}this.semicolon()}return this.finishNode(D,"ExportNamedDeclaration")},G.parseExportDeclaration=function(D){return this.parseStatement(null)},G.parseExportDefaultDeclaration=function(){var D;if(this.type===V._function||(D=this.isAsyncFunction())){var U=this.startNode();return this.next(),D&&this.next(),this.parseFunction(U,q|Q,!1,D)}else if(this.type===V._class){var me=this.startNode();return this.parseClass(me,"nullableID")}else{var we=this.parseMaybeAssign();return this.semicolon(),we}},G.checkExport=function(D,U,me){D&&(typeof U!="string"&&(U=U.type==="Identifier"?U.name:U.value),Le(D,U)&&this.raiseRecoverable(me,"Duplicate export '"+U+"'"),D[U]=!0)},G.checkPatternExport=function(D,U){var me=U.type;if(me==="Identifier")this.checkExport(D,U,U.start);else if(me==="ObjectPattern")for(var we=0,Fe=U.properties;we<Fe.length;we+=1){var ht=Fe[we];this.checkPatternExport(D,ht)}else if(me==="ArrayPattern")for(var xt=0,Kt=U.elements;xt<Kt.length;xt+=1){var gr=Kt[xt];gr&&this.checkPatternExport(D,gr)}else me==="Property"?this.checkPatternExport(D,U.value):me==="AssignmentPattern"?this.checkPatternExport(D,U.left):me==="RestElement"&&this.checkPatternExport(D,U.argument)},G.checkVariableExport=function(D,U){if(D)for(var me=0,we=U;me<we.length;me+=1){var Fe=we[me];this.checkPatternExport(D,Fe.id)}},G.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},G.parseExportSpecifier=function(D){var U=this.startNode();return U.local=this.parseModuleExportName(),U.exported=this.eatContextual("as")?this.parseModuleExportName():U.local,this.checkExport(D,U.exported,U.exported.start),this.finishNode(U,"ExportSpecifier")},G.parseExportSpecifiers=function(D){var U=[],me=!0;for(this.expect(V.braceL);!this.eat(V.braceR);){if(me)me=!1;else if(this.expect(V.comma),this.afterTrailingComma(V.braceR))break;U.push(this.parseExportSpecifier(D))}return U},G.parseImport=function(D){return this.next(),this.type===V.string?(D.specifiers=j,D.source=this.parseExprAtom()):(D.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),D.source=this.type===V.string?this.parseExprAtom():this.unexpected()),this.options.ecmaVersion>=16&&(D.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(D,"ImportDeclaration")},G.parseImportSpecifier=function(){var D=this.startNode();return D.imported=this.parseModuleExportName(),this.eatContextual("as")?D.local=this.parseIdent():(this.checkUnreserved(D.imported),D.local=D.imported),this.checkLValSimple(D.local,In),this.finishNode(D,"ImportSpecifier")},G.parseImportDefaultSpecifier=function(){var D=this.startNode();return D.local=this.parseIdent(),this.checkLValSimple(D.local,In),this.finishNode(D,"ImportDefaultSpecifier")},G.parseImportNamespaceSpecifier=function(){var D=this.startNode();return this.next(),this.expectContextual("as"),D.local=this.parseIdent(),this.checkLValSimple(D.local,In),this.finishNode(D,"ImportNamespaceSpecifier")},G.parseImportSpecifiers=function(){var D=[],U=!0;if(this.type===V.name&&(D.push(this.parseImportDefaultSpecifier()),!this.eat(V.comma)))return D;if(this.type===V.star)return D.push(this.parseImportNamespaceSpecifier()),D;for(this.expect(V.braceL);!this.eat(V.braceR);){if(U)U=!1;else if(this.expect(V.comma),this.afterTrailingComma(V.braceR))break;D.push(this.parseImportSpecifier())}return D},G.parseWithClause=function(){var D=[];if(!this.eat(V._with))return D;this.expect(V.braceL);for(var U={},me=!0;!this.eat(V.braceR);){if(me)me=!1;else if(this.expect(V.comma),this.afterTrailingComma(V.braceR))break;var we=this.parseImportAttribute(),Fe=we.key.type==="Identifier"?we.key.name:we.key.value;Le(U,Fe)&&this.raiseRecoverable(we.key.start,"Duplicate attribute key '"+Fe+"'"),U[Fe]=!0,D.push(we)}return D},G.parseImportAttribute=function(){var D=this.startNode();return D.key=this.type===V.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never"),this.expect(V.colon),this.type!==V.string&&this.unexpected(),D.value=this.parseExprAtom(),this.finishNode(D,"ImportAttribute")},G.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===V.string){var D=this.parseLiteral(this.value);return ur.test(D.value)&&this.raise(D.start,"An export name cannot include a lone surrogate."),D}return this.parseIdent(!0)},G.adaptDirectivePrologue=function(D){for(var U=0;U<D.length&&this.isDirectiveCandidate(D[U]);++U)D[U].directive=D[U].expression.raw.slice(1,-1)},G.isDirectiveCandidate=function(D){return this.options.ecmaVersion>=5&&D.type==="ExpressionStatement"&&D.expression.type==="Literal"&&typeof D.expression.value=="string"&&(this.input[D.start]==='"'||this.input[D.start]==="'")};var oe=k.prototype;oe.toAssignable=function(D,U,me){if(this.options.ecmaVersion>=6&&D)switch(D.type){case"Identifier":this.inAsync&&D.name==="await"&&this.raise(D.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":D.type="ObjectPattern",me&&this.checkPatternErrors(me,!0);for(var we=0,Fe=D.properties;we<Fe.length;we+=1){var ht=Fe[we];this.toAssignable(ht,U),ht.type==="RestElement"&&(ht.argument.type==="ArrayPattern"||ht.argument.type==="ObjectPattern")&&this.raise(ht.argument.start,"Unexpected token")}break;case"Property":D.kind!=="init"&&this.raise(D.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(D.value,U);break;case"ArrayExpression":D.type="ArrayPattern",me&&this.checkPatternErrors(me,!0),this.toAssignableList(D.elements,U);break;case"SpreadElement":D.type="RestElement",this.toAssignable(D.argument,U),D.argument.type==="AssignmentPattern"&&this.raise(D.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":D.operator!=="="&&this.raise(D.left.end,"Only '=' operator can be used for specifying default value."),D.type="AssignmentPattern",delete D.operator,this.toAssignable(D.left,U);break;case"ParenthesizedExpression":this.toAssignable(D.expression,U,me);break;case"ChainExpression":this.raiseRecoverable(D.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!U)break;default:this.raise(D.start,"Assigning to rvalue")}else me&&this.checkPatternErrors(me,!0);return D},oe.toAssignableList=function(D,U){for(var me=D.length,we=0;we<me;we++){var Fe=D[we];Fe&&this.toAssignable(Fe,U)}if(me){var ht=D[me-1];this.options.ecmaVersion===6&&U&&ht&&ht.type==="RestElement"&&ht.argument.type!=="Identifier"&&this.unexpected(ht.argument.start)}return D},oe.parseSpread=function(D){var U=this.startNode();return this.next(),U.argument=this.parseMaybeAssign(!1,D),this.finishNode(U,"SpreadElement")},oe.parseRestBinding=function(){var D=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==V.name&&this.unexpected(),D.argument=this.parseBindingAtom(),this.finishNode(D,"RestElement")},oe.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case V.bracketL:var D=this.startNode();return this.next(),D.elements=this.parseBindingList(V.bracketR,!0,!0),this.finishNode(D,"ArrayPattern");case V.braceL:return this.parseObj(!0)}return this.parseIdent()},oe.parseBindingList=function(D,U,me,we){for(var Fe=[],ht=!0;!this.eat(D);)if(ht?ht=!1:this.expect(V.comma),U&&this.type===V.comma)Fe.push(null);else{if(me&&this.afterTrailingComma(D))break;if(this.type===V.ellipsis){var xt=this.parseRestBinding();this.parseBindingListItem(xt),Fe.push(xt),this.type===V.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(D);break}else Fe.push(this.parseAssignableListItem(we))}return Fe},oe.parseAssignableListItem=function(D){var U=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(U),U},oe.parseBindingListItem=function(D){return D},oe.parseMaybeDefault=function(D,U,me){if(me=me||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(V.eq))return me;var we=this.startNodeAt(D,U);return we.left=me,we.right=this.parseMaybeAssign(),this.finishNode(we,"AssignmentPattern")},oe.checkLValSimple=function(D,U,me){U===void 0&&(U=Hn);var we=U!==Hn;switch(D.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(D.name)&&this.raiseRecoverable(D.start,(we?"Binding ":"Assigning to ")+D.name+" in strict mode"),we&&(U===In&&D.name==="let"&&this.raiseRecoverable(D.start,"let is disallowed as a lexically bound name"),me&&(Le(me,D.name)&&this.raiseRecoverable(D.start,"Argument name clash"),me[D.name]=!0),U!==ut&&this.declareName(D.name,U,D.start));break;case"ChainExpression":this.raiseRecoverable(D.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":we&&this.raiseRecoverable(D.start,"Binding member expression");break;case"ParenthesizedExpression":return we&&this.raiseRecoverable(D.start,"Binding parenthesized expression"),this.checkLValSimple(D.expression,U,me);default:this.raise(D.start,(we?"Binding":"Assigning to")+" rvalue")}},oe.checkLValPattern=function(D,U,me){switch(U===void 0&&(U=Hn),D.type){case"ObjectPattern":for(var we=0,Fe=D.properties;we<Fe.length;we+=1){var ht=Fe[we];this.checkLValInnerPattern(ht,U,me)}break;case"ArrayPattern":for(var xt=0,Kt=D.elements;xt<Kt.length;xt+=1){var gr=Kt[xt];gr&&this.checkLValInnerPattern(gr,U,me)}break;default:this.checkLValSimple(D,U,me)}},oe.checkLValInnerPattern=function(D,U,me){switch(U===void 0&&(U=Hn),D.type){case"Property":this.checkLValInnerPattern(D.value,U,me);break;case"AssignmentPattern":this.checkLValPattern(D.left,U,me);break;case"RestElement":this.checkLValPattern(D.argument,U,me);break;default:this.checkLValPattern(D,U,me)}};var ne=function(U,me,we,Fe,ht){this.token=U,this.isExpr=!!me,this.preserveSpace=!!we,this.override=Fe,this.generator=!!ht},he={b_stat:new ne("{",!1),b_expr:new ne("{",!0),b_tmpl:new ne("${",!1),p_stat:new ne("(",!1),p_expr:new ne("(",!0),q_tmpl:new ne("`",!0,!0,function(D){return D.tryReadTemplateToken()}),f_stat:new ne("function",!1),f_expr:new ne("function",!0),f_expr_gen:new ne("function",!0,!1,null,!0),f_gen:new ne("function",!1,!1,null,!0)},se=k.prototype;se.initialContext=function(){return[he.b_stat]},se.curContext=function(){return this.context[this.context.length-1]},se.braceIsBlock=function(D){var U=this.curContext();return U===he.f_expr||U===he.f_stat?!0:D===V.colon&&(U===he.b_stat||U===he.b_expr)?!U.isExpr:D===V._return||D===V.name&&this.exprAllowed?ie.test(this.input.slice(this.lastTokEnd,this.start)):D===V._else||D===V.semi||D===V.eof||D===V.parenR||D===V.arrow?!0:D===V.braceL?U===he.b_stat:D===V._var||D===V._const||D===V.name?!1:!this.exprAllowed},se.inGeneratorContext=function(){for(var D=this.context.length-1;D>=1;D--){var U=this.context[D];if(U.token==="function")return U.generator}return!1},se.updateContext=function(D){var U,me=this.type;me.keyword&&D===V.dot?this.exprAllowed=!1:(U=me.updateContext)?U.call(this,D):this.exprAllowed=me.beforeExpr},se.overrideContext=function(D){this.curContext()!==D&&(this.context[this.context.length-1]=D)},V.parenR.updateContext=V.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var D=this.context.pop();D===he.b_stat&&this.curContext().token==="function"&&(D=this.context.pop()),this.exprAllowed=!D.isExpr},V.braceL.updateContext=function(D){this.context.push(this.braceIsBlock(D)?he.b_stat:he.b_expr),this.exprAllowed=!0},V.dollarBraceL.updateContext=function(){this.context.push(he.b_tmpl),this.exprAllowed=!0},V.parenL.updateContext=function(D){var U=D===V._if||D===V._for||D===V._with||D===V._while;this.context.push(U?he.p_stat:he.p_expr),this.exprAllowed=!0},V.incDec.updateContext=function(){},V._function.updateContext=V._class.updateContext=function(D){D.beforeExpr&&D!==V._else&&!(D===V.semi&&this.curContext()!==he.p_stat)&&!(D===V._return&&ie.test(this.input.slice(this.lastTokEnd,this.start)))&&!((D===V.colon||D===V.braceL)&&this.curContext()===he.b_stat)?this.context.push(he.f_expr):this.context.push(he.f_stat),this.exprAllowed=!1},V.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0},V.backQuote.updateContext=function(){this.curContext()===he.q_tmpl?this.context.pop():this.context.push(he.q_tmpl),this.exprAllowed=!1},V.star.updateContext=function(D){if(D===V._function){var U=this.context.length-1;this.context[U]===he.f_expr?this.context[U]=he.f_expr_gen:this.context[U]=he.f_gen}this.exprAllowed=!0},V.name.updateContext=function(D){var U=!1;this.options.ecmaVersion>=6&&D!==V.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(U=!0),this.exprAllowed=U};var le=k.prototype;le.checkPropClash=function(D,U,me){if(!(this.options.ecmaVersion>=9&&D.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(D.computed||D.method||D.shorthand))){var we=D.key,Fe;switch(we.type){case"Identifier":Fe=we.name;break;case"Literal":Fe=String(we.value);break;default:return}var ht=D.kind;if(this.options.ecmaVersion>=6){Fe==="__proto__"&&ht==="init"&&(U.proto&&(me?me.doubleProto<0&&(me.doubleProto=we.start):this.raiseRecoverable(we.start,"Redefinition of __proto__ property")),U.proto=!0);return}Fe="$"+Fe;var xt=U[Fe];if(xt){var Kt;ht==="init"?Kt=this.strict&&xt.init||xt.get||xt.set:Kt=xt.init||xt[ht],Kt&&this.raiseRecoverable(we.start,"Redefinition of property")}else xt=U[Fe]={init:!1,get:!1,set:!1};xt[ht]=!0}},le.parseExpression=function(D,U){var me=this.start,we=this.startLoc,Fe=this.parseMaybeAssign(D,U);if(this.type===V.comma){var ht=this.startNodeAt(me,we);for(ht.expressions=[Fe];this.eat(V.comma);)ht.expressions.push(this.parseMaybeAssign(D,U));return this.finishNode(ht,"SequenceExpression")}return Fe},le.parseMaybeAssign=function(D,U,me){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(D);this.exprAllowed=!1}var we=!1,Fe=-1,ht=-1,xt=-1;U?(Fe=U.parenthesizedAssign,ht=U.trailingComma,xt=U.doubleProto,U.parenthesizedAssign=U.trailingComma=-1):(U=new R,we=!0);var Kt=this.start,gr=this.startLoc;(this.type===V.parenL||this.type===V.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=D==="await");var Wr=this.parseMaybeConditional(D,U);if(me&&(Wr=me.call(this,Wr,Kt,gr)),this.type.isAssign){var Nr=this.startNodeAt(Kt,gr);return Nr.operator=this.value,this.type===V.eq&&(Wr=this.toAssignable(Wr,!1,U)),we||(U.parenthesizedAssign=U.trailingComma=U.doubleProto=-1),U.shorthandAssign>=Wr.start&&(U.shorthandAssign=-1),this.type===V.eq?this.checkLValPattern(Wr):this.checkLValSimple(Wr),Nr.left=Wr,this.next(),Nr.right=this.parseMaybeAssign(D),xt>-1&&(U.doubleProto=xt),this.finishNode(Nr,"AssignmentExpression")}else we&&this.checkExpressionErrors(U,!0);return Fe>-1&&(U.parenthesizedAssign=Fe),ht>-1&&(U.trailingComma=ht),Wr},le.parseMaybeConditional=function(D,U){var me=this.start,we=this.startLoc,Fe=this.parseExprOps(D,U);if(this.checkExpressionErrors(U))return Fe;if(this.eat(V.question)){var ht=this.startNodeAt(me,we);return ht.test=Fe,ht.consequent=this.parseMaybeAssign(),this.expect(V.colon),ht.alternate=this.parseMaybeAssign(D),this.finishNode(ht,"ConditionalExpression")}return Fe},le.parseExprOps=function(D,U){var me=this.start,we=this.startLoc,Fe=this.parseMaybeUnary(U,!1,!1,D);return this.checkExpressionErrors(U)||Fe.start===me&&Fe.type==="ArrowFunctionExpression"?Fe:this.parseExprOp(Fe,me,we,-1,D)},le.parseExprOp=function(D,U,me,we,Fe){var ht=this.type.binop;if(ht!=null&&(!Fe||this.type!==V._in)&&ht>we){var xt=this.type===V.logicalOR||this.type===V.logicalAND,Kt=this.type===V.coalesce;Kt&&(ht=V.logicalAND.binop);var gr=this.value;this.next();var Wr=this.start,Nr=this.startLoc,En=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,Fe),Wr,Nr,ht,Fe),Ri=this.buildBinary(U,me,D,En,gr,xt||Kt);return(xt&&this.type===V.coalesce||Kt&&(this.type===V.logicalOR||this.type===V.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(Ri,U,me,we,Fe)}return D},le.buildBinary=function(D,U,me,we,Fe,ht){we.type==="PrivateIdentifier"&&this.raise(we.start,"Private identifier can only be left side of binary expression");var xt=this.startNodeAt(D,U);return xt.left=me,xt.operator=Fe,xt.right=we,this.finishNode(xt,ht?"LogicalExpression":"BinaryExpression")},le.parseMaybeUnary=function(D,U,me,we){var Fe=this.start,ht=this.startLoc,xt;if(this.isContextual("await")&&this.canAwait)xt=this.parseAwait(we),U=!0;else if(this.type.prefix){var Kt=this.startNode(),gr=this.type===V.incDec;Kt.operator=this.value,Kt.prefix=!0,this.next(),Kt.argument=this.parseMaybeUnary(null,!0,gr,we),this.checkExpressionErrors(D,!0),gr?this.checkLValSimple(Kt.argument):this.strict&&Kt.operator==="delete"&&re(Kt.argument)?this.raiseRecoverable(Kt.start,"Deleting local variable in strict mode"):Kt.operator==="delete"&&ge(Kt.argument)?this.raiseRecoverable(Kt.start,"Private fields can not be deleted"):U=!0,xt=this.finishNode(Kt,gr?"UpdateExpression":"UnaryExpression")}else if(!U&&this.type===V.privateId)(we||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),xt=this.parsePrivateIdent(),this.type!==V._in&&this.unexpected();else{if(xt=this.parseExprSubscripts(D,we),this.checkExpressionErrors(D))return xt;for(;this.type.postfix&&!this.canInsertSemicolon();){var Wr=this.startNodeAt(Fe,ht);Wr.operator=this.value,Wr.prefix=!1,Wr.argument=xt,this.checkLValSimple(xt),this.next(),xt=this.finishNode(Wr,"UpdateExpression")}}if(!me&&this.eat(V.starstar))if(U)this.unexpected(this.lastTokStart);else return this.buildBinary(Fe,ht,xt,this.parseMaybeUnary(null,!1,!1,we),"**",!1);else return xt};function re(D){return D.type==="Identifier"||D.type==="ParenthesizedExpression"&&re(D.expression)}function ge(D){return D.type==="MemberExpression"&&D.property.type==="PrivateIdentifier"||D.type==="ChainExpression"&&ge(D.expression)||D.type==="ParenthesizedExpression"&&ge(D.expression)}le.parseExprSubscripts=function(D,U){var me=this.start,we=this.startLoc,Fe=this.parseExprAtom(D,U);if(Fe.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return Fe;var ht=this.parseSubscripts(Fe,me,we,!1,U);return D&&ht.type==="MemberExpression"&&(D.parenthesizedAssign>=ht.start&&(D.parenthesizedAssign=-1),D.parenthesizedBind>=ht.start&&(D.parenthesizedBind=-1),D.trailingComma>=ht.start&&(D.trailingComma=-1)),ht},le.parseSubscripts=function(D,U,me,we,Fe){for(var ht=this.options.ecmaVersion>=8&&D.type==="Identifier"&&D.name==="async"&&this.lastTokEnd===D.end&&!this.canInsertSemicolon()&&D.end-D.start===5&&this.potentialArrowAt===D.start,xt=!1;;){var Kt=this.parseSubscript(D,U,me,we,ht,xt,Fe);if(Kt.optional&&(xt=!0),Kt===D||Kt.type==="ArrowFunctionExpression"){if(xt){var gr=this.startNodeAt(U,me);gr.expression=Kt,Kt=this.finishNode(gr,"ChainExpression")}return Kt}D=Kt}},le.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(V.arrow)},le.parseSubscriptAsyncArrow=function(D,U,me,we){return this.parseArrowExpression(this.startNodeAt(D,U),me,!0,we)},le.parseSubscript=function(D,U,me,we,Fe,ht,xt){var Kt=this.options.ecmaVersion>=11,gr=Kt&&this.eat(V.questionDot);we&&gr&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var Wr=this.eat(V.bracketL);if(Wr||gr&&this.type!==V.parenL&&this.type!==V.backQuote||this.eat(V.dot)){var Nr=this.startNodeAt(U,me);Nr.object=D,Wr?(Nr.property=this.parseExpression(),this.expect(V.bracketR)):this.type===V.privateId&&D.type!=="Super"?Nr.property=this.parsePrivateIdent():Nr.property=this.parseIdent(this.options.allowReserved!=="never"),Nr.computed=!!Wr,Kt&&(Nr.optional=gr),D=this.finishNode(Nr,"MemberExpression")}else if(!we&&this.eat(V.parenL)){var En=new R,Ri=this.yieldPos,Xi=this.awaitPos,Yi=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var Vi=this.parseExprList(V.parenR,this.options.ecmaVersion>=8,!1,En);if(Fe&&!gr&&this.shouldParseAsyncArrow())return this.checkPatternErrors(En,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=Ri,this.awaitPos=Xi,this.awaitIdentPos=Yi,this.parseSubscriptAsyncArrow(U,me,Vi,xt);this.checkExpressionErrors(En,!0),this.yieldPos=Ri||this.yieldPos,this.awaitPos=Xi||this.awaitPos,this.awaitIdentPos=Yi||this.awaitIdentPos;var di=this.startNodeAt(U,me);di.callee=D,di.arguments=Vi,Kt&&(di.optional=gr),D=this.finishNode(di,"CallExpression")}else if(this.type===V.backQuote){(gr||ht)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var li=this.startNodeAt(U,me);li.tag=D,li.quasi=this.parseTemplate({isTagged:!0}),D=this.finishNode(li,"TaggedTemplateExpression")}return D},le.parseExprAtom=function(D,U,me){this.type===V.slash&&this.readRegexp();var we,Fe=this.potentialArrowAt===this.start;switch(this.type){case V._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),we=this.startNode(),this.next(),this.type===V.parenL&&!this.allowDirectSuper&&this.raise(we.start,"super() call outside constructor of a subclass"),this.type!==V.dot&&this.type!==V.bracketL&&this.type!==V.parenL&&this.unexpected(),this.finishNode(we,"Super");case V._this:return we=this.startNode(),this.next(),this.finishNode(we,"ThisExpression");case V.name:var ht=this.start,xt=this.startLoc,Kt=this.containsEsc,gr=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!Kt&&gr.name==="async"&&!this.canInsertSemicolon()&&this.eat(V._function))return this.overrideContext(he.f_expr),this.parseFunction(this.startNodeAt(ht,xt),0,!1,!0,U);if(Fe&&!this.canInsertSemicolon()){if(this.eat(V.arrow))return this.parseArrowExpression(this.startNodeAt(ht,xt),[gr],!1,U);if(this.options.ecmaVersion>=8&&gr.name==="async"&&this.type===V.name&&!Kt&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return gr=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(V.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(ht,xt),[gr],!0,U)}return gr;case V.regexp:var Wr=this.value;return we=this.parseLiteral(Wr.value),we.regex={pattern:Wr.pattern,flags:Wr.flags},we;case V.num:case V.string:return this.parseLiteral(this.value);case V._null:case V._true:case V._false:return we=this.startNode(),we.value=this.type===V._null?null:this.type===V._true,we.raw=this.type.keyword,this.next(),this.finishNode(we,"Literal");case V.parenL:var Nr=this.start,En=this.parseParenAndDistinguishExpression(Fe,U);return D&&(D.parenthesizedAssign<0&&!this.isSimpleAssignTarget(En)&&(D.parenthesizedAssign=Nr),D.parenthesizedBind<0&&(D.parenthesizedBind=Nr)),En;case V.bracketL:return we=this.startNode(),this.next(),we.elements=this.parseExprList(V.bracketR,!0,!0,D),this.finishNode(we,"ArrayExpression");case V.braceL:return this.overrideContext(he.b_expr),this.parseObj(!1,D);case V._function:return we=this.startNode(),this.next(),this.parseFunction(we,0);case V._class:return this.parseClass(this.startNode(),!1);case V._new:return this.parseNew();case V.backQuote:return this.parseTemplate();case V._import:return this.options.ecmaVersion>=11?this.parseExprImport(me):this.unexpected();default:return this.parseExprAtomDefault()}},le.parseExprAtomDefault=function(){this.unexpected()},le.parseExprImport=function(D){var U=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===V.parenL&&!D)return this.parseDynamicImport(U);if(this.type===V.dot){var me=this.startNodeAt(U.start,U.loc&&U.loc.start);return me.name="import",U.meta=this.finishNode(me,"Identifier"),this.parseImportMeta(U)}else this.unexpected()},le.parseDynamicImport=function(D){if(this.next(),D.source=this.parseMaybeAssign(),this.options.ecmaVersion>=16)this.eat(V.parenR)?D.options=null:(this.expect(V.comma),this.afterTrailingComma(V.parenR)?D.options=null:(D.options=this.parseMaybeAssign(),this.eat(V.parenR)||(this.expect(V.comma),this.afterTrailingComma(V.parenR)||this.unexpected())));else if(!this.eat(V.parenR)){var U=this.start;this.eat(V.comma)&&this.eat(V.parenR)?this.raiseRecoverable(U,"Trailing comma is not allowed in import()"):this.unexpected(U)}return this.finishNode(D,"ImportExpression")},le.parseImportMeta=function(D){this.next();var U=this.containsEsc;return D.property=this.parseIdent(!0),D.property.name!=="meta"&&this.raiseRecoverable(D.property.start,"The only valid meta property for import is 'import.meta'"),U&&this.raiseRecoverable(D.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(D.start,"Cannot use 'import.meta' outside a module"),this.finishNode(D,"MetaProperty")},le.parseLiteral=function(D){var U=this.startNode();return U.value=D,U.raw=this.input.slice(this.start,this.end),U.raw.charCodeAt(U.raw.length-1)===110&&(U.bigint=U.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(U,"Literal")},le.parseParenExpression=function(){this.expect(V.parenL);var D=this.parseExpression();return this.expect(V.parenR),D},le.shouldParseArrow=function(D){return!this.canInsertSemicolon()},le.parseParenAndDistinguishExpression=function(D,U){var me=this.start,we=this.startLoc,Fe,ht=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var xt=this.start,Kt=this.startLoc,gr=[],Wr=!0,Nr=!1,En=new R,Ri=this.yieldPos,Xi=this.awaitPos,Yi;for(this.yieldPos=0,this.awaitPos=0;this.type!==V.parenR;)if(Wr?Wr=!1:this.expect(V.comma),ht&&this.afterTrailingComma(V.parenR,!0)){Nr=!0;break}else if(this.type===V.ellipsis){Yi=this.start,gr.push(this.parseParenItem(this.parseRestBinding())),this.type===V.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else gr.push(this.parseMaybeAssign(!1,En,this.parseParenItem));var Vi=this.lastTokEnd,di=this.lastTokEndLoc;if(this.expect(V.parenR),D&&this.shouldParseArrow(gr)&&this.eat(V.arrow))return this.checkPatternErrors(En,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=Ri,this.awaitPos=Xi,this.parseParenArrowList(me,we,gr,U);(!gr.length||Nr)&&this.unexpected(this.lastTokStart),Yi&&this.unexpected(Yi),this.checkExpressionErrors(En,!0),this.yieldPos=Ri||this.yieldPos,this.awaitPos=Xi||this.awaitPos,gr.length>1?(Fe=this.startNodeAt(xt,Kt),Fe.expressions=gr,this.finishNodeAt(Fe,"SequenceExpression",Vi,di)):Fe=gr[0]}else Fe=this.parseParenExpression();if(this.options.preserveParens){var li=this.startNodeAt(me,we);return li.expression=Fe,this.finishNode(li,"ParenthesizedExpression")}else return Fe},le.parseParenItem=function(D){return D},le.parseParenArrowList=function(D,U,me,we){return this.parseArrowExpression(this.startNodeAt(D,U),me,!1,we)};var ye=[];le.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var D=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===V.dot){var U=this.startNodeAt(D.start,D.loc&&D.loc.start);U.name="new",D.meta=this.finishNode(U,"Identifier"),this.next();var me=this.containsEsc;return D.property=this.parseIdent(!0),D.property.name!=="target"&&this.raiseRecoverable(D.property.start,"The only valid meta property for new is 'new.target'"),me&&this.raiseRecoverable(D.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(D.start,"'new.target' can only be used in functions and class static block"),this.finishNode(D,"MetaProperty")}var we=this.start,Fe=this.startLoc;return D.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),we,Fe,!0,!1),this.eat(V.parenL)?D.arguments=this.parseExprList(V.parenR,this.options.ecmaVersion>=8,!1):D.arguments=ye,this.finishNode(D,"NewExpression")},le.parseTemplateElement=function(D){var U=D.isTagged,me=this.startNode();return this.type===V.invalidTemplate?(U||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),me.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):me.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),me.tail=this.type===V.backQuote,this.finishNode(me,"TemplateElement")},le.parseTemplate=function(D){D===void 0&&(D={});var U=D.isTagged;U===void 0&&(U=!1);var me=this.startNode();this.next(),me.expressions=[];var we=this.parseTemplateElement({isTagged:U});for(me.quasis=[we];!we.tail;)this.type===V.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(V.dollarBraceL),me.expressions.push(this.parseExpression()),this.expect(V.braceR),me.quasis.push(we=this.parseTemplateElement({isTagged:U}));return this.next(),this.finishNode(me,"TemplateLiteral")},le.isAsyncProp=function(D){return!D.computed&&D.key.type==="Identifier"&&D.key.name==="async"&&(this.type===V.name||this.type===V.num||this.type===V.string||this.type===V.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===V.star)&&!ie.test(this.input.slice(this.lastTokEnd,this.start))},le.parseObj=function(D,U){var me=this.startNode(),we=!0,Fe={};for(me.properties=[],this.next();!this.eat(V.braceR);){if(we)we=!1;else if(this.expect(V.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(V.braceR))break;var ht=this.parseProperty(D,U);D||this.checkPropClash(ht,Fe,U),me.properties.push(ht)}return this.finishNode(me,D?"ObjectPattern":"ObjectExpression")},le.parseProperty=function(D,U){var me=this.startNode(),we,Fe,ht,xt;if(this.options.ecmaVersion>=9&&this.eat(V.ellipsis))return D?(me.argument=this.parseIdent(!1),this.type===V.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(me,"RestElement")):(me.argument=this.parseMaybeAssign(!1,U),this.type===V.comma&&U&&U.trailingComma<0&&(U.trailingComma=this.start),this.finishNode(me,"SpreadElement"));this.options.ecmaVersion>=6&&(me.method=!1,me.shorthand=!1,(D||U)&&(ht=this.start,xt=this.startLoc),D||(we=this.eat(V.star)));var Kt=this.containsEsc;return this.parsePropertyName(me),!D&&!Kt&&this.options.ecmaVersion>=8&&!we&&this.isAsyncProp(me)?(Fe=!0,we=this.options.ecmaVersion>=9&&this.eat(V.star),this.parsePropertyName(me)):Fe=!1,this.parsePropertyValue(me,D,we,Fe,ht,xt,U,Kt),this.finishNode(me,"Property")},le.parseGetterSetter=function(D){D.kind=D.key.name,this.parsePropertyName(D),D.value=this.parseMethod(!1);var U=D.kind==="get"?0:1;if(D.value.params.length!==U){var me=D.value.start;D.kind==="get"?this.raiseRecoverable(me,"getter should have no params"):this.raiseRecoverable(me,"setter should have exactly one param")}else D.kind==="set"&&D.value.params[0].type==="RestElement"&&this.raiseRecoverable(D.value.params[0].start,"Setter cannot use rest params")},le.parsePropertyValue=function(D,U,me,we,Fe,ht,xt,Kt){(me||we)&&this.type===V.colon&&this.unexpected(),this.eat(V.colon)?(D.value=U?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,xt),D.kind="init"):this.options.ecmaVersion>=6&&this.type===V.parenL?(U&&this.unexpected(),D.kind="init",D.method=!0,D.value=this.parseMethod(me,we)):!U&&!Kt&&this.options.ecmaVersion>=5&&!D.computed&&D.key.type==="Identifier"&&(D.key.name==="get"||D.key.name==="set")&&this.type!==V.comma&&this.type!==V.braceR&&this.type!==V.eq?((me||we)&&this.unexpected(),this.parseGetterSetter(D)):this.options.ecmaVersion>=6&&!D.computed&&D.key.type==="Identifier"?((me||we)&&this.unexpected(),this.checkUnreserved(D.key),D.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=Fe),D.kind="init",U?D.value=this.parseMaybeDefault(Fe,ht,this.copyNode(D.key)):this.type===V.eq&&xt?(xt.shorthandAssign<0&&(xt.shorthandAssign=this.start),D.value=this.parseMaybeDefault(Fe,ht,this.copyNode(D.key))):D.value=this.copyNode(D.key),D.shorthand=!0):this.unexpected()},le.parsePropertyName=function(D){if(this.options.ecmaVersion>=6){if(this.eat(V.bracketL))return D.computed=!0,D.key=this.parseMaybeAssign(),this.expect(V.bracketR),D.key;D.computed=!1}return D.key=this.type===V.num||this.type===V.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},le.initFunction=function(D){D.id=null,this.options.ecmaVersion>=6&&(D.generator=D.expression=!1),this.options.ecmaVersion>=8&&(D.async=!1)},le.parseMethod=function(D,U,me){var we=this.startNode(),Fe=this.yieldPos,ht=this.awaitPos,xt=this.awaitIdentPos;return this.initFunction(we),this.options.ecmaVersion>=6&&(we.generator=D),this.options.ecmaVersion>=8&&(we.async=!!U),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(oi(U,we.generator)|kn|(me?Bn:0)),this.expect(V.parenL),we.params=this.parseBindingList(V.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(we,!1,!0,!1),this.yieldPos=Fe,this.awaitPos=ht,this.awaitIdentPos=xt,this.finishNode(we,"FunctionExpression")},le.parseArrowExpression=function(D,U,me,we){var Fe=this.yieldPos,ht=this.awaitPos,xt=this.awaitIdentPos;return this.enterScope(oi(me,!1)|un),this.initFunction(D),this.options.ecmaVersion>=8&&(D.async=!!me),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,D.params=this.toAssignableList(U,!0),this.parseFunctionBody(D,!0,!1,we),this.yieldPos=Fe,this.awaitPos=ht,this.awaitIdentPos=xt,this.finishNode(D,"ArrowFunctionExpression")},le.parseFunctionBody=function(D,U,me,we){var Fe=U&&this.type!==V.braceL,ht=this.strict,xt=!1;if(Fe)D.body=this.parseMaybeAssign(we),D.expression=!0,this.checkParams(D,!1);else{var Kt=this.options.ecmaVersion>=7&&!this.isSimpleParamList(D.params);(!ht||Kt)&&(xt=this.strictDirective(this.end),xt&&Kt&&this.raiseRecoverable(D.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var gr=this.labels;this.labels=[],xt&&(this.strict=!0),this.checkParams(D,!ht&&!xt&&!U&&!me&&this.isSimpleParamList(D.params)),this.strict&&D.id&&this.checkLValSimple(D.id,ut),D.body=this.parseBlock(!1,void 0,xt&&!ht),D.expression=!1,this.adaptDirectivePrologue(D.body.body),this.labels=gr}this.exitScope()},le.isSimpleParamList=function(D){for(var U=0,me=D;U<me.length;U+=1){var we=me[U];if(we.type!=="Identifier")return!1}return!0},le.checkParams=function(D,U){for(var me=Object.create(null),we=0,Fe=D.params;we<Fe.length;we+=1){var ht=Fe[we];this.checkLValInnerPattern(ht,ln,U?null:me)}},le.parseExprList=function(D,U,me,we){for(var Fe=[],ht=!0;!this.eat(D);){if(ht)ht=!1;else if(this.expect(V.comma),U&&this.afterTrailingComma(D))break;var xt=void 0;me&&this.type===V.comma?xt=null:this.type===V.ellipsis?(xt=this.parseSpread(we),we&&this.type===V.comma&&we.trailingComma<0&&(we.trailingComma=this.start)):xt=this.parseMaybeAssign(!1,we),Fe.push(xt)}return Fe},le.checkUnreserved=function(D){var U=D.start,me=D.end,we=D.name;if(this.inGenerator&&we==="yield"&&this.raiseRecoverable(U,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&we==="await"&&this.raiseRecoverable(U,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&we==="arguments"&&this.raiseRecoverable(U,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(we==="arguments"||we==="await")&&this.raise(U,"Cannot use "+we+" in class static initialization block"),this.keywords.test(we)&&this.raise(U,"Unexpected keyword '"+we+"'"),!(this.options.ecmaVersion<6&&this.input.slice(U,me).indexOf("\\")!==-1)){var Fe=this.strict?this.reservedWordsStrict:this.reservedWords;Fe.test(we)&&(!this.inAsync&&we==="await"&&this.raiseRecoverable(U,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(U,"The keyword '"+we+"' is reserved"))}},le.parseIdent=function(D){var U=this.parseIdentNode();return this.next(!!D),this.finishNode(U,"Identifier"),D||(this.checkUnreserved(U),U.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=U.start)),U},le.parseIdentNode=function(){var D=this.startNode();return this.type===V.name?D.name=this.value:this.type.keyword?(D.name=this.type.keyword,(D.name==="class"||D.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=V.name):this.unexpected(),D},le.parsePrivateIdent=function(){var D=this.startNode();return this.type===V.privateId?D.name=this.value:this.unexpected(),this.next(),this.finishNode(D,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(D.start,"Private field '#"+D.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(D)),D},le.parseYield=function(D){this.yieldPos||(this.yieldPos=this.start);var U=this.startNode();return this.next(),this.type===V.semi||this.canInsertSemicolon()||this.type!==V.star&&!this.type.startsExpr?(U.delegate=!1,U.argument=null):(U.delegate=this.eat(V.star),U.argument=this.parseMaybeAssign(D)),this.finishNode(U,"YieldExpression")},le.parseAwait=function(D){this.awaitPos||(this.awaitPos=this.start);var U=this.startNode();return this.next(),U.argument=this.parseMaybeUnary(null,!0,!1,D),this.finishNode(U,"AwaitExpression")};var Ce=k.prototype;Ce.raise=function(D,U){var me=Er(this.input,D);U+=" ("+me.line+":"+me.column+")";var we=new SyntaxError(U);throw we.pos=D,we.loc=me,we.raisedAt=this.pos,we},Ce.raiseRecoverable=Ce.raise,Ce.curPosition=function(){if(this.options.locations)return new rr(this.curLine,this.pos-this.lineStart)};var _e=k.prototype,Ie=function(U){this.flags=U,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};_e.enterScope=function(D){this.scopeStack.push(new Ie(D))},_e.exitScope=function(){this.scopeStack.pop()},_e.treatFunctionsAsVarInScope=function(D){return D.flags&pr||!this.inModule&&D.flags&Ut},_e.declareName=function(D,U,me){var we=!1;if(U===In){var Fe=this.currentScope();we=Fe.lexical.indexOf(D)>-1||Fe.functions.indexOf(D)>-1||Fe.var.indexOf(D)>-1,Fe.lexical.push(D),this.inModule&&Fe.flags&Ut&&delete this.undefinedExports[D]}else if(U===Xe){var ht=this.currentScope();ht.lexical.push(D)}else if(U===Ee){var xt=this.currentScope();this.treatFunctionsAsVar?we=xt.lexical.indexOf(D)>-1:we=xt.lexical.indexOf(D)>-1||xt.var.indexOf(D)>-1,xt.functions.push(D)}else for(var Kt=this.scopeStack.length-1;Kt>=0;--Kt){var gr=this.scopeStack[Kt];if(gr.lexical.indexOf(D)>-1&&!(gr.flags&pn&&gr.lexical[0]===D)||!this.treatFunctionsAsVarInScope(gr)&&gr.functions.indexOf(D)>-1){we=!0;break}if(gr.var.push(D),this.inModule&&gr.flags&Ut&&delete this.undefinedExports[D],gr.flags&vn)break}we&&this.raiseRecoverable(me,"Identifier '"+D+"' has already been declared")},_e.checkLocalExport=function(D){this.scopeStack[0].lexical.indexOf(D.name)===-1&&this.scopeStack[0].var.indexOf(D.name)===-1&&(this.undefinedExports[D.name]=D)},_e.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},_e.currentVarScope=function(){for(var D=this.scopeStack.length-1;;D--){var U=this.scopeStack[D];if(U.flags&vn)return U}},_e.currentThisScope=function(){for(var D=this.scopeStack.length-1;;D--){var U=this.scopeStack[D];if(U.flags&vn&&!(U.flags&un))return U}};var Be=function(U,me,we){this.type="",this.start=me,this.end=0,U.options.locations&&(this.loc=new Yt(U,we)),U.options.directSourceFile&&(this.sourceFile=U.options.directSourceFile),U.options.ranges&&(this.range=[me,0])},ze=k.prototype;ze.startNode=function(){return new Be(this,this.start,this.startLoc)},ze.startNodeAt=function(D,U){return new Be(this,D,U)};function Ke(D,U,me,we){return D.type=U,D.end=me,this.options.locations&&(D.loc.end=we),this.options.ranges&&(D.range[1]=me),D}ze.finishNode=function(D,U){return Ke.call(this,D,U,this.lastTokEnd,this.lastTokEndLoc)},ze.finishNodeAt=function(D,U,me,we){return Ke.call(this,D,U,me,we)},ze.copyNode=function(D){var U=new Be(this,D.start,this.startLoc);for(var me in D)U[me]=D[me];return U};var Re="Gara Garay Gukh Gurung_Khema Hrkt Katakana_Or_Hiragana Kawi Kirat_Rai Krai Nag_Mundari Nagm Ol_Onal Onao Sunu Sunuwar Todhri Todr Tulu_Tigalari Tutg Unknown Zzzz",We="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",Qe=We+" Extended_Pictographic",it=Qe,tt=it+" EBase EComp EMod EPres ExtPict",yt=tt,Ft=yt,Jt={9:We,10:Qe,11:it,12:tt,13:yt,14:Ft},lr="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",Cr={9:"",10:"",11:"",12:"",13:"",14:lr},Mt="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Dt="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",fr=Dt+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",Sr=fr+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",kr=Sr+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",Rr=kr+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",$r=Rr+" "+Re,Vr={9:Dt,10:fr,11:Sr,12:kr,13:Rr,14:$r},jr={};function zr(D){var U=jr[D]={binary:ct(Jt[D]+" "+Mt),binaryOfStrings:ct(Cr[D]),nonBinary:{General_Category:ct(Mt),Script:ct(Vr[D])}};U.nonBinary.Script_Extensions=U.nonBinary.Script,U.nonBinary.gc=U.nonBinary.General_Category,U.nonBinary.sc=U.nonBinary.Script,U.nonBinary.scx=U.nonBinary.Script_Extensions}for(var Sn=0,Pn=[9,10,11,12,13,14];Sn<Pn.length;Sn+=1){var Nn=Pn[Sn];zr(Nn)}var dr=k.prototype,rn=function(U,me){this.parent=U,this.base=me||this};rn.prototype.separatedFrom=function(U){for(var me=this;me;me=me.parent)for(var we=U;we;we=we.parent)if(me.base===we.base&&me!==we)return!0;return!1},rn.prototype.sibling=function(){return new rn(this.parent,this.base)};var sn=function(U){this.parser=U,this.validFlags="gim"+(U.options.ecmaVersion>=6?"uy":"")+(U.options.ecmaVersion>=9?"s":"")+(U.options.ecmaVersion>=13?"d":"")+(U.options.ecmaVersion>=15?"v":""),this.unicodeProperties=jr[U.options.ecmaVersion>=14?14:U.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};sn.prototype.reset=function(U,me,we){var Fe=we.indexOf("v")!==-1,ht=we.indexOf("u")!==-1;this.start=U|0,this.source=me+"",this.flags=we,Fe&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=ht&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=ht&&this.parser.options.ecmaVersion>=9)},sn.prototype.raise=function(U){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+U)},sn.prototype.at=function(U,me){me===void 0&&(me=!1);var we=this.source,Fe=we.length;if(U>=Fe)return-1;var ht=we.charCodeAt(U);if(!(me||this.switchU)||ht<=55295||ht>=57344||U+1>=Fe)return ht;var xt=we.charCodeAt(U+1);return xt>=56320&&xt<=57343?(ht<<10)+xt-56613888:ht},sn.prototype.nextIndex=function(U,me){me===void 0&&(me=!1);var we=this.source,Fe=we.length;if(U>=Fe)return Fe;var ht=we.charCodeAt(U),xt;return!(me||this.switchU)||ht<=55295||ht>=57344||U+1>=Fe||(xt=we.charCodeAt(U+1))<56320||xt>57343?U+1:U+2},sn.prototype.current=function(U){return U===void 0&&(U=!1),this.at(this.pos,U)},sn.prototype.lookahead=function(U){return U===void 0&&(U=!1),this.at(this.nextIndex(this.pos,U),U)},sn.prototype.advance=function(U){U===void 0&&(U=!1),this.pos=this.nextIndex(this.pos,U)},sn.prototype.eat=function(U,me){return me===void 0&&(me=!1),this.current(me)===U?(this.advance(me),!0):!1},sn.prototype.eatChars=function(U,me){me===void 0&&(me=!1);for(var we=this.pos,Fe=0,ht=U;Fe<ht.length;Fe+=1){var xt=ht[Fe],Kt=this.at(we,me);if(Kt===-1||Kt!==xt)return!1;we=this.nextIndex(we,me)}return this.pos=we,!0},dr.validateRegExpFlags=function(D){for(var U=D.validFlags,me=D.flags,we=!1,Fe=!1,ht=0;ht<me.length;ht++){var xt=me.charAt(ht);U.indexOf(xt)===-1&&this.raise(D.start,"Invalid regular expression flag"),me.indexOf(xt,ht+1)>-1&&this.raise(D.start,"Duplicate regular expression flag"),xt==="u"&&(we=!0),xt==="v"&&(Fe=!0)}this.options.ecmaVersion>=15&&we&&Fe&&this.raise(D.start,"Invalid regular expression flag")};function ti(D){for(var U in D)return!0;return!1}dr.validateRegExpPattern=function(D){this.regexp_pattern(D),!D.switchN&&this.options.ecmaVersion>=9&&ti(D.groupNames)&&(D.switchN=!0,this.regexp_pattern(D))},dr.regexp_pattern=function(D){D.pos=0,D.lastIntValue=0,D.lastStringValue="",D.lastAssertionIsQuantifiable=!1,D.numCapturingParens=0,D.maxBackReference=0,D.groupNames=Object.create(null),D.backReferenceNames.length=0,D.branchID=null,this.regexp_disjunction(D),D.pos!==D.source.length&&(D.eat(41)&&D.raise("Unmatched ')'"),(D.eat(93)||D.eat(125))&&D.raise("Lone quantifier brackets")),D.maxBackReference>D.numCapturingParens&&D.raise("Invalid escape");for(var U=0,me=D.backReferenceNames;U<me.length;U+=1){var we=me[U];D.groupNames[we]||D.raise("Invalid named capture referenced")}},dr.regexp_disjunction=function(D){var U=this.options.ecmaVersion>=16;for(U&&(D.branchID=new rn(D.branchID,null)),this.regexp_alternative(D);D.eat(124);)U&&(D.branchID=D.branchID.sibling()),this.regexp_alternative(D);U&&(D.branchID=D.branchID.parent),this.regexp_eatQuantifier(D,!0)&&D.raise("Nothing to repeat"),D.eat(123)&&D.raise("Lone quantifier brackets")},dr.regexp_alternative=function(D){for(;D.pos<D.source.length&&this.regexp_eatTerm(D););},dr.regexp_eatTerm=function(D){return this.regexp_eatAssertion(D)?(D.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(D)&&D.switchU&&D.raise("Invalid quantifier"),!0):(D.switchU?this.regexp_eatAtom(D):this.regexp_eatExtendedAtom(D))?(this.regexp_eatQuantifier(D),!0):!1},dr.regexp_eatAssertion=function(D){var U=D.pos;if(D.lastAssertionIsQuantifiable=!1,D.eat(94)||D.eat(36))return!0;if(D.eat(92)){if(D.eat(66)||D.eat(98))return!0;D.pos=U}if(D.eat(40)&&D.eat(63)){var me=!1;if(this.options.ecmaVersion>=9&&(me=D.eat(60)),D.eat(61)||D.eat(33))return this.regexp_disjunction(D),D.eat(41)||D.raise("Unterminated group"),D.lastAssertionIsQuantifiable=!me,!0}return D.pos=U,!1},dr.regexp_eatQuantifier=function(D,U){return U===void 0&&(U=!1),this.regexp_eatQuantifierPrefix(D,U)?(D.eat(63),!0):!1},dr.regexp_eatQuantifierPrefix=function(D,U){return D.eat(42)||D.eat(43)||D.eat(63)||this.regexp_eatBracedQuantifier(D,U)},dr.regexp_eatBracedQuantifier=function(D,U){var me=D.pos;if(D.eat(123)){var we=0,Fe=-1;if(this.regexp_eatDecimalDigits(D)&&(we=D.lastIntValue,D.eat(44)&&this.regexp_eatDecimalDigits(D)&&(Fe=D.lastIntValue),D.eat(125)))return Fe!==-1&&Fe<we&&!U&&D.raise("numbers out of order in {} quantifier"),!0;D.switchU&&!U&&D.raise("Incomplete quantifier"),D.pos=me}return!1},dr.regexp_eatAtom=function(D){return this.regexp_eatPatternCharacters(D)||D.eat(46)||this.regexp_eatReverseSolidusAtomEscape(D)||this.regexp_eatCharacterClass(D)||this.regexp_eatUncapturingGroup(D)||this.regexp_eatCapturingGroup(D)},dr.regexp_eatReverseSolidusAtomEscape=function(D){var U=D.pos;if(D.eat(92)){if(this.regexp_eatAtomEscape(D))return!0;D.pos=U}return!1},dr.regexp_eatUncapturingGroup=function(D){var U=D.pos;if(D.eat(40)){if(D.eat(63)){if(this.options.ecmaVersion>=16){var me=this.regexp_eatModifiers(D),we=D.eat(45);if(me||we){for(var Fe=0;Fe<me.length;Fe++){var ht=me.charAt(Fe);me.indexOf(ht,Fe+1)>-1&&D.raise("Duplicate regular expression modifiers")}if(we){var xt=this.regexp_eatModifiers(D);!me&&!xt&&D.current()===58&&D.raise("Invalid regular expression modifiers");for(var Kt=0;Kt<xt.length;Kt++){var gr=xt.charAt(Kt);(xt.indexOf(gr,Kt+1)>-1||me.indexOf(gr)>-1)&&D.raise("Duplicate regular expression modifiers")}}}}if(D.eat(58)){if(this.regexp_disjunction(D),D.eat(41))return!0;D.raise("Unterminated group")}}D.pos=U}return!1},dr.regexp_eatCapturingGroup=function(D){if(D.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(D):D.current()===63&&D.raise("Invalid group"),this.regexp_disjunction(D),D.eat(41))return D.numCapturingParens+=1,!0;D.raise("Unterminated group")}return!1},dr.regexp_eatModifiers=function(D){for(var U="",me=0;(me=D.current())!==-1&&Dn(me);)U+=Ot(me),D.advance();return U};function Dn(D){return D===105||D===109||D===115}dr.regexp_eatExtendedAtom=function(D){return D.eat(46)||this.regexp_eatReverseSolidusAtomEscape(D)||this.regexp_eatCharacterClass(D)||this.regexp_eatUncapturingGroup(D)||this.regexp_eatCapturingGroup(D)||this.regexp_eatInvalidBracedQuantifier(D)||this.regexp_eatExtendedPatternCharacter(D)},dr.regexp_eatInvalidBracedQuantifier=function(D){return this.regexp_eatBracedQuantifier(D,!0)&&D.raise("Nothing to repeat"),!1},dr.regexp_eatSyntaxCharacter=function(D){var U=D.current();return si(U)?(D.lastIntValue=U,D.advance(),!0):!1};function si(D){return D===36||D>=40&&D<=43||D===46||D===63||D>=91&&D<=94||D>=123&&D<=125}dr.regexp_eatPatternCharacters=function(D){for(var U=D.pos,me=0;(me=D.current())!==-1&&!si(me);)D.advance();return D.pos!==U},dr.regexp_eatExtendedPatternCharacter=function(D){var U=D.current();return U!==-1&&U!==36&&!(U>=40&&U<=43)&&U!==46&&U!==63&&U!==91&&U!==94&&U!==124?(D.advance(),!0):!1},dr.regexp_groupSpecifier=function(D){if(D.eat(63)){this.regexp_eatGroupName(D)||D.raise("Invalid group");var U=this.options.ecmaVersion>=16,me=D.groupNames[D.lastStringValue];if(me)if(U)for(var we=0,Fe=me;we<Fe.length;we+=1){var ht=Fe[we];ht.separatedFrom(D.branchID)||D.raise("Duplicate capture group name")}else D.raise("Duplicate capture group name");U?(me||(D.groupNames[D.lastStringValue]=[])).push(D.branchID):D.groupNames[D.lastStringValue]=!0}},dr.regexp_eatGroupName=function(D){if(D.lastStringValue="",D.eat(60)){if(this.regexp_eatRegExpIdentifierName(D)&&D.eat(62))return!0;D.raise("Invalid capture group name")}return!1},dr.regexp_eatRegExpIdentifierName=function(D){if(D.lastStringValue="",this.regexp_eatRegExpIdentifierStart(D)){for(D.lastStringValue+=Ot(D.lastIntValue);this.regexp_eatRegExpIdentifierPart(D);)D.lastStringValue+=Ot(D.lastIntValue);return!0}return!1},dr.regexp_eatRegExpIdentifierStart=function(D){var U=D.pos,me=this.options.ecmaVersion>=11,we=D.current(me);return D.advance(me),we===92&&this.regexp_eatRegExpUnicodeEscapeSequence(D,me)&&(we=D.lastIntValue),Li(we)?(D.lastIntValue=we,!0):(D.pos=U,!1)};function Li(D){return H(D,!0)||D===36||D===95}dr.regexp_eatRegExpIdentifierPart=function(D){var U=D.pos,me=this.options.ecmaVersion>=11,we=D.current(me);return D.advance(me),we===92&&this.regexp_eatRegExpUnicodeEscapeSequence(D,me)&&(we=D.lastIntValue),gi(we)?(D.lastIntValue=we,!0):(D.pos=U,!1)};function gi(D){return X(D,!0)||D===36||D===95||D===8204||D===8205}dr.regexp_eatAtomEscape=function(D){return this.regexp_eatBackReference(D)||this.regexp_eatCharacterClassEscape(D)||this.regexp_eatCharacterEscape(D)||D.switchN&&this.regexp_eatKGroupName(D)?!0:(D.switchU&&(D.current()===99&&D.raise("Invalid unicode escape"),D.raise("Invalid escape")),!1)},dr.regexp_eatBackReference=function(D){var U=D.pos;if(this.regexp_eatDecimalEscape(D)){var me=D.lastIntValue;if(D.switchU)return me>D.maxBackReference&&(D.maxBackReference=me),!0;if(me<=D.numCapturingParens)return!0;D.pos=U}return!1},dr.regexp_eatKGroupName=function(D){if(D.eat(107)){if(this.regexp_eatGroupName(D))return D.backReferenceNames.push(D.lastStringValue),!0;D.raise("Invalid named reference")}return!1},dr.regexp_eatCharacterEscape=function(D){return this.regexp_eatControlEscape(D)||this.regexp_eatCControlLetter(D)||this.regexp_eatZero(D)||this.regexp_eatHexEscapeSequence(D)||this.regexp_eatRegExpUnicodeEscapeSequence(D,!1)||!D.switchU&&this.regexp_eatLegacyOctalEscapeSequence(D)||this.regexp_eatIdentityEscape(D)},dr.regexp_eatCControlLetter=function(D){var U=D.pos;if(D.eat(99)){if(this.regexp_eatControlLetter(D))return!0;D.pos=U}return!1},dr.regexp_eatZero=function(D){return D.current()===48&&!zi(D.lookahead())?(D.lastIntValue=0,D.advance(),!0):!1},dr.regexp_eatControlEscape=function(D){var U=D.current();return U===116?(D.lastIntValue=9,D.advance(),!0):U===110?(D.lastIntValue=10,D.advance(),!0):U===118?(D.lastIntValue=11,D.advance(),!0):U===102?(D.lastIntValue=12,D.advance(),!0):U===114?(D.lastIntValue=13,D.advance(),!0):!1},dr.regexp_eatControlLetter=function(D){var U=D.current();return ci(U)?(D.lastIntValue=U%32,D.advance(),!0):!1};function ci(D){return D>=65&&D<=90||D>=97&&D<=122}dr.regexp_eatRegExpUnicodeEscapeSequence=function(D,U){U===void 0&&(U=!1);var me=D.pos,we=U||D.switchU;if(D.eat(117)){if(this.regexp_eatFixedHexDigits(D,4)){var Fe=D.lastIntValue;if(we&&Fe>=55296&&Fe<=56319){var ht=D.pos;if(D.eat(92)&&D.eat(117)&&this.regexp_eatFixedHexDigits(D,4)){var xt=D.lastIntValue;if(xt>=56320&&xt<=57343)return D.lastIntValue=(Fe-55296)*1024+(xt-56320)+65536,!0}D.pos=ht,D.lastIntValue=Fe}return!0}if(we&&D.eat(123)&&this.regexp_eatHexDigits(D)&&D.eat(125)&&Fn(D.lastIntValue))return!0;we&&D.raise("Invalid unicode escape"),D.pos=me}return!1};function Fn(D){return D>=0&&D<=1114111}dr.regexp_eatIdentityEscape=function(D){if(D.switchU)return this.regexp_eatSyntaxCharacter(D)?!0:D.eat(47)?(D.lastIntValue=47,!0):!1;var U=D.current();return U!==99&&(!D.switchN||U!==107)?(D.lastIntValue=U,D.advance(),!0):!1},dr.regexp_eatDecimalEscape=function(D){D.lastIntValue=0;var U=D.current();if(U>=49&&U<=57){do D.lastIntValue=10*D.lastIntValue+(U-48),D.advance();while((U=D.current())>=48&&U<=57);return!0}return!1};var Yn=0,Un=1,xn=2;dr.regexp_eatCharacterClassEscape=function(D){var U=D.current();if($i(U))return D.lastIntValue=-1,D.advance(),Un;var me=!1;if(D.switchU&&this.options.ecmaVersion>=9&&((me=U===80)||U===112)){D.lastIntValue=-1,D.advance();var we;if(D.eat(123)&&(we=this.regexp_eatUnicodePropertyValueExpression(D))&&D.eat(125))return me&&we===xn&&D.raise("Invalid property name"),we;D.raise("Invalid property name")}return Yn};function $i(D){return D===100||D===68||D===115||D===83||D===119||D===87}dr.regexp_eatUnicodePropertyValueExpression=function(D){var U=D.pos;if(this.regexp_eatUnicodePropertyName(D)&&D.eat(61)){var me=D.lastStringValue;if(this.regexp_eatUnicodePropertyValue(D)){var we=D.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(D,me,we),Un}}if(D.pos=U,this.regexp_eatLoneUnicodePropertyNameOrValue(D)){var Fe=D.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(D,Fe)}return Yn},dr.regexp_validateUnicodePropertyNameAndValue=function(D,U,me){Le(D.unicodeProperties.nonBinary,U)||D.raise("Invalid property name"),D.unicodeProperties.nonBinary[U].test(me)||D.raise("Invalid property value")},dr.regexp_validateUnicodePropertyNameOrValue=function(D,U){if(D.unicodeProperties.binary.test(U))return Un;if(D.switchV&&D.unicodeProperties.binaryOfStrings.test(U))return xn;D.raise("Invalid property name")},dr.regexp_eatUnicodePropertyName=function(D){var U=0;for(D.lastStringValue="";na(U=D.current());)D.lastStringValue+=Ot(U),D.advance();return D.lastStringValue!==""};function na(D){return ci(D)||D===95}dr.regexp_eatUnicodePropertyValue=function(D){var U=0;for(D.lastStringValue="";Ia(U=D.current());)D.lastStringValue+=Ot(U),D.advance();return D.lastStringValue!==""};function Ia(D){return na(D)||zi(D)}dr.regexp_eatLoneUnicodePropertyNameOrValue=function(D){return this.regexp_eatUnicodePropertyValue(D)},dr.regexp_eatCharacterClass=function(D){if(D.eat(91)){var U=D.eat(94),me=this.regexp_classContents(D);return D.eat(93)||D.raise("Unterminated character class"),U&&me===xn&&D.raise("Negated character class may contain strings"),!0}return!1},dr.regexp_classContents=function(D){return D.current()===93?Un:D.switchV?this.regexp_classSetExpression(D):(this.regexp_nonEmptyClassRanges(D),Un)},dr.regexp_nonEmptyClassRanges=function(D){for(;this.regexp_eatClassAtom(D);){var U=D.lastIntValue;if(D.eat(45)&&this.regexp_eatClassAtom(D)){var me=D.lastIntValue;D.switchU&&(U===-1||me===-1)&&D.raise("Invalid character class"),U!==-1&&me!==-1&&U>me&&D.raise("Range out of order in character class")}}},dr.regexp_eatClassAtom=function(D){var U=D.pos;if(D.eat(92)){if(this.regexp_eatClassEscape(D))return!0;if(D.switchU){var me=D.current();(me===99||zn(me))&&D.raise("Invalid class escape"),D.raise("Invalid escape")}D.pos=U}var we=D.current();return we!==93?(D.lastIntValue=we,D.advance(),!0):!1},dr.regexp_eatClassEscape=function(D){var U=D.pos;if(D.eat(98))return D.lastIntValue=8,!0;if(D.switchU&&D.eat(45))return D.lastIntValue=45,!0;if(!D.switchU&&D.eat(99)){if(this.regexp_eatClassControlLetter(D))return!0;D.pos=U}return this.regexp_eatCharacterClassEscape(D)||this.regexp_eatCharacterEscape(D)},dr.regexp_classSetExpression=function(D){var U=Un,me;if(!this.regexp_eatClassSetRange(D))if(me=this.regexp_eatClassSetOperand(D)){me===xn&&(U=xn);for(var we=D.pos;D.eatChars([38,38]);){if(D.current()!==38&&(me=this.regexp_eatClassSetOperand(D))){me!==xn&&(U=Un);continue}D.raise("Invalid character in character class")}if(we!==D.pos)return U;for(;D.eatChars([45,45]);)this.regexp_eatClassSetOperand(D)||D.raise("Invalid character in character class");if(we!==D.pos)return U}else D.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(D)){if(me=this.regexp_eatClassSetOperand(D),!me)return U;me===xn&&(U=xn)}},dr.regexp_eatClassSetRange=function(D){var U=D.pos;if(this.regexp_eatClassSetCharacter(D)){var me=D.lastIntValue;if(D.eat(45)&&this.regexp_eatClassSetCharacter(D)){var we=D.lastIntValue;return me!==-1&&we!==-1&&me>we&&D.raise("Range out of order in character class"),!0}D.pos=U}return!1},dr.regexp_eatClassSetOperand=function(D){return this.regexp_eatClassSetCharacter(D)?Un:this.regexp_eatClassStringDisjunction(D)||this.regexp_eatNestedClass(D)},dr.regexp_eatNestedClass=function(D){var U=D.pos;if(D.eat(91)){var me=D.eat(94),we=this.regexp_classContents(D);if(D.eat(93))return me&&we===xn&&D.raise("Negated character class may contain strings"),we;D.pos=U}if(D.eat(92)){var Fe=this.regexp_eatCharacterClassEscape(D);if(Fe)return Fe;D.pos=U}return null},dr.regexp_eatClassStringDisjunction=function(D){var U=D.pos;if(D.eatChars([92,113])){if(D.eat(123)){var me=this.regexp_classStringDisjunctionContents(D);if(D.eat(125))return me}else D.raise("Invalid escape");D.pos=U}return null},dr.regexp_classStringDisjunctionContents=function(D){for(var U=this.regexp_classString(D);D.eat(124);)this.regexp_classString(D)===xn&&(U=xn);return U},dr.regexp_classString=function(D){for(var U=0;this.regexp_eatClassSetCharacter(D);)U++;return U===1?Un:xn},dr.regexp_eatClassSetCharacter=function(D){var U=D.pos;if(D.eat(92))return this.regexp_eatCharacterEscape(D)||this.regexp_eatClassSetReservedPunctuator(D)?!0:D.eat(98)?(D.lastIntValue=8,!0):(D.pos=U,!1);var me=D.current();return me<0||me===D.lookahead()&&va(me)||io(me)?!1:(D.advance(),D.lastIntValue=me,!0)};function va(D){return D===33||D>=35&&D<=38||D>=42&&D<=44||D===46||D>=58&&D<=64||D===94||D===96||D===126}function io(D){return D===40||D===41||D===45||D===47||D>=91&&D<=93||D>=123&&D<=125}dr.regexp_eatClassSetReservedPunctuator=function(D){var U=D.current();return ao(U)?(D.lastIntValue=U,D.advance(),!0):!1};function ao(D){return D===33||D===35||D===37||D===38||D===44||D===45||D>=58&&D<=62||D===64||D===96||D===126}dr.regexp_eatClassControlLetter=function(D){var U=D.current();return zi(U)||U===95?(D.lastIntValue=U%32,D.advance(),!0):!1},dr.regexp_eatHexEscapeSequence=function(D){var U=D.pos;if(D.eat(120)){if(this.regexp_eatFixedHexDigits(D,2))return!0;D.switchU&&D.raise("Invalid escape"),D.pos=U}return!1},dr.regexp_eatDecimalDigits=function(D){var U=D.pos,me=0;for(D.lastIntValue=0;zi(me=D.current());)D.lastIntValue=10*D.lastIntValue+(me-48),D.advance();return D.pos!==U};function zi(D){return D>=48&&D<=57}dr.regexp_eatHexDigits=function(D){var U=D.pos,me=0;for(D.lastIntValue=0;ba(me=D.current());)D.lastIntValue=16*D.lastIntValue+Zn(me),D.advance();return D.pos!==U};function ba(D){return D>=48&&D<=57||D>=65&&D<=70||D>=97&&D<=102}function Zn(D){return D>=65&&D<=70?10+(D-65):D>=97&&D<=102?10+(D-97):D-48}dr.regexp_eatLegacyOctalEscapeSequence=function(D){if(this.regexp_eatOctalDigit(D)){var U=D.lastIntValue;if(this.regexp_eatOctalDigit(D)){var me=D.lastIntValue;U<=3&&this.regexp_eatOctalDigit(D)?D.lastIntValue=U*64+me*8+D.lastIntValue:D.lastIntValue=U*8+me}else D.lastIntValue=U;return!0}return!1},dr.regexp_eatOctalDigit=function(D){var U=D.current();return zn(U)?(D.lastIntValue=U-48,D.advance(),!0):(D.lastIntValue=0,!1)};function zn(D){return D>=48&&D<=55}dr.regexp_eatFixedHexDigits=function(D,U){var me=D.pos;D.lastIntValue=0;for(var we=0;we<U;++we){var Fe=D.current();if(!ba(Fe))return D.pos=me,!1;D.lastIntValue=16*D.lastIntValue+Zn(Fe),D.advance()}return!0};var fi=function(U){this.type=U.type,this.value=U.value,this.start=U.start,this.end=U.end,U.options.locations&&(this.loc=new Yt(U,U.startLoc,U.endLoc)),U.options.ranges&&(this.range=[U.start,U.end])},Ur=k.prototype;Ur.next=function(D){!D&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new fi(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},Ur.getToken=function(){return this.next(),new fi(this)},typeof Symbol<"u"&&(Ur[Symbol.iterator]=function(){var D=this;return{next:function(){var U=D.getToken();return{done:U.type===V.eof,value:U}}}}),Ur.nextToken=function(){var D=this.curContext();if((!D||!D.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(V.eof);if(D.override)return D.override(this);this.readToken(this.fullCharCodeAtPos())},Ur.readToken=function(D){return H(D,this.options.ecmaVersion>=6)||D===92?this.readWord():this.getTokenFromCode(D)},Ur.fullCharCodeAtPos=function(){var D=this.input.charCodeAt(this.pos);if(D<=55295||D>=56320)return D;var U=this.input.charCodeAt(this.pos+1);return U<=56319||U>=57344?D:(D<<10)+U-56613888},Ur.skipBlockComment=function(){var D=this.options.onComment&&this.curPosition(),U=this.pos,me=this.input.indexOf("*/",this.pos+=2);if(me===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=me+2,this.options.locations)for(var we=void 0,Fe=U;(we=Ae(this.input,Fe,this.pos))>-1;)++this.curLine,Fe=this.lineStart=we;this.options.onComment&&this.options.onComment(!0,this.input.slice(U+2,me),U,this.pos,D,this.curPosition())},Ur.skipLineComment=function(D){for(var U=this.pos,me=this.options.onComment&&this.curPosition(),we=this.input.charCodeAt(this.pos+=D);this.pos<this.input.length&&!be(we);)we=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(U+D,this.pos),U,this.pos,me,this.curPosition())},Ur.skipSpace=function(){e:for(;this.pos<this.input.length;){var D=this.input.charCodeAt(this.pos);switch(D){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(D>8&&D<14||D>=5760&&ue.test(String.fromCharCode(D)))++this.pos;else break e}}},Ur.finishToken=function(D,U){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var me=this.type;this.type=D,this.value=U,this.updateContext(me)},Ur.readToken_dot=function(){var D=this.input.charCodeAt(this.pos+1);if(D>=48&&D<=57)return this.readNumber(!0);var U=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&D===46&&U===46?(this.pos+=3,this.finishToken(V.ellipsis)):(++this.pos,this.finishToken(V.dot))},Ur.readToken_slash=function(){var D=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):D===61?this.finishOp(V.assign,2):this.finishOp(V.slash,1)},Ur.readToken_mult_modulo_exp=function(D){var U=this.input.charCodeAt(this.pos+1),me=1,we=D===42?V.star:V.modulo;return this.options.ecmaVersion>=7&&D===42&&U===42&&(++me,we=V.starstar,U=this.input.charCodeAt(this.pos+2)),U===61?this.finishOp(V.assign,me+1):this.finishOp(we,me)},Ur.readToken_pipe_amp=function(D){var U=this.input.charCodeAt(this.pos+1);if(U===D){if(this.options.ecmaVersion>=12){var me=this.input.charCodeAt(this.pos+2);if(me===61)return this.finishOp(V.assign,3)}return this.finishOp(D===124?V.logicalOR:V.logicalAND,2)}return U===61?this.finishOp(V.assign,2):this.finishOp(D===124?V.bitwiseOR:V.bitwiseAND,1)},Ur.readToken_caret=function(){var D=this.input.charCodeAt(this.pos+1);return D===61?this.finishOp(V.assign,2):this.finishOp(V.bitwiseXOR,1)},Ur.readToken_plus_min=function(D){var U=this.input.charCodeAt(this.pos+1);return U===D?U===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||ie.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(V.incDec,2):U===61?this.finishOp(V.assign,2):this.finishOp(V.plusMin,1)},Ur.readToken_lt_gt=function(D){var U=this.input.charCodeAt(this.pos+1),me=1;return U===D?(me=D===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+me)===61?this.finishOp(V.assign,me+1):this.finishOp(V.bitShift,me)):U===33&&D===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(U===61&&(me=2),this.finishOp(V.relational,me))},Ur.readToken_eq_excl=function(D){var U=this.input.charCodeAt(this.pos+1);return U===61?this.finishOp(V.equality,this.input.charCodeAt(this.pos+2)===61?3:2):D===61&&U===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(V.arrow)):this.finishOp(D===61?V.eq:V.prefix,1)},Ur.readToken_question=function(){var D=this.options.ecmaVersion;if(D>=11){var U=this.input.charCodeAt(this.pos+1);if(U===46){var me=this.input.charCodeAt(this.pos+2);if(me<48||me>57)return this.finishOp(V.questionDot,2)}if(U===63){if(D>=12){var we=this.input.charCodeAt(this.pos+2);if(we===61)return this.finishOp(V.assign,3)}return this.finishOp(V.coalesce,2)}}return this.finishOp(V.question,1)},Ur.readToken_numberSign=function(){var D=this.options.ecmaVersion,U=35;if(D>=13&&(++this.pos,U=this.fullCharCodeAtPos(),H(U,!0)||U===92))return this.finishToken(V.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Ot(U)+"'")},Ur.getTokenFromCode=function(D){switch(D){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(V.parenL);case 41:return++this.pos,this.finishToken(V.parenR);case 59:return++this.pos,this.finishToken(V.semi);case 44:return++this.pos,this.finishToken(V.comma);case 91:return++this.pos,this.finishToken(V.bracketL);case 93:return++this.pos,this.finishToken(V.bracketR);case 123:return++this.pos,this.finishToken(V.braceL);case 125:return++this.pos,this.finishToken(V.braceR);case 58:return++this.pos,this.finishToken(V.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(V.backQuote);case 48:var U=this.input.charCodeAt(this.pos+1);if(U===120||U===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(U===111||U===79)return this.readRadixNumber(8);if(U===98||U===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(D);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(D);case 124:case 38:return this.readToken_pipe_amp(D);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(D);case 60:case 62:return this.readToken_lt_gt(D);case 61:case 33:return this.readToken_eq_excl(D);case 63:return this.readToken_question();case 126:return this.finishOp(V.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Ot(D)+"'")},Ur.finishOp=function(D,U){var me=this.input.slice(this.pos,this.pos+U);return this.pos+=U,this.finishToken(D,me)},Ur.readRegexp=function(){for(var D,U,me=this.pos;;){this.pos>=this.input.length&&this.raise(me,"Unterminated regular expression");var we=this.input.charAt(this.pos);if(ie.test(we)&&this.raise(me,"Unterminated regular expression"),D)D=!1;else{if(we==="[")U=!0;else if(we==="]"&&U)U=!1;else if(we==="/"&&!U)break;D=we==="\\"}++this.pos}var Fe=this.input.slice(me,this.pos);++this.pos;var ht=this.pos,xt=this.readWord1();this.containsEsc&&this.unexpected(ht);var Kt=this.regexpState||(this.regexpState=new sn(this));Kt.reset(me,Fe,xt),this.validateRegExpFlags(Kt),this.validateRegExpPattern(Kt);var gr=null;try{gr=new RegExp(Fe,xt)}catch{}return this.finishToken(V.regexp,{pattern:Fe,flags:xt,value:gr})},Ur.readInt=function(D,U,me){for(var we=this.options.ecmaVersion>=12&&U===void 0,Fe=me&&this.input.charCodeAt(this.pos)===48,ht=this.pos,xt=0,Kt=0,gr=0,Wr=U??1/0;gr<Wr;++gr,++this.pos){var Nr=this.input.charCodeAt(this.pos),En=void 0;if(we&&Nr===95){Fe&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),Kt===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),gr===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),Kt=Nr;continue}if(Nr>=97?En=Nr-97+10:Nr>=65?En=Nr-65+10:Nr>=48&&Nr<=57?En=Nr-48:En=1/0,En>=D)break;Kt=Nr,xt=xt*D+En}return we&&Kt===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===ht||U!=null&&this.pos-ht!==U?null:xt};function Ai(D,U){return U?parseInt(D,8):parseFloat(D.replace(/_/g,""))}function ui(D){return typeof BigInt!="function"?null:BigInt(D.replace(/_/g,""))}Ur.readRadixNumber=function(D){var U=this.pos;this.pos+=2;var me=this.readInt(D);return me==null&&this.raise(this.start+2,"Expected number in radix "+D),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(me=ui(this.input.slice(U,this.pos)),++this.pos):H(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(V.num,me)},Ur.readNumber=function(D){var U=this.pos;!D&&this.readInt(10,void 0,!0)===null&&this.raise(U,"Invalid number");var me=this.pos-U>=2&&this.input.charCodeAt(U)===48;me&&this.strict&&this.raise(U,"Invalid number");var we=this.input.charCodeAt(this.pos);if(!me&&!D&&this.options.ecmaVersion>=11&&we===110){var Fe=ui(this.input.slice(U,this.pos));return++this.pos,H(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(V.num,Fe)}me&&/[89]/.test(this.input.slice(U,this.pos))&&(me=!1),we===46&&!me&&(++this.pos,this.readInt(10),we=this.input.charCodeAt(this.pos)),(we===69||we===101)&&!me&&(we=this.input.charCodeAt(++this.pos),(we===43||we===45)&&++this.pos,this.readInt(10)===null&&this.raise(U,"Invalid number")),H(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var ht=Ai(this.input.slice(U,this.pos),me);return this.finishToken(V.num,ht)},Ur.readCodePoint=function(){var D=this.input.charCodeAt(this.pos),U;if(D===123){this.options.ecmaVersion<6&&this.unexpected();var me=++this.pos;U=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,U>1114111&&this.invalidStringToken(me,"Code point out of bounds")}else U=this.readHexChar(4);return U},Ur.readString=function(D){for(var U="",me=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var we=this.input.charCodeAt(this.pos);if(we===D)break;we===92?(U+=this.input.slice(me,this.pos),U+=this.readEscapedChar(!1),me=this.pos):we===8232||we===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(be(we)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return U+=this.input.slice(me,this.pos++),this.finishToken(V.string,U)};var vi={};Ur.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(D){if(D===vi)this.readInvalidTemplateToken();else throw D}this.inTemplateElement=!1},Ur.invalidStringToken=function(D,U){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw vi;this.raise(D,U)},Ur.readTmplToken=function(){for(var D="",U=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var me=this.input.charCodeAt(this.pos);if(me===96||me===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===V.template||this.type===V.invalidTemplate)?me===36?(this.pos+=2,this.finishToken(V.dollarBraceL)):(++this.pos,this.finishToken(V.backQuote)):(D+=this.input.slice(U,this.pos),this.finishToken(V.template,D));if(me===92)D+=this.input.slice(U,this.pos),D+=this.readEscapedChar(!0),U=this.pos;else if(be(me)){switch(D+=this.input.slice(U,this.pos),++this.pos,me){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:D+=`
`;break;default:D+=String.fromCharCode(me);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),U=this.pos}else++this.pos}},Ur.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(V.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")},Ur.readEscapedChar=function(D){var U=this.input.charCodeAt(++this.pos);switch(++this.pos,U){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Ot(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),D){var me=this.pos-1;this.invalidStringToken(me,"Invalid escape sequence in template string")}default:if(U>=48&&U<=55){var we=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],Fe=parseInt(we,8);return Fe>255&&(we=we.slice(0,-1),Fe=parseInt(we,8)),this.pos+=we.length-1,U=this.input.charCodeAt(this.pos),(we!=="0"||U===56||U===57)&&(this.strict||D)&&this.invalidStringToken(this.pos-1-we.length,D?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(Fe)}return be(U)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(U)}},Ur.readHexChar=function(D){var U=this.pos,me=this.readInt(16,D);return me===null&&this.invalidStringToken(U,"Bad character escape sequence"),me},Ur.readWord1=function(){this.containsEsc=!1;for(var D="",U=!0,me=this.pos,we=this.options.ecmaVersion>=6;this.pos<this.input.length;){var Fe=this.fullCharCodeAtPos();if(X(Fe,we))this.pos+=Fe<=65535?1:2;else if(Fe===92){this.containsEsc=!0,D+=this.input.slice(me,this.pos);var ht=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var xt=this.readCodePoint();(U?H:X)(xt,we)||this.invalidStringToken(ht,"Invalid Unicode escape"),D+=Ot(xt),me=this.pos}else break;U=!1}return D+this.input.slice(me,this.pos)},Ur.readWord=function(){var D=this.readWord1(),U=V.name;return this.keywords.test(D)&&(U=de[D]),this.finishToken(U,D)};var bi="8.14.0";k.acorn={Parser:k,version:bi,defaultOptions:Oe,Position:rr,SourceLocation:Yt,getLineInfo:Er,Node:Be,TokenType:J,tokTypes:V,keywordTypes:de,TokContext:ne,tokContexts:he,isIdentifierChar:X,isIdentifierStart:H,Token:fi,isNewLine:be,lineBreak:ie,lineBreakG:ke,nonASCIIwhitespace:ue};function Wi(D,U){return k.parse(D,U)}function ia(D,U,me){return k.parseExpressionAt(D,U,me)}function Da(D,U){return k.tokenizer(D,U)}y.Node=Be,y.Parser=k,y.Position=rr,y.SourceLocation=Yt,y.TokContext=ne,y.Token=fi,y.TokenType=J,y.defaultOptions=Oe,y.getLineInfo=Er,y.isIdentifierChar=X,y.isIdentifierStart=H,y.isNewLine=be,y.keywordTypes=de,y.lineBreak=ie,y.lineBreakG=ke,y.nonASCIIwhitespace=ue,y.parse=Wi,y.parseExpressionAt=ia,y.tokContexts=he,y.tokTypes=V,y.tokenizer=Da,y.version=bi})}(acorn,acorn.exports)),acorn.exports}/*!
 * Paper.js v0.12.18 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2020, Jrg Lehni & Jonathan Puckey
 * http://juerglehni.com/ & https://puckey.studio/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Wed Jul 17 14:57:24 2024 +0200
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2020 Jrg Lehni
 * http://juerglehni.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * https://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */(function(h){(function(v,y){v=v||require$$2;var _=v.window,x=v.document,w=new function(){var k=/^(statics|enumerable|beans|preserve)$/,M=[],T=M.slice,$=Object.create,R=Object.getOwnPropertyDescriptor,G=Object.defineProperty,K=M.forEach||function(ee,te){for(var oe=0,ne=this.length;oe<ne;oe++)ee.call(te,this[oe],oe,this)},Y=function(ee,te){for(var oe in this)this.hasOwnProperty(oe)&&ee.call(te,this[oe],oe,this)},j=Object.assign||function(ee){for(var te=1,oe=arguments.length;te<oe;te++){var ne=arguments[te];for(var he in ne)ne.hasOwnProperty(he)&&(ee[he]=ne[he])}return ee},q=function(ee,te,oe){if(ee){var ne=R(ee,"length");(ne&&typeof ne.value=="number"?K:Y).call(ee,te,oe=oe||ee)}return oe};function W(ee,te,oe,ne,he){var se={};function le(_e,Ie){Ie=Ie||(Ie=R(te,_e))&&(Ie.get?Ie:Ie.value),typeof Ie=="string"&&Ie[0]==="#"&&(Ie=ee[Ie.substring(1)]||Ie);var Be=typeof Ie=="function",ze=Ie,Ke=he||Be&&!Ie.base?Ie&&Ie.get?_e in ee:ee[_e]:null,Re;(!he||!Ke)&&(Be&&Ke&&(Ie.base=Ke),Be&&ne!==!1&&(Re=_e.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(se[Re[3].toLowerCase()+Re[4]]=Re[2]),(!ze||Be||!ze.get||typeof ze.get!="function"||!Q.isPlainObject(ze))&&(ze={value:ze,writable:!0}),(R(ee,_e)||{configurable:!0}).configurable&&(ze.configurable=!0,ze.enumerable=oe??!Re),G(ee,_e,ze))}if(te){for(var re in te)te.hasOwnProperty(re)&&!k.test(re)&&le(re);for(var re in se){var ge=se[re],ye=ee["set"+ge],Ce=ee["get"+ge]||ye&&ee["is"+ge];Ce&&(ne===!0||Ce.length===0)&&le(re,{get:Ce,set:ye})}}return ee}function Q(){for(var ee=0,te=arguments.length;ee<te;ee++){var oe=arguments[ee];oe&&j(this,oe)}return this}return W(Q,{inject:function(ee){if(ee){var te=ee.statics===!0?ee:ee.statics,oe=ee.beans,ne=ee.preserve;te!==ee&&W(this.prototype,ee,ee.enumerable,oe,ne),W(this,te,null,oe,ne)}for(var he=1,se=arguments.length;he<se;he++)this.inject(arguments[he]);return this},extend:function(){for(var ee=this,te,oe,ne=0,he,se=arguments.length;ne<se&&!(te&&oe);ne++)he=arguments[ne],te=te||he.initialize,oe=oe||he.prototype;return te=te||function(){ee.apply(this,arguments)},oe=te.prototype=oe||$(this.prototype),G(oe,"constructor",{value:te,writable:!0,configurable:!0}),W(te,this),arguments.length&&this.inject.apply(te,arguments),te.base=ee,te}}).inject({enumerable:!1,initialize:Q,set:Q,inject:function(){for(var ee=0,te=arguments.length;ee<te;ee++){var oe=arguments[ee];oe&&W(this,oe,oe.enumerable,oe.beans,oe.preserve)}return this},extend:function(){var ee=$(this);return ee.inject.apply(ee,arguments)},each:function(ee,te){return q(this,ee,te)},clone:function(){return new this.constructor(this)},statics:{set:j,each:q,create:$,define:G,describe:R,clone:function(ee){return j(new ee.constructor,ee)},isPlainObject:function(ee){var te=ee!=null&&ee.constructor;return te&&(te===Object||te===Q||te.name==="Object")},pick:function(ee,te){return ee!==y?ee:te},slice:function(ee,te,oe){return T.call(ee,te,oe)}}})};h.exports=w,w.inject({enumerable:!1,toString:function(){return this._id!=null?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+w.each(this,function(k,M){if(!/^_/.test(M)){var T=typeof k;this.push(M+": "+(T==="number"?O.instance.number(k):T==="string"?"'"+k+"'":k))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(k){return w.importJSON(k,this)},exportJSON:function(k){return w.exportJSON(this,k)},toJSON:function(){return w.serialize(this)},set:function(k,M){return k&&w.filter(this,k,M,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function k(){var M=k.base.apply(this,arguments),T=M.prototype._class;return T&&!w.exports[T]&&(w.exports[T]=M),M},equals:function(k,M){if(k===M)return!0;if(k&&k.equals)return k.equals(M);if(M&&M.equals)return M.equals(k);if(k&&M&&typeof k=="object"&&typeof M=="object"){if(Array.isArray(k)&&Array.isArray(M)){var T=k.length;if(T!==M.length)return!1;for(;T--;)if(!w.equals(k[T],M[T]))return!1}else{var $=Object.keys(k),T=$.length;if(T!==Object.keys(M).length)return!1;for(;T--;){var R=$[T];if(!(M.hasOwnProperty(R)&&w.equals(k[R],M[R])))return!1}}return!0}return!1},read:function(k,M,T,$){if(this===w){var R=this.peek(k,M);return k.__index++,R}var G=this.prototype,K=G._readIndex,Y=M||K&&k.__index||0,j=k.length,q=k[Y];if($=$||j-Y,q instanceof this||T&&T.readNull&&q==null&&$<=1)return K&&(k.__index=Y+1),q&&T&&T.clone?q.clone():q;if(q=w.create(G),K&&(q.__read=!0),q=q.initialize.apply(q,Y>0||Y+$<j?w.slice(k,Y,Y+$):k)||q,K){k.__index=Y+q.__read;var W=q.__filtered;W&&(k.__filtered=W,q.__filtered=y),q.__read=y}return q},peek:function(k,M){return k[k.__index=M||k.__index||0]},remain:function(k){return k.length-(k.__index||0)},readList:function(k,M,T,$){for(var R=[],G,K=M||0,Y=$?K+$:k.length,j=K;j<Y;j++)R.push(Array.isArray(G=k[j])?this.read(G,0,T):this.read(k,j,T,1));return R},readNamed:function(k,M,T,$,R){var G=this.getNamed(k,M),K=G!==y;if(K){var Y=k.__filtered;if(!Y){var j=this.getSource(k);Y=k.__filtered=w.create(j),Y.__unfiltered=j}Y[M]=y}return this.read(K?[G]:k,T,$,R)},readSupported:function(k,M){var T=this.getSource(k),$=this,R=!1;return T&&Object.keys(T).forEach(function(G){if(G in M){var K=$.readNamed(k,G);K!==y&&(M[G]=K),R=!0}}),R},getSource:function(k){var M=k.__source;if(M===y){var T=k.length===1&&k[0];M=k.__source=T&&w.isPlainObject(T)?T:null}return M},getNamed:function(k,M){var T=this.getSource(k);if(T)return M?T[M]:k.__filtered||T},hasNamed:function(k,M){return!!this.getNamed(k,M)},filter:function(k,M,T,$){var R;function G(W){if(!(T&&W in T)&&!(R&&W in R)){var Q=M[W];Q!==y&&(k[W]=Q)}}if($){for(var K={},Y=0,j,q=$.length;Y<q;Y++)(j=$[Y])in M&&(G(j),K[j]=!0);R=K}return Object.keys(M.__unfiltered||M).forEach(G),k},isPlainValue:function(k,M){return w.isPlainObject(k)||Array.isArray(k)||M&&typeof k=="string"},serialize:function(k,M,T,$){M=M||{};var R=!$,G;if(R&&(M.formatter=new O(M.precision),$={length:0,definitions:{},references:{},add:function(Q,ee){var te="#"+Q._id,oe=this.references[te];if(!oe){this.length++;var ne=ee.call(Q),he=Q._class;he&&ne[0]!==he&&ne.unshift(he),this.definitions[te]=ne,oe=this.references[te]=[te]}return oe}}),k&&k._serialize){G=k._serialize(M,$);var K=k._class;K&&!k._compactSerialize&&(R||!T)&&G[0]!==K&&G.unshift(K)}else if(Array.isArray(k)){G=[];for(var Y=0,j=k.length;Y<j;Y++)G[Y]=w.serialize(k[Y],M,T,$)}else if(w.isPlainObject(k)){G={};for(var q=Object.keys(k),Y=0,j=q.length;Y<j;Y++){var W=q[Y];G[W]=w.serialize(k[W],M,T,$)}}else typeof k=="number"?G=M.formatter.number(k,M.precision):G=k;return R&&$.length>0?[["dictionary",$.definitions],G]:G},deserialize:function(k,M,T,$,R){var G=k,K=!T,Y=K&&k&&k.length&&k[0][0]==="dictionary";if(T=T||{},Array.isArray(k)){var j=k[0],q=j==="dictionary";if(k.length==1&&/^#/.test(j))return T.dictionary[j];j=w.exports[j],G=[];for(var W=j?1:0,Q=k.length;W<Q;W++)G.push(w.deserialize(k[W],M,T,q,Y));if(j){var ee=G;M?G=M(j,ee,K||R):G=new j(ee)}}else if(w.isPlainObject(k)){G={},$&&(T.dictionary=G);for(var te in k)G[te]=w.deserialize(k[te],M,T)}return Y?G[1]:G},exportJSON:function(k,M){var T=w.serialize(k,M);return M&&M.asString==!1?T:JSON.stringify(T)},importJSON:function(k,M){return w.deserialize(typeof k=="string"?JSON.parse(k):k,function(T,$,R){var G=R&&M&&M.constructor===T,K=G?M:w.create(T.prototype);if($.length===1&&K instanceof V&&(G||!(K instanceof ke))){var Y=$[0];w.isPlainObject(Y)&&(Y.insert=!1,G&&($=$.concat([V.INSERT])))}return(G?K.set:T).apply(K,$),G&&(M=null),K})},push:function(k,M){var T=M.length;if(T<4096)k.push.apply(k,M);else{var $=k.length;k.length+=T;for(var R=0;R<T;R++)k[$+R]=M[R]}return k},splice:function(k,M,T,$){var R=M&&M.length,G=T===y;T=G?k.length:T,T>k.length&&(T=k.length);for(var K=0;K<R;K++)M[K]._index=T+K;if(G)return w.push(k,M),[];var Y=[T,$];M&&w.push(Y,M);for(var j=k.splice.apply(k,Y),K=0,q=j.length;K<q;K++)j[K]._index=y;for(var K=T+R,q=k.length;K<q;K++)k[K]._index=K;return j},capitalize:function(k){return k.replace(/\b[a-z]/g,function(M){return M.toUpperCase()})},camelize:function(k){return k.replace(/-(.)/g,function(M,T){return T.toUpperCase()})},hyphenate:function(k){return k.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var S={on:function(k,M){if(typeof k!="string")w.each(k,function(G,K){this.on(K,G)},this);else{var T=this._eventTypes,$=T&&T[k],R=this._callbacks=this._callbacks||{};R=R[k]=R[k]||[],R.indexOf(M)===-1&&(R.push(M),$&&$.install&&R.length===1&&$.install.call(this,k))}return this},off:function(k,M){if(typeof k!="string"){w.each(k,function(K,Y){this.off(Y,K)},this);return}var T=this._eventTypes,$=T&&T[k],R=this._callbacks&&this._callbacks[k],G;return R&&(!M||(G=R.indexOf(M))!==-1&&R.length===1?($&&$.uninstall&&$.uninstall.call(this,k),delete this._callbacks[k]):G!==-1&&R.splice(G,1)),this},once:function(k,M){return this.on(k,function T(){M.apply(this,arguments),this.off(k,T)})},emit:function(k,M){var T=this._callbacks&&this._callbacks[k];if(!T)return!1;var $=w.slice(arguments,1),R=M&&M.target&&!M.currentTarget;T=T.slice(),R&&(M.currentTarget=this);for(var G=0,K=T.length;G<K;G++)if(T[G].apply(this,$)==!1){M&&M.stop&&M.stop();break}return R&&delete M.currentTarget,!0},responds:function(k){return!!(this._callbacks&&this._callbacks[k])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(k){var M=this._eventTypes,T=this._callbacks,$=k?"install":"uninstall";if(M){for(var R in T)if(T[R].length>0){var G=M[R],K=G&&G[$];K&&K.call(this,R)}}},statics:{inject:function k(M){var T=M._events;if(T){var $={};w.each(T,function(R,G){var K=typeof R=="string",Y=K?R:G,j=w.capitalize(Y),q=Y.substring(2).toLowerCase();$[q]=K?{}:R,Y="_"+Y,M["get"+j]=function(){return this[Y]},M["set"+j]=function(W){var Q=this[Y];Q&&this.off(q,Q),W&&this.on(q,W),this[Y]=W}}),M._eventTypes=$}return k.base.apply(this,arguments)}}},E=w.extend({_class:"PaperScope",initialize:function k(){ut=this,this.settings=new w({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=k._id++,k._scopes[this._id]=this;var M=k.prototype;if(!this.support){var T=ln.getContext(1,1)||{};M.support={nativeDash:"setLineDash"in T||"mozDash"in T,nativeBlendModes:In.nativeModes},ln.release(T)}if(!this.agent){var $=v.navigator.userAgent.toLowerCase(),R=(/(darwin|win|mac|linux|freebsd|sunos)/.exec($)||[])[0],G=R==="darwin"?"mac":R,K=M.agent=M.browser={platform:G};G&&(K[G]=!0),$.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(Y,j,q,W,Q){if(!K.chrome){var ee=j==="opera"?W:/^(node|trident)$/.test(j)?Q:q;K.version=ee,K.versionNumber=parseFloat(ee),j={trident:"msie",jsdom:"node"}[j]||j,K.name=j,K[j]=!0}}),K.chrome&&delete K.webkit,K.atom&&delete K.chrome}},version:"0.12.18",getView:function(){var k=this.project;return k&&k._view},getPaper:function(){return this},execute:function(k,M){var T=ut.PaperScript.execute(k,this,M);return Pr.updateFocus(),T},install:function(k){var M=this;w.each(["project","view","tool"],function($){w.define(k,$,{configurable:!0,get:function(){return M[$]}})});for(var T in this)!/^_/.test(T)&&this[T]&&(k[T]=this[T])},setup:function(k){return ut=this,this.project=new ce(k),this},createCanvas:function(k,M){return ln.getCanvas(k,M)},activate:function(){ut=this},clear:function(){for(var k=this.projects,M=this.tools,T=k.length-1;T>=0;T--)k[T].remove();for(var T=M.length-1;T>=0;T--)M[T].remove()},remove:function(){this.clear(),delete E._scopes[this._id]},statics:new function(){function k(M){return M+="Attribute",function(T,$){return T[M]($)||T[M]("data-paper-"+$)}}return{_scopes:{},_id:0,get:function(M){return this._scopes[M]||null},getAttribute:k("get"),hasAttribute:k("has")}}}),I=w.extend(S,{initialize:function(k){this._scope=ut,this._index=this._scope[this._list].push(this)-1,(k||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var k=this._scope[this._reference];return k&&k!==this&&k.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",k),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return this._index==null?!1:(w.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),L={findItemBoundsCollisions:function(k,M,T){function $(K){for(var Y=new Array(K.length),j=0;j<K.length;j++){var q=K[j].getBounds();Y[j]=[q.left,q.top,q.right,q.bottom]}return Y}var R=$(k),G=!M||M===k?R:$(M);return this.findBoundsCollisions(R,G,T||0)},findCurveBoundsCollisions:function(k,M,T,$){function R(ee){for(var te=Math.min,oe=Math.max,ne=new Array(ee.length),he=0;he<ee.length;he++){var se=ee[he];ne[he]=[te(se[0],se[2],se[4],se[6]),te(se[1],se[3],se[5],se[7]),oe(se[0],se[2],se[4],se[6]),oe(se[1],se[3],se[5],se[7])]}return ne}var G=R(k),K=!M||M===k?G:R(M);if($){for(var Y=this.findBoundsCollisions(G,K,T||0,!1,!0),j=this.findBoundsCollisions(G,K,T||0,!0,!0),q=[],W=0,Q=Y.length;W<Q;W++)q[W]={hor:Y[W],ver:j[W]};return q}return this.findBoundsCollisions(G,K,T||0)},findBoundsCollisions:function(k,M,T,$,R){var G=!M||k===M,K=G?k:k.concat(M),Y=k.length,j=K.length;function q(Jt,lr,Cr){for(var Mt=0,Dt=Jt.length;Mt<Dt;){var fr=Dt+Mt>>>1;K[Jt[fr]][lr]<Cr?Mt=fr+1:Dt=fr}return Mt-1}for(var W=$?1:0,Q=W+2,ee=$?0:1,te=ee+2,oe=new Array(j),ne=0;ne<j;ne++)oe[ne]=ne;oe.sort(function(Jt,lr){return K[Jt][W]-K[lr][W]});for(var he=[],se=new Array(Y),ne=0;ne<j;ne++){var le=oe[ne],re=K[le],ge=G?le:le-Y,ye=le<Y,Ce=G||!ye,_e=ye?[]:null;if(he.length){var Ie=q(he,Q,re[W]-T)+1;if(he.splice(0,Ie),G&&R){_e=_e.concat(he);for(var Be=0;Be<he.length;Be++){var ze=he[Be];se[ze].push(ge)}}else for(var Ke=re[te],Re=re[ee],Be=0;Be<he.length;Be++){var ze=he[Be],We=K[ze],Qe=ze<Y,it=G||ze>=Y;(R||(ye&&it||Ce&&Qe)&&Ke>=We[ee]-T&&Re<=We[te]+T)&&(ye&&it&&_e.push(G?ze:ze-Y),Ce&&Qe&&se[ze].push(ge))}}if(ye&&(k===M&&_e.push(le),se[le]=_e),he.length){var tt=re[Q],yt=q(he,Q,tt);he.splice(yt+1,0,le)}else he.push(le)}for(var ne=0;ne<se.length;ne++){var Ft=se[ne];Ft&&Ft.sort(function(lr,Cr){return lr-Cr})}return se}},O=w.extend({initialize:function(k){this.precision=w.pick(k,5),this.multiplier=Math.pow(10,this.precision)},number:function(k){return this.precision<16?Math.round(k*this.multiplier)/this.multiplier:k},pair:function(k,M,T){return this.number(k)+(T||",")+this.number(M)},point:function(k,M){return this.number(k.x)+(M||",")+this.number(k.y)},size:function(k,M){return this.number(k.width)+(M||",")+this.number(k.height)},rectangle:function(k,M){return this.point(k,M)+(M||",")+this.size(k,M)}});O.instance=new O;var F=new function(){var k=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],M=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],T=Math.abs,$=Math.sqrt,R=Math.pow,G=Math.log2||function(Q){return Math.log(Q)*Math.LOG2E},K=1e-12,Y=112e-18;function j(Q,ee,te){return Q<ee?ee:Q>te?te:Q}function q(Q,ee,te){function oe(Ie){var Be=Ie*134217729,ze=Ie-Be,Ke=ze+Be,Re=Ie-Ke;return[Ke,Re]}var ne=ee*ee-Q*te,he=ee*ee+Q*te;if(T(ne)*3<he){var se=oe(Q),le=oe(ee),re=oe(te),ge=ee*ee,ye=le[0]*le[0]-ge+2*le[0]*le[1]+le[1]*le[1],Ce=Q*te,_e=se[0]*re[0]-Ce+se[0]*re[1]+se[1]*re[0]+se[1]*re[1];ne=ge-Ce+(ye-_e)}return ne}function W(){var Q=Math.max.apply(Math,arguments);return Q&&(Q<1e-8||Q>1e8)?R(2,-Math.round(G(Q))):0}return{EPSILON:K,MACHINE_EPSILON:Y,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,ANGULAR_EPSILON:1e-5,KAPPA:4*($(2)-1)/3,isZero:function(Q){return Q>=-1e-12&&Q<=K},isMachineZero:function(Q){return Q>=-112e-18&&Q<=Y},clamp:j,integrate:function(Q,ee,te,oe){for(var ne=k[oe-2],he=M[oe-2],se=(te-ee)*.5,le=se+ee,re=0,ge=oe+1>>1,ye=oe&1?he[re++]*Q(le):0;re<ge;){var Ce=se*ne[re];ye+=he[re++]*(Q(le+Ce)+Q(le-Ce))}return se*ye},findRoot:function(Q,ee,te,oe,ne,he,se){for(var le=0;le<he;le++){var re=Q(te),ge=re/ee(te),ye=te-ge;if(T(ge)<se){te=ye;break}re>0?(ne=te,te=ye<=oe?(oe+ne)*.5:ye):(oe=te,te=ye>=ne?(oe+ne)*.5:ye)}return j(te,oe,ne)},solveQuadratic:function(Q,ee,te,oe,ne,he){var se,le=1/0;if(T(Q)<K){if(T(ee)<K)return T(te)<K?-1:0;se=-te/ee}else{ee*=-.5;var re=q(Q,ee,te);if(re&&T(re)<Y){var ge=W(T(Q),T(ee),T(te));ge&&(Q*=ge,ee*=ge,te*=ge,re=q(Q,ee,te))}if(re>=-112e-18){var ye=re<0?0:$(re),Ce=ee+(ee<0?-ye:ye);Ce===0?(se=te/Q,le=-se):(se=Ce/Q,le=te/Ce)}}var _e=0,Ie=ne==null,Be=ne-K,ze=he+K;return isFinite(se)&&(Ie||se>Be&&se<ze)&&(oe[_e++]=Ie?se:j(se,ne,he)),le!==se&&isFinite(le)&&(Ie||le>Be&&le<ze)&&(oe[_e++]=Ie?le:j(le,ne,he)),_e},solveCubic:function(Q,ee,te,oe,ne,he,se){var le=W(T(Q),T(ee),T(te),T(oe)),re,ge,ye,Ce,_e;le&&(Q*=le,ee*=le,te*=le,oe*=le);function Ie(yt){re=yt;var Ft=Q*re;ge=Ft+ee,ye=ge*re+te,Ce=(Ft+ge)*re+ye,_e=ye*re+oe}if(T(Q)<K)Q=ee,ge=te,ye=oe,re=1/0;else if(T(oe)<K)ge=ee,ye=te,re=0;else{Ie(-(ee/Q)/3);var Be=_e/Q,ze=R(T(Be),1/3),Ke=Be<0?-1:1,Re=-Ce/Q,We=Re>0?1.324717957244746*Math.max(ze,$(Re)):ze,Qe=re-Ke*We;if(Qe!==re){do Ie(Qe),Qe=Ce===0?re:re-_e/Ce/(1+Y);while(Ke*Qe>Ke*re);T(Q)*re*re>T(oe/re)&&(ye=-oe/re,ge=(ye-te)/re)}}var it=F.solveQuadratic(Q,ge,ye,ne,he,se),tt=he==null;return isFinite(re)&&(it===0||it>0&&re!==ne[0]&&re!==ne[1])&&(tt||re>he-K&&re<se+K)&&(ne[it++]=tt?re:j(re,he,se)),it}}},z={_id:1,_pools:{},get:function(k){if(k){var M=this._pools[k];return M||(M=this._pools[k]={_id:1}),M._id++}else return this._id++}},N=w.extend({_class:"Point",_readIndex:!0,initialize:function(M,T){var $=typeof M,R=this.__read,G=0;if($==="number"){var K=typeof T=="number";this._set(M,K?T:M),R&&(G=K?2:1)}else if($==="undefined"||M===null)this._set(0,0),R&&(G=M===null?1:0);else{var Y=$==="string"?M.split(/[\s,]+/)||[]:M;G=1,Array.isArray(Y)?this._set(+Y[0],+(Y.length>1?Y[1]:Y[0])):"x"in Y?this._set(Y.x||0,Y.y||0):"width"in Y?this._set(Y.width||0,Y.height||0):"angle"in Y?(this._set(Y.length||0,0),this.setAngle(Y.angle||0)):(this._set(0,0),G=0)}return R&&(this.__read=G),this},set:"#initialize",_set:function(k,M){return this.x=k,this.y=M,this},equals:function(k){return this===k||k&&(this.x===k.x&&this.y===k.y||Array.isArray(k)&&this.x===k[0]&&this.y===k[1])||!1},clone:function(){return new N(this.x,this.y)},toString:function(){var k=O.instance;return"{ x: "+k.number(this.x)+", y: "+k.number(this.y)+" }"},_serialize:function(k){var M=k.formatter;return[M.number(this.x),M.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(k){if(this.isZero()){var M=this._angle||0;this._set(Math.cos(M)*k,Math.sin(M)*k)}else{var T=k/this.getLength();F.isZero(T)&&this.getAngle(),this._set(this.x*T,this.y*T)}},getAngle:function(){return this.getAngleInRadians.apply(this,arguments)*180/Math.PI},setAngle:function(k){this.setAngleInRadians.call(this,k*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var k=N.read(arguments),M=this.getLength()*k.getLength();if(F.isZero(M))return NaN;var T=this.dot(k)/M;return Math.acos(T<-1?-1:T>1?1:T)}else return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(k){if(this._angle=k,!this.isZero()){var M=this.getLength();this._set(Math.cos(k)*M,Math.sin(k)*M)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var k=N.read(arguments);return Math.atan2(this.cross(k),this.dot(k))*180/Math.PI},getDistance:function(){var k=arguments,M=N.read(k),T=M.x-this.x,$=M.y-this.y,R=T*T+$*$,G=w.read(k);return G?R:Math.sqrt(R)},normalize:function(k){k===y&&(k=1);var M=this.getLength(),T=M!==0?k/M:0,$=new N(this.x*T,this.y*T);return T>=0&&($._angle=this._angle),$},rotate:function(k,M){if(k===0)return this.clone();k=k*Math.PI/180;var T=M?this.subtract(M):this,$=Math.sin(k),R=Math.cos(k);return T=new N(T.x*R-T.y*$,T.x*$+T.y*R),M?T.add(M):T},transform:function(k){return k?k._transformPoint(this):this},add:function(){var k=N.read(arguments);return new N(this.x+k.x,this.y+k.y)},subtract:function(){var k=N.read(arguments);return new N(this.x-k.x,this.y-k.y)},multiply:function(){var k=N.read(arguments);return new N(this.x*k.x,this.y*k.y)},divide:function(){var k=N.read(arguments);return new N(this.x/k.x,this.y/k.y)},modulo:function(){var k=N.read(arguments);return new N(this.x%k.x,this.y%k.y)},negate:function(){return new N(-this.x,-this.y)},isInside:function(){return ae.read(arguments).contains(this)},isClose:function(){var k=arguments,M=N.read(k),T=w.read(k);return this.getDistance(M)<=T},isCollinear:function(){var k=N.read(arguments);return N.isCollinear(this.x,this.y,k.x,k.y)},isColinear:"#isCollinear",isOrthogonal:function(){var k=N.read(arguments);return N.isOrthogonal(this.x,this.y,k.x,k.y)},isZero:function(){var k=F.isZero;return k(this.x)&&k(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(k){return this.x*(k>1&&k<4?-1:1)>=0&&this.y*(k>2?-1:1)>=0},dot:function(){var k=N.read(arguments);return this.x*k.x+this.y*k.y},cross:function(){var k=N.read(arguments);return this.x*k.y-this.y*k.x},project:function(){var k=N.read(arguments),M=k.isZero()?0:this.dot(k)/k.dot(k);return new N(k.x*M,k.y*M)},statics:{min:function(){var k=arguments,M=N.read(k),T=N.read(k);return new N(Math.min(M.x,T.x),Math.min(M.y,T.y))},max:function(){var k=arguments,M=N.read(k),T=N.read(k);return new N(Math.max(M.x,T.x),Math.max(M.y,T.y))},random:function(){return new N(Math.random(),Math.random())},isCollinear:function(k,M,T,$){return Math.abs(k*$-M*T)<=Math.sqrt((k*k+M*M)*(T*T+$*$))*1e-8},isOrthogonal:function(k,M,T,$){return Math.abs(k*T+M*$)<=Math.sqrt((k*k+M*M)*(T*T+$*$))*1e-8}}},w.each(["round","ceil","floor","abs"],function(k){var M=Math[k];this[k]=function(){return new N(M(this.x),M(this.y))}},{})),H=N.extend({initialize:function(M,T,$,R){this._x=M,this._y=T,this._owner=$,this._setter=R},_set:function(k,M,T){return this._x=k,this._y=M,T||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(k){this._x=k,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(k){this._y=k,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(k){this._owner._changeSelection(this._getSelection(),k)},_getSelection:function(){return this._setter==="setPosition"?4:0}}),X=w.extend({_class:"Size",_readIndex:!0,initialize:function(M,T){var $=typeof M,R=this.__read,G=0;if($==="number"){var K=typeof T=="number";this._set(M,K?T:M),R&&(G=K?2:1)}else if($==="undefined"||M===null)this._set(0,0),R&&(G=M===null?1:0);else{var Y=$==="string"?M.split(/[\s,]+/)||[]:M;G=1,Array.isArray(Y)?this._set(+Y[0],+(Y.length>1?Y[1]:Y[0])):"width"in Y?this._set(Y.width||0,Y.height||0):"x"in Y?this._set(Y.x||0,Y.y||0):(this._set(0,0),G=0)}return R&&(this.__read=G),this},set:"#initialize",_set:function(k,M){return this.width=k,this.height=M,this},equals:function(k){return k===this||k&&(this.width===k.width&&this.height===k.height||Array.isArray(k)&&this.width===k[0]&&this.height===k[1])||!1},clone:function(){return new X(this.width,this.height)},toString:function(){var k=O.instance;return"{ width: "+k.number(this.width)+", height: "+k.number(this.height)+" }"},_serialize:function(k){var M=k.formatter;return[M.number(this.width),M.number(this.height)]},add:function(){var k=X.read(arguments);return new X(this.width+k.width,this.height+k.height)},subtract:function(){var k=X.read(arguments);return new X(this.width-k.width,this.height-k.height)},multiply:function(){var k=X.read(arguments);return new X(this.width*k.width,this.height*k.height)},divide:function(){var k=X.read(arguments);return new X(this.width/k.width,this.height/k.height)},modulo:function(){var k=X.read(arguments);return new X(this.width%k.width,this.height%k.height)},negate:function(){return new X(-this.width,-this.height)},isZero:function(){var k=F.isZero;return k(this.width)&&k(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(k,M){return new X(Math.min(k.width,M.width),Math.min(k.height,M.height))},max:function(k,M){return new X(Math.max(k.width,M.width),Math.max(k.height,M.height))},random:function(){return new X(Math.random(),Math.random())}}},w.each(["round","ceil","floor","abs"],function(k){var M=Math[k];this[k]=function(){return new X(M(this.width),M(this.height))}},{})),J=X.extend({initialize:function(M,T,$,R){this._width=M,this._height=T,this._owner=$,this._setter=R},_set:function(k,M,T){return this._width=k,this._height=M,T||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(k){this._width=k,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(k){this._height=k,this._owner[this._setter](this)}}),ae=w.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(M,T,$,R){var G=arguments,K=typeof M,Y;if(K==="number"?(this._set(M,T,$,R),Y=4):K==="undefined"||M===null?(this._set(0,0,0,0),Y=M===null?1:0):G.length===1&&(Array.isArray(M)?(this._set.apply(this,M),Y=1):M.x!==y||M.width!==y?(this._set(M.x||0,M.y||0,M.width||0,M.height||0),Y=1):M.from===y&&M.to===y&&(this._set(0,0,0,0),w.readSupported(G,this)&&(Y=1))),Y===y){var j=N.readNamed(G,"from"),q=w.peek(G),W=j.x,Q=j.y,ee,te;if(q&&q.x!==y||w.hasNamed(G,"to")){var oe=N.readNamed(G,"to");ee=oe.x-W,te=oe.y-Q,ee<0&&(W=oe.x,ee=-ee),te<0&&(Q=oe.y,te=-te)}else{var ne=X.read(G);ee=ne.width,te=ne.height}this._set(W,Q,ee,te),Y=G.__index}var he=G.__filtered;return he&&(this.__filtered=he),this.__read&&(this.__read=Y),this},set:"#initialize",_set:function(k,M,T,$){return this.x=k,this.y=M,this.width=T,this.height=$,this},clone:function(){return new ae(this.x,this.y,this.width,this.height)},equals:function(k){var M=w.isPlainValue(k)?ae.read(arguments):k;return M===this||M&&this.x===M.x&&this.y===M.y&&this.width===M.width&&this.height===M.height||!1},toString:function(){var k=O.instance;return"{ x: "+k.number(this.x)+", y: "+k.number(this.y)+", width: "+k.number(this.width)+", height: "+k.number(this.height)+" }"},_serialize:function(k){var M=k.formatter;return[M.number(this.x),M.number(this.y),M.number(this.width),M.number(this.height)]},getPoint:function(k){var M=k?N:H;return new M(this.x,this.y,this,"setPoint")},setPoint:function(){var k=N.read(arguments);this.x=k.x,this.y=k.y},getSize:function(k){var M=k?X:J;return new M(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var k=X.read(arguments),M=this._sx,T=this._sy,$=k.width,R=k.height;M&&(this.x+=(this.width-$)*M),T&&(this.y+=(this.height-R)*T),this.width=$,this.height=R,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(k){if(!this._fw){var M=k-this.x;this.width-=this._sx===.5?M*2:M}this.x=k,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(k){if(!this._fh){var M=k-this.y;this.height-=this._sy===.5?M*2:M}this.y=k,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(k){if(!this._fw){var M=k-this.x;this.width=this._sx===.5?M*2:M}this.x=k-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(k){if(!this._fh){var M=k-this.y;this.height=this._sy===.5?M*2:M}this.y=k-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(k){this._fw||this._sx===.5?this.x=k-this.width/2:(this._sx&&(this.x+=(k-this.x)*2*this._sx),this.width=(k-this.x)*2),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(k){this._fh||this._sy===.5?this.y=k-this.height/2:(this._sy&&(this.y+=(k-this.y)*2*this._sy),this.height=(k-this.y)*2),this._sy=.5,this._fh=0},getCenter:function(k){var M=k?N:H;return new M(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var k=N.read(arguments);return this.setCenterX(k.x),this.setCenterY(k.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return this.width===0||this.height===0},contains:function(k){return k&&k.width!==y||(Array.isArray(k)?k:arguments).length===4?this._containsRectangle(ae.read(arguments)):this._containsPoint(N.read(arguments))},_containsPoint:function(k){var M=k.x,T=k.y;return M>=this.x&&T>=this.y&&M<=this.x+this.width&&T<=this.y+this.height},_containsRectangle:function(k){var M=k.x,T=k.y;return M>=this.x&&T>=this.y&&M+k.width<=this.x+this.width&&T+k.height<=this.y+this.height},intersects:function(){var k=ae.read(arguments),M=w.read(arguments)||0;return k.x+k.width>this.x-M&&k.y+k.height>this.y-M&&k.x<this.x+this.width+M&&k.y<this.y+this.height+M},intersect:function(){var k=ae.read(arguments),M=Math.max(this.x,k.x),T=Math.max(this.y,k.y),$=Math.min(this.x+this.width,k.x+k.width),R=Math.min(this.y+this.height,k.y+k.height);return new ae(M,T,$-M,R-T)},unite:function(){var k=ae.read(arguments),M=Math.min(this.x,k.x),T=Math.min(this.y,k.y),$=Math.max(this.x+this.width,k.x+k.width),R=Math.max(this.y+this.height,k.y+k.height);return new ae(M,T,$-M,R-T)},include:function(){var k=N.read(arguments),M=Math.min(this.x,k.x),T=Math.min(this.y,k.y),$=Math.max(this.x+this.width,k.x),R=Math.max(this.y+this.height,k.y);return new ae(M,T,$-M,R-T)},expand:function(){var k=X.read(arguments),M=k.width,T=k.height;return new ae(this.x-M/2,this.y-T/2,this.width+M,this.height+T)},scale:function(k,M){return this.expand(this.width*k-this.width,this.height*(M===y?k:M)-this.height)}},w.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(k,M){var T=k.join(""),$=/^[RL]/.test(T);M>=4&&(k[1]+=$?"Y":"X");var R=k[$?0:1],G=k[$?1:0],K="get"+R,Y="get"+G,j="set"+R,q="set"+G,W="get"+T,Q="set"+T;this[W]=function(ee){var te=ee?N:H;return new te(this[K](),this[Y](),this,Q)},this[Q]=function(){var ee=N.read(arguments);this[j](ee.x),this[q](ee.y)}},{beans:!0})),ve=ae.extend({initialize:function(M,T,$,R,G,K){this._set(M,T,$,R,!0),this._owner=G,this._setter=K},_set:function(k,M,T,$,R){return this._x=k,this._y=M,this._width=T,this._height=$,R||this._owner[this._setter](this),this}},new function(){var k=ae.prototype;return w.each(["x","y","width","height"],function(M){var T=w.capitalize(M),$="_"+M;this["get"+T]=function(){return this[$]},this["set"+T]=function(R){this[$]=R,this._dontNotify||this._owner[this._setter](this)}},w.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(M){var T="set"+M;this[T]=function(){this._dontNotify=!0,k[T].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(this._owner._selection&2)},setSelected:function(M){var T=this._owner;T._changeSelection&&T._changeSelection(2,M)}}))}),pe=w.extend({_class:"Matrix",initialize:function k(M,T){var $=arguments,R=$.length,G=!0;if(R>=6?this._set.apply(this,$):R===1||R===2?M instanceof k?this._set(M._a,M._b,M._c,M._d,M._tx,M._ty,T):Array.isArray(M)?this._set.apply(this,T?M.concat([T]):M):G=!1:R?G=!1:this.reset(),!G)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(k,M,T,$,R,G,K){return this._a=k,this._b=M,this._c=T,this._d=$,this._tx=R,this._ty=G,K||this._changed(),this},_serialize:function(k,M){return w.serialize(this.getValues(),k,!0,M)},_changed:function(){var k=this._owner;k&&(k._applyMatrix?k.transform(null,!0):k._changed(25))},clone:function(){return new pe(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(k){return k===this||k&&this._a===k._a&&this._b===k._b&&this._c===k._c&&this._d===k._d&&this._tx===k._tx&&this._ty===k._ty},toString:function(){var k=O.instance;return"[["+[k.number(this._a),k.number(this._c),k.number(this._tx)].join(", ")+"], ["+[k.number(this._b),k.number(this._d),k.number(this._ty)].join(", ")+"]]"},reset:function(k){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,k||this._changed(),this},apply:function(k,M){var T=this._owner;return T?(T.transform(null,w.pick(k,!0),M),this.isIdentity()):!1},translate:function(){var k=N.read(arguments),M=k.x,T=k.y;return this._tx+=M*this._a+T*this._c,this._ty+=M*this._b+T*this._d,this._changed(),this},scale:function(){var k=arguments,M=N.read(k),T=N.read(k,0,{readNull:!0});return T&&this.translate(T),this._a*=M.x,this._b*=M.x,this._c*=M.y,this._d*=M.y,T&&this.translate(T.negate()),this._changed(),this},rotate:function(k){k*=Math.PI/180;var M=N.read(arguments,1),T=M.x,$=M.y,R=Math.cos(k),G=Math.sin(k),K=T-T*R+$*G,Y=$-T*G-$*R,j=this._a,q=this._b,W=this._c,Q=this._d;return this._a=R*j+G*W,this._b=R*q+G*Q,this._c=-G*j+R*W,this._d=-G*q+R*Q,this._tx+=K*j+Y*W,this._ty+=K*q+Y*Q,this._changed(),this},shear:function(){var k=arguments,M=N.read(k),T=N.read(k,0,{readNull:!0});T&&this.translate(T);var $=this._a,R=this._b;return this._a+=M.y*this._c,this._b+=M.y*this._d,this._c+=M.x*$,this._d+=M.x*R,T&&this.translate(T.negate()),this._changed(),this},skew:function(){var k=arguments,M=N.read(k),T=N.read(k,0,{readNull:!0}),$=Math.PI/180,R=new N(Math.tan(M.x*$),Math.tan(M.y*$));return this.shear(R,T)},append:function(k,M){if(k){var T=this._a,$=this._b,R=this._c,G=this._d,K=k._a,Y=k._c,j=k._b,q=k._d,W=k._tx,Q=k._ty;this._a=K*T+j*R,this._c=Y*T+q*R,this._b=K*$+j*G,this._d=Y*$+q*G,this._tx+=W*T+Q*R,this._ty+=W*$+Q*G,M||this._changed()}return this},prepend:function(k,M){if(k){var T=this._a,$=this._b,R=this._c,G=this._d,K=this._tx,Y=this._ty,j=k._a,q=k._c,W=k._b,Q=k._d,ee=k._tx,te=k._ty;this._a=j*T+q*$,this._c=j*R+q*G,this._b=W*T+Q*$,this._d=W*R+Q*G,this._tx=j*K+q*Y+ee,this._ty=W*K+Q*Y+te,M||this._changed()}return this},appended:function(k){return this.clone().append(k)},prepended:function(k){return this.clone().prepend(k)},invert:function(){var k=this._a,M=this._b,T=this._c,$=this._d,R=this._tx,G=this._ty,K=k*$-M*T,Y=null;return K&&!isNaN(K)&&isFinite(R)&&isFinite(G)&&(this._a=$/K,this._b=-M/K,this._c=-T/K,this._d=k/K,this._tx=(T*G-$*R)/K,this._ty=(M*R-k*G)/K,Y=this),Y},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new pe(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return this._a===1&&this._b===0&&this._c===0&&this._d===1&&this._tx===0&&this._ty===0},isInvertible:function(){var k=this._a*this._d-this._c*this._b;return k&&!isNaN(k)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(k,M,T){return arguments.length<3?this._transformPoint(N.read(arguments)):this._transformCoordinates(k,M,T)},_transformPoint:function(k,M,T){var $=k.x,R=k.y;return M||(M=new N),M._set($*this._a+R*this._c+this._tx,$*this._b+R*this._d+this._ty,T)},_transformCoordinates:function(k,M,T){for(var $=0,R=2*T;$<R;$+=2){var G=k[$],K=k[$+1];M[$]=G*this._a+K*this._c+this._tx,M[$+1]=G*this._b+K*this._d+this._ty}return M},_transformCorners:function(k){var M=k.x,T=k.y,$=M+k.width,R=T+k.height,G=[M,T,$,T,$,R,M,R];return this._transformCoordinates(G,G,4)},_transformBounds:function(k,M,T){for(var $=this._transformCorners(k),R=$.slice(0,2),G=R.slice(),K=2;K<8;K++){var Y=$[K],j=K&1;Y<R[j]?R[j]=Y:Y>G[j]&&(G[j]=Y)}return M||(M=new ae),M._set(R[0],R[1],G[0]-R[0],G[1]-R[1],T)},inverseTransform:function(){return this._inverseTransform(N.read(arguments))},_inverseTransform:function(k,M,T){var $=this._a,R=this._b,G=this._c,K=this._d,Y=this._tx,j=this._ty,q=$*K-R*G,W=null;if(q&&!isNaN(q)&&isFinite(Y)&&isFinite(j)){var Q=k.x-this._tx,ee=k.y-this._ty;M||(M=new N),W=M._set((Q*K-ee*G)/q,(ee*$-Q*R)/q,T)}return W},decompose:function(){var k=this._a,M=this._b,T=this._c,$=this._d,R=k*$-M*T,G=Math.sqrt,K=Math.atan2,Y=180/Math.PI,j,q,W;if(k!==0||M!==0){var Q=G(k*k+M*M);j=Math.acos(k/Q)*(M>0?1:-1),q=[Q,R/Q],W=[K(k*T+M*$,Q*Q),0]}else if(T!==0||$!==0){var ee=G(T*T+$*$);j=Math.asin(T/ee)*($>0?1:-1),q=[R/ee,ee],W=[0,K(k*T+M*$,ee*ee)]}else j=0,W=q=[0,0];return{translation:this.getTranslation(),rotation:j*Y,scaling:new N(q),skewing:new N(W[0]*Y,W[1]*Y)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new N(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(k){this.isIdentity()||k.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},w.each(["a","b","c","d","tx","ty"],function(k){var M=w.capitalize(k),T="_"+k;this["get"+M]=function(){return this[T]},this["set"+M]=function($){this[T]=$,this._changed()}},{})),de=w.extend({_class:"Line",initialize:function(M,T,$,R,G){var K=!1;arguments.length>=4?(this._px=M,this._py=T,this._vx=$,this._vy=R,K=G):(this._px=M.x,this._py=M.y,this._vx=T.x,this._vy=T.y,K=$),K||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new N(this._px,this._py)},getVector:function(){return new N(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(k,M){return de.intersect(this._px,this._py,this._vx,this._vy,k._px,k._py,k._vx,k._vy,!0,M)},getSide:function(k,M){return de.getSide(this._px,this._py,this._vx,this._vy,k.x,k.y,!0,M)},getDistance:function(k){return Math.abs(this.getSignedDistance(k))},getSignedDistance:function(k){return de.getSignedDistance(this._px,this._py,this._vx,this._vy,k.x,k.y,!0)},isCollinear:function(k){return N.isCollinear(this._vx,this._vy,k._vx,k._vy)},isOrthogonal:function(k){return N.isOrthogonal(this._vx,this._vy,k._vx,k._vy)},statics:{intersect:function(k,M,T,$,R,G,K,Y,j,q){j||(T-=k,$-=M,K-=R,Y-=G);var W=T*Y-$*K;if(!F.isMachineZero(W)){var Q=k-R,ee=M-G,te=(K*ee-Y*Q)/W,oe=(T*ee-$*Q)/W,ne=1e-12,he=-ne,se=1+ne;if(q||he<te&&te<se&&he<oe&&oe<se)return q||(te=te<=0?0:te>=1?1:te),new N(k+te*T,M+te*$)}},getSide:function(k,M,T,$,R,G,K,Y){K||(T-=k,$-=M);var j=R-k,q=G-M,W=j*$-q*T;return!Y&&F.isMachineZero(W)&&(W=(j*T+j*T)/(T*T+$*$),W>=0&&W<=1&&(W=0)),W<0?-1:W>0?1:0},getSignedDistance:function(k,M,T,$,R,G,K){return K||(T-=k,$-=M),T===0?$>0?R-k:k-R:$===0?T<0?G-M:M-G:((R-k)*$-(G-M)*T)/($>T?$*Math.sqrt(1+T*T/($*$)):T*Math.sqrt(1+$*$/(T*T)))},getDistance:function(k,M,T,$,R,G,K){return Math.abs(de.getSignedDistance(k,M,T,$,R,G,K))}}}),ce=I.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(M){I.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new Ct(null,null,this),this._view=Pr.create(this,M||ln.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(k,M){return w.serialize(this._children,k,!0,M)},_changed:function(k,M){if(k&1){var T=this._view;T&&(T._needsUpdate=!0,!T._requested&&T._autoUpdate&&T.requestUpdate())}var $=this._changes;if($&&M){var R=this._changesById,G=M._id,K=R[G];K?K.flags|=k:$.push(R[G]={item:M,flags:k})}},clear:function(){for(var k=this._children,M=k.length-1;M>=0;M--)k[M].remove()},isEmpty:function(){return!this._children.length},remove:function k(){return k.base.call(this)?(this._view&&this._view.remove(),!0):!1},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(k){this._currentStyle.set(k)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new ke({project:this,insert:!0})},getSymbolDefinitions:function(){var k=[],M={};return this.getItems({class:ue,match:function(T){var $=T._definition,R=$._id;return M[R]||(M[R]=!0,k.push($)),!1}}),k},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var k=this._selectionItems,M=[];for(var T in k){var $=k[T],R=$._selection;R&1&&$.isInserted()?M.push($):R||this._updateSelection($)}return M},_updateSelection:function(k){var M=k._id,T=this._selectionItems;k._selection?T[M]!==k&&(this._selectionCount++,T[M]=k):T[M]===k&&(this._selectionCount--,delete T[M])},selectAll:function(){for(var k=this._children,M=0,T=k.length;M<T;M++)k[M].setFullySelected(!0)},deselectAll:function(){var k=this._selectionItems;for(var M in k)k[M].setFullySelected(!1)},addLayer:function(k){return this.insertLayer(y,k)},insertLayer:function(k,M){if(M instanceof ke){M._remove(!1,!0),w.splice(this._children,[M],k,0),M._setProject(this,!0);var T=M._name;T&&M.setName(T),this._changes&&M._changed(5),this._activeLayer||(this._activeLayer=M)}else M=null;return M},_insertItem:function(k,M,T){return M=this.insertLayer(k,M)||(this._activeLayer||this._insertItem(y,new ke(V.NO_INSERT),!0)).insertChild(k,M),T&&M.activate&&M.activate(),M},getItems:function(k){return V._getItems(this,k)},getItem:function(k){return V._getItems(this,k,null,null,!0)[0]||null},importJSON:function(k){this.activate();var M=this._activeLayer;return w.importJSON(k,M&&M.isEmpty()&&M)},removeOn:function(k){var M=this._removeSets;if(M){k==="mouseup"&&(M.mousedrag=null);var T=M[k];if(T){for(var $ in T){var R=T[$];for(var G in M){var K=M[G];K&&K!=T&&delete K[R._id]}R.remove()}M[k]=null}}},draw:function(k,M,T){this._updateVersion++,k.save(),M.applyToContext(k);for(var $=this._children,R=new w({offset:new N(0,0),pixelRatio:T,viewMatrix:M.isIdentity()?null:M,matrices:[new pe],updateMatrix:!0}),G=0,K=$.length;G<K;G++)$[G].draw(k,R);if(k.restore(),this._selectionCount>0){k.save(),k.strokeWidth=1;var Y=this._selectionItems,j=this._scope.settings.handleSize,q=this._updateVersion;for(var W in Y)Y[W]._drawSelection(k,M,j,Y,q);k.restore()}}}),V=w.extend(S,{statics:{extend:function k(M){return M._serializeFields&&(M._serializeFields=w.set({},this.prototype._serializeFields,M._serializeFields)),k.base.apply(this,arguments)},INSERT:{insert:!0},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new pe,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var k=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return w.each(k,function(M){this._events[M]={install:function(T){this.getView()._countItemEvent(T,1)},uninstall:function(T){this.getView()._countItemEvent(T,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:k}})},{initialize:function(){},_initialize:function(k,M){var T=k&&w.isPlainObject(k),$=T&&k.internal===!0,R=this._matrix=new pe,G=T&&k.project||ut.project,K=ut.settings;return this._id=$?null:z.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&K.applyMatrix,M&&R.translate(M),R._owner=this,this._style=new Ct(G._currentStyle,this,G),$||T&&k.insert==!1||!K.insertItems&&!(T&&k.insert==!0)?this._setProject(G):(T&&k.parent||G)._insertItem(y,this,!0),T&&k!==V.NO_INSERT&&k!==V.INSERT&&this.set(k,{internal:!0,insert:!0,project:!0,parent:!0}),T},_serialize:function(k,M){var T={},$=this;function R(G){for(var K in G){var Y=$[K];w.equals(Y,K==="leading"?G.fontSize*1.2:G[K])||(T[K]=w.serialize(Y,k,K!=="data",M))}}return R(this._serializeFields),this instanceof ie||R(this._style._defaults),[this._class,T]},_changed:function(k){var M=this._symbol,T=this._parent||M,$=this._project;k&8&&(this._bounds=this._position=this._decomposed=y),k&16&&(this._globalMatrix=y),T&&k&72&&V._clearBoundsCache(T),k&2&&V._clearBoundsCache(this),$&&$._changed(k,this),M&&M._changed(k)},getId:function(){return this._id},getName:function(){return this._name},setName:function(k){if(this._name&&this._removeNamed(),k===+k+"")throw new Error("Names consisting only of numbers are not supported.");var M=this._getOwner();if(k&&M){var T=M._children,$=M._namedChildren;($[k]=$[k]||[]).push(this),k in T||(T[k]=this)}this._name=k||y,this._changed(256)},getStyle:function(){return this._style},setStyle:function(k){this.getStyle().set(k)}},w.each(["locked","visible","blendMode","opacity","guide"],function(k){var M=w.capitalize(k),T="_"+k,$={locked:256,visible:265};this["get"+M]=function(){return this[T]},this["set"+M]=function(R){R!=this[T]&&(this[T]=R,this._changed($[k]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(k){if(k!==this._selection){this._selection=k;var M=this._project;M&&(M._updateSelection(this),this._changed(257))}},_changeSelection:function(k,M){var T=this._selection;this.setSelection(M?T|k:T&~k)},isSelected:function(){if(this._selectChildren){for(var k=this._children,M=0,T=k.length;M<T;M++)if(k[M].isSelected())return!0}return!!(this._selection&1)},setSelected:function(k){if(this._selectChildren)for(var M=this._children,T=0,$=M.length;T<$;T++)M[T].setSelected(k);this._changeSelection(1,k)},isFullySelected:function(){var k=this._children,M=!!(this._selection&1);if(k&&M){for(var T=0,$=k.length;T<$;T++)if(!k[T].isFullySelected())return!1;return!0}return M},setFullySelected:function(k){var M=this._children;if(M)for(var T=0,$=M.length;T<$;T++)M[T].setFullySelected(k);this._changeSelection(1,k)},isClipMask:function(){return this._clipMask},setClipMask:function(k){this._clipMask!=(k=!!k)&&(this._clipMask=k,k&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(k){this._data=k},getPosition:function(k){var M=k?N:H,T=this._position||(this._position=this._getPositionFromBounds());return new M(T.x,T.y,this,"setPosition")},setPosition:function(){this.translate(N.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(k){return this._pivot?this._matrix._transformPoint(this._pivot):(k||this.getBounds()).getCenter(!0)},getPivot:function(){var k=this._pivot;return k?new H(k.x,k.y,this,"setPivot"):null},setPivot:function(){this._pivot=N.read(arguments,0,{clone:!0,readNull:!0}),this._position=y}},w.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(k,M){this[M]=function(T){return this.getBounds(T,k)}},{beans:!0,getBounds:function(k,M){var T=M||k instanceof pe,$=w.set({},T?M:k,this._boundsOptions);(!$.stroke||this.getStrokeScaling())&&($.cacheItem=this);var R=this._getCachedBounds(T&&k,$).rect;return arguments.length?R:new ve(R.x,R.y,R.width,R.height,this,"setBounds")},setBounds:function(){var k=ae.read(arguments),M=this.getBounds(),T=this._matrix,$=new pe,R=k.getCenter();$.translate(R),(k.width!=M.width||k.height!=M.height)&&(T.isInvertible()||(T.set(T._backup||new pe().translate(T.getTranslation())),M=this.getBounds()),$.scale(M.width!==0?k.width/M.width:0,M.height!==0?k.height/M.height:0)),R=M.getCenter(),$.translate(-R.x,-R.y),this.transform($)},_getBounds:function(k,M){var T=this._children;return!T||!T.length?new ae:(V._updateBoundsCache(this,M.cacheItem),V._getBounds(T,k,M))},_getBoundsCacheKey:function(k,M){return[k.stroke?1:0,k.handle?1:0,M?1:0].join("")},_getCachedBounds:function(k,M,T){k=k&&k._orNullIfIdentity();var $=M.internal&&!T,R=M.cacheItem,G=$?null:this._matrix._orNullIfIdentity(),K=R&&(!k||k.equals(G))&&this._getBoundsCacheKey(M,$),Y=this._bounds;if(V._updateBoundsCache(this._parent||this._symbol,R),K&&Y&&K in Y){var j=Y[K];return{rect:j.rect.clone(),nonscaling:j.nonscaling}}var q=this._getBounds(k||G,M),W=q.rect||q,Q=this._style,ee=q.nonscaling||Q.hasStroke()&&!Q.getStrokeScaling();if(K){Y||(this._bounds=Y={});var j=Y[K]={rect:W.clone(),nonscaling:ee,internal:$}}return{rect:W,nonscaling:ee}},_getStrokeMatrix:function(k,M){var T=this.getStrokeScaling()?null:M&&M.internal?this:this._parent||this._symbol&&this._symbol._item,$=T?T.getViewMatrix().invert():k;return $&&$._shiftless()},statics:{_updateBoundsCache:function(k,M){if(k&&M){var T=M._id,$=k._boundsCache=k._boundsCache||{ids:{},list:[]};$.ids[T]||($.list.push(M),$.ids[T]=M)}},_clearBoundsCache:function(k){var M=k._boundsCache;if(M){k._bounds=k._position=k._boundsCache=y;for(var T=0,$=M.list,R=$.length;T<R;T++){var G=$[T];G!==k&&(G._bounds=G._position=y,G._boundsCache&&V._clearBoundsCache(G))}}},_getBounds:function(k,M,T){var $=1/0,R=-$,G=$,K=R,Y=!1;T=T||{};for(var j=0,q=k.length;j<q;j++){var W=k[j];if(W._visible&&!W.isEmpty(!0)){var Q=W._getCachedBounds(M&&M.appended(W._matrix),T,!0),ee=Q.rect;$=Math.min(ee.x,$),G=Math.min(ee.y,G),R=Math.max(ee.x+ee.width,R),K=Math.max(ee.y+ee.height,K),Q.nonscaling&&(Y=!0)}}return{rect:isFinite($)?new ae($,G,R-$,K-G):new ae,nonscaling:Y}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var k=this._decompose();return k?k.rotation:0},setRotation:function(k){var M=this.getRotation();if(M!=null&&k!=null){var T=this._decomposed;this.rotate(k-M),T&&(T.rotation=k,this._decomposed=T)}},getScaling:function(){var k=this._decompose(),M=k&&k.scaling;return new H(M?M.x:1,M?M.y:1,this,"setScaling")},setScaling:function(){var k=this.getScaling(),M=N.read(arguments,0,{clone:!0,readNull:!0});if(k&&M&&!k.equals(M)){var T=this.getRotation(),$=this._decomposed,R=new pe,G=F.isZero;if(G(k.x)||G(k.y))R.translate($.translation),T&&R.rotate(T),R.scale(M.x,M.y),this._matrix.set(R);else{var K=this.getPosition(!0);R.translate(K),T&&R.rotate(T),R.scale(M.x/k.x,M.y/k.y),T&&R.rotate(-T),R.translate(K.negate()),this.transform(R)}$&&($.scaling=M,this._decomposed=$)}},getMatrix:function(){return this._matrix},setMatrix:function(){var k=this._matrix;k.set.apply(k,arguments)},getGlobalMatrix:function(k){var M=this._globalMatrix;if(M)for(var T=this._parent,$=[];T;){if(!T._globalMatrix){M=null;for(var R=0,G=$.length;R<G;R++)$[R]._globalMatrix=null;break}$.push(T),T=T._parent}if(!M){M=this._globalMatrix=this._matrix.clone();var T=this._parent;T&&M.prepend(T.getGlobalMatrix(!0))}return k?M:M.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(k){(this._applyMatrix=this._canApplyMatrix&&!!k)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(k,M){if(this._project!==k){this._project&&this._installEvents(!1),this._project=k;for(var T=this._children,$=0,R=T&&T.length;$<R;$++)T[$]._setProject(k);M=!0}M&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function k(M){k.base.call(this,M);for(var T=this._children,$=0,R=T&&T.length;$<R;$++)T[$]._installEvents(M)},getLayer:function(){for(var k=this;k=k._parent;)if(k instanceof ke)return k;return null},getParent:function(){return this._parent},setParent:function(k){return k.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(k){this.removeChildren(),this.addChildren(k)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var k=this._getOwner();return k&&k._children[this._index+1]||null},getPreviousSibling:function(){var k=this._getOwner();return k&&k._children[this._index-1]||null},getIndex:function(){return this._index},setIndex:function(k){var M=this._parent,T=M&&M._children;T&&M.insertChildren(k in T?k:y,[this])},equals:function(k){return k===this||k&&this._class===k._class&&this._style.equals(k._style)&&this._matrix.equals(k._matrix)&&this._locked===k._locked&&this._visible===k._visible&&this._blendMode===k._blendMode&&this._opacity===k._opacity&&this._clipMask===k._clipMask&&this._guide===k._guide&&this._equals(k)||!1},_equals:function(k){return w.equals(this._children,k._children)},clone:function(k){var M=new this.constructor(V.NO_INSERT),T=this._children,$=w.pick(k?k.insert:y,k===y||k===!0),R=w.pick(k?k.deep:y,!0);T&&M.copyAttributes(this),(!T||R)&&M.copyContent(this),T||M.copyAttributes(this),$&&M.insertAbove(this);var G=this._name,K=this._parent;if(G&&K){for(var T=K._children,Y=G,j=1;T[G];)G=Y+" "+j++;G!==Y&&M.setName(G)}return M},copyContent:function(k){for(var M=k._children,T=0,$=M&&M.length;T<$;T++)this.addChild(M[T].clone(!1),!0)},copyAttributes:function(k,M){this.setStyle(k._style);for(var T=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],$=0,R=T.length;$<R;$++){var G=T[$];k.hasOwnProperty(G)&&(this[G]=k[G])}M||this._matrix.set(k._matrix,!0),this.setApplyMatrix(k._applyMatrix),this.setPivot(k._pivot),this.setSelection(k._selection);var K=k._data,Y=k._name;this._data=K?w.clone(K):null,Y&&this.setName(Y)},rasterize:function(k,M){var T,$,R;w.isPlainObject(k)?(T=k.resolution,$=k.insert,R=k.raster):(T=k,$=M),R||(R=new Ae(V.NO_INSERT));var G=this.getStrokeBounds(),K=(T||this.getView().getResolution())/72,Y=G.getTopLeft().floor(),j=G.getBottomRight().ceil(),q=new X(j.subtract(Y)),W=q.multiply(K);if(R.setSize(W,!0),!W.isZero()){var Q=R.getContext(!0),ee=new pe().scale(K).translate(Y.negate());Q.save(),ee.applyToContext(Q),this.draw(Q,new w({matrices:[ee]})),Q.restore()}return R._matrix.set(new pe().translate(Y.add(q.divide(2))).scale(1/K)),($===y||$)&&R.insertAbove(this),R},contains:function(){var k=this._matrix;return k.isInvertible()&&!!this._contains(k._inverseTransform(N.read(arguments)))},_contains:function(k){var M=this._children;if(M){for(var T=M.length-1;T>=0;T--)if(M[T].contains(k))return!0;return!1}return k.isInside(this.getInternalBounds())},isInside:function(){return ae.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new ct.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(k,M){return k instanceof V?this._asPathItem().getIntersections(k._asPathItem(),null,M,!0).length>0:!1}},new function(){function k(){var $=arguments;return this._hitTest(N.read($),Me.getOptions($))}function M(){var $=arguments,R=N.read($),G=Me.getOptions($),K=[];return this._hitTest(R,new w({all:K},G)),K}function T($,R,G,K){var Y=this._children;if(Y)for(var j=Y.length-1;j>=0;j--){var q=Y[j],W=q!==K&&q._hitTest($,R,G);if(W&&!R.all)return W}return null}return ce.inject({hitTest:k,hitTestAll:M,_hitTest:T}),{hitTest:k,hitTestAll:M,_hitTestChildren:T}},{_hitTest:function(k,M,T){if(this._locked||!this._visible||this._guide&&!M.guides||this.isEmpty())return null;var $=this._matrix,R=T?T.appended($):this.getGlobalMatrix().prepend(this.getView()._matrix),G=Math.max(M.tolerance,1e-12),K=M._tolerancePadding=new X(ct._getStrokePadding(G,$._shiftless().invert()));if(k=$._inverseTransform(k),!k||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(K.multiply(2))._containsPoint(k))return null;var Y=!(M.guides&&!this._guide||M.selected&&!this.isSelected()||M.type&&M.type!==w.hyphenate(this._class)||M.class&&!(this instanceof M.class)),j=M.match,q=this,W,Q;function ee(re){return re&&j&&!j(re)&&(re=null),re&&M.all&&M.all.push(re),re}function te(re,ge){var ye=ge?W["get"+ge]():q.getPosition();if(k.subtract(ye).divide(K).length<=1)return new Me(re,q,{name:ge?w.hyphenate(ge):re,point:ye})}var oe=M.position,ne=M.center,he=M.bounds;if(Y&&this._parent&&(oe||ne||he)){if((ne||he)&&(W=this.getInternalBounds()),Q=oe&&te("position")||ne&&te("center","Center"),!Q&&he)for(var se=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],le=0;le<8&&!Q;le++)Q=te("bounds",se[le]);Q=ee(Q)}return Q||(Q=this._hitTestChildren(k,M,R)||Y&&ee(this._hitTestSelf(k,M,R,this.getStrokeScaling()?null:R._shiftless().invert()))||null),Q&&Q.point&&(Q.point=$.transform(Q.point)),Q},_hitTestSelf:function(k,M){if(M.fill&&this.hasFill()&&this._contains(k))return new Me("fill",this)},matches:function(k,M){function T(K,Y){for(var j in K)if(K.hasOwnProperty(j)){var q=K[j],W=Y[j];if(w.isPlainObject(q)&&w.isPlainObject(W)){if(!T(q,W))return!1}else if(!w.equals(q,W))return!1}return!0}var $=typeof k;if($==="object"){for(var R in k)if(k.hasOwnProperty(R)&&!this.matches(R,k[R]))return!1;return!0}else{if($==="function")return k(this);if(k==="match")return M(this);var G=/^(empty|editable)$/.test(k)?this["is"+w.capitalize(k)]():k==="type"?w.hyphenate(this._class):this[k];if(k==="class"){if(typeof M=="function")return this instanceof M;G=this._class}if(typeof M=="function")return!!M(G);if(M){if(M.test)return M.test(G);if(w.isPlainObject(M))return T(M,G)}return w.equals(G,M)}},getItems:function(k){return V._getItems(this,k,this._matrix)},getItem:function(k){return V._getItems(this,k,this._matrix,null,!0)[0]||null},statics:{_getItems:function k(M,T,$,R,G){if(!R){var K=typeof T=="object"&&T,Y=K&&K.overlapping,j=K&&K.inside,q=Y||j,ee=q&&ae.read([q]);R={items:[],recursive:K&&K.recursive!==!1,inside:!!j,overlapping:!!Y,rect:ee,path:Y&&new ct.Rectangle({rectangle:ee,insert:!1})},K&&(T=w.filter({},T,{recursive:!0,inside:!0,overlapping:!0}))}var W=M._children,Q=R.items,ee=R.rect;$=ee&&($||new pe);for(var te=0,oe=W&&W.length;te<oe;te++){var ne=W[te],he=$&&$.appended(ne._matrix),se=!0;if(ee){var q=ne.getBounds(he);if(!ee.intersects(q))continue;ee.contains(q)||R.overlapping&&(q.contains(ee)||R.path.intersects(ne,he))||(se=!1)}if(se&&ne.matches(T)&&(Q.push(ne),G)||(R.recursive!==!1&&k(ne,T,he,R,G),G&&Q.length>0))break}return Q}}},{importJSON:function(k){var M=w.importJSON(k,this);return M!==this?this.addChild(M):M},addChild:function(k){return this.insertChild(y,k)},insertChild:function(k,M){var T=M?this.insertChildren(k,[M]):null;return T&&T[0]},addChildren:function(k){return this.insertChildren(this._children.length,k)},insertChildren:function(k,M){var T=this._children;if(T&&M&&M.length>0){M=w.slice(M);for(var $={},R=M.length-1;R>=0;R--){var G=M[R],K=G&&G._id;!G||$[K]?M.splice(R,1):(G._remove(!1,!0),$[K]=!0)}w.splice(T,M,k,0);for(var Y=this._project,j=Y._changes,R=0,q=M.length;R<q;R++){var G=M[R],W=G._name;G._parent=this,G._setProject(Y,!0),W&&G.setName(W),j&&G._changed(5)}this._changed(11)}else M=null;return M},_insertItem:"#insertChild",_insertAt:function(k,M){var T=k&&k._getOwner(),$=k!==this&&T?this:null;return $&&($._remove(!1,!0),T._insertItem(k._index+M,$)),$},insertAbove:function(k){return this._insertAt(k,1)},insertBelow:function(k){return this._insertAt(k,0)},sendToBack:function(){var k=this._getOwner();return k?k._insertItem(0,this):null},bringToFront:function(){var k=this._getOwner();return k?k._insertItem(y,this):null},appendTop:"#addChild",appendBottom:function(k){return this.insertChild(0,k)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(k){return k._insertItem(y,this)},copyTo:function(k){return this.clone(!1).addTo(k)},reduce:function(k){var M=this._children;if(M&&M.length===1){var T=M[0].reduce(k);return this._parent?(T.insertAbove(this),this.remove()):T.remove(),T}return this},_removeNamed:function(){var k=this._getOwner();if(k){var M=k._children,T=k._namedChildren,$=this._name,R=T[$],G=R?R.indexOf(this):-1;G!==-1&&(M[$]==this&&delete M[$],R.splice(G,1),R.length?M[$]=R[0]:delete T[$])}},_remove:function(k,M){var T=this._getOwner(),$=this._project,R=this._index;return this._style&&this._style._dispose(),T?(this._name&&this._removeNamed(),R!=null&&($._activeLayer===this&&($._activeLayer=this.getNextSibling()||this.getPreviousSibling()),w.splice(T._children,null,R,1)),this._installEvents(!1),k&&$._changes&&this._changed(5),M&&T._changed(11,this),this._parent=null,!0):!1},remove:function(){return this._remove(!0,!0)},replaceWith:function(k){var M=k&&k.insertBelow(this);return M&&this.remove(),M},removeChildren:function(k,M){if(!this._children)return null;k=k||0,M=w.pick(M,this._children.length);for(var T=w.splice(this._children,null,k,M-k),$=T.length-1;$>=0;$--)T[$]._remove(!0,!1);return T.length>0&&this._changed(11),T},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var k=0,M=this._children.length;k<M;k++)this._children[k]._index=k;this._changed(11)}},isEmpty:function(k){var M=this._children,T=M?M.length:0;if(k){for(var $=0;$<T;$++)if(!M[$].isEmpty(k))return!1;return!0}return!T},isEditable:function(){for(var k=this;k;){if(!k._visible||k._locked)return!1;k=k._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(k){function M(K){var Y=[];do Y.unshift(K);while(K=K._parent);return Y}for(var T=M(this),$=M(k),R=0,G=Math.min(T.length,$.length);R<G;R++)if(T[R]!=$[R])return T[R]._index<$[R]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(k){return this._getOrder(k)===-1},isBelow:function(k){return this._getOrder(k)===1},isParent:function(k){return this._parent===k},isChild:function(k){return k&&k._parent===this},isDescendant:function(k){for(var M=this;M=M._parent;)if(M===k)return!0;return!1},isAncestor:function(k){return k?k.isDescendant(this):!1},isSibling:function(k){return this._parent===k._parent},isGroupedWith:function(k){for(var M=this._parent;M;){if(M._parent&&/^(Group|Layer|CompoundPath)$/.test(M._class)&&k.isDescendant(M))return!0;M=M._parent}return!1}},w.each(["rotate","scale","shear","skew"],function(k){var M=k==="rotate";this[k]=function(){var T=arguments,$=(M?w:N).read(T),R=N.read(T,0,{readNull:!0});return this.transform(new pe()[k]($,R||this.getPosition(!0)))}},{translate:function(){var k=new pe;return this.transform(k.translate.apply(k,arguments))},transform:function(k,M,T){var $=this._matrix,R=k&&!k.isIdentity(),G=T&&this._canApplyMatrix||this._applyMatrix&&(R||!$.isIdentity()||M&&this._children);if(!R&&!G)return this;if(R){!k.isInvertible()&&$.isInvertible()&&($._backup=$.getValues()),$.prepend(k,!0);var K=this._style,Y=K.getFillColor(!0),j=K.getStrokeColor(!0);Y&&Y.transform(k),j&&j.transform(k)}if(G&&(G=this._transformContent($,M,T))){var q=this._pivot;q&&$._transformPoint(q,q,!0),$.reset(!0),T&&this._canApplyMatrix&&(this._applyMatrix=!0)}var W=this._bounds,Q=this._position;(R||G)&&this._changed(25);var ee=R&&W&&k.decompose();if(ee&&ee.skewing.isZero()&&ee.rotation%90===0){for(var te in W){var oe=W[te];if(oe.nonscaling)delete W[te];else if(G||!oe.internal){var ne=oe.rect;k._transformBounds(ne,ne)}}this._bounds=W;var he=W[this._getBoundsCacheKey(this._boundsOptions||{})];he&&(this._position=this._getPositionFromBounds(he.rect))}else R&&Q&&this._pivot&&(this._position=k._transformPoint(Q,Q));return this},_transformContent:function(k,M,T){var $=this._children;if($){for(var R=0,G=$.length;R<G;R++)$[R].transform(k,M,T);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(N.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(N.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(N.read(arguments))},localToParent:function(){return this._matrix._transformPoint(N.read(arguments))},fitBounds:function(k,M){k=ae.read(arguments);var T=this.getBounds(),$=T.height/T.width,R=k.height/k.width,G=(M?$>R:$<R)?k.width/T.width:k.height/T.height,K=new ae(new N,new X(T.width*G,T.height*G));K.setCenter(k.getCenter()),this.setBounds(K)}}),{_setStyles:function(k,M,T){var $=this._style,R=this._matrix;if($.hasFill()&&(k.fillStyle=$.getFillColor().toCanvasStyle(k,R)),$.hasStroke()){k.strokeStyle=$.getStrokeColor().toCanvasStyle(k,R),k.lineWidth=$.getStrokeWidth();var G=$.getStrokeJoin(),K=$.getStrokeCap(),Y=$.getMiterLimit();if(G&&(k.lineJoin=G),K&&(k.lineCap=K),Y&&(k.miterLimit=Y),ut.support.nativeDash){var j=$.getDashArray(),q=$.getDashOffset();j&&j.length&&("setLineDash"in k?(k.setLineDash(j),k.lineDashOffset=q):(k.mozDash=j,k.mozDashOffset=q))}}if($.hasShadow()){var W=M.pixelRatio||1,Q=T._shiftless().prepend(new pe().scale(W,W)),ee=Q.transform(new N($.getShadowBlur(),0)),te=Q.transform(this.getShadowOffset());k.shadowColor=$.getShadowColor().toCanvasStyle(k),k.shadowBlur=ee.getLength(),k.shadowOffsetX=te.x,k.shadowOffsetY=te.y}},draw:function(k,M,T){if(this._updateVersion=this._project._updateVersion,!(!this._visible||this._opacity===0)){var $=M.matrices,R=M.viewMatrix,G=this._matrix,K=$[$.length-1].appended(G);if(K.isInvertible()){R=R?R.appended(K):K,$.push(K),M.updateMatrix&&(this._globalMatrix=K);var Y=this._blendMode,j=F.clamp(this._opacity,0,1),q=Y==="normal",W=In.nativeModes[Y],Q=q&&j===1||M.dontStart||M.clip||(W||q&&j<1)&&this._canComposite(),ee=M.pixelRatio||1,te,oe,ne;if(!Q){var he=this.getStrokeBounds(R);if(!he.width||!he.height){$.pop();return}ne=M.offset,oe=M.offset=he.getTopLeft().floor(),te=k,k=ln.getContext(he.getSize().ceil().add(1).multiply(ee)),ee!==1&&k.scale(ee,ee)}k.save();var se=T?T.appended(G):this._canScaleStroke&&!this.getStrokeScaling(!0)&&R,le=!Q&&M.clipItem,re=!se||le;if(Q?(k.globalAlpha=j,W&&(k.globalCompositeOperation=Y)):re&&k.translate(-oe.x,-oe.y),re&&(Q?G:R).applyToContext(k),le&&M.clipItem.draw(k,M.extend({clip:!0})),se){k.setTransform(ee,0,0,ee,0,0);var ge=M.offset;ge&&k.translate(-ge.x,-ge.y)}this._draw(k,M,R,se),k.restore(),$.pop(),M.clip&&!M.dontFinish&&k.clip(this.getFillRule()),Q||(In.process(Y,k,te,j,oe.subtract(ne).multiply(ee)),ln.release(k),M.offset=ne)}}},_isUpdated:function(k){var M=this._parent;if(M instanceof Ot)return M._isUpdated(k);var T=this._updateVersion===k;return!T&&M&&M._visible&&M._isUpdated(k)&&(this._updateVersion=k,T=!0),T},_drawSelection:function(k,M,T,$,R){var G=this._selection,K=G&1,Y=G&2||K&&this._selectBounds,j=G&4;if(this._drawSelected||(K=!1),(K||Y||j)&&this._isUpdated(R)){var q,W=this.getSelectedColor(!0)||(q=this.getLayer())&&q.getSelectedColor(!0),Q=M.appended(this.getGlobalMatrix(!0)),ee=T/2;if(k.strokeStyle=k.fillStyle=W?W.toCanvasStyle(k):"#009dec",K&&this._drawSelected(k,Q,$),j){var te=this.getPosition(!0),oe=this._parent,ne=oe?oe.localToGlobal(te):te,he=ne.x,se=ne.y;k.beginPath(),k.arc(he,se,ee,0,Math.PI*2,!0),k.stroke();for(var le=[[0,-1],[1,0],[0,1],[-1,0]],re=ee,ge=T+1,ye=0;ye<4;ye++){var Ce=le[ye],_e=Ce[0],Ie=Ce[1];k.moveTo(he+_e*re,se+Ie*re),k.lineTo(he+_e*ge,se+Ie*ge),k.stroke()}}if(Y){var Be=Q._transformCorners(this.getInternalBounds());k.beginPath();for(var ye=0;ye<8;ye++)k[ye?"lineTo":"moveTo"](Be[ye],Be[++ye]);k.closePath(),k.stroke();for(var ye=0;ye<8;ye++)k.fillRect(Be[ye]-ee,Be[++ye]-ee,T,T)}}},_canComposite:function(){return!1}},w.each(["down","drag","up","move"],function(k){this["removeOn"+w.capitalize(k)]=function(){var M={};return M[k]=!0,this.removeOn(M)}},{removeOn:function(k){for(var M in k)if(k[M]){var T="mouse"+M,$=this._project,R=$._removeSets=$._removeSets||{};R[T]=R[T]||{},R[T][this._id]=this}return this}}),{tween:function(k,M,T){T||(T=M,M=k,k=null,T||(T=M,M=null));var $=T&&T.easing,R=T&&T.start,G=T!=null&&(typeof T=="number"?T:T.duration),K=new oi(this,k,M,G,$,R);function Y(j){K._handleFrame(j.time*1e3),K.running||this.off("frame",Y)}return G&&this.on("frame",Y),K},tweenTo:function(k,M){return this.tween(null,k,M)},tweenFrom:function(k,M){return this.tween(k,null,M)}}),ie=V.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(M){this._children=[],this._namedChildren={},this._initialize(M)||this.addChildren(Array.isArray(M)?M:arguments)},_changed:function k(M){k.base.call(this,M),M&2050&&(this._clipItem=y)},_getClipItem:function(){var k=this._clipItem;if(k===y){k=null;for(var M=this._children,T=0,$=M.length;T<$;T++)if(M[T]._clipMask){k=M[T];break}this._clipItem=k}return k},isClipped:function(){return!!this._getClipItem()},setClipped:function(k){var M=this.getFirstChild();M&&M.setClipMask(k)},_getBounds:function k(M,T){var $=this._getClipItem();return $?$._getCachedBounds($._matrix.prepended(M),w.set({},T,{stroke:!1})):k.base.call(this,M,T)},_hitTestChildren:function k(M,T,$){var R=this._getClipItem();return(!R||R.contains(M))&&k.base.call(this,M,T,$,R)},_draw:function(k,M){var T=M.clip,$=!T&&this._getClipItem();M=M.extend({clipItem:$,clip:!1}),T?(k.beginPath(),M.dontStart=M.dontFinish=!0):$&&$.draw(k,M.extend({clip:!0}));for(var R=this._children,G=0,K=R.length;G<K;G++){var Y=R[G];Y!==$&&Y.draw(k,M)}}}),ke=ie.extend({_class:"Layer",initialize:function(){ie.apply(this,arguments)},_getOwner:function(){return this._parent||this._index!=null&&this._project},isInserted:function k(){return this._parent?k.base.call(this):this._index!=null},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),be=V.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(M,T){this._initialize(M,T)},_equals:function(k){return this._type===k._type&&this._size.equals(k._size)&&w.equals(this._radius,k._radius)},copyContent:function(k){this.setType(k._type),this.setSize(k._size),this.setRadius(k._radius)},getType:function(){return this._type},setType:function(k){this._type=k},getShape:"#getType",setShape:"#setType",getSize:function(){var k=this._size;return new J(k.width,k.height,this,"setSize")},setSize:function(){var k=X.read(arguments);if(!this._size)this._size=k.clone();else if(!this._size.equals(k)){var M=this._type,T=k.width,$=k.height;M==="rectangle"?this._radius.set(X.min(this._radius,k.divide(2).abs())):M==="circle"?(T=$=(T+$)/2,this._radius=T/2):M==="ellipse"&&this._radius._set(T/2,$/2),this._size._set(T,$),this._changed(9)}},getRadius:function(){var k=this._radius;return this._type==="circle"?k:new J(k.width,k.height,this,"setRadius")},setRadius:function(k){var M=this._type;if(M==="circle"){if(k===this._radius)return;var T=k*2;this._radius=k,this._size._set(T,T)}else if(k=X.read(arguments),!this._radius)this._radius=k.clone();else{if(this._radius.equals(k))return;if(this._radius.set(k),M==="rectangle"){var T=X.max(this._size,k.multiply(2));this._size.set(T)}else M==="ellipse"&&this._size._set(k.width*2,k.height*2)}this._changed(9)},isEmpty:function(){return!1},toPath:function(k){var M=new ct[w.capitalize(this._type)]({center:new N,size:this._size,radius:this._radius,insert:!1});return M.copyAttributes(this),ut.settings.applyMatrix&&M.setApplyMatrix(!0),(k===y||k)&&M.insertAbove(this),M},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(k,M,T,$){var R=this._style,G=R.hasFill(),K=R.hasStroke(),Y=M.dontFinish||M.clip,j=!$;if(G||K||Y){var q=this._type,W=this._radius,Q=q==="circle";if(M.dontStart||k.beginPath(),j&&Q)k.arc(0,0,W,0,Math.PI*2,!0);else{var ee=Q?W:W.width,te=Q?W:W.height,oe=this._size,ne=oe.width,he=oe.height;if(j&&q==="rectangle"&&ee===0&&te===0)k.rect(-ne/2,-he/2,ne,he);else{var se=ne/2,le=he/2,re=1-.5522847498307936,ge=ee*re,ye=te*re,Ce=[-se,-le+te,-se,-le+ye,-se+ge,-le,-se+ee,-le,se-ee,-le,se-ge,-le,se,-le+ye,se,-le+te,se,le-te,se,le-ye,se-ge,le,se-ee,le,-se+ee,le,-se+ge,le,-se,le-ye,-se,le-te];$&&$.transform(Ce,Ce,32),k.moveTo(Ce[0],Ce[1]),k.bezierCurveTo(Ce[2],Ce[3],Ce[4],Ce[5],Ce[6],Ce[7]),se!==ee&&k.lineTo(Ce[8],Ce[9]),k.bezierCurveTo(Ce[10],Ce[11],Ce[12],Ce[13],Ce[14],Ce[15]),le!==te&&k.lineTo(Ce[16],Ce[17]),k.bezierCurveTo(Ce[18],Ce[19],Ce[20],Ce[21],Ce[22],Ce[23]),se!==ee&&k.lineTo(Ce[24],Ce[25]),k.bezierCurveTo(Ce[26],Ce[27],Ce[28],Ce[29],Ce[30],Ce[31])}}k.closePath()}!Y&&(G||K)&&(this._setStyles(k,M,T),G&&(k.fill(R.getFillRule()),k.shadowColor="rgba(0,0,0,0)"),K&&k.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(k,M){var T=new ae(this._size).setCenter(0,0),$=this._style,R=M.stroke&&$.hasStroke()&&$.getStrokeWidth();return k&&(T=k._transformBounds(T)),R?T.expand(ct._getStrokePadding(R,this._getStrokeMatrix(k,M))):T}},new function(){function k(T,$,R){var G=T._radius;if(!G.isZero())for(var K=T._size.divide(2),Y=1;Y<=4;Y++){var j=new N(Y>1&&Y<4?-1:1,Y>2?-1:1),q=j.multiply(K),W=q.subtract(j.multiply(G)),Q=new ae(R?q.add(j.multiply(R)):q,W);if(Q.contains($))return{point:W,quadrant:Y}}}function M(T,$,R,G){var K=T.divide($);return(!G||K.isInQuadrant(G))&&K.subtract(K.normalize()).multiply($).divide(R).length<=1}return{_contains:function T($){if(this._type==="rectangle"){var R=k(this,$);return R?$.subtract(R.point).divide(this._radius).getLength()<=1:T.base.call(this,$)}else return $.divide(this.size).getLength()<=.5},_hitTestSelf:function T($,R,G,K){var Y=!1,j=this._style,q=R.stroke&&j.hasStroke(),W=R.fill&&j.hasFill();if(q||W){var Q=this._type,ee=this._radius,te=q?j.getStrokeWidth()/2:0,oe=R._tolerancePadding.add(ct._getStrokePadding(te,!j.getStrokeScaling()&&K));if(Q==="rectangle"){var ne=oe.multiply(2),he=k(this,$,ne);if(he)Y=M($.subtract(he.point),ee,oe,he.quadrant);else{var se=new ae(this._size).setCenter(0,0),le=se.expand(ne),re=se.expand(ne.negate());Y=le._containsPoint($)&&!re._containsPoint($)}}else Y=M($,ee,oe)}return Y?new Me(q?"stroke":"fill",this):T.base.apply(this,arguments)}}},{statics:new function(){function k(M,T,$,R,G){var K=w.create(be.prototype);return K._type=M,K._size=$,K._radius=R,K._initialize(w.getNamed(G),T),K}return{Circle:function(){var M=arguments,T=N.readNamed(M,"center"),$=w.readNamed(M,"radius");return k("circle",T,new X($*2),$,M)},Rectangle:function(){var M=arguments,T=ae.readNamed(M,"rectangle"),$=X.min(X.readNamed(M,"radius"),T.getSize(!0).divide(2));return k("rectangle",T.getCenter(!0),T.getSize(!0),$,M)},Ellipse:function(){var M=arguments,T=be._readEllipse(M),$=T.radius;return k("ellipse",T.center,$.multiply(2),$,M)},_readEllipse:function(M){var T,$;if(w.hasNamed(M,"radius"))T=N.readNamed(M,"center"),$=X.readNamed(M,"radius");else{var R=ae.readNamed(M,"rectangle");T=R.getCenter(!0),$=R.getSize(!0).divide(2)}return{center:T,radius:$}}}}}),Ae=V.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(M,T){if(!this._initialize(M,T!==y&&N.read(arguments))){var $,R=typeof M,G=R==="string"?x.getElementById(M):R==="object"?M:null;if(G&&G!==V.NO_INSERT){if(G.getContext||G.naturalHeight!=null)$=G;else if(G){var K=X.read(arguments);K.isZero()||($=ln.getCanvas(K))}}$?this.setImage($):this.setSource(M)}this._size||(this._size=new X,this._loaded=!1)},_equals:function(k){return this.getSource()===k.getSource()},copyContent:function(k){var M=k._image,T=k._canvas;if(M)this._setImage(M);else if(T){var $=ln.getCanvas(k._size);$.getContext("2d").drawImage(T,0,0),this._setImage($)}this._crossOrigin=k._crossOrigin},getSize:function(){var k=this._size;return new J(k?k.width:0,k?k.height:0,this,"setSize")},setSize:function(k,M){var T=X.read(arguments);if(T.equals(this._size))M&&this.clear();else if(T.width>0&&T.height>0){var $=!M&&this.getElement();this._setImage(ln.getCanvas(T)),$&&this.getContext(!0).drawImage($,0,0,T.width,T.height)}else this._canvas&&ln.release(this._canvas),this._size=T.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(k){this.setSize(k,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(k){this.setSize(this.getWidth(),k)},getLoaded:function(){return this._loaded},isEmpty:function(){var k=this._size;return!k||k.width===0&&k.height===0},getResolution:function(){var k=this._matrix,M=new N(0,0).transform(k),T=new N(1,0).transform(k).subtract(M),$=new N(0,1).transform(k).subtract(M);return new X(72/T.getLength(),72/$.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(k){var M=this;function T($){var R=M.getView(),G=$&&$.type||"load";R&&M.responds(G)&&(ut=R._scope,M.emit(G,new un($)))}this._setImage(k),this._loaded?setTimeout(T,0):k&&pr.add(k,{load:function($){M._setImage(k),T($)},error:T})},_setImage:function(k){this._canvas&&ln.release(this._canvas),k&&k.getContext?(this._image=null,this._canvas=k,this._loaded=!0):(this._image=k,this._canvas=null,this._loaded=!!(k&&k.src&&k.complete)),this._size=new X(k?k.naturalWidth||k.width:0,k?k.naturalHeight||k.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var k=ln.getContext(this._size);try{this._image&&k.drawImage(this._image,0,0),this._canvas=k.canvas}catch{ln.release(k)}}return this._canvas},setCanvas:"#setImage",getContext:function(k){return this._context||(this._context=this.getCanvas().getContext("2d")),k&&(this._image=null,this._changed(1025)),this._context},setContext:function(k){this._context=k},getSource:function(){var k=this._image;return k&&k.src||this.toDataURL()},setSource:function(k){var M=new v.Image,T=this._crossOrigin;T&&(M.crossOrigin=T),k&&(M.src=k),this.setImage(M)},getCrossOrigin:function(){var k=this._image;return k&&k.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(k){this._crossOrigin=k;var M=this._image;M&&(M.crossOrigin=k)},getSmoothing:function(){return this._smoothing},setSmoothing:function(k){this._smoothing=typeof k=="string"?k:k?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var k=ae.read(arguments),M=ln.getContext(k.getSize());return M.drawImage(this.getCanvas(),k.x,k.y,k.width,k.height,0,0,k.width,k.height),M.canvas},getSubRaster:function(){var k=ae.read(arguments),M=new Ae(V.NO_INSERT);return M._setImage(this.getSubCanvas(k)),M.translate(k.getCenter().subtract(this.getSize().divide(2))),M._matrix.prepend(this._matrix),M.insertAbove(this),M},toDataURL:function(){var k=this._image,M=k&&k.src;if(/^data:/.test(M))return M;var T=this.getCanvas();return T?T.toDataURL.apply(T,arguments):null},drawImage:function(k){var M=N.read(arguments,1);this.getContext(!0).drawImage(k,M.x,M.y)},getAverageColor:function(k){var M,T;if(k?k instanceof gt?(T=k,M=k.getBounds()):typeof k=="object"&&("width"in k?M=new ae(k):"x"in k&&(M=new ae(k.x-.5,k.y-.5,1,1))):M=this.getBounds(),!M)return null;var $=32,R=Math.min(M.width,$),G=Math.min(M.height,$),K=Ae._sampleContext;K?K.clearRect(0,0,$+1,$+1):K=Ae._sampleContext=ln.getContext(new X($)),K.save();var Y=new pe().scale(R/M.width,G/M.height).translate(-M.x,-M.y);Y.applyToContext(K),T&&T.draw(K,new w({clip:!0,matrices:[Y]})),this._matrix.applyToContext(K);var j=this.getElement(),q=this._size;j&&K.drawImage(j,-q.width/2,-q.height/2),K.restore();for(var W=K.getImageData(.5,.5,Math.ceil(R),Math.ceil(G)).data,Q=[0,0,0],ee=0,te=0,oe=W.length;te<oe;te+=4){var ne=W[te+3];ee+=ne,ne/=255,Q[0]+=W[te]*ne,Q[1]+=W[te+1]*ne,Q[2]+=W[te+2]*ne}for(var te=0;te<3;te++)Q[te]/=ee;return ee?Oe.read(Q):null},getPixel:function(){var k=N.read(arguments),M=this.getContext().getImageData(k.x,k.y,1,1).data;return new Oe("rgb",[M[0]/255,M[1]/255,M[2]/255],M[3]/255)},setPixel:function(){var k=arguments,M=N.read(k),T=Oe.read(k),$=T._convert("rgb"),R=T._alpha,G=this.getContext(!0),K=G.createImageData(1,1),Y=K.data;Y[0]=$[0]*255,Y[1]=$[1]*255,Y[2]=$[2]*255,Y[3]=R!=null?R*255:255,G.putImageData(K,M.x,M.y)},clear:function(){var k=this._size;this.getContext(!0).clearRect(0,0,k.width+1,k.height+1)},createImageData:function(){var k=X.read(arguments);return this.getContext().createImageData(k.width,k.height)},getImageData:function(){var k=ae.read(arguments);return k.isEmpty()&&(k=new ae(this._size)),this.getContext().getImageData(k.x,k.y,k.width,k.height)},putImageData:function(k){var M=N.read(arguments,1);this.getContext(!0).putImageData(k,M.x,M.y)},setImageData:function(k){this.setSize(k),this.getContext(!0).putImageData(k,0,0)},_getBounds:function(k,M){var T=new ae(this._size).setCenter(0,0);return k?k._transformBounds(T):T},_hitTestSelf:function(k){if(this._contains(k)){var M=this;return new Me("pixel",M,{offset:k.add(M._size.divide(2)).round(),color:{get:function(){return M.getPixel(this.offset)}}})}},_draw:function(k,M,T){var $=this.getElement();if($&&$.width>0&&$.height>0){k.globalAlpha=F.clamp(this._opacity,0,1),this._setStyles(k,M,T);var R=this._smoothing,G=R==="off";Ut.setPrefixed(k,G?"imageSmoothingEnabled":"imageSmoothingQuality",G?!1:R),k.drawImage($,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),ue=V.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(M,T){this._initialize(M,T!==y&&N.read(arguments,1))||this.setDefinition(M instanceof xe?M:new xe(M))},_equals:function(k){return this._definition===k._definition},copyContent:function(k){this.setDefinition(k._definition)},getDefinition:function(){return this._definition},setDefinition:function(k){this._definition=k,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(k,M){var T=this._definition._item;return T._getCachedBounds(T._matrix.prepended(k),M)},_hitTestSelf:function(k,M,T){var $=M.extend({all:!1}),R=this._definition._item._hitTest(k,$,T);return R&&(R.item=this),R},_draw:function(k,M){this._definition._item.draw(k,M)}}),xe=w.extend({_class:"SymbolDefinition",initialize:function(M,T){this._id=z.get(),this.project=ut.project,M&&this.setItem(M,T)},_serialize:function(k,M){return M.add(this,function(){return w.serialize([this._class,this._item],k,!1,M)})},_changed:function(k){k&8&&V._clearBoundsCache(this),k&1&&this.project._changed(k)},getItem:function(){return this._item},setItem:function(k,M){k._symbol&&(k=k.clone()),this._item&&(this._item._symbol=null),this._item=k,k.remove(),k.setSelected(!1),M||k.setPosition(new N),k._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(k){return new ue(this,k)},clone:function(){return new xe(this._item.clone(!1))},equals:function(k){return k===this||k&&this._item.equals(k._item)||!1}}),Me=w.extend({_class:"HitResult",initialize:function(M,T,$){this.type=M,this.item=T,$&&this.inject($)},statics:{getOptions:function(k){var M=k&&w.read(k);return new w({type:null,tolerance:ut.settings.hitTolerance,fill:!M,stroke:!M,segments:!M,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},M)}}}),Ge=w.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(M,T,$,R,G,K){var Y=arguments.length,j,q,W,Q;Y>0&&(M==null||typeof M=="object"?Y===1&&M&&"point"in M?(j=M.point,q=M.handleIn,W=M.handleOut,Q=M.selection):(j=M,q=T,W=$,Q=R):(j=[M,T],q=$!==y?[$,R]:null,W=G!==y?[G,K]:null)),new lt(j,this,"_point"),new lt(q,this,"_handleIn"),new lt(W,this,"_handleOut"),Q&&this.setSelection(Q)},_serialize:function(k,M){var T=this._point,$=this._selection,R=$||this.hasHandles()?[T,this._handleIn,this._handleOut]:T;return $&&R.push($),w.serialize(R,k,!0,M)},_changed:function(k){var M=this._path;if(M){var T=M._curves,$=this._index,R;T&&((!k||k===this._point||k===this._handleIn)&&(R=$>0?T[$-1]:M._closed?T[T.length-1]:null)&&R._changed(),(!k||k===this._point||k===this._handleOut)&&(R=T[$])&&R._changed()),M._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(N.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(N.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(N.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var k=this._handleIn,M=this._handleOut;return!k.isZero()&&!M.isZero()&&k.isCollinear(M)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(k){var M=this._selection,T=this._path;this._selection=k=k||0,T&&k!==M&&(T._updateSelection(this,M,k),T._changed(257))},_changeSelection:function(k,M){var T=this._selection;this.setSelection(M?T|k:T&~k)},isSelected:function(){return!!(this._selection&7)},setSelected:function(k){this._changeSelection(7,k)},getIndex:function(){return this._index!==y?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var k=this._path,M=this._index;return k?(M>0&&!k._closed&&M===k._segments.length-1&&M--,k.getCurves()[M]||null):null},getLocation:function(){var k=this.getCurve();return k?new Je(k,this===k._segment1?0:1):null},getNext:function(){var k=this._path&&this._path._segments;return k&&(k[this._index+1]||this._path._closed&&k[0])||null},smooth:function(k,M,T){var $=k||{},R=$.type,G=$.factor,K=this.getPrevious(),Y=this.getNext(),j=(K||this)._point,q=this._point,W=(Y||this)._point,Q=j.getDistance(q),ee=q.getDistance(W);if(!R||R==="catmull-rom"){var te=G===y?.5:G,oe=Math.pow(Q,te),ne=oe*oe,he=Math.pow(ee,te),se=he*he;if(!M&&K){var le=2*se+3*he*oe+ne,re=3*he*(he+oe);this.setHandleIn(re!==0?new N((se*j._x+le*q._x-ne*W._x)/re-q._x,(se*j._y+le*q._y-ne*W._y)/re-q._y):new N)}if(!T&&Y){var le=2*ne+3*oe*he+se,re=3*oe*(oe+he);this.setHandleOut(re!==0?new N((ne*W._x+le*q._x-se*j._x)/re-q._x,(ne*W._y+le*q._y-se*j._y)/re-q._y):new N)}}else if(R==="geometric"){if(K&&Y){var ge=j.subtract(W),ye=G===y?.4:G,Ce=ye*Q/(Q+ee);M||this.setHandleIn(ge.multiply(Ce)),T||this.setHandleOut(ge.multiply(Ce-ye))}}else throw new Error("Smoothing method '"+R+"' not supported.")},getPrevious:function(){var k=this._path&&this._path._segments;return k&&(k[this._index-1]||this._path._closed&&k[k.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var k=this._path;return k&&this._index===k._segments.length-1||!1},reverse:function(){var k=this._handleIn,M=this._handleOut,T=k.clone();k.set(M),M.set(T)},reversed:function(){return new Ge(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new Ge(this._point,this._handleIn,this._handleOut)},equals:function(k){return k===this||k&&this._class===k._class&&this._point.equals(k._point)&&this._handleIn.equals(k._handleIn)&&this._handleOut.equals(k._handleOut)||!1},toString:function(){var k=["point: "+this._point];return this._handleIn.isZero()||k.push("handleIn: "+this._handleIn),this._handleOut.isZero()||k.push("handleOut: "+this._handleOut),"{ "+k.join(", ")+" }"},transform:function(k){this._transformCoordinates(k,new Array(6),!0),this._changed()},interpolate:function(k,M,T){var $=1-T,R=T,G=k._point,K=M._point,Y=k._handleIn,j=M._handleIn,q=M._handleOut,W=k._handleOut;this._point._set($*G._x+R*K._x,$*G._y+R*K._y,!0),this._handleIn._set($*Y._x+R*j._x,$*Y._y+R*j._y,!0),this._handleOut._set($*W._x+R*q._x,$*W._y+R*q._y,!0),this._changed()},_transformCoordinates:function(k,M,T){var $=this._point,R=!T||!this._handleIn.isZero()?this._handleIn:null,G=!T||!this._handleOut.isZero()?this._handleOut:null,K=$._x,Y=$._y,j=2;return M[0]=K,M[1]=Y,R&&(M[j++]=R._x+K,M[j++]=R._y+Y),G&&(M[j++]=G._x+K,M[j++]=G._y+Y),k&&(k._transformCoordinates(M,M,j/2),K=M[0],Y=M[1],T?($._x=K,$._y=Y,j=2,R&&(R._x=M[j++]-K,R._y=M[j++]-Y),G&&(G._x=M[j++]-K,G._y=M[j++]-Y)):(R||(M[j++]=K,M[j++]=Y),G||(M[j++]=K,M[j++]=Y))),M}}),lt=N.extend({initialize:function(M,T,$){var R,G,K;if(!M)R=G=0;else if((R=M[0])!==y)G=M[1];else{var Y=M;(R=Y.x)===y&&(Y=N.read(arguments),R=Y.x),G=Y.y,K=Y.selected}this._x=R,this._y=G,this._owner=T,T[$]=this,K&&this.setSelected(!0)},_set:function(k,M){return this._x=k,this._y=M,this._owner._changed(this),this},getX:function(){return this._x},setX:function(k){this._x=k,this._owner._changed(this)},getY:function(){return this._y},setY:function(k){this._y=k,this._owner._changed(this)},isZero:function(){var k=F.isZero;return k(this._x)&&k(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(k){this._owner._changeSelection(this._getSelection(),k)},_getSelection:function(){var k=this._owner;return this===k._point?1:this===k._handleIn?2:this===k._handleOut?4:0}}),Le=w.extend({_class:"Curve",beans:!0,initialize:function(M,T,$,R,G,K,Y,j){var q=arguments.length,W,Q,ee,te,oe,ne;q===3?(this._path=M,W=T,Q=$):q?q===1?"segment1"in M?(W=new Ge(M.segment1),Q=new Ge(M.segment2)):"point1"in M?(ee=M.point1,oe=M.handle1,ne=M.handle2,te=M.point2):Array.isArray(M)&&(ee=[M[0],M[1]],te=[M[6],M[7]],oe=[M[2]-M[0],M[3]-M[1]],ne=[M[4]-M[6],M[5]-M[7]]):q===2?(W=new Ge(M),Q=new Ge(T)):q===4?(ee=M,oe=T,ne=$,te=R):q===8&&(ee=[M,T],te=[Y,j],oe=[$-M,R-T],ne=[G-Y,K-j]):(W=new Ge,Q=new Ge),this._segment1=W||new Ge(ee,null,oe),this._segment2=Q||new Ge(te,ne,null)},_serialize:function(k,M){return w.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],k,!0,M)},_changed:function(){this._length=this._bounds=y},clone:function(){return new Le(this._segment1,this._segment2)},toString:function(){var k=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||k.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||k.push("handle2: "+this._segment2._handleIn),k.push("point2: "+this._segment2._point),"{ "+k.join(", ")+" }"},classify:function(){return Le.classify(this.getValues())},remove:function(){var k=!1;if(this._path){var M=this._segment2,T=M._handleOut;k=M.remove(),k&&this._segment1._handleOut.set(T)}return k},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(N.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(N.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(N.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(N.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var k=this._path&&this._path._curves;return k&&(k[this._segment1._index+1]||this._path._closed&&k[0])||null},getPrevious:function(){var k=this._path&&this._path._curves;return k&&(k[this._segment1._index-1]||this._path._closed&&k[k.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var k=this._path;return k&&this._segment1._index===k._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(k){this.getPoint1().setSelected(k),this.getHandle1().setSelected(k),this.getHandle2().setSelected(k),this.getPoint2().setSelected(k)},getValues:function(k){return Le.getValues(this._segment1,this._segment2,k)},getPoints:function(){for(var k=this.getValues(),M=[],T=0;T<8;T+=2)M.push(new N(k[T],k[T+1]));return M}},{getLength:function(){return this._length==null&&(this._length=Le.getLength(this.getValues(),0,1)),this._length},getArea:function(){return Le.getArea(this.getValues())},getLine:function(){return new de(this._segment1._point,this._segment2._point)},getPart:function(k,M){return new Le(Le.getPart(this.getValues(),k,M))},getPartLength:function(k,M){return Le.getLength(this.getValues(),k,M)},divideAt:function(k){return this.divideAtTime(k&&k.curve===this?k.time:this.getTimeAt(k))},divideAtTime:function(k,M){var T=1e-8,$=1-T,R=null;if(k>=T&&k<=$){var G=Le.subdivide(this.getValues(),k),K=G[0],Y=G[1],j=M||this.hasHandles(),q=this._segment1,W=this._segment2,Q=this._path;j&&(q._handleOut._set(K[2]-K[0],K[3]-K[1]),W._handleIn._set(Y[4]-Y[6],Y[5]-Y[7]));var ee=K[6],te=K[7],oe=new Ge(new N(ee,te),j&&new N(K[4]-ee,K[5]-te),j&&new N(Y[2]-ee,Y[3]-te));Q?(Q.insert(q._index+1,oe),R=this.getNext()):(this._segment2=oe,this._changed(),R=new Le(oe,W))}return R},splitAt:function(k){var M=this._path;return M?M.splitAt(k):null},splitAtTime:function(k){return this.splitAt(this.getLocationAtTime(k))},divide:function(k,M){return this.divideAtTime(k===y?.5:M?k:this.getTimeAt(k))},split:function(k,M){return this.splitAtTime(k===y?.5:M?k:this.getTimeAt(k))},reversed:function(){return new Le(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(k,M,T,$){var R=k._point,G=k._handleOut,K=M._handleIn,Y=M._point,j=R.x,q=R.y,W=Y.x,Q=Y.y,ee=$?[j,q,j,q,W,Q,W,Q]:[j,q,j+G._x,q+G._y,W+K._x,Q+K._y,W,Q];return T&&T._transformCoordinates(ee,ee,4),ee},subdivide:function(k,M){var T=k[0],$=k[1],R=k[2],G=k[3],K=k[4],Y=k[5],j=k[6],q=k[7];M===y&&(M=.5);var W=1-M,Q=W*T+M*R,ee=W*$+M*G,te=W*R+M*K,oe=W*G+M*Y,ne=W*K+M*j,he=W*Y+M*q,se=W*Q+M*te,le=W*ee+M*oe,re=W*te+M*ne,ge=W*oe+M*he,ye=W*se+M*re,Ce=W*le+M*ge;return[[T,$,Q,ee,se,le,ye,Ce],[ye,Ce,re,ge,ne,he,j,q]]},getMonoCurves:function(k,M){var T=[],$=M?0:1,R=k[$+0],G=k[$+2],K=k[$+4],Y=k[$+6];if(R>=G==G>=K&&G>=K==K>=Y||Le.isStraight(k))T.push(k);else{var j=3*(G-K)-R+Y,q=2*(R+K)-4*G,W=G-R,Q=1e-8,ee=1-Q,te=[],oe=F.solveQuadratic(j,q,W,te,Q,ee);if(!oe)T.push(k);else{te.sort();var ne=te[0],he=Le.subdivide(k,ne);T.push(he[0]),oe>1&&(ne=(te[1]-ne)/(1-ne),he=Le.subdivide(he[1],ne),T.push(he[0])),T.push(he[1])}}return T},solveCubic:function(k,M,T,$,R,G){var K=k[M],Y=k[M+2],j=k[M+4],q=k[M+6],W=0;if(!(K<T&&q<T&&Y<T&&j<T||K>T&&q>T&&Y>T&&j>T)){var Q=3*(Y-K),ee=3*(j-Y)-Q,te=q-K-Q-ee;W=F.solveCubic(te,ee,Q,K-T,$,R,G)}return W},getTimeOf:function(k,M){var T=new N(k[0],k[1]),$=new N(k[6],k[7]),R=1e-12,G=1e-7,K=M.isClose(T,R)?0:M.isClose($,R)?1:null;if(K===null)for(var Y=[M.x,M.y],j=[],q=0;q<2;q++)for(var W=Le.solveCubic(k,q,Y[q],j,0,1),Q=0;Q<W;Q++){var ee=j[Q];if(M.isClose(Le.getPoint(k,ee),G))return ee}return M.isClose(T,G)?0:M.isClose($,G)?1:null},getNearestTime:function(k,M){if(Le.isStraight(k)){var T=k[0],$=k[1],R=k[6],G=k[7],K=R-T,Y=G-$,j=K*K+Y*Y;if(j===0)return 0;var q=((M.x-T)*K+(M.y-$)*Y)/j;return q<1e-12?0:q>.999999999999?1:Le.getTimeOf(k,new N(T+q*K,$+q*Y))}var W=100,Q=1/0,ee=0;function te(he){if(he>=0&&he<=1){var se=M.getDistance(Le.getPoint(k,he),!0);if(se<Q)return Q=se,ee=he,!0}}for(var oe=0;oe<=W;oe++)te(oe/W);for(var ne=1/(W*2);ne>1e-8;)!te(ee-ne)&&!te(ee+ne)&&(ne/=2);return ee},getPart:function(k,M,T){var $=M>T;if($){var R=M;M=T,T=R}return M>0&&(k=Le.subdivide(k,M)[1]),T<1&&(k=Le.subdivide(k,(T-M)/(1-M))[0]),$?[k[6],k[7],k[4],k[5],k[2],k[3],k[0],k[1]]:k},isFlatEnough:function(k,M){var T=k[0],$=k[1],R=k[2],G=k[3],K=k[4],Y=k[5],j=k[6],q=k[7],W=3*R-2*T-j,Q=3*G-2*$-q,ee=3*K-2*j-T,te=3*Y-2*q-$;return Math.max(W*W,ee*ee)+Math.max(Q*Q,te*te)<=16*M*M},getArea:function(k){var M=k[0],T=k[1],$=k[2],R=k[3],G=k[4],K=k[5],Y=k[6],j=k[7];return 3*((j-T)*($+G)-(Y-M)*(R+K)+R*(M-G)-$*(T-K)+j*(G+M/3)-Y*(K+T/3))/20},getBounds:function(k){for(var M=k.slice(0,2),T=M.slice(),$=[0,0],R=0;R<2;R++)Le._addBounds(k[R],k[R+2],k[R+4],k[R+6],R,0,M,T,$);return new ae(M[0],M[1],T[0]-M[0],T[1]-M[1])},_addBounds:function(k,M,T,$,R,G,K,Y,j){function q(ye,Ce){var _e=ye-Ce,Ie=ye+Ce;_e<K[R]&&(K[R]=_e),Ie>Y[R]&&(Y[R]=Ie)}G/=2;var W=K[R]+G,Q=Y[R]-G;if(k<W||M<W||T<W||$<W||k>Q||M>Q||T>Q||$>Q)if(M<k!=M<$&&T<k!=T<$)q(k,0),q($,0);else{var ee=3*(M-T)-k+$,te=2*(k+T)-4*M,oe=M-k,ne=F.solveQuadratic(ee,te,oe,j),he=1e-8,se=1-he;q($,0);for(var le=0;le<ne;le++){var re=j[le],ge=1-re;he<=re&&re<=se&&q(ge*ge*ge*k+3*ge*ge*re*M+3*ge*re*re*T+re*re*re*$,G)}}}}},w.each(["getBounds","getStrokeBounds","getHandleBounds"],function(k){this[k]=function(){this._bounds||(this._bounds={});var M=this._bounds[k];return M||(M=this._bounds[k]=ct[k]([this._segment1,this._segment2],!1,this._path)),M.clone()}},{}),w.each({isStraight:function(k,M,T,$){if(M.isZero()&&T.isZero())return!0;var R=$.subtract(k);if(R.isZero())return!1;if(R.isCollinear(M)&&R.isCollinear(T)){var G=new de(k,$),K=1e-7;if(G.getDistance(k.add(M))<K&&G.getDistance($.add(T))<K){var Y=R.dot(R),j=R.dot(M)/Y,q=R.dot(T)/Y;return j>=0&&j<=1&&q<=0&&q>=-1}}return!1},isLinear:function(k,M,T,$){var R=$.subtract(k).divide(3);return M.equals(R)&&T.negate().equals(R)}},function(k,M){this[M]=function(T){var $=this._segment1,R=this._segment2;return k($._point,$._handleOut,R._handleIn,R._point,T)},this.statics[M]=function(T,$){var R=T[0],G=T[1],K=T[6],Y=T[7];return k(new N(R,G),new N(T[2]-R,T[3]-G),new N(T[4]-K,T[5]-Y),new N(K,Y),$)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(k){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(k||0)},isCollinear:function(k){return k&&this.isStraight()&&k.isStraight()&&this.getLine().isCollinear(k.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(k,M){return this.getLocationAtTime(M?k:this.getTimeAt(k))},getLocationAtTime:function(k){return k!=null&&k>=0&&k<=1?new Je(this,k):null},getTimeAt:function(k,M){return Le.getTimeAt(this.getValues(),k,M)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var k=N.read(arguments);return k.isZero()?[]:Le.getTimesWithTangent(this.getValues(),k)},getOffsetAtTime:function(k){return this.getPartLength(0,k)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(N.read(arguments)))},getOffsetOf:function(){var k=this.getLocationOf.apply(this,arguments);return k?k.getOffset():null},getTimeOf:function(){return Le.getTimeOf(this.getValues(),N.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var k=N.read(arguments),M=this.getValues(),T=Le.getNearestTime(M,k),$=Le.getPoint(M,T);return new Je(this,T,$,null,k.getDistance($))},getNearestPoint:function(){var k=this.getNearestLocation.apply(this,arguments);return k&&k.getPoint()}},new function(){var k=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return w.each(k,function(M){this[M+"At"]=function(T,$){var R=this.getValues();return Le[M](R,$?T:Le.getTimeAt(R,T))},this[M+"AtTime"]=function(T){return Le[M](this.getValues(),T)}},{statics:{_evaluateMethods:k}})},new function(){function k($){var R=$[0],G=$[1],K=$[2],Y=$[3],j=$[4],q=$[5],W=$[6],Q=$[7],ee=9*(K-j)+3*(W-R),te=6*(R+j)-12*K,oe=3*(K-R),ne=9*(Y-q)+3*(Q-G),he=6*(G+q)-12*Y,se=3*(Y-G);return function(le){var re=(ee*le+te)*le+oe,ge=(ne*le+he)*le+se;return Math.sqrt(re*re+ge*ge)}}function M($,R){return Math.max(2,Math.min(16,Math.ceil(Math.abs(R-$)*32)))}function T($,R,G,K){if(R==null||R<0||R>1)return null;var Y=$[0],j=$[1],q=$[2],W=$[3],Q=$[4],ee=$[5],te=$[6],oe=$[7],ne=F.isZero;ne(q-Y)&&ne(W-j)&&(q=Y,W=j),ne(Q-te)&&ne(ee-oe)&&(Q=te,ee=oe);var he=3*(q-Y),se=3*(Q-q)-he,le=te-Y-he-se,re=3*(W-j),ge=3*(ee-W)-re,ye=oe-j-re-ge,Ce,_e;if(G===0)Ce=R===0?Y:R===1?te:((le*R+se)*R+he)*R+Y,_e=R===0?j:R===1?oe:((ye*R+ge)*R+re)*R+j;else{var Ie=1e-8,Be=1-Ie;if(R<Ie?(Ce=he,_e=re):R>Be?(Ce=3*(te-Q),_e=3*(oe-ee)):(Ce=(3*le*R+2*se)*R+he,_e=(3*ye*R+2*ge)*R+re),K){Ce===0&&_e===0&&(R<Ie||R>Be)&&(Ce=Q-q,_e=ee-W);var ze=Math.sqrt(Ce*Ce+_e*_e);ze&&(Ce/=ze,_e/=ze)}if(G===3){var Q=6*le*R+2*se,ee=6*ye*R+2*ge,Ke=Math.pow(Ce*Ce+_e*_e,3/2);Ce=Ke!==0?(Ce*ee-_e*Q)/Ke:0,_e=0}}return G===2?new N(_e,-Ce):new N(Ce,_e)}return{statics:{classify:function($){var R=$[0],G=$[1],K=$[2],Y=$[3],j=$[4],q=$[5],W=$[6],Q=$[7],ee=R*(Q-q)+G*(j-W)+W*q-Q*j,te=K*(G-Q)+Y*(W-R)+R*Q-G*W,oe=j*(Y-G)+q*(R-K)+K*G-Y*R,ne=3*oe,he=ne-te,se=he-te+ee,le=Math.sqrt(se*se+he*he+ne*ne),re=le!==0?1/le:0,ge=F.isZero,ye="serpentine";se*=re,he*=re,ne*=re;function Ce(ze,Ke,Re){var We=Ke!==y,Qe=We&&Ke>0&&Ke<1,it=We&&Re>0&&Re<1;return We&&(!(Qe||it)||ze==="loop"&&!(Qe&&it))&&(ze="arch",Qe=it=!1),{type:ze,roots:Qe||it?Qe&&it?Ke<Re?[Ke,Re]:[Re,Ke]:[Qe?Ke:Re]:null}}if(ge(se))return ge(he)?Ce(ge(ne)?"line":"quadratic"):Ce(ye,ne/(3*he));var _e=3*he*he-4*se*ne;if(ge(_e))return Ce("cusp",he/(2*se));var Ie=_e>0?Math.sqrt(_e/3):Math.sqrt(-_e),Be=2*se;return Ce(_e>0?ye:"loop",(he+Ie)/Be,(he-Ie)/Be)},getLength:function($,R,G,K){if(R===y&&(R=0),G===y&&(G=1),Le.isStraight($)){var Y=$;G<1&&(Y=Le.subdivide(Y,G)[0],R/=G),R>0&&(Y=Le.subdivide(Y,R)[1]);var j=Y[6]-Y[0],q=Y[7]-Y[1];return Math.sqrt(j*j+q*q)}return F.integrate(K||k($),R,G,M(R,G))},getTimeAt:function($,R,G){if(G===y&&(G=R<0?1:0),R===0)return G;var K=Math.abs,Y=1e-12,j=R>0,q=j?G:0,W=j?1:G,Q=k($),ee=Le.getLength($,q,W,Q),te=K(R)-ee;if(K(te)<Y)return j?W:q;if(te>Y)return null;var oe=R/ee,ne=0;function he(se){return ne+=F.integrate(Q,G,se,M(G,se)),G=se,ne-R}return F.findRoot(he,Q,G+oe,q,W,32,1e-12)},getPoint:function($,R){return T($,R,0,!1)},getTangent:function($,R){return T($,R,1,!0)},getWeightedTangent:function($,R){return T($,R,1,!1)},getNormal:function($,R){return T($,R,2,!0)},getWeightedNormal:function($,R){return T($,R,2,!1)},getCurvature:function($,R){return T($,R,3,!1).x},getPeaks:function($){var R=$[0],G=$[1],K=$[2],Y=$[3],j=$[4],q=$[5],W=$[6],Q=$[7],ee=-R+3*K-3*j+W,te=3*R-6*K+3*j,oe=-3*R+3*K,ne=-G+3*Y-3*q+Q,he=3*G-6*Y+3*q,se=-3*G+3*Y,le=1e-8,re=1-le,ge=[];return F.solveCubic(9*(ee*ee+ne*ne),9*(ee*te+he*ne),2*(te*te+he*he)+3*(oe*ee+se*ne),oe*te+he*se,ge,le,re),ge.sort()}}}},new function(){function k(te,oe,ne,he,se,le,re){var ge=!re&&ne.getPrevious()===se,ye=!re&&ne!==se&&ne.getNext()===se,Ce=1e-8,_e=1-Ce;if(he!==null&&he>=(ge?Ce:0)&&he<=(ye?_e:1)&&le!==null&&le>=(ye?Ce:0)&&le<=(ge?_e:1)){var Ie=new Je(ne,he,null,re),Be=new Je(se,le,null,re);Ie._intersection=Be,Be._intersection=Ie,(!oe||oe(Ie))&&Je.insert(te,Ie,!0)}}function M(te,oe,ne,he,se,le,re,ge,ye,Ce,_e,Ie,Be){if(++ye>=4096||++ge>=40)return ye;var ze=1e-9,Ke=oe[0],Re=oe[1],We=oe[6],Qe=oe[7],it=de.getSignedDistance,tt=it(Ke,Re,We,Qe,oe[2],oe[3]),yt=it(Ke,Re,We,Qe,oe[4],oe[5]),Ft=tt*yt>0?3/4:4/9,Jt=Ft*Math.min(0,tt,yt),lr=Ft*Math.max(0,tt,yt),Cr=it(Ke,Re,We,Qe,te[0],te[1]),Mt=it(Ke,Re,We,Qe,te[2],te[3]),Dt=it(Ke,Re,We,Qe,te[4],te[5]),fr=it(Ke,Re,We,Qe,te[6],te[7]),Sr=T(Cr,Mt,Dt,fr),kr=Sr[0],Rr=Sr[1],$r,Vr;if(tt===0&&yt===0&&Cr===0&&Mt===0&&Dt===0&&fr===0||($r=$(kr,Rr,Jt,lr))==null||(Vr=$(kr.reverse(),Rr.reverse(),Jt,lr))==null)return ye;var jr=Ce+(_e-Ce)*$r,zr=Ce+(_e-Ce)*Vr;if(Math.max(Be-Ie,zr-jr)<ze){var Sn=(jr+zr)/2,Pn=(Ie+Be)/2;k(se,le,re?he:ne,re?Pn:Sn,re?ne:he,re?Sn:Pn)}else{te=Le.getPart(te,$r,Vr);var Nn=Be-Ie;if(Vr-$r>.8)if(zr-jr>Nn){var dr=Le.subdivide(te,.5),Sn=(jr+zr)/2;ye=M(oe,dr[0],he,ne,se,le,!re,ge,ye,Ie,Be,jr,Sn),ye=M(oe,dr[1],he,ne,se,le,!re,ge,ye,Ie,Be,Sn,zr)}else{var dr=Le.subdivide(oe,.5),Pn=(Ie+Be)/2;ye=M(dr[0],te,he,ne,se,le,!re,ge,ye,Ie,Pn,jr,zr),ye=M(dr[1],te,he,ne,se,le,!re,ge,ye,Pn,Be,jr,zr)}else Nn===0||Nn>=ze?ye=M(oe,te,he,ne,se,le,!re,ge,ye,Ie,Be,jr,zr):ye=M(te,oe,ne,he,se,le,re,ge,ye,jr,zr,Ie,Be)}return ye}function T(te,oe,ne,he){var se=[0,te],le=[1/3,oe],re=[2/3,ne],ge=[1,he],ye=oe-(2*te+he)/3,Ce=ne-(te+2*he)/3,_e;if(ye*Ce<0)_e=[[se,le,ge],[se,re,ge]];else{var Ie=ye/Ce;_e=[Ie>=2?[se,le,ge]:Ie<=.5?[se,re,ge]:[se,le,re,ge],[se,ge]]}return(ye||Ce)<0?_e.reverse():_e}function $(te,oe,ne,he){return te[0][1]<ne?R(te,!0,ne):oe[0][1]>he?R(oe,!1,he):te[0][0]}function R(te,oe,ne){for(var he=te[0][0],se=te[0][1],le=1,re=te.length;le<re;le++){var ge=te[le][0],ye=te[le][1];if(oe?ye>=ne:ye<=ne)return ye===ne?ge:he+(ne-se)*(ge-he)/(ye-se);he=ge,se=ye}return null}function G(te,oe,ne,he,se){var le=F.isZero;if(le(he)&&le(se)){var re=Le.getTimeOf(te,new N(oe,ne));return re===null?[]:[re]}for(var ge=Math.atan2(-se,he),ye=Math.sin(ge),Ce=Math.cos(ge),_e=[],Ie=[],Be=0;Be<8;Be+=2){var ze=te[Be]-oe,Ke=te[Be+1]-ne;_e.push(ze*Ce-Ke*ye,ze*ye+Ke*Ce)}return Le.solveCubic(_e,1,0,Ie,0,1),Ie}function K(te,oe,ne,he,se,le,re){for(var ge=oe[0],ye=oe[1],Ce=oe[6],_e=oe[7],Ie=G(te,ge,ye,Ce-ge,_e-ye),Be=0,ze=Ie.length;Be<ze;Be++){var Ke=Ie[Be],Re=Le.getPoint(te,Ke),We=Le.getTimeOf(oe,Re);We!==null&&k(se,le,re?he:ne,re?We:Ke,re?ne:he,re?Ke:We)}}function Y(te,oe,ne,he,se,le){var re=de.intersect(te[0],te[1],te[6],te[7],oe[0],oe[1],oe[6],oe[7]);re&&k(se,le,ne,Le.getTimeOf(te,re),he,Le.getTimeOf(oe,re))}function j(te,oe,ne,he,se,le){var re=1e-12,ge=Math.min,ye=Math.max;if(ye(te[0],te[2],te[4],te[6])+re>ge(oe[0],oe[2],oe[4],oe[6])&&ge(te[0],te[2],te[4],te[6])-re<ye(oe[0],oe[2],oe[4],oe[6])&&ye(te[1],te[3],te[5],te[7])+re>ge(oe[1],oe[3],oe[5],oe[7])&&ge(te[1],te[3],te[5],te[7])-re<ye(oe[1],oe[3],oe[5],oe[7])){var Ce=Q(te,oe);if(Ce)for(var _e=0;_e<2;_e++){var Ie=Ce[_e];k(se,le,ne,Ie[0],he,Ie[1],!0)}else{var Be=Le.isStraight(te),ze=Le.isStraight(oe),Ke=Be&&ze,Re=Be&&!ze,We=se.length;if((Ke?Y:Be||ze?K:M)(Re?oe:te,Re?te:oe,Re?he:ne,Re?ne:he,se,le,Re,0,0,0,1,0,1),!Ke||se.length===We)for(var _e=0;_e<4;_e++){var Qe=_e>>1,it=_e&1,tt=Qe*6,yt=it*6,Ft=new N(te[tt],te[tt+1]),Jt=new N(oe[yt],oe[yt+1]);Ft.isClose(Jt,re)&&k(se,le,ne,Qe,he,it)}}}return se}function q(te,oe,ne,he){var se=Le.classify(te);if(se.type==="loop"){var le=se.roots;k(ne,he,oe,le[0],oe,le[1])}return ne}function W(te,oe,ne,he,se,le){var re=1e-7,ge=!oe;ge&&(oe=te);for(var ye=te.length,Ce=oe.length,_e=new Array(ye),Ie=ge?_e:new Array(Ce),Be=[],ze=0;ze<ye;ze++)_e[ze]=te[ze].getValues(he);if(!ge)for(var ze=0;ze<Ce;ze++)Ie[ze]=oe[ze].getValues(se);for(var Ke=L.findCurveBoundsCollisions(_e,Ie,re),Re=0;Re<ye;Re++){var We=te[Re],Qe=_e[Re];ge&&q(Qe,We,Be,ne);var it=Ke[Re];if(it)for(var tt=0;tt<it.length;tt++){if(le&&Be.length)return Be;var yt=it[tt];if(!ge||yt>Re){var Ft=oe[yt],Jt=Ie[yt];j(Qe,Jt,We,Ft,Be,ne)}}}return Be}function Q(te,oe){function ne(fr){var Sr=fr[6]-fr[0],kr=fr[7]-fr[1];return Sr*Sr+kr*kr}var he=Math.abs,se=de.getDistance,le=1e-8,re=1e-7,ge=Le.isStraight(te),ye=Le.isStraight(oe),Ce=ge&&ye,_e=ne(te)<ne(oe),Ie=_e?oe:te,Be=_e?te:oe,ze=Ie[0],Ke=Ie[1],Re=Ie[6]-ze,We=Ie[7]-Ke;if(se(ze,Ke,Re,We,Be[0],Be[1],!0)<re&&se(ze,Ke,Re,We,Be[6],Be[7],!0)<re)!Ce&&se(ze,Ke,Re,We,Ie[2],Ie[3],!0)<re&&se(ze,Ke,Re,We,Ie[4],Ie[5],!0)<re&&se(ze,Ke,Re,We,Be[2],Be[3],!0)<re&&se(ze,Ke,Re,We,Be[4],Be[5],!0)<re&&(ge=ye=Ce=!0);else if(Ce)return null;if(ge^ye)return null;for(var Qe=[te,oe],it=[],tt=0;tt<4&&it.length<2;tt++){var yt=tt&1,Ft=yt^1,Jt=tt>>1,lr=Le.getTimeOf(Qe[yt],new N(Qe[Ft][Jt?6:0],Qe[Ft][Jt?7:1]));if(lr!=null){var Cr=yt?[Jt,lr]:[lr,Jt];(!it.length||he(Cr[0]-it[0][0])>le&&he(Cr[1]-it[0][1])>le)&&it.push(Cr)}if(tt>2&&!it.length)break}if(it.length!==2)it=null;else if(!Ce){var Mt=Le.getPart(te,it[0][0],it[1][0]),Dt=Le.getPart(oe,it[0][1],it[1][1]);(he(Dt[2]-Mt[2])>re||he(Dt[3]-Mt[3])>re||he(Dt[4]-Mt[4])>re||he(Dt[5]-Mt[5])>re)&&(it=null)}return it}function ee(te,oe){var ne=te[0],he=te[1],se=te[2],le=te[3],re=te[4],ge=te[5],ye=te[6],Ce=te[7],_e=oe.normalize(),Ie=_e.x,Be=_e.y,ze=3*ye-9*re+9*se-3*ne,Ke=3*Ce-9*ge+9*le-3*he,Re=6*re-12*se+6*ne,We=6*ge-12*le+6*he,Qe=3*se-3*ne,it=3*le-3*he,tt=2*ze*Be-2*Ke*Ie,yt=[];if(Math.abs(tt)<F.CURVETIME_EPSILON){var Ft=ze*it-Ke*Qe,tt=ze*We-Ke*Re;if(tt!=0){var Jt=-Ft/tt;Jt>=0&&Jt<=1&&yt.push(Jt)}}else{var lr=(Re*Re-4*ze*Qe)*Be*Be+(-2*Re*We+4*Ke*Qe+4*ze*it)*Ie*Be+(We*We-4*Ke*it)*Ie*Ie,Cr=Re*Be-We*Ie;if(lr>=0&&tt!=0){var Mt=Math.sqrt(lr),Dt=-(Cr+Mt)/tt,fr=(-Cr+Mt)/tt;Dt>=0&&Dt<=1&&yt.push(Dt),fr>=0&&fr<=1&&yt.push(fr)}}return yt}return{getIntersections:function(te){var oe=this.getValues(),ne=te&&te!==this&&te.getValues();return ne?j(oe,ne,this,te,[]):q(oe,this,[])},statics:{getOverlaps:Q,getIntersections:W,getCurveLineIntersections:G,getTimesWithTangent:ee}}}),Je=w.extend({_class:"CurveLocation",initialize:function(M,T,$,R,G){if(T>=.99999999){var K=M.getNext();K&&(T=0,M=K)}this._setCurve(M),this._time=T,this._point=$||M.getPointAtTime(T),this._overlap=R,this._distance=G,this._intersection=this._next=this._previous=null},_setPath:function(k){this._path=k,this._version=k?k._version:0},_setCurve:function(k){this._setPath(k._path),this._curve=k,this._segment=null,this._segment1=k._segment1,this._segment2=k._segment2},_setSegment:function(k){var M=k.getCurve();M?this._setCurve(M):(this._setPath(k._path),this._segment1=k,this._segment2=null),this._segment=k,this._time=k===this._segment1?0:1,this._point=k._point.clone()},getSegment:function(){var k=this._segment;if(!k){var M=this.getCurve(),T=this.getTime();T===0?k=M._segment1:T===1?k=M._segment2:T!=null&&(k=M.getPartLength(0,T)<M.getPartLength(T,1)?M._segment1:M._segment2),this._segment=k}return k},getCurve:function(){var k=this._path,M=this;k&&k._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null);function T($){var R=$&&$.getCurve();if(R&&(M._time=R.getTimeOf(M._point))!=null)return M._setCurve(R),R}return this._curve||T(this._segment)||T(this._segment1)||T(this._segment2.getPrevious())},getPath:function(){var k=this.getCurve();return k&&k._path},getIndex:function(){var k=this.getCurve();return k&&k.getIndex()},getTime:function(){var k=this.getCurve(),M=this._time;return k&&M==null?this._time=k.getTimeOf(this._point):M},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var k=this._offset;if(k==null){k=0;var M=this.getPath(),T=this.getIndex();if(M&&T!=null)for(var $=M.getCurves(),R=0;R<T;R++)k+=$[R].getLength();this._offset=k+=this.getCurveOffset()}return k},getCurveOffset:function(){var k=this._curveOffset;if(k==null){var M=this.getCurve(),T=this.getTime();this._curveOffset=k=T!=null&&M&&M.getPartLength(0,T)}return k},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var k=this.getCurve(),M=k&&k.divideAtTime(this.getTime());return M&&this._setSegment(M._segment1),M},split:function(){var k=this.getCurve(),M=k._path,T=k&&k.splitAtTime(this.getTime());return T&&this._setSegment(M.getLastSegment()),T},equals:function(k,M){var T=this===k;if(!T&&k instanceof Je){var $=this.getCurve(),R=k.getCurve(),G=$._path,K=R._path;if(G===K){var Y=Math.abs,j=1e-7,q=Y(this.getOffset()-k.getOffset()),W=!M&&this._intersection,Q=!M&&k._intersection;T=(q<j||G&&Y(G.getLength()-q)<j)&&(!W&&!Q||W&&Q&&W.equals(Q,!0))}}return T},toString:function(){var k=[],M=this.getPoint(),T=O.instance;M&&k.push("point: "+M);var $=this.getIndex();$!=null&&k.push("index: "+$);var R=this.getTime();return R!=null&&k.push("time: "+T.number(R)),this._distance!=null&&k.push("distance: "+T.number(this._distance)),"{ "+k.join(", ")+" }"},isTouching:function(){var k=this._intersection;if(k&&this.getTangent().isCollinear(k.getTangent())){var M=this.getCurve(),T=k.getCurve();return!(M.isStraight()&&T.isStraight()&&M.getLine().intersect(T.getLine()))}return!1},isCrossing:function(){var k=this._intersection;if(!k)return!1;var M=this.getTime(),T=k.getTime(),$=1e-8,R=1-$,G=M>=$&&M<=R,K=T>=$&&T<=R;if(G&&K)return!this.isTouching();var Y=this.getCurve(),j=Y&&M<$?Y.getPrevious():Y,q=k.getCurve(),W=q&&T<$?q.getPrevious():q;if(M>R&&(Y=Y.getNext()),T>R&&(q=q.getNext()),!j||!Y||!W||!q)return!1;var Q=[];function ee(Ie,Be){var ze=Ie.getValues(),Ke=Le.classify(ze).roots||Le.getPeaks(ze),Re=Ke.length,We=Le.getLength(ze,Be&&Re?Ke[Re-1]:0,!Be&&Re?Ke[0]:1);Q.push(Re?We:We/32)}function te(Ie,Be,ze){return Be<ze?Ie>Be&&Ie<ze:Ie>Be||Ie<ze}G||(ee(j,!0),ee(Y,!1)),K||(ee(W,!0),ee(q,!1));var oe=this.getPoint(),ne=Math.min.apply(Math,Q),he=G?Y.getTangentAtTime(M):Y.getPointAt(ne).subtract(oe),se=G?he.negate():j.getPointAt(-ne).subtract(oe),le=K?q.getTangentAtTime(T):q.getPointAt(ne).subtract(oe),re=K?le.negate():W.getPointAt(-ne).subtract(oe),ge=se.getAngle(),ye=he.getAngle(),Ce=re.getAngle(),_e=le.getAngle();return!!(G?te(ge,Ce,_e)^te(ye,Ce,_e)&&te(ge,_e,Ce)^te(ye,_e,Ce):te(Ce,ge,ye)^te(_e,ge,ye)&&te(Ce,ye,ge)^te(_e,ye,ge))},hasOverlap:function(){return!!this._overlap}},w.each(Le._evaluateMethods,function(k){var M=k+"At";this[k]=function(){var T=this.getCurve(),$=this.getTime();return $!=null&&T&&T[M]($,!0)}},{preserve:!0}),new function(){function k(M,T,$){var R=M.length,G=0,K=R-1;function Y(oe,ne){for(var he=oe+ne;he>=-1&&he<=R;he+=ne){var se=M[(he%R+R)%R];if(!T.getPoint().isClose(se.getPoint(),1e-7))break;if(T.equals(se))return se}return null}for(;G<=K;){var j=G+K>>>1,q=M[j],W;if($&&(W=T.equals(q)?q:Y(j,-1)||Y(j,1)))return T._overlap&&(W._overlap=W._intersection._overlap=!0),W;var Q=T.getPath(),ee=q.getPath(),te=Q!==ee?Q._id-ee._id:T.getIndex()+T.getTime()-(q.getIndex()+q.getTime());te<0?K=j-1:G=j+1}return M.splice(G,0,T),T}return{statics:{insert:k,expand:function(M){for(var T=M.slice(),$=M.length-1;$>=0;$--)k(T,M[$]._intersection,!1);return T}}}}),gt=V.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(k){var M,T,$;if(w.isPlainObject(k)?(T=k.segments,M=k.pathData):Array.isArray(k)?T=k:typeof k=="string"&&(M=k),T){var R=T[0];$=R&&Array.isArray(R[0])}else M&&($=(M.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(M));var G=$?Ot:ct;return new G(k)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(k){this.isClockwise()!=(k=!!k)&&this.reverse()},setPathData:function(k){var M=k&&k.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),T,$=!1,R,G,K=new N,Y=new N;function j(re,ge){var ye=+T[re];return $&&(ye+=K[ge]),ye}function q(re){return new N(j(re,"x"),j(re+1,"y"))}this.clear();for(var W=0,Q=M&&M.length;W<Q;W++){var ee=M[W],te=ee[0],oe=te.toLowerCase();T=ee.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var ne=T&&T.length;switch($=te===oe,R==="z"&&!/[mz]/.test(oe)&&this.moveTo(K),oe){case"m":case"l":for(var he=oe==="m",se=0;se<ne;se+=2)this[he?"moveTo":"lineTo"](K=q(se)),he&&(Y=K,he=!1);G=K;break;case"h":case"v":var le=oe==="h"?"x":"y";K=K.clone();for(var se=0;se<ne;se++)K[le]=j(se,le),this.lineTo(K);G=K;break;case"c":for(var se=0;se<ne;se+=6)this.cubicCurveTo(q(se),G=q(se+2),K=q(se+4));break;case"s":for(var se=0;se<ne;se+=4)this.cubicCurveTo(/[cs]/.test(R)?K.multiply(2).subtract(G):K,G=q(se),K=q(se+2)),R=oe;break;case"q":for(var se=0;se<ne;se+=4)this.quadraticCurveTo(G=q(se),K=q(se+2));break;case"t":for(var se=0;se<ne;se+=2)this.quadraticCurveTo(G=/[qt]/.test(R)?K.multiply(2).subtract(G):K,K=q(se)),R=oe;break;case"a":for(var se=0;se<ne;se+=7)this.arcTo(K=q(se+5),new X(+T[se],+T[se+1]),+T[se+2],+T[se+4],+T[se+3]);break;case"z":this.closePath(1e-12),K=Y;break}R=oe}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(k){var M=k.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(k):{};return M.onPath||!!(this.getFillRule()==="evenodd"?M.windingL&1||M.windingR&1:M.winding)},getIntersections:function(k,M,T,$){var R=this===k||!k,G=this._matrix._orNullIfIdentity(),K=R?G:(T||k._matrix)._orNullIfIdentity();return R||this.getBounds(G).intersects(k.getBounds(K),1e-12)?Le.getIntersections(this.getCurves(),!R&&k.getCurves(),M,G,K,$):[]},getCrossings:function(k){return this.getIntersections(k,function(M){return M.isCrossing()})},getNearestLocation:function(){for(var k=N.read(arguments),M=this.getCurves(),T=1/0,$=null,R=0,G=M.length;R<G;R++){var K=M[R].getNearestLocation(k);K._distance<T&&(T=K._distance,$=K)}return $},getNearestPoint:function(){var k=this.getNearestLocation.apply(this,arguments);return k&&k.getPoint()},interpolate:function(k,M,T){var $=!this._children,R=$?"_segments":"_children",G=k[R],K=M[R],Y=this[R];if(!G||!K||G.length!==K.length)throw new Error("Invalid operands in interpolate() call: "+k+", "+M);var j=Y.length,q=K.length;if(j<q)for(var W=$?Ge:ct,Q=j;Q<q;Q++)this.add(new W);else j>q&&this[$?"removeSegments":"removeChildren"](q,j);for(var Q=0;Q<q;Q++)Y[Q].interpolate(G[Q],K[Q],T);$&&(this.setClosed(k._closed),this._changed(9))},compare:function(k){var M=!1;if(k){var T=this._children||[this],$=k._children?k._children.slice():[k],R=T.length,G=$.length,K=[],Y=0;M=!0;for(var j=L.findItemBoundsCollisions(T,$,F.GEOMETRIC_EPSILON),q=R-1;q>=0&&M;q--){var W=T[q];M=!1;var Q=j[q];if(Q)for(var ee=Q.length-1;ee>=0&&!M;ee--)W.compare($[Q[ee]])&&(K[Q[ee]]||(K[Q[ee]]=!0,Y++),M=!0)}M=M&&Y===G}return M}}),ct=gt.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(M){this._closed=!1,this._segments=[],this._version=0;var T=arguments,$=Array.isArray(M)?typeof M[0]=="object"?M:T:M&&M.size===y&&(M.x!==y||M.point!==y)?T:null;$&&$.length>0?this.setSegments($):(this._curves=y,this._segmentSelection=0,!$&&typeof M=="string"&&(this.setPathData(M),M=null)),this._initialize(!$&&M)},_equals:function(k){return this._closed===k._closed&&w.equals(this._segments,k._segments)},copyContent:function(k){this.setSegments(k._segments),this._closed=k._closed},_changed:function k(M){if(k.base.call(this,M),M&8){if(this._length=this._area=y,M&32)this._version++;else if(this._curves)for(var T=0,$=this._curves.length;T<$;T++)this._curves[T]._changed()}else M&64&&(this._bounds=y)},getStyle:function(){var k=this._parent;return(k instanceof Ot?k:this)._style},getSegments:function(){return this._segments},setSegments:function(k){var M=this.isFullySelected(),T=k&&k.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=y,T){var $=k[T-1];typeof $=="boolean"&&(this.setClosed($),T--),this._add(Ge.readList(k,0,{},T))}M&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var k=this._curves,M=this._segments;if(!k){var T=this._countCurves();k=this._curves=new Array(T);for(var $=0;$<T;$++)k[$]=new Le(this,M[$],M[$+1]||M[0])}return k},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var k=this.getCurves();return k[k.length-1]},isClosed:function(){return this._closed},setClosed:function(k){if(this._closed!=(k=!!k)){if(this._closed=k,this._curves){var M=this._curves.length=this._countCurves();k&&(this._curves[M-1]=new Le(this,this._segments[M-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(k,M){var T=this._segments,$=T.length,R=new O(M),G=new Array(6),K=!0,Y,j,q,W,Q,ee,te,oe,ne=[];function he(le,re){if(le._transformCoordinates(k,G),Y=G[0],j=G[1],K)ne.push("M"+R.pair(Y,j)),K=!1;else if(Q=G[2],ee=G[3],Q===Y&&ee===j&&te===q&&oe===W){if(!re){var ge=Y-q,ye=j-W;ne.push(ge===0?"v"+R.number(ye):ye===0?"h"+R.number(ge):"l"+R.pair(ge,ye))}}else ne.push("c"+R.pair(te-q,oe-W)+" "+R.pair(Q-q,ee-W)+" "+R.pair(Y-q,j-W));q=Y,W=j,te=G[4],oe=G[5]}if(!$)return"";for(var se=0;se<$;se++)he(T[se]);return this._closed&&$>0&&(he(T[0],!0),ne.push("z")),ne.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(k){for(var M=this._segments,T=new Array(6),$=0,R=M.length;$<R;$++)M[$]._transformCoordinates(k,T,!0);return!0},_add:function(k,K){for(var T=this._segments,$=this._curves,R=k.length,G=K==null,K=G?T.length:K,Y=0;Y<R;Y++){var j=k[Y];j._path&&(j=k[Y]=j.clone()),j._path=this,j._index=K+Y,j._selection&&this._updateSelection(j,0,j._selection)}if(G)w.push(T,k);else{T.splice.apply(T,[K,0].concat(k));for(var Y=K+R,q=T.length;Y<q;Y++)T[Y]._index=Y}if($){var W=this._countCurves(),Q=K>0&&K+R-1===W?K-1:K,ee=Q,te=Math.min(Q+R,W);k._curves&&($.splice.apply($,[Q,0].concat(k._curves)),ee+=k._curves.length);for(var Y=ee;Y<te;Y++)$.splice(Y,0,new Le(this,null,null));this._adjustCurves(Q,te)}return this._changed(41),k},_adjustCurves:function(k,M){for(var T=this._segments,$=this._curves,R,G=k;G<M;G++)R=$[G],R._path=this,R._segment1=T[G],R._segment2=T[G+1]||T[0],R._changed();(R=$[this._closed&&!k?T.length-1:k-1])&&(R._segment2=T[k]||T[0],R._changed()),(R=$[M])&&(R._segment1=T[M],R._changed())},_countCurves:function(){var k=this._segments.length;return!this._closed&&k>0?k-1:k},add:function(k){var M=arguments;return M.length>1&&typeof k!="number"?this._add(Ge.readList(M)):this._add([Ge.read(M)])[0]},insert:function(k,M){var T=arguments;return T.length>2&&typeof M!="number"?this._add(Ge.readList(T,1),k):this._add([Ge.read(T,1)],k)[0]},addSegment:function(){return this._add([Ge.read(arguments)])[0]},insertSegment:function(k){return this._add([Ge.read(arguments,1)],k)[0]},addSegments:function(k){return this._add(Ge.readList(k))},insertSegments:function(k,M){return this._add(Ge.readList(M),k)},removeSegment:function(k){return this.removeSegments(k,k+1)[0]||null},removeSegments:function(k,M,T){k=k||0,M=w.pick(M,this._segments.length);var $=this._segments,R=this._curves,G=$.length,K=$.splice(k,M-k),Y=K.length;if(!Y)return K;for(var j=0;j<Y;j++){var q=K[j];q._selection&&this._updateSelection(q,q._selection,0),q._index=q._path=null}for(var j=k,W=$.length;j<W;j++)$[j]._index=j;if(R){for(var Q=k>0&&M===G+(this._closed?1:0)?k-1:k,R=R.splice(Q,Y),j=R.length-1;j>=0;j--)R[j]._path=null;T&&(K._curves=R.slice(1)),this._adjustCurves(Q,Q)}return this._changed(41),K},clear:"#removeSegments",hasHandles:function(){for(var k=this._segments,M=0,T=k.length;M<T;M++)if(k[M].hasHandles())return!0;return!1},clearHandles:function(){for(var k=this._segments,M=0,T=k.length;M<T;M++)k[M].clearHandles()},getLength:function(){if(this._length==null){for(var k=this.getCurves(),M=0,T=0,$=k.length;T<$;T++)M+=k[T].getLength();this._length=M}return this._length},getArea:function(){var k=this._area;if(k==null){var M=this._segments,T=this._closed;k=0;for(var $=0,R=M.length;$<R;$++){var G=$+1===R;k+=Le.getArea(Le.getValues(M[$],M[G?0:$+1],null,G&&!T))}this._area=k}return k},isFullySelected:function(){var k=this._segments.length;return this.isSelected()&&k>0&&this._segmentSelection===k*7},setFullySelected:function(k){k&&this._selectSegments(!0),this.setSelected(k)},setSelection:function k(M){M&1||this._selectSegments(!1),k.base.call(this,M)},_selectSegments:function(k){var M=this._segments,T=M.length,$=k?7:0;this._segmentSelection=$*T;for(var R=0;R<T;R++)M[R]._selection=$},_updateSelection:function(k,M,T){k._selection=T;var $=this._segmentSelection+=T-M;$>0&&this.setSelected(!0)},divideAt:function(k){var M=this.getLocationAt(k),T;return M&&(T=M.getCurve().divideAt(M.getCurveOffset()))?T._segment1:null},splitAt:function(k){var M=this.getLocationAt(k),T=M&&M.index,$=M&&M.time,R=1e-8,G=1-R;$>G&&(T++,$=0);var K=this.getCurves();if(T>=0&&T<K.length){$>=R&&K[T++].divideAtTime($);var Y=this.removeSegments(T,this._segments.length,!0),j;return this._closed?(this.setClosed(!1),j=this):(j=new ct(V.NO_INSERT),j.insertAbove(this),j.copyAttributes(this)),j._add(Y,0),this.addSegment(Y[0]),j}return null},split:function(k,M){var T,$=M===y?k:(T=this.getCurves()[k])&&T.getLocationAtTime(M);return $!=null?this.splitAt($):null},join:function(k,M){var T=M||0;if(k&&k!==this){var $=k._segments,R=this.getLastSegment(),G=k.getLastSegment();if(!G)return this;R&&R._point.isClose(G._point,T)&&k.reverse();var K=k.getFirstSegment();if(R&&R._point.isClose(K._point,T))R.setHandleOut(K._handleOut),this._add($.slice(1));else{var Y=this.getFirstSegment();Y&&Y._point.isClose(K._point,T)&&k.reverse(),G=k.getLastSegment(),Y&&Y._point.isClose(G._point,T)?(Y.setHandleIn(G._handleIn),this._add($.slice(0,$.length-1),0)):this._add($.slice())}k._closed&&this._add([$[0]]),k.remove()}var j=this.getFirstSegment(),q=this.getLastSegment();return j!==q&&j._point.isClose(q._point,T)&&(j.setHandleIn(q._handleIn),q.remove(),this.setClosed(!0)),this},reduce:function(k){for(var M=this.getCurves(),T=k&&k.simplify,$=T?1e-7:0,R=M.length-1;R>=0;R--){var G=M[R];!G.hasHandles()&&(!G.hasLength($)||T&&G.isCollinear(G.getNext()))&&G.remove()}return this},reverse:function(){this._segments.reverse();for(var k=0,M=this._segments.length;k<M;k++){var T=this._segments[k],$=T._handleIn;T._handleIn=T._handleOut,T._handleOut=$,T._index=k}this._curves=null,this._changed(9)},flatten:function(k){for(var M=new ur(this,k||.25,256,!0),T=M.parts,$=T.length,R=[],G=0;G<$;G++)R.push(new Ge(T[G].curve.slice(0,2)));!this._closed&&$>0&&R.push(new Ge(T[$-1].curve.slice(6))),this.setSegments(R)},simplify:function(k){var M=new rr(this).fit(k||2.5);return M&&this.setSegments(M),!!M},smooth:function(k){var M=this,T=k||{},$=T.type||"asymmetric",R=this._segments,G=R.length,K=this._closed;function Y(kr,Rr){var $r=kr&&kr.index;if($r!=null){var Vr=kr.path;if(Vr&&Vr!==M)throw new Error(kr._class+" "+$r+" of "+Vr+" is not part of "+M);Rr&&kr instanceof Le&&$r++}else $r=typeof kr=="number"?kr:Rr;return Math.min($r<0&&K?$r%G:$r<0?$r+G:$r,G-1)}var j=K&&T.from===y&&T.to===y,q=Y(T.from,0),W=Y(T.to,G-1);if(q>W)if(K)q-=G;else{var Q=q;q=W,W=Q}if(/^(?:asymmetric|continuous)$/.test($)){var ee=$==="asymmetric",te=Math.min,oe=W-q+1,ne=oe-1,he=j?te(oe,4):1,se=he,le=he,re=[];if(K||(se=te(1,q),le=te(1,G-W-1)),ne+=se+le,ne<=1)return;for(var ge=0,ye=q-se;ge<=ne;ge++,ye++)re[ge]=R[(ye<0?ye+G:ye)%G]._point;for(var Ce=re[0]._x+2*re[1]._x,_e=re[0]._y+2*re[1]._y,Ie=2,Be=ne-1,ze=[Ce],Ke=[_e],Re=[Ie],We=[],Qe=[],ge=1;ge<ne;ge++){var it=ge<Be,tt=it||ee?1:2,yt=it?4:ee?2:7,Ft=it?4:ee?3:8,Jt=it?2:ee?0:1,lr=tt/Ie;Ie=Re[ge]=yt-lr,Ce=ze[ge]=Ft*re[ge]._x+Jt*re[ge+1]._x-lr*Ce,_e=Ke[ge]=Ft*re[ge]._y+Jt*re[ge+1]._y-lr*_e}We[Be]=ze[Be]/Re[Be],Qe[Be]=Ke[Be]/Re[Be];for(var ge=ne-2;ge>=0;ge--)We[ge]=(ze[ge]-We[ge+1])/Re[ge],Qe[ge]=(Ke[ge]-Qe[ge+1])/Re[ge];We[ne]=(3*re[ne]._x-We[Be])/2,Qe[ne]=(3*re[ne]._y-Qe[Be])/2;for(var ge=se,Cr=ne-le,ye=q;ge<=Cr;ge++,ye++){var Mt=R[ye<0?ye+G:ye],Dt=Mt._point,fr=We[ge]-Dt._x,Sr=Qe[ge]-Dt._y;(j||ge<Cr)&&Mt.setHandleOut(fr,Sr),(j||ge>se)&&Mt.setHandleIn(-fr,-Sr)}}else for(var ge=q;ge<=W;ge++)R[ge<0?ge+G:ge].smooth(T,!j&&ge===q,!j&&ge===W)},toShape:function(k){if(!this._closed)return null;var M=this._segments,T,$,R,G;function K(ee,te){var oe=M[ee],ne=oe.getNext(),he=M[te],se=he.getNext();return oe._handleOut.isZero()&&ne._handleIn.isZero()&&he._handleOut.isZero()&&se._handleIn.isZero()&&ne._point.subtract(oe._point).isCollinear(se._point.subtract(he._point))}function Y(ee){var te=M[ee],oe=te.getPrevious(),ne=te.getNext();return oe._handleOut.isZero()&&te._handleIn.isZero()&&te._handleOut.isZero()&&ne._handleIn.isZero()&&te._point.subtract(oe._point).isOrthogonal(ne._point.subtract(te._point))}function j(ee){var te=M[ee],oe=te.getNext(),ne=te._handleOut,he=oe._handleIn,se=.5522847498307936;if(ne.isOrthogonal(he)){var le=te._point,re=oe._point,ge=new de(le,ne,!0).intersect(new de(re,he,!0),!0);return ge&&F.isZero(ne.getLength()/ge.subtract(le).getLength()-se)&&F.isZero(he.getLength()/ge.subtract(re).getLength()-se)}return!1}function q(ee,te){return M[ee]._point.getDistance(M[te]._point)}if(!this.hasHandles()&&M.length===4&&K(0,2)&&K(1,3)&&Y(1)?(T=be.Rectangle,$=new X(q(0,3),q(0,1)),G=M[1]._point.add(M[2]._point).divide(2)):M.length===8&&j(0)&&j(2)&&j(4)&&j(6)&&K(1,5)&&K(3,7)?(T=be.Rectangle,$=new X(q(1,6),q(0,3)),R=$.subtract(new X(q(0,7),q(1,2))).divide(2),G=M[3]._point.add(M[4]._point).divide(2)):M.length===4&&j(0)&&j(1)&&j(2)&&j(3)&&(F.isZero(q(0,2)-q(1,3))?(T=be.Circle,R=q(0,2)/2):(T=be.Ellipse,R=new X(q(2,0)/2,q(3,1)/2)),G=M[1]._point),T){var W=this.getPosition(!0),Q=new T({center:W,size:$,radius:R,insert:!1});return Q.copyAttributes(this,!0),Q._matrix.prepend(this._matrix),Q.rotate(G.subtract(W).getAngle()+90),(k===y||k)&&Q.insertAbove(this),Q}return null},toPath:"#clone",compare:function k(M){if(!M||M instanceof Ot)return k.base.call(this,M);var T=this.getCurves(),$=M.getCurves(),R=T.length,G=$.length;if(!R||!G)return R==G;for(var K=T[0].getValues(),Y=[],j=0,q,W=0,Q,ee=0;ee<G;ee++){var he=$[ee].getValues();Y.push(he);var te=Le.getOverlaps(K,he);if(te){q=!ee&&te[0][0]>0?G-1:ee,Q=te[0][1];break}}for(var oe=Math.abs,ne=1e-8,he=Y[q],se;K&&he;){var te=Le.getOverlaps(K,he);if(te){var le=te[0][0];if(oe(le-W)<ne){W=te[1][0],W===1&&(K=++j<R?T[j].getValues():null,W=0);var re=te[0][1];if(oe(re-Q)<ne){if(se||(se=[q,re]),Q=te[1][1],Q===1&&(++q>=G&&(q=0),he=Y[q]||$[q].getValues(),Q=0),!K)return se[0]===q&&se[1]===Q;continue}}}break}return!1},_hitTestSelf:function(k,M,T,$){var R=this,G=this.getStyle(),K=this._segments,Y=K.length,j=this._closed,q=M._tolerancePadding,W=q,Q,ee,te,oe,ne,he,se=M.stroke&&G.hasStroke(),le=M.fill&&G.hasFill(),re=M.curves,ge=se?G.getStrokeWidth()/2:le&&M.tolerance>0||re?0:null;ge!==null&&(ge>0?(Q=G.getStrokeJoin(),ee=G.getStrokeCap(),te=G.getMiterLimit(),W=W.add(ct._getStrokePadding(ge,$))):Q=ee="round");function ye(We,Qe){return k.subtract(We).divide(Qe).length<=1}function Ce(We,Qe,it){if(!M.selected||Qe.isSelected()){var tt=We._point;if(Qe!==tt&&(Qe=Qe.add(tt)),ye(Qe,W))return new Me(it,R,{segment:We,point:Qe})}}function _e(We,Qe){return(Qe||M.segments)&&Ce(We,We._point,"segment")||!Qe&&M.handles&&(Ce(We,We._handleIn,"handle-in")||Ce(We,We._handleOut,"handle-out"))}function Ie(We){oe.add(We)}function Be(We){var Qe=j||We._index>0&&We._index<Y-1;if((Qe?Q:ee)==="round")return ye(We._point,W);if(oe=new ct({internal:!0,closed:!0}),Qe?We.isSmooth()||ct._addBevelJoin(We,Q,ge,te,null,$,Ie,!0):ee==="square"&&ct._addSquareCap(We,ee,ge,null,$,Ie,!0),!oe.isEmpty()){var it;return oe.contains(k)||(it=oe.getNearestLocation(k))&&ye(it.getPoint(),q)}}if(M.ends&&!M.segments&&!j){if(he=_e(K[0],!0)||_e(K[Y-1],!0))return he}else if(M.segments||M.handles){for(var ze=0;ze<Y;ze++)if(he=_e(K[ze]))return he}if(ge!==null){if(ne=this.getNearestLocation(k),ne){var Ke=ne.getTime();Ke===0||Ke===1&&Y>1?Be(ne.getSegment())||(ne=null):ye(ne.getPoint(),W)||(ne=null)}if(!ne&&Q==="miter"&&Y>1)for(var ze=0;ze<Y;ze++){var Re=K[ze];if(k.getDistance(Re._point)<=te*ge&&Be(Re)){ne=Re.getLocation();break}}}return!ne&&le&&this._contains(k)||ne&&!se&&!re?new Me("fill",this):ne?new Me(se?"stroke":"curve",this,{location:ne,point:ne.getPoint()}):null}},w.each(Le._evaluateMethods,function(k){this[k+"At"]=function(M){var T=this.getLocationAt(M);return T&&T[k]()}},{beans:!1,getLocationOf:function(){for(var k=N.read(arguments),M=this.getCurves(),T=0,$=M.length;T<$;T++){var R=M[T].getLocationOf(k);if(R)return R}return null},getOffsetOf:function(){var k=this.getLocationOf.apply(this,arguments);return k?k.getOffset():null},getLocationAt:function(k){if(typeof k=="number"){for(var M=this.getCurves(),T=0,$=0,R=M.length;$<R;$++){var G=T,K=M[$];if(T+=K.getLength(),T>k)return K.getLocationAt(k-G)}if(M.length>0&&k<=this.getLength())return new Je(M[M.length-1],1)}else if(k&&k.getPath&&k.getPath()===this)return k;return null},getOffsetsWithTangent:function(){var k=N.read(arguments);if(k.isZero())return[];for(var M=[],T=0,$=this.getCurves(),R=0,G=$.length;R<G;R++){for(var K=$[R],Y=K.getTimesWithTangent(k),j=0,q=Y.length;j<q;j++){var W=T+K.getOffsetAtTime(Y[j]);M.indexOf(W)<0&&M.push(W)}T+=K.length}return M}}),new function(){function k(T,$,R,G){if(G<=0)return;var K=G/2,Y=G-2,j=K-1,q=new Array(6),W,Q;function ee(le){var re=q[le],ge=q[le+1];(W!=re||Q!=ge)&&(T.beginPath(),T.moveTo(W,Q),T.lineTo(re,ge),T.stroke(),T.beginPath(),T.arc(re,ge,K,0,Math.PI*2,!0),T.fill())}for(var te=0,oe=$.length;te<oe;te++){var ne=$[te],he=ne._selection;if(ne._transformCoordinates(R,q),W=q[0],Q=q[1],he&2&&ee(2),he&4&&ee(4),T.fillRect(W-K,Q-K,G,G),Y>0&&!(he&1)){var se=T.fillStyle;T.fillStyle="#ffffff",T.fillRect(W-j,Q-j,Y,Y),T.fillStyle=se}}}function M(T,$,R){var G=$._segments,K=G.length,Y=new Array(6),j=!0,q,W,Q,ee,te,oe,ne,he;function se(re){if(R)re._transformCoordinates(R,Y),q=Y[0],W=Y[1];else{var ge=re._point;q=ge._x,W=ge._y}if(j)T.moveTo(q,W),j=!1;else{if(R)te=Y[2],oe=Y[3];else{var ye=re._handleIn;te=q+ye._x,oe=W+ye._y}te===q&&oe===W&&ne===Q&&he===ee?T.lineTo(q,W):T.bezierCurveTo(ne,he,te,oe,q,W)}if(Q=q,ee=W,R)ne=Y[4],he=Y[5];else{var ye=re._handleOut;ne=Q+ye._x,he=ee+ye._y}}for(var le=0;le<K;le++)se(G[le]);$._closed&&K>0&&se(G[0])}return{_draw:function(T,$,R,G){var K=$.dontStart,Y=$.dontFinish||$.clip,j=this.getStyle(),q=j.hasFill(),W=j.hasStroke(),Q=j.getDashArray(),ee=!ut.support.nativeDash&&W&&Q&&Q.length;K||T.beginPath(),(q||W&&!ee||Y)&&(M(T,this,G),this._closed&&T.closePath());function te(re){return Q[(re%ee+ee)%ee]}if(!Y&&(q||W)&&(this._setStyles(T,$,R),q&&(T.fill(j.getFillRule()),T.shadowColor="rgba(0,0,0,0)"),W)){if(ee){K||T.beginPath();for(var oe=new ur(this,.25,32,!1,G),ne=oe.length,he=-j.getDashOffset(),se,le=0;he>0;)he-=te(le--)+te(le--);for(;he<ne;)se=he+te(le++),(he>0||se>0)&&oe.drawPart(T,Math.max(he,0),Math.max(se,0)),he=se+te(le++)}T.stroke()}},_drawSelected:function(T,$){T.beginPath(),M(T,this,$),T.stroke(),k(T,this._segments,$,ut.settings.handleSize)}}},new function(){function k(M){var T=M._segments;if(!T.length)throw new Error("Use a moveTo() command first");return T[T.length-1]}return{moveTo:function(){var M=this._segments;M.length===1&&this.removeSegment(0),M.length||this._add([new Ge(N.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new Ge(N.read(arguments))])},cubicCurveTo:function(){var M=arguments,T=N.read(M),$=N.read(M),R=N.read(M),G=k(this);G.setHandleOut(T.subtract(G._point)),this._add([new Ge(R,$.subtract(R))])},quadraticCurveTo:function(){var M=arguments,T=N.read(M),$=N.read(M),R=k(this)._point;this.cubicCurveTo(T.add(R.subtract(T).multiply(1/3)),T.add($.subtract(T).multiply(1/3)),$)},curveTo:function(){var M=arguments,T=N.read(M),$=N.read(M),R=w.pick(w.read(M),.5),G=1-R,K=k(this)._point,Y=T.subtract(K.multiply(G*G)).subtract($.multiply(R*R)).divide(2*R*G);if(Y.isNaN())throw new Error("Cannot put a curve through points with parameter = "+R);this.quadraticCurveTo(Y,$)},arcTo:function(){var M=arguments,T=Math.abs,$=Math.sqrt,R=k(this),G=R._point,K=N.read(M),Y,j=w.peek(M),q=w.pick(j,!0),W,Q,ee,te;if(typeof q=="boolean")var oe=G.add(K).divide(2),Y=oe.add(oe.subtract(G).rotate(q?-90:90));else if(w.remain(M)<=2)Y=K,K=N.read(M);else if(!G.equals(K)){var ne=X.read(M),he=F.isZero;if(he(ne.width)||he(ne.height))return this.lineTo(K);var se=w.read(M),q=!!w.read(M),le=!!w.read(M),oe=G.add(K).divide(2),re=G.subtract(oe).rotate(-se),ge=re.x,ye=re.y,Ce=T(ne.width),_e=T(ne.height),Ie=Ce*Ce,Be=_e*_e,ze=ge*ge,Ke=ye*ye,Re=$(ze/Ie+Ke/Be);if(Re>1&&(Ce*=Re,_e*=Re,Ie=Ce*Ce,Be=_e*_e),Re=(Ie*Be-Ie*Ke-Be*ze)/(Ie*Ke+Be*ze),T(Re)<1e-12&&(Re=0),Re<0)throw new Error("Cannot create an arc with the given arguments");W=new N(Ce*ye/_e,-_e*ge/Ce).multiply((le===q?-1:1)*$(Re)).rotate(se).add(oe),te=new pe().translate(W).rotate(se).scale(Ce,_e),ee=te._inverseTransform(G),Q=ee.getDirectedAngle(te._inverseTransform(K)),!q&&Q>0?Q-=360:q&&Q<0&&(Q+=360)}if(Y){var We=new de(G.add(Y).divide(2),Y.subtract(G).rotate(90),!0),Qe=new de(Y.add(K).divide(2),K.subtract(Y).rotate(90),!0),it=new de(G,K),tt=it.getSide(Y);if(W=We.intersect(Qe,!0),!W){if(!tt)return this.lineTo(K);throw new Error("Cannot create an arc with the given arguments")}ee=G.subtract(W),Q=ee.getDirectedAngle(K.subtract(W));var yt=it.getSide(W,!0);yt===0?Q=tt*T(Q):tt===yt&&(Q+=Q<0?360:-360)}if(Q){for(var Ft=1e-5,Jt=T(Q),lr=Jt>=360?4:Math.ceil((Jt-Ft)/90),Cr=Q/lr,Mt=Cr*Math.PI/360,Dt=4/3*Math.sin(Mt)/(1+Math.cos(Mt)),fr=[],Sr=0;Sr<=lr;Sr++){var re=K,kr=null;if(Sr<lr&&(kr=ee.rotate(90).multiply(Dt),te?(re=te._transformPoint(ee),kr=te._transformPoint(ee.add(kr)).subtract(re)):re=W.add(ee)),!Sr)R.setHandleOut(kr);else{var Rr=ee.rotate(-90).multiply(Dt);te&&(Rr=te._transformPoint(ee.add(Rr)).subtract(re)),fr.push(new Ge(re,Rr,kr))}ee=ee.rotate(Cr)}this._add(fr)}},lineBy:function(){var M=N.read(arguments),T=k(this)._point;this.lineTo(T.add(M))},curveBy:function(){var M=arguments,T=N.read(M),$=N.read(M),R=w.read(M),G=k(this)._point;this.curveTo(G.add(T),G.add($),R)},cubicCurveBy:function(){var M=arguments,T=N.read(M),$=N.read(M),R=N.read(M),G=k(this)._point;this.cubicCurveTo(G.add(T),G.add($),G.add(R))},quadraticCurveBy:function(){var M=arguments,T=N.read(M),$=N.read(M),R=k(this)._point;this.quadraticCurveTo(R.add(T),R.add($))},arcBy:function(){var M=arguments,T=k(this)._point,$=T.add(N.read(M)),R=w.pick(w.peek(M),!0);typeof R=="boolean"?this.arcTo($,R):this.arcTo($,T.add(N.read(M)))},closePath:function(M){this.setClosed(!0),this.join(this,M)}}},{_getBounds:function(k,M){var T=M.handle?"getHandleBounds":M.stroke?"getStrokeBounds":"getBounds";return ct[T](this._segments,this._closed,this,k,M)},statics:{getBounds:function(k,M,T,$,R,G){var K=k[0];if(!K)return new ae;var Y=new Array(6),j=K._transformCoordinates($,new Array(6)),q=j.slice(0,2),W=q.slice(),Q=new Array(2);function ee(ne){ne._transformCoordinates($,Y);for(var he=0;he<2;he++)Le._addBounds(j[he],j[he+4],Y[he+2],Y[he],he,G?G[he]:0,q,W,Q);var se=j;j=Y,Y=se}for(var te=1,oe=k.length;te<oe;te++)ee(k[te]);return M&&ee(K),new ae(q[0],q[1],W[0]-q[0],W[1]-q[1])},getStrokeBounds:function(k,M,T,$,R){var G=T.getStyle(),K=G.hasStroke(),Y=G.getStrokeWidth(),j=K&&T._getStrokeMatrix($,R),q=K&&ct._getStrokePadding(Y,j),W=ct.getBounds(k,M,T,$,R,q);if(!K)return W;var Q=Y/2,ee=G.getStrokeJoin(),te=G.getStrokeCap(),oe=G.getMiterLimit(),ne=new ae(new X(q));function he(Ce){W=W.include(Ce)}function se(Ce){W=W.unite(ne.setCenter(Ce._point.transform($)))}function le(Ce,_e){_e==="round"||Ce.isSmooth()?se(Ce):ct._addBevelJoin(Ce,_e,Q,oe,$,j,he)}function re(Ce,_e){_e==="round"?se(Ce):ct._addSquareCap(Ce,_e,Q,$,j,he)}var ge=k.length-(M?0:1);if(ge>0){for(var ye=1;ye<ge;ye++)le(k[ye],ee);M?le(k[0],ee):(re(k[0],te),re(k[k.length-1],te))}return W},_getStrokePadding:function(k,M){if(!M)return[k,k];var T=new N(k,0).transform(M),$=new N(0,k).transform(M),R=T.getAngleInRadians(),G=T.getLength(),K=$.getLength(),Y=Math.sin(R),j=Math.cos(R),q=Math.tan(R),W=Math.atan2(K*q,G),Q=Math.atan2(K,q*G);return[Math.abs(G*Math.cos(W)*j+K*Math.sin(W)*Y),Math.abs(K*Math.sin(Q)*j+G*Math.cos(Q)*Y)]},_addBevelJoin:function(k,M,T,$,R,G,K,Y){var j=k.getCurve(),q=j.getPrevious(),W=j.getPoint1().transform(R),Q=q.getNormalAtTime(1).multiply(T).transform(G),ee=j.getNormalAtTime(0).multiply(T).transform(G),te=Q.getDirectedAngle(ee);if((te<0||te>=180)&&(Q=Q.negate(),ee=ee.negate()),Y&&K(W),K(W.add(Q)),M==="miter"){var oe=new de(W.add(Q),new N(-Q.y,Q.x),!0).intersect(new de(W.add(ee),new N(-ee.y,ee.x),!0),!0);oe&&W.getDistance(oe)<=$*T&&K(oe)}K(W.add(ee))},_addSquareCap:function(k,M,T,$,R,G,K){var Y=k._point.transform($),j=k.getLocation(),q=j.getNormal().multiply(j.getTime()===0?T:-T).transform(R);M==="square"&&(K&&(G(Y.subtract(q)),G(Y.add(q))),Y=Y.add(q.rotate(-90))),G(Y.add(q)),G(Y.subtract(q))},getHandleBounds:function(k,M,T,$,R){var G=T.getStyle(),K=R.stroke&&G.hasStroke(),Y,j;if(K){var q=T._getStrokeMatrix($,R),W=G.getStrokeWidth()/2,Q=W;G.getStrokeJoin()==="miter"&&(Q=W*G.getMiterLimit()),G.getStrokeCap()==="square"&&(Q=Math.max(Q,W*Math.SQRT2)),Y=ct._getStrokePadding(W,q),j=ct._getStrokePadding(Q,q)}for(var ee=new Array(6),te=1/0,oe=-te,ne=te,he=oe,se=0,le=k.length;se<le;se++){var re=k[se];re._transformCoordinates($,ee);for(var ge=0;ge<6;ge+=2){var ye=ge?Y:j,Ce=ye?ye[0]:0,_e=ye?ye[1]:0,Ie=ee[ge],Be=ee[ge+1],ze=Ie-Ce,Ke=Ie+Ce,Re=Be-_e,We=Be+_e;ze<te&&(te=ze),Ke>oe&&(oe=Ke),Re<ne&&(ne=Re),We>he&&(he=We)}}return new ae(te,ne,oe-te,he-ne)}}});ct.inject({statics:new function(){var k=.5522847498307936,M=[new Ge([-1,0],[0,k],[0,-.5522847498307936]),new Ge([0,-1],[-.5522847498307936,0],[k,0]),new Ge([1,0],[0,-.5522847498307936],[0,k]),new Ge([0,1],[k,0],[-.5522847498307936,0])];function T(R,G,K){var Y=w.getNamed(K),j=new ct(Y&&(Y.insert==!0?V.INSERT:Y.insert==!1?V.NO_INSERT:null));return j._add(R),j._closed=G,j.set(Y,V.INSERT)}function $(R,G,K){for(var Y=new Array(4),j=0;j<4;j++){var q=M[j];Y[j]=new Ge(q._point.multiply(G).add(R),q._handleIn.multiply(G),q._handleOut.multiply(G))}return T(Y,!0,K)}return{Line:function(){var R=arguments;return T([new Ge(N.readNamed(R,"from")),new Ge(N.readNamed(R,"to"))],!1,R)},Circle:function(){var R=arguments,G=N.readNamed(R,"center"),K=w.readNamed(R,"radius");return $(G,new X(K),R)},Rectangle:function(){var R=arguments,G=ae.readNamed(R,"rectangle"),K=X.readNamed(R,"radius",0,{readNull:!0}),Y=G.getBottomLeft(!0),j=G.getTopLeft(!0),q=G.getTopRight(!0),W=G.getBottomRight(!0),Q;if(!K||K.isZero())Q=[new Ge(Y),new Ge(j),new Ge(q),new Ge(W)];else{K=X.min(K,G.getSize(!0).divide(2));var ee=K.width,te=K.height,oe=ee*k,ne=te*k;Q=[new Ge(Y.add(ee,0),null,[-oe,0]),new Ge(Y.subtract(0,te),[0,ne]),new Ge(j.add(0,te),null,[0,-ne]),new Ge(j.add(ee,0),[-oe,0],null),new Ge(q.subtract(ee,0),null,[oe,0]),new Ge(q.add(0,te),[0,-ne],null),new Ge(W.subtract(0,te),null,[0,ne]),new Ge(W.subtract(ee,0),[oe,0])]}return T(Q,!0,R)},RoundRectangle:"#Rectangle",Ellipse:function(){var R=arguments,G=be._readEllipse(R);return $(G.center,G.radius,R)},Oval:"#Ellipse",Arc:function(){var R=arguments,G=N.readNamed(R,"from"),K=N.readNamed(R,"through"),Y=N.readNamed(R,"to"),j=w.getNamed(R),q=new ct(j&&j.insert==!1&&V.NO_INSERT);return q.moveTo(G),q.arcTo(K,Y),q.set(j)},RegularPolygon:function(){for(var R=arguments,G=N.readNamed(R,"center"),K=w.readNamed(R,"sides"),Y=w.readNamed(R,"radius"),j=360/K,q=K%3===0,W=new N(0,q?-Y:Y),Q=q?-1:.5,ee=new Array(K),te=0;te<K;te++)ee[te]=new Ge(G.add(W.rotate((te+Q)*j)));return T(ee,!0,R)},Star:function(){for(var R=arguments,G=N.readNamed(R,"center"),K=w.readNamed(R,"points")*2,Y=w.readNamed(R,"radius1"),j=w.readNamed(R,"radius2"),q=360/K,W=new N(0,-1),Q=new Array(K),ee=0;ee<K;ee++)Q[ee]=new Ge(G.add(W.rotate(q*ee).multiply(ee%2?j:Y)));return T(Q,!0,R)}}}});var Ot=gt.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(M){this._children=[],this._namedChildren={},this._initialize(M)||(typeof M=="string"?this.setPathData(M):this.addChildren(Array.isArray(M)?M:arguments))},insertChildren:function k(M,T){var $=T,R=$[0];R&&typeof R[0]=="number"&&($=[$]);for(var G=T.length-1;G>=0;G--){var K=$[G];$===T&&!(K instanceof ct)&&($=w.slice($)),Array.isArray(K)?$[G]=new ct({segments:K,insert:!1}):K instanceof Ot&&($.splice.apply($,[G,1].concat(K.removeChildren())),K.remove())}return k.base.call(this,M,$)},reduce:function k(M){for(var T=this._children,$=T.length-1;$>=0;$--){var R=T[$].reduce(M);R.isEmpty()&&R.remove()}if(!T.length){var R=new ct(V.NO_INSERT);return R.copyAttributes(this),R.insertAbove(this),this.remove(),R}return k.base.call(this)},isClosed:function(){for(var k=this._children,M=0,T=k.length;M<T;M++)if(!k[M]._closed)return!1;return!0},setClosed:function(k){for(var M=this._children,T=0,$=M.length;T<$;T++)M[T].setClosed(k)},getFirstSegment:function(){var k=this.getFirstChild();return k&&k.getFirstSegment()},getLastSegment:function(){var k=this.getLastChild();return k&&k.getLastSegment()},getCurves:function(){for(var k=this._children,M=[],T=0,$=k.length;T<$;T++)w.push(M,k[T].getCurves());return M},getFirstCurve:function(){var k=this.getFirstChild();return k&&k.getFirstCurve()},getLastCurve:function(){var k=this.getLastChild();return k&&k.getLastCurve()},getArea:function(){for(var k=this._children,M=0,T=0,$=k.length;T<$;T++)M+=k[T].getArea();return M},getLength:function(){for(var k=this._children,M=0,T=0,$=k.length;T<$;T++)M+=k[T].getLength();return M},getPathData:function(k,M){for(var T=this._children,$=[],R=0,G=T.length;R<G;R++){var K=T[R],Y=K._matrix;$.push(K.getPathData(k&&!Y.isIdentity()?k.appended(Y):k,M))}return $.join("")},_hitTestChildren:function k(M,T,$){return k.base.call(this,M,T.class===ct||T.type==="path"?T:w.set({},T,{fill:!1}),$)},_draw:function(k,M,T,$){var R=this._children;if(R.length){M=M.extend({dontStart:!0,dontFinish:!0}),k.beginPath();for(var G=0,K=R.length;G<K;G++)R[G].draw(k,M,$);if(!M.clip){this._setStyles(k,M,T);var Y=this._style;Y.hasFill()&&(k.fill(Y.getFillRule()),k.shadowColor="rgba(0,0,0,0)"),Y.hasStroke()&&k.stroke()}}},_drawSelected:function(k,M,T){for(var $=this._children,R=0,G=$.length;R<G;R++){var K=$[R],Y=K._matrix;T[K._id]||K._drawSelected(k,Y.isIdentity()?M:M.appended(Y))}}},new function(){function k(M,T){var $=M._children;if(T&&!$.length)throw new Error("Use a moveTo() command first");return $[$.length-1]}return w.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(M){this[M]=function(){var T=k(this,!0);T[M].apply(T,arguments)}},{moveTo:function(){var M=k(this),T=M&&M.isEmpty()?M:new ct(V.NO_INSERT);T!==M&&this.addChild(T),T.moveTo.apply(T,arguments)},moveBy:function(){var M=k(this,!0),T=M&&M.getLastSegment(),$=N.read(arguments);this.moveTo(T?$.add(T._point):$)},closePath:function(M){k(this,!0).closePath(M)}})},w.each(["reverse","flatten","simplify","smooth"],function(k){this[k]=function(M){for(var T=this._children,$,R=0,G=T.length;R<G;R++)$=T[R][k](M)||$;return $}},{}));gt.inject(new function(){var k=Math.min,M=Math.max,T=Math.abs,$={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function R(se){return se._children||[se]}function G(se,le){var re=se.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(le){for(var ge=R(re),ye=0,Ce=ge.length;ye<Ce;ye++){var se=ge[ye];!se._closed&&!se.isEmpty()&&(se.closePath(1e-12),se.getFirstSegment().setHandleIn(0,0),se.getLastSegment().setHandleOut(0,0))}re=re.resolveCrossings().reorient(re.getFillRule()==="nonzero",!0)}return re}function K(se,le,re,ge,ye){var Ce=new Ot(V.NO_INSERT);return Ce.addChildren(se,!0),Ce=Ce.reduce({simplify:le}),ye&&ye.insert==!1||Ce.insertAbove(ge&&re.isSibling(ge)&&re.getIndex()<ge.getIndex()?ge:re),Ce.copyAttributes(re,!0),Ce}function Y(se){return se.hasOverlap()||se.isCrossing()}function j(se,le,re,ge){if(ge&&(ge.trace==!1||ge.stroke)&&/^(subtract|intersect)$/.test(re))return q(se,le,re);var ye=G(se,!0),Ce=le&&se!==le&&G(le,!0),_e=$[re];_e[re]=!0,Ce&&(_e.subtract||_e.exclude)^(Ce.isClockwise()^ye.isClockwise())&&Ce.reverse();var Ie=te(Je.expand(ye.getIntersections(Ce,Y))),Be=R(ye),ze=Ce&&R(Ce),Ke=[],Re=[],We;function Qe(kr){for(var Rr=0,$r=kr.length;Rr<$r;Rr++){var Vr=kr[Rr];w.push(Ke,Vr._segments),w.push(Re,Vr.getCurves()),Vr._overlapsOnly=!0}}function it(kr){for(var Rr=[],$r=0,Vr=kr&&kr.length;$r<Vr;$r++)Rr.push(Re[kr[$r]]);return Rr}if(Ie.length){Qe(Be),ze&&Qe(ze);for(var tt=new Array(Re.length),yt=0,Ft=Re.length;yt<Ft;yt++)tt[yt]=Re[yt].getValues();for(var Jt=L.findCurveBoundsCollisions(tt,tt,0,!0),lr={},yt=0;yt<Re.length;yt++){var Cr=Re[yt],Mt=Cr._path._id,Dt=lr[Mt]=lr[Mt]||{};Dt[Cr.getIndex()]={hor:it(Jt[yt].hor),ver:it(Jt[yt].ver)}}for(var yt=0,Ft=Ie.length;yt<Ft;yt++)ne(Ie[yt]._segment,ye,Ce,lr,_e);for(var yt=0,Ft=Ke.length;yt<Ft;yt++){var fr=Ke[yt],Sr=fr._intersection;fr._winding||ne(fr,ye,Ce,lr,_e),Sr&&Sr._overlap||(fr._path._overlapsOnly=!1)}We=he(Ke,_e)}else We=ee(ze?Be.concat(ze):Be.slice(),function(kr){return!!_e[kr]});return K(We,!0,se,le,ge)}function q(se,le,re){var ge=G(se),ye=G(le),Ce=ge.getIntersections(ye,Y),_e=re==="subtract",Ie=re==="divide",Be={},ze=[];function Ke(Qe){if(!Be[Qe._id]&&(Ie||ye.contains(Qe.getPointAt(Qe.getLength()/2))^_e))return ze.unshift(Qe),Be[Qe._id]=!0}for(var Re=Ce.length-1;Re>=0;Re--){var We=Ce[Re].split();We&&(Ke(We)&&We.getFirstSegment().setHandleIn(0,0),ge.getLastSegment().setHandleOut(0,0))}return Ke(ge),K(ze,!1,se,le)}function W(se,le){for(var re=se;re;){if(re===le)return;re=re._previous}for(;se._next&&se._next!==le;)se=se._next;if(!se._next){for(;le._previous;)le=le._previous;se._next=le,le._previous=se}}function Q(se){for(var le=se.length-1;le>=0;le--)se[le].clearHandles()}function ee(se,le,re){var ge=se&&se.length;if(ge){var ye=w.each(se,function(Jt,lr){this[Jt._id]={container:null,winding:Jt.isClockwise()?1:-1,index:lr}},{}),Ce=se.slice().sort(function(Jt,lr){return T(lr.getArea())-T(Jt.getArea())}),_e=Ce[0],Ie=L.findItemBoundsCollisions(Ce,null,F.GEOMETRIC_EPSILON);re==null&&(re=_e.isClockwise());for(var Be=0;Be<ge;Be++){var ze=Ce[Be],Ke=ye[ze._id],Re=0,We=Ie[Be];if(We){for(var Qe=null,it=We.length-1;it>=0;it--)if(We[it]<Be){Qe=Qe||ze.getInteriorPoint();var tt=Ce[We[it]];if(tt.contains(Qe)){var yt=ye[tt._id];Re=yt.winding,Ke.winding+=Re,Ke.container=yt.exclude?yt.container:tt;break}}}if(le(Ke.winding)===le(Re))Ke.exclude=!0,se[Ke.index]=null;else{var Ft=Ke.container;ze.setClockwise(Ft?!Ft.isClockwise():re)}}}return se}function te(se,le,re){var ge=le&&[],ye=1e-8,Ce=1-ye,_e=!1,Ie=re||[],Be=re&&{},ze,Ke,Re;function We(Rr){return Rr._path._id+"."+Rr._segment1._index}for(var Qe=(re&&re.length)-1;Qe>=0;Qe--){var it=re[Qe];it._path&&(Be[We(it)]=!0)}for(var Qe=se.length-1;Qe>=0;Qe--){var tt=se[Qe],yt=tt._time,Ft=yt,Jt=le&&!le(tt),it=tt._curve,lr;if(it&&(it!==Ke?(_e=!it.hasHandles()||Be&&Be[We(it)],ze=[],Re=null,Ke=it):Re>=ye&&(yt/=Re)),Jt){ze&&ze.push(tt);continue}else le&&ge.unshift(tt);if(Re=Ft,yt<ye)lr=it._segment1;else if(yt>Ce)lr=it._segment2;else{var Cr=it.divideAtTime(yt,!0);_e&&Ie.push(it,Cr),lr=Cr._segment1;for(var Mt=ze.length-1;Mt>=0;Mt--){var Dt=ze[Mt];Dt._time=(Dt._time-yt)/(1-yt)}}tt._setSegment(lr);var fr=lr._intersection,Sr=tt._intersection;if(fr){W(fr,Sr);for(var kr=fr;kr;)W(kr._intersection,fr),kr=kr._next}else lr._intersection=Sr}return re||Q(Ie),ge||se}function oe(se,le,re,ge,ye){var Ce=Array.isArray(le)?le:le[re?"hor":"ver"],_e=re?1:0,Ie=_e^1,Be=[se.x,se.y],ze=Be[_e],Ke=Be[Ie],Re=1e-9,We=1e-6,Qe=ze-Re,it=ze+Re,tt=0,yt=0,Ft=0,Jt=0,lr=!1,Cr=!1,Mt=1,Dt=[],fr,Sr;function kr(rn){var sn=rn[Ie+0],ti=rn[Ie+6];if(!(Ke<k(sn,ti)||Ke>M(sn,ti))){var Dn=rn[_e+0],si=rn[_e+2],Li=rn[_e+4],gi=rn[_e+6];if(sn===ti){(Dn<it&&gi>Qe||gi<it&&Dn>Qe)&&(lr=!0);return}var ci=Ke===sn?0:Ke===ti||Qe>M(Dn,si,Li,gi)||it<k(Dn,si,Li,gi)?1:Le.solveCubic(rn,Ie,Ke,Dt,0,1)>0?Dt[0]:1,Fn=ci===0?Dn:ci===1?gi:Le.getPoint(rn,ci)[re?"y":"x"],Yn=sn>ti?1:-1,Un=fr[Ie]>fr[Ie+6]?1:-1,xn=fr[_e+6];return Ke!==sn?(Fn<Qe?Ft+=Yn:Fn>it?Jt+=Yn:lr=!0,Fn>ze-We&&Fn<ze+We&&(Mt/=2)):(Yn!==Un?Dn<Qe?Ft+=Yn:Dn>it&&(Jt+=Yn):Dn!=xn&&(xn<it&&Fn>it?(Jt+=Yn,lr=!0):xn>Qe&&Fn<Qe&&(Ft+=Yn,lr=!0)),Mt/=4),fr=rn,!ye&&Fn>Qe&&Fn<it&&Le.getTangent(rn,ci)[re?"x":"y"]===0&&oe(se,le,!re,ge,!0)}}function Rr(rn){var sn=rn[Ie+0],ti=rn[Ie+2],Dn=rn[Ie+4],si=rn[Ie+6];if(Ke<=M(sn,ti,Dn,si)&&Ke>=k(sn,ti,Dn,si)){for(var Li=rn[_e+0],gi=rn[_e+2],ci=rn[_e+4],Fn=rn[_e+6],Yn=Qe>M(Li,gi,ci,Fn)||it<k(Li,gi,ci,Fn)?[rn]:Le.getMonoCurves(rn,re),Un,xn=0,$i=Yn.length;xn<$i;xn++)if(Un=kr(Yn[xn]))return Un}}for(var $r=0,Vr=Ce.length;$r<Vr;$r++){var jr=Ce[$r],zr=jr._path,Sn=jr.getValues(),Pn;if((!$r||Ce[$r-1]._path!==zr)&&(fr=null,zr._closed||(Sr=Le.getValues(zr.getLastCurve().getSegment2(),jr.getSegment1(),null,!ge),Sr[Ie]!==Sr[Ie+6]&&(fr=Sr)),!fr)){fr=Sn;for(var Nn=zr.getLastCurve();Nn&&Nn!==jr;){var dr=Nn.getValues();if(dr[Ie]!==dr[Ie+6]){fr=dr;break}Nn=Nn.getPrevious()}}if(Pn=Rr(Sn))return Pn;if($r+1===Vr||Ce[$r+1]._path!==zr){if(Sr&&(Pn=Rr(Sr)))return Pn;lr&&!Ft&&!Jt&&(Ft=Jt=zr.isClockwise(ge)^re?1:-1),tt+=Ft,yt+=Jt,Ft=Jt=0,lr&&(Cr=!0,lr=!1),Sr=null}}return tt=T(tt),yt=T(yt),{winding:M(tt,yt),windingL:tt,windingR:yt,quality:Mt,onPath:Cr}}function ne(se,le,re,ge,ye){var Ce=[],_e=se,Ie=0,Re;do{var Be=se.getCurve();if(Be){var ze=Be.getLength();Ce.push({segment:se,curve:Be,length:ze}),Ie+=ze}se=se.getNext()}while(se&&!se._intersection&&se!==_e);for(var Ke=[.5,.25,.75],Re={winding:0,quality:-1},We=.001,Qe=1-We,it=0;it<Ke.length&&Re.quality<.5;it++)for(var ze=Ie*Ke[it],tt=0,yt=Ce.length;tt<yt;tt++){var Ft=Ce[tt],Jt=Ft.length;if(ze<=Jt){var Be=Ft.curve,lr=Be._path,Cr=lr._parent,Mt=Cr instanceof Ot?Cr:lr,Dt=F.clamp(Be.getTimeAt(ze),We,Qe),fr=Be.getPointAtTime(Dt),Sr=T(Be.getTangentAtTime(Dt).y)<Math.SQRT1_2,kr=null;if(ye.subtract&&re){var Rr=Mt===le?re:le,$r=Rr._getWinding(fr,Sr,!0);if(Mt===le&&$r.winding||Mt===re&&!$r.winding){if($r.quality<1)continue;kr={winding:0,quality:1}}}kr=kr||oe(fr,ge[lr._id][Be.getIndex()],Sr,!0),kr.quality>Re.quality&&(Re=kr);break}ze-=Jt}for(var tt=Ce.length-1;tt>=0;tt--)Ce[tt].segment._winding=Re}function he(se,le){var re=[],ge;function ye(Vr){var jr;return!!(Vr&&!Vr._visited&&(!le||le[(jr=Vr._winding||{}).winding]&&!(le.unite&&jr.winding===2&&jr.windingL&&jr.windingR)))}function Ce(Vr){if(Vr){for(var jr=0,zr=ge.length;jr<zr;jr++)if(Vr===ge[jr])return!0}return!1}function _e(Vr){for(var jr=Vr._segments,zr=0,Sn=jr.length;zr<Sn;zr++)jr[zr]._visited=!0}function Ie(Vr,jr){var zr=Vr._intersection,Sn=zr,Pn=[];jr&&(ge=[Vr]);function Nn(dr,rn){for(;dr&&dr!==rn;){var sn=dr._segment,ti=sn&&sn._path;if(ti){var Dn=sn.getNext()||ti.getFirstSegment(),si=Dn._intersection;sn!==Vr&&(Ce(sn)||Ce(Dn)||Dn&&ye(sn)&&(ye(Dn)||si&&ye(si._segment)))&&Pn.push(sn),jr&&ge.push(sn)}dr=dr._next}}if(zr){for(Nn(zr);zr&&zr._previous;)zr=zr._previous;Nn(zr,Sn)}return Pn}se.sort(function(Vr,jr){var zr=Vr._intersection,Sn=jr._intersection,Pn=!!(zr&&zr._overlap),Nn=!!(Sn&&Sn._overlap),dr=Vr._path,rn=jr._path;return Pn^Nn?Pn?1:-1:!zr^!Sn?zr?1:-1:dr!==rn?dr._id-rn._id:Vr._index-jr._index});for(var Be=0,ze=se.length;Be<ze;Be++){var Ke=se[Be],Re=ye(Ke),We=null,Qe=!1,it=!0,tt=[],yt,Ft,Jt;if(Re&&Ke._path._overlapsOnly){var lr=Ke._path,Cr=Ke._intersection._segment._path;lr.compare(Cr)&&(lr.getArea()&&re.push(lr.clone(!1)),_e(lr),_e(Cr),Re=!1)}for(;Re;){var Mt=!We,Dt=Ie(Ke,Mt),fr=Dt.shift(),Qe=!Mt&&(Ce(Ke)||Ce(fr)),Sr=!Qe&&fr;if(Mt&&(We=new ct(V.NO_INSERT),yt=null),Qe){(Ke.isFirst()||Ke.isLast())&&(it=Ke._path._closed),Ke._visited=!0;break}if(Sr&&yt&&(tt.push(yt),yt=null),yt||(Sr&&Dt.push(Ke),yt={start:We._segments.length,crossings:Dt,visited:Ft=[],handleIn:Jt}),Sr&&(Ke=fr),!ye(Ke)){We.removeSegments(yt.start);for(var kr=0,Rr=Ft.length;kr<Rr;kr++)Ft[kr]._visited=!1;Ft.length=0;do Ke=yt&&yt.crossings.shift(),(!Ke||!Ke._path)&&(Ke=null,yt=tt.pop(),yt&&(Ft=yt.visited,Jt=yt.handleIn));while(yt&&!ye(Ke));if(!Ke)break}var $r=Ke.getNext();We.add(new Ge(Ke._point,Jt,$r&&Ke._handleOut)),Ke._visited=!0,Ft.push(Ke),Ke=$r||Ke._path.getFirstSegment(),Jt=$r&&$r._handleIn}Qe&&(it&&(We.getFirstSegment().setHandleIn(Jt),We.setClosed(it)),We.getArea()!==0&&re.push(We))}return re}return{_getWinding:function(se,le,re){return oe(se,this.getCurves(),le,re)},unite:function(se,le){return j(this,se,"unite",le)},intersect:function(se,le){return j(this,se,"intersect",le)},subtract:function(se,le){return j(this,se,"subtract",le)},exclude:function(se,le){return j(this,se,"exclude",le)},divide:function(se,le){return le&&(le.trace==!1||le.stroke)?q(this,se,"divide"):K([this.subtract(se,le),this.intersect(se,le)],!0,this,se,le)},resolveCrossings:function(){var se=this._children,le=se||[this];function re(yt,Ft){var Jt=yt&&yt._intersection;return Jt&&Jt._overlap&&Jt._path===Ft}var ge=!1,ye=!1,Ce=this.getIntersections(null,function(yt){return yt.hasOverlap()&&(ge=!0)||yt.isCrossing()&&(ye=!0)}),_e=ge&&ye&&[];if(Ce=Je.expand(Ce),ge)for(var Ie=te(Ce,function(yt){return yt.hasOverlap()},_e),Be=Ie.length-1;Be>=0;Be--){var ze=Ie[Be],Ke=ze._path,Re=ze._segment,We=Re.getPrevious(),Qe=Re.getNext();re(We,Ke)&&re(Qe,Ke)&&(Re.remove(),We._handleOut._set(0,0),Qe._handleIn._set(0,0),We!==Re&&!We.getCurve().hasLength()&&(Qe._handleIn.set(We._handleIn),We.remove()))}ye&&(te(Ce,ge&&function(yt){var Ft=yt.getCurve(),Jt=yt.getSegment(),lr=yt._intersection,Cr=lr._curve,Mt=lr._segment;if(Ft&&Cr&&Ft._path&&Cr._path)return!0;Jt&&(Jt._intersection=null),Mt&&(Mt._intersection=null)},_e),_e&&Q(_e),le=he(w.each(le,function(yt){w.push(this,yt._segments)},[])));var it=le.length,tt;return it>1&&se?(le!==se&&this.setChildren(le),tt=this):it===1&&!se&&(le[0]!==this&&this.setSegments(le[0].removeSegments()),tt=this),tt||(tt=new Ot(V.NO_INSERT),tt.addChildren(le),tt=tt.reduce(),tt.copyAttributes(this),this.replaceWith(tt)),tt},reorient:function(se,le){var re=this._children;return re&&re.length?this.setChildren(ee(this.removeChildren(),function(ge){return!!(se?ge:ge&1)},le)):le!==y&&this.setClockwise(le),this},getInteriorPoint:function(){var se=this.getBounds(),le=se.getCenter(!0);if(!this.contains(le)){for(var re=this.getCurves(),ge=le.y,ye=[],Ce=[],_e=0,Ie=re.length;_e<Ie;_e++){var Be=re[_e].getValues(),ze=Be[1],Ke=Be[3],Re=Be[5],We=Be[7];if(ge>=k(ze,Ke,Re,We)&&ge<=M(ze,Ke,Re,We))for(var Qe=Le.getMonoCurves(Be),it=0,tt=Qe.length;it<tt;it++){var yt=Qe[it],Ft=yt[1],Jt=yt[7];if(Ft!==Jt&&(ge>=Ft&&ge<=Jt||ge>=Jt&&ge<=Ft)){var lr=ge===Ft?yt[0]:ge===Jt?yt[6]:Le.solveCubic(yt,1,ge,Ce,0,1)===1?Le.getPoint(yt,Ce[0]).x:(yt[0]+yt[6])/2;ye.push(lr)}}}ye.length>1&&(ye.sort(function(Cr,Mt){return Cr-Mt}),le.x=(ye[0]+ye[1])/2)}return le}}});var ur=w.extend({_class:"PathFlattener",initialize:function(k,M,T,$,R){var G=[],K=[],Y=0,j=1/(T||32),q=k._segments,W=q[0],Q;function ee(he,se){var le=Le.getValues(he,se,R);G.push(le),te(le,he._index,0,1)}function te(he,se,le,re){if(re-le>j&&!($&&Le.isStraight(he))&&!Le.isFlatEnough(he,M||.25)){var ge=Le.subdivide(he,.5),ye=(le+re)/2;te(ge[0],se,le,ye),te(ge[1],se,ye,re)}else{var Ce=he[6]-he[0],_e=he[7]-he[1],Ie=Math.sqrt(Ce*Ce+_e*_e);Ie>0&&(Y+=Ie,K.push({offset:Y,curve:he,index:se,time:re}))}}for(var oe=1,ne=q.length;oe<ne;oe++)Q=q[oe],ee(W,Q),W=Q;k._closed&&ee(Q||W,q[0]),this.curves=G,this.parts=K,this.length=Y,this.index=0},_get:function(k){for(var M=this.parts,T=M.length,$,R=this.index;$=R,!(!R||M[--R].offset<k););for(;$<T;$++){var G=M[$];if(G.offset>=k){this.index=$;var K=M[$-1],Y=K&&K.index===G.index?K.time:0,j=K?K.offset:0;return{index:G.index,time:Y+(G.time-Y)*(k-j)/(G.offset-j)}}}return{index:M[T-1].index,time:1}},drawPart:function(k,M,T){for(var $=this._get(M),R=this._get(T),G=$.index,K=R.index;G<=K;G++){var Y=Le.getPart(this.curves[G],G===$.index?$.time:0,G===R.index?R.time:1);G===$.index&&k.moveTo(Y[0],Y[1]),k.bezierCurveTo.apply(k,Y.slice(2))}}},w.each(Le._evaluateMethods,function(k){this[k+"At"]=function(M){var T=this._get(M);return Le[k](this.curves[T.index],T.time)}},{})),rr=w.extend({initialize:function(k){for(var M=this.points=[],T=k._segments,$=k._closed,R=0,G,K=T.length;R<K;R++){var Y=T[R].point;(!G||!G.equals(Y))&&M.push(G=Y.clone())}$&&(M.unshift(M[M.length-1]),M.push(M[1])),this.closed=$},fit:function(k){var M=this.points,T=M.length,$=null;return T>0&&($=[new Ge(M[0])],T>1&&(this.fitCubic($,k,0,T-1,M[1].subtract(M[0]),M[T-2].subtract(M[T-1])),this.closed&&($.shift(),$.pop()))),$},fitCubic:function(k,M,T,$,R,G){var K=this.points;if($-T===1){var Y=K[T],j=K[$],q=Y.getDistance(j)/3;this.addCurve(k,[Y,Y.add(R.normalize(q)),j.add(G.normalize(q)),j]);return}for(var W=this.chordLengthParameterize(T,$),Q=Math.max(M,M*M),ee,te=!0,oe=0;oe<=4;oe++){var ne=this.generateBezier(T,$,W,R,G),he=this.findMaxError(T,$,ne,W);if(he.error<M&&te){this.addCurve(k,ne);return}if(ee=he.index,he.error>=Q)break;te=this.reparameterize(T,$,W,ne),Q=he.error}var se=K[ee-1].subtract(K[ee+1]);this.fitCubic(k,M,T,ee,R,se),this.fitCubic(k,M,ee,$,se.negate(),G)},addCurve:function(k,M){var T=k[k.length-1];T.setHandleOut(M[1].subtract(M[0])),k.push(new Ge(M[3],M[2].subtract(M[3])))},generateBezier:function(k,M,T,$,R){for(var G=1e-12,K=Math.abs,Y=this.points,j=Y[k],q=Y[M],W=[[0,0],[0,0]],Q=[0,0],ee=0,te=M-k+1;ee<te;ee++){var oe=T[ee],ne=1-oe,he=3*oe*ne,se=ne*ne*ne,le=he*ne,re=he*oe,ge=oe*oe*oe,ye=$.normalize(le),Ce=R.normalize(re),_e=Y[k+ee].subtract(j.multiply(se+le)).subtract(q.multiply(re+ge));W[0][0]+=ye.dot(ye),W[0][1]+=ye.dot(Ce),W[1][0]=W[0][1],W[1][1]+=Ce.dot(Ce),Q[0]+=ye.dot(_e),Q[1]+=Ce.dot(_e)}var Ie=W[0][0]*W[1][1]-W[1][0]*W[0][1],Be,ze;if(K(Ie)>G){var Ke=W[0][0]*Q[1]-W[1][0]*Q[0],Re=Q[0]*W[1][1]-Q[1]*W[0][1];Be=Re/Ie,ze=Ke/Ie}else{var We=W[0][0]+W[0][1],Qe=W[1][0]+W[1][1];Be=ze=K(We)>G?Q[0]/We:K(Qe)>G?Q[1]/Qe:0}var it=q.getDistance(j),tt=G*it,yt,Ft;if(Be<tt||ze<tt)Be=ze=it/3;else{var Jt=q.subtract(j);yt=$.normalize(Be),Ft=R.normalize(ze),yt.dot(Jt)-Ft.dot(Jt)>it*it&&(Be=ze=it/3,yt=Ft=null)}return[j,j.add(yt||$.normalize(Be)),q.add(Ft||R.normalize(ze)),q]},reparameterize:function(k,M,T,$){for(var R=k;R<=M;R++)T[R-k]=this.findRoot($,this.points[R],T[R-k]);for(var R=1,G=T.length;R<G;R++)if(T[R]<=T[R-1])return!1;return!0},findRoot:function(k,M,T){for(var $=[],R=[],G=0;G<=2;G++)$[G]=k[G+1].subtract(k[G]).multiply(3);for(var G=0;G<=1;G++)R[G]=$[G+1].subtract($[G]).multiply(2);var K=this.evaluate(3,k,T),Y=this.evaluate(2,$,T),j=this.evaluate(1,R,T),q=K.subtract(M),W=Y.dot(Y)+q.dot(j);return F.isMachineZero(W)?T:T-q.dot(Y)/W},evaluate:function(k,M,T){for(var $=M.slice(),R=1;R<=k;R++)for(var G=0;G<=k-R;G++)$[G]=$[G].multiply(1-T).add($[G+1].multiply(T));return $[0]},chordLengthParameterize:function(k,M){for(var T=[0],$=k+1;$<=M;$++)T[$-k]=T[$-k-1]+this.points[$].getDistance(this.points[$-1]);for(var $=1,R=M-k;$<=R;$++)T[$]/=T[R];return T},findMaxError:function(k,M,T,$){for(var R=Math.floor((M-k+1)/2),G=0,K=k+1;K<M;K++){var Y=this.evaluate(3,T,$[K-k]),j=Y.subtract(this.points[K]),q=j.x*j.x+j.y*j.y;q>=G&&(G=q,R=K)}return{error:G,index:R}}}),Yt=V.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(M){this._content="",this._lines=[];var T=M&&w.isPlainObject(M)&&M.x===y&&M.y===y;this._initialize(T&&M,!T&&N.read(arguments))},_equals:function(k){return this._content===k._content},copyContent:function(k){this.setContent(k._content)},getContent:function(){return this._content},setContent:function(k){this._content=""+k,this._lines=this._content.split(/\r\n|\n|\r/mg),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),Er=Yt.extend({_class:"PointText",initialize:function(){Yt.apply(this,arguments)},getPoint:function(){var k=this._matrix.getTranslation();return new H(k.x,k.y,this,"setPoint")},setPoint:function(){var k=N.read(arguments);this.translate(k.subtract(this._matrix.getTranslation()))},_draw:function(k,M,T){if(this._content){this._setStyles(k,M,T);var $=this._lines,R=this._style,G=R.hasFill(),K=R.hasStroke(),Y=R.getLeading(),j=k.shadowColor;k.font=R.getFontStyle(),k.textAlign=R.getJustification();for(var q=0,W=$.length;q<W;q++){k.shadowColor=j;var Q=$[q];G&&(k.fillText(Q,0,0),k.shadowColor="rgba(0,0,0,0)"),K&&k.strokeText(Q,0,0),k.translate(0,Y)}}},_getBounds:function(k,M){var T=this._style,$=this._lines,R=$.length,G=T.getJustification(),K=T.getLeading(),Y=this.getView().getTextWidth(T.getFontStyle(),$),j=0;G!=="left"&&(j-=Y/(G==="center"?2:1));var q=new ae(j,R?-.75*K:0,Y,R*K);return k?k._transformBounds(q,q):q}}),Oe=w.extend(new function(){var k={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},M={},T={transparent:[0,0,0,0]},$;function R(Y){var j=Y.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||Y.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),q="rgb",W;if(j){var Q=j[4]?4:3;W=new Array(Q);for(var ee=0;ee<Q;ee++){var te=j[ee+1];W[ee]=parseInt(te.length==1?te+te:te,16)/255}}else if(j=Y.match(/^(rgb|hsl)a?\((.*)\)$/)){q=j[1],W=j[2].trim().split(/[,\s]+/g);for(var oe=q==="hsl",ee=0,ne=Math.min(W.length,4);ee<ne;ee++){var he=W[ee],te=parseFloat(he);if(oe)if(ee===0){var se=he.match(/([a-z]*)$/)[1];te*={turn:360,rad:180/Math.PI,grad:.9}[se]||1}else ee<3&&(te/=100);else ee<3&&(te/=/%$/.test(he)?100:255);W[ee]=te}}else{var le=T[Y];if(!le)if(_){$||($=ln.getContext(1,1,{willReadFrequently:!0}),$.globalCompositeOperation="copy"),$.fillStyle="rgba(0,0,0,0)",$.fillStyle=Y,$.fillRect(0,0,1,1);var re=$.getImageData(0,0,1,1).data;le=T[Y]=[re[0]/255,re[1]/255,re[2]/255]}else le=[0,0,0];W=le.slice()}return[q,W]}var G=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],K={"rgb-hsb":function(Y,j,q){var W=Math.max(Y,j,q),Q=Math.min(Y,j,q),ee=W-Q,te=ee===0?0:(W==Y?(j-q)/ee+(j<q?6:0):W==j?(q-Y)/ee+2:(Y-j)/ee+4)*60;return[te,W===0?0:ee/W,W]},"hsb-rgb":function(Y,j,q){Y=(Y/60%6+6)%6;var Q=Math.floor(Y),W=Y-Q,Q=G[Q],ee=[q,q*(1-j),q*(1-j*W),q*(1-j*(1-W))];return[ee[Q[0]],ee[Q[1]],ee[Q[2]]]},"rgb-hsl":function(Y,j,q){var W=Math.max(Y,j,q),Q=Math.min(Y,j,q),ee=W-Q,te=ee===0,oe=te?0:(W==Y?(j-q)/ee+(j<q?6:0):W==j?(q-Y)/ee+2:(Y-j)/ee+4)*60,ne=(W+Q)/2,he=te?0:ne<.5?ee/(W+Q):ee/(2-W-Q);return[oe,he,ne]},"hsl-rgb":function(Y,j,q){if(Y=(Y/360%1+1)%1,j===0)return[q,q,q];for(var W=[Y+1/3,Y,Y-1/3],Q=q<.5?q*(1+j):q+j-q*j,ee=2*q-Q,te=[],oe=0;oe<3;oe++){var ne=W[oe];ne<0&&(ne+=1),ne>1&&(ne-=1),te[oe]=6*ne<1?ee+(Q-ee)*6*ne:2*ne<1?Q:3*ne<2?ee+(Q-ee)*(2/3-ne)*6:ee}return te},"rgb-gray":function(Y,j,q){return[Y*.2989+j*.587+q*.114]},"gray-rgb":function(Y){return[Y,Y,Y]},"gray-hsb":function(Y){return[0,0,Y]},"gray-hsl":function(Y){return[0,0,Y]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return w.each(k,function(Y,j){M[j]=[],w.each(Y,function(q,W){var Q=w.capitalize(q),ee=/^(hue|saturation)$/.test(q),te=M[j][W]=j==="gradient"?q==="gradient"?function(oe){var ne=this._components[0];return oe=dt.read(Array.isArray(oe)?oe:arguments,0,{readNull:!0}),ne!==oe&&(ne&&ne._removeOwner(this),oe&&oe._addOwner(this)),oe}:function(){return N.read(arguments,0,{readNull:q==="highlight",clone:!0})}:function(oe){return oe==null||isNaN(oe)?0:+oe};this["get"+Q]=function(){return this._type===j||ee&&/^hs[bl]$/.test(this._type)?this._components[W]:this._convert(j)[W]},this["set"+Q]=function(oe){this._type!==j&&!(ee&&/^hs[bl]$/.test(this._type))&&(this._components=this._convert(j),this._properties=k[j],this._type=j),this._components[W]=te.call(this,oe),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function Y(j){var q=arguments,W=this.__read,Q=0,ee,te,oe,ne;Array.isArray(j)&&(q=j,j=q[0]);var he=j!=null&&typeof j;if(he==="string"&&j in k&&(ee=j,j=q[1],Array.isArray(j)?(te=j,oe=q[2]):(W&&(Q=1),q=w.slice(q,1),he=typeof j)),!te){if(ne=he==="number"?q:he==="object"&&j.length!=null?j:null,ne){ee||(ee=ne.length>=3?"rgb":"gray");var se=k[ee].length;oe=ne[se],W&&(Q+=ne===arguments?se+(oe!=null?1:0):1),ne.length>se&&(ne=w.slice(ne,0,se))}else if(he==="string"){var le=R(j);ee=le[0],te=le[1],te.length===4&&(oe=te[3],te.length--)}else if(he==="object")if(j.constructor===Y){if(ee=j._type,te=j._components.slice(),oe=j._alpha,ee==="gradient")for(var re=1,ge=te.length;re<ge;re++){var ye=te[re];ye&&(te[re]=ye.clone())}}else if(j.constructor===dt)ee="gradient",ne=q;else{ee="hue"in j?"lightness"in j?"hsl":"hsb":"gradient"in j||"stops"in j||"radial"in j?"gradient":"gray"in j?"gray":"rgb";var Ce=k[ee],_e=M[ee];this._components=te=[];for(var re=0,ge=Ce.length;re<ge;re++){var Ie=j[Ce[re]];Ie==null&&!re&&ee==="gradient"&&"stops"in j&&(Ie={stops:j.stops,radial:j.radial}),Ie=_e[re].call(this,Ie),Ie!=null&&(te[re]=Ie)}oe=j.alpha}W&&ee&&(Q=1)}if(this._type=ee||"rgb",!te){this._components=te=[];for(var _e=M[this._type],re=0,ge=_e.length;re<ge;re++){var Ie=_e[re].call(this,ne&&ne[re]);Ie!=null&&(te[re]=Ie)}}return this._components=te,this._properties=k[this._type],this._alpha=oe,W&&(this.__read=Q),this},set:"#initialize",_serialize:function(Y,j){var q=this.getComponents();return w.serialize(/^(gray|rgb)$/.test(this._type)?q:[this._type].concat(q),Y,!0,j)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(Y){var j;return this._type===Y?this._components.slice():(j=K[this._type+"-"+Y])?j.apply(this,this._components):K["rgb-"+Y].apply(this,K[this._type+"-rgb"].apply(this,this._components))},convert:function(Y){return new Oe(Y,this._convert(Y),this._alpha)},getType:function(){return this._type},setType:function(Y){this._components=this._convert(Y),this._properties=k[Y],this._type=Y},getComponents:function(){var Y=this._components.slice();return this._alpha!=null&&Y.push(this._alpha),Y},getAlpha:function(){return this._alpha!=null?this._alpha:1},setAlpha:function(Y){this._alpha=Y==null?null:Math.min(Math.max(Y,0),1),this._changed()},hasAlpha:function(){return this._alpha!=null},equals:function(Y){var j=w.isPlainValue(Y,!0)?Oe.read(arguments):Y;return j===this||j&&this._class===j._class&&this._type===j._type&&this.getAlpha()===j.getAlpha()&&w.equals(this._components,j._components)||!1},toString:function(){for(var Y=this._properties,j=[],q=this._type==="gradient",W=O.instance,Q=0,ee=Y.length;Q<ee;Q++){var te=this._components[Q];te!=null&&j.push(Y[Q]+": "+(q?te:W.number(te)))}return this._alpha!=null&&j.push("alpha: "+W.number(this._alpha)),"{ "+j.join(", ")+" }"},toCSS:function(Y){var j=this._convert("rgb"),q=Y||this._alpha==null?1:this._alpha;function W(Q){return Math.round((Q<0?0:Q>1?1:Q)*255)}return j=[W(j[0]),W(j[1]),W(j[2])],q<1&&j.push(q<0?0:q),Y?"#"+((1<<24)+(j[0]<<16)+(j[1]<<8)+j[2]).toString(16).slice(1):(j.length==4?"rgba(":"rgb(")+j.join(",")+")"},toCanvasStyle:function(Y,j){if(this._canvasStyle)return this._canvasStyle;if(this._type!=="gradient")return this._canvasStyle=this.toCSS();var q=this._components,W=q[0],Q=W._stops,ee=q[1],te=q[2],oe=q[3],ne=j&&j.inverted(),he;if(ne&&(ee=ne._transformPoint(ee),te=ne._transformPoint(te),oe&&(oe=ne._transformPoint(oe))),W._radial){var se=te.getDistance(ee);if(oe){var le=oe.subtract(ee);le.getLength()>se&&(oe=ee.add(le.normalize(se-.1)))}var re=oe||ee;he=Y.createRadialGradient(re.x,re.y,0,ee.x,ee.y,se)}else he=Y.createLinearGradient(ee.x,ee.y,te.x,te.y);for(var ge=0,ye=Q.length;ge<ye;ge++){var Ce=Q[ge],_e=Ce._offset;he.addColorStop(_e??ge/(ye-1),Ce._color.toCanvasStyle())}return this._canvasStyle=he},transform:function(Y){if(this._type==="gradient"){for(var j=this._components,q=1,W=j.length;q<W;q++){var Q=j[q];Y._transformPoint(Q,Q,!0)}this._changed()}},statics:{_types:k,random:function(){var Y=Math.random;return new Oe(Y(),Y(),Y())},_setOwner:function(Y,j,q){return Y&&(Y._owner&&j&&Y._owner!==j&&(Y=Y.clone()),!Y._owner^!j&&(Y._owner=j||null,Y._setter=q||null)),Y}}})},new function(){var k={add:function(M,T){return M+T},subtract:function(M,T){return M-T},multiply:function(M,T){return M*T},divide:function(M,T){return M/T}};return w.each(k,function(M,T){this[T]=function($){$=Oe.read(arguments);for(var R=this._type,G=this._components,K=$._convert(R),Y=0,j=G.length;Y<j;Y++)K[Y]=M(G[Y],K[Y]);return new Oe(R,K,this._alpha!=null?M(this._alpha,$.getAlpha()):null)}},{})}),dt=w.extend({_class:"Gradient",initialize:function(M,T){this._id=z.get(),M&&w.isPlainObject(M)&&(this.set(M),M=T=null),this._stops==null&&this.setStops(M||["white","black"]),this._radial==null&&this.setRadial(typeof T=="string"&&T==="radial"||T||!1)},_serialize:function(k,M){return M.add(this,function(){return w.serialize([this._stops,this._radial],k,!0,M)})},_changed:function(){for(var k=0,M=this._owners&&this._owners.length;k<M;k++)this._owners[k]._changed()},_addOwner:function(k){this._owners||(this._owners=[]),this._owners.push(k)},_removeOwner:function(k){var M=this._owners?this._owners.indexOf(k):-1;M!=-1&&(this._owners.splice(M,1),this._owners.length||(this._owners=y))},clone:function(){for(var k=[],M=0,T=this._stops.length;M<T;M++)k[M]=this._stops[M].clone();return new dt(k,this._radial)},getStops:function(){return this._stops},setStops:function(k){if(k.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var M=this._stops;if(M)for(var T=0,$=M.length;T<$;T++)M[T]._owner=y;M=this._stops=He.readList(k,0,{clone:!0});for(var T=0,$=M.length;T<$;T++)M[T]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(k){this._radial=k,this._changed()},equals:function(k){if(k===this)return!0;if(k&&this._class===k._class){var M=this._stops,T=k._stops,$=M.length;if($===T.length){for(var R=0;R<$;R++)if(!M[R].equals(T[R]))return!1;return!0}}return!1}}),He=w.extend({_class:"GradientStop",initialize:function(M,T){var $=M,R=T;typeof M=="object"&&T===y&&(Array.isArray(M)&&typeof M[0]!="number"?($=M[0],R=M[1]):("color"in M||"offset"in M||"rampPoint"in M)&&($=M.color,R=M.offset||M.rampPoint||0)),this.setColor($),this.setOffset(R)},clone:function(){return new He(this._color.clone(),this._offset)},_serialize:function(k,M){var T=this._color,$=this._offset;return w.serialize($==null?[T]:[T,$],k,!0,M)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(k){this._offset=k,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){Oe._setOwner(this._color,null),this._color=Oe._setOwner(Oe.read(arguments,0),this,"setColor"),this._changed()},equals:function(k){return k===this||k&&this._class===k._class&&this._color.equals(k._color)&&this._offset==k._offset||!1}}),Ct=w.extend(new function(){var k={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new N,selectedColor:null},M=w.set({},k,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),T=w.set({},M,{fillColor:new Oe}),$={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},R={beans:!0},G={_class:"Style",beans:!0,initialize:function(Y,j,q){this._values={},this._owner=j,this._project=j&&j._project||q||ut.project,this._defaults=!j||j instanceof ie?M:j instanceof Yt?T:k,Y&&this.set(Y)}};return w.each(M,function(K,Y){var j=/Color$/.test(Y),q=Y==="shadowOffset",W=w.capitalize(Y),Q=$[Y],ee="set"+W,te="get"+W;G[ee]=function(oe){var ne=this._owner,he=ne&&ne._children,se=he&&he.length>0&&!(ne instanceof Ot);if(se)for(var le=0,re=he.length;le<re;le++)he[le]._style[ee](oe);if((Y==="selectedColor"||!se)&&Y in this._defaults){var ge=this._values[Y];ge!==oe&&(j&&(ge&&(Oe._setOwner(ge,null),ge._canvasStyle=null),oe&&oe.constructor===Oe&&(oe=Oe._setOwner(oe,ne,se&&ee))),this._values[Y]=oe,ne&&ne._changed(Q||129))}},G[te]=function(oe){var ne=this._owner,he=ne&&ne._children,se=he&&he.length>0&&!(ne instanceof Ot),le;if(se&&!oe)for(var re=0,ge=he.length;re<ge;re++){var ye=he[re]._style[te]();if(!re)le=ye;else if(!w.equals(le,ye))return y}else if(Y in this._defaults){var le=this._values[Y];if(le===y)le=this._defaults[Y],le&&le.clone&&(le=le.clone());else{var Ce=j?Oe:q?N:null;Ce&&!(le&&le.constructor===Ce)&&(this._values[Y]=le=Ce.read([le],0,{readNull:!0,clone:!0}))}}return le&&j&&(le=Oe._setOwner(le,ne,se&&ee)),le},R[te]=function(oe){return this._style[te](oe)},R[ee]=function(oe){this._style[ee](oe)}}),w.each({Font:"FontFamily",WindingRule:"FillRule"},function(K,Y){var j="get"+Y,q="set"+Y;G[j]=R[j]="#get"+K,G[q]=R[q]="#set"+K}),V.inject(R),G},{set:function(k){var M=k instanceof Ct,T=M?k._values:k;if(T){for(var $ in T)if($ in this._defaults){var R=T[$];this[$]=R&&M&&R.clone?R.clone():R}}},equals:function(k){function M(T,$,R){var G=T._values,K=$._values,Y=$._defaults;for(var j in G){var q=G[j],W=K[j];if(!(R&&j in K)&&!w.equals(q,W===y?Y[j]:W))return!1}return!0}return k===this||k&&this._class===k._class&&M(this,k)&&M(k,this,!0)||!1},_dispose:function(){var k;k=this.getFillColor(),k&&(k._canvasStyle=null),k=this.getStrokeColor(),k&&(k._canvasStyle=null),k=this.getShadowColor(),k&&(k._canvasStyle=null)},hasFill:function(){var k=this.getFillColor();return!!k&&k.alpha>0},hasStroke:function(){var k=this.getStrokeColor();return!!k&&k.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var k=this.getShadowColor();return!!k&&k.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var k=this.getFontSize();return this.getFontWeight()+" "+k+(/[a-z]/i.test(k+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function k(){var M=k.base.call(this),T=this.getFontSize();return/pt|em|%|px/.test(T)&&(T=this.getView().getPixelSize(T)),M??T*1.2}}),Ut=new function(){function k(M,T,$,R){for(var G=["","webkit","moz","Moz","ms","o"],K=T[0].toUpperCase()+T.substring(1),Y=0;Y<6;Y++){var j=G[Y],q=j?j+K:T;if(q in M){if($)M[q]=R;else return M[q];break}}}return{getStyles:function(M){var T=M&&M.nodeType!==9?M.ownerDocument:M,$=T&&T.defaultView;return $&&$.getComputedStyle(M,"")},getBounds:function(M,T){var $=M.ownerDocument,R=$.body,G=$.documentElement,K;try{K=M.getBoundingClientRect()}catch{K={left:0,top:0,width:0,height:0}}var Y=K.left-(G.clientLeft||R.clientLeft||0),j=K.top-(G.clientTop||R.clientTop||0);if(!T){var q=$.defaultView;Y+=q.pageXOffset||G.scrollLeft||R.scrollLeft,j+=q.pageYOffset||G.scrollTop||R.scrollTop}return new ae(Y,j,K.width,K.height)},getViewportBounds:function(M){var T=M.ownerDocument,$=T.defaultView,R=T.documentElement;return new ae(0,0,$.innerWidth||R.clientWidth,$.innerHeight||R.clientHeight)},getOffset:function(M,T){return Ut.getBounds(M,T).getPoint()},getSize:function(M){return Ut.getBounds(M,!0).getSize()},isInvisible:function(M){return Ut.getSize(M).equals(new X(0,0))},isInView:function(M){return!Ut.isInvisible(M)&&Ut.getViewportBounds(M).intersects(Ut.getBounds(M,!0))},isInserted:function(M){return x.body.contains(M)},getPrefixed:function(M,T){return M&&k(M,T)},setPrefixed:function(M,T,$){if(typeof T=="object")for(var R in T)k(M,R,!0,T[R]);else k(M,T,!0,$)}}},pr={add:function(k,M){if(k)for(var T in M)for(var $=M[T],R=T.split(/[\s,]+/g),G=0,K=R.length;G<K;G++){var Y=R[G],j=k===x&&(Y==="touchstart"||Y==="touchmove")?{passive:!1}:!1;k.addEventListener(Y,$,j)}},remove:function(k,M){if(k)for(var T in M)for(var $=M[T],R=T.split(/[\s,]+/g),G=0,K=R.length;G<K;G++)k.removeEventListener(R[G],$,!1)},getPoint:function(k){var M=k.targetTouches?k.targetTouches.length?k.targetTouches[0]:k.changedTouches[0]:k;return new N(M.pageX||M.clientX+x.documentElement.scrollLeft,M.pageY||M.clientY+x.documentElement.scrollTop)},getTarget:function(k){return k.target||k.srcElement},getRelatedTarget:function(k){return k.relatedTarget||k.toElement},getOffset:function(k,M){return pr.getPoint(k).subtract(Ut.getOffset(M||pr.getTarget(k)))}};pr.requestAnimationFrame=new function(){var k=Ut.getPrefixed(_,"requestAnimationFrame"),M=!1,T=[],$;function R(){var G=T;T=[];for(var K=0,Y=G.length;K<Y;K++)G[K]();M=k&&T.length,M&&k(R)}return function(G){T.push(G),k?M||(k(R),M=!0):$||($=setInterval(R,1e3/60))}};var Pr=w.extend(S,{_class:"View",initialize:function k(M,T){function $(Q){return T[Q]||parseInt(T.getAttribute(Q),10)}function R(){var Q=Ut.getSize(T);return Q.isNaN()||Q.isZero()?new X($("width"),$("height")):Q}var G;if(_&&T){this._id=T.getAttribute("id"),this._id==null&&T.setAttribute("id",this._id="paper-view-"+k._id++),pr.add(T,this._viewEvents);var K="none";if(Ut.setPrefixed(T.style,{userDrag:K,userSelect:K,touchCallout:K,contentZooming:K,tapHighlightColor:"rgba(0,0,0,0)"}),E.hasAttribute(T,"resize")){var Y=this;pr.add(_,this._windowEvents={resize:function(){Y.setViewSize(R())}})}if(G=R(),E.hasAttribute(T,"stats")&&typeof Stats<"u"){this._stats=new Stats;var j=this._stats.domElement,q=j.style,W=Ut.getOffset(T);q.position="absolute",q.left=W.x+"px",q.top=W.y+"px",x.body.appendChild(j)}}else G=new X(T),T=null;this._project=M,this._scope=M._scope,this._element=T,this._pixelRatio||(this._pixelRatio=_&&_.devicePixelRatio||1),this._setElementSize(G.width,G.height),this._viewSize=G,k._views.push(this),k._viewsById[this._id]=this,(this._matrix=new pe)._owner=this,k._focused||(k._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!ut.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;Pr._focused===this&&(Pr._focused=null),Pr._views.splice(Pr._views.indexOf(this),1),delete Pr._viewsById[this._id];var k=this._project;return k._view===this&&(k._view=null),pr.remove(this._element,this._viewEvents),pr.remove(_,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:w.each(V._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(k){this[k]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(k){this._autoUpdate=k,k&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var k=this;pr.requestAnimationFrame(function(){if(k._requested=!1,k._animate){k.requestUpdate();var M=k._element;(!Ut.getPrefixed(x,"hidden")||E.getAttribute(M,"keepalive")==="true")&&Ut.isInView(M)&&k._handleFrame()}k._autoUpdate&&k.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){ut=this._scope;var k=Date.now()/1e3,M=this._last?k-this._last:0;this._last=k,this.emit("frame",new w({delta:M,time:this._time+=M,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(k,M){var T=this._frameItems;M?(T[k._id]={item:k,time:0,count:0},++this._frameItemCount===1&&this.on("frame",this._handleFrameItems)):(delete T[k._id],--this._frameItemCount===0&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(k){for(var M in this._frameItems){var T=this._frameItems[M];T.item.emit("frame",new w(k,{time:T.time+=k.delta,count:T.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=y},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return this._pixelRatio*72},getViewSize:function(){var k=this._viewSize;return new J(k.width,k.height,this,"setViewSize")},setViewSize:function(){var k=X.read(arguments),M=k.subtract(this._viewSize);M.isZero()||(this._setElementSize(k.width,k.height),this._viewSize.set(k),this._changed(),this.emit("resize",{size:k,delta:M}),this._autoUpdate&&this.update())},_setElementSize:function(k,M){var T=this._element;T&&(T.width!==k&&(T.width=k),T.height!==M&&(T.height=M))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new ae(new N,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return Ut.isInView(this._element)},isInserted:function(){return Ut.isInserted(this._element)},getPixelSize:function(k){var M=this._element,T;if(M){var $=M.parentNode,R=x.createElement("div");R.style.fontSize=k,$.appendChild(R),T=parseFloat(Ut.getStyles(R).fontSize),$.removeChild(R)}else T=parseFloat(T);return T},getTextWidth:function(k,M){return 0}},w.each(["rotate","scale","shear","skew"],function(k){var M=k==="rotate";this[k]=function(){var T=arguments,$=(M?w:N).read(T),R=N.read(T,0,{readNull:!0});return this.transform(new pe()[k]($,R||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var k=new pe;return this.transform(k.translate.apply(k,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var k=N.read(arguments);this.translate(this.getCenter().subtract(k))},getZoom:function(){var k=this._decompose().scaling;return(k.x+k.y)/2},setZoom:function(k){this.transform(new pe().scale(k/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(k){var M=this.getRotation();M!=null&&k!=null&&this.rotate(k-M)},getScaling:function(){var k=this._decompose().scaling;return new H(k.x,k.y,this,"setScaling")},setScaling:function(){var k=this.getScaling(),M=N.read(arguments,0,{clone:!0,readNull:!0});k&&M&&this.scale(M.x/k.x,M.y/k.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var k=this._matrix;k.set.apply(k,arguments)},transform:function(k){this._matrix.append(k)},scrollBy:function(){this.translate(N.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(N.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(N.read(arguments))},getEventPoint:function(k){return this.viewToProject(pr.getOffset(k,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(k,M){x&&typeof M=="string"&&(M=x.getElementById(M));var T=_?tn:Pr;return new T(k,M)}}},new function(){if(!_)return;var k,M,T=!1,$=!1;function R(Re){var We=pr.getTarget(Re);return We.getAttribute&&Pr._viewsById[We.getAttribute("id")]}function G(){var Re=Pr._focused;if(!Re||!Re.isVisible()){for(var We=0,Qe=Pr._views.length;We<Qe;We++)if((Re=Pr._views[We]).isVisible()){Pr._focused=M=Re;break}}}function K(Re,We,Qe){Re._handleMouseEvent("mousemove",We,Qe)}var Y=_.navigator,j,q,W;Y.pointerEnabled||Y.msPointerEnabled?(j="pointerdown MSPointerDown",q="pointermove MSPointerMove",W="pointerup pointercancel MSPointerUp MSPointerCancel"):(j="touchstart",q="touchmove",W="touchend touchcancel","ontouchstart"in _&&Y.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(j+=" mousedown",q+=" mousemove",W+=" mouseup"));var Q={},ee={mouseout:function(Re){var We=Pr._focused,Qe=pr.getRelatedTarget(Re);if(We&&(!Qe||Qe.nodeName==="HTML")){var it=pr.getOffset(Re,We._element),tt=it.x,yt=Math.abs,Ft=yt(tt),Jt=1<<25,lr=Ft-Jt;it.x=yt(lr)<Ft?lr*(tt<0?-1:1):tt,K(We,Re,We.viewToProject(it))}},scroll:G};Q[j]=function(Re){var We=Pr._focused=R(Re);T||(T=!0,We._handleMouseEvent("mousedown",Re))},ee[q]=function(Re){var We=Pr._focused;if(!$){var Qe=R(Re);Qe?We!==Qe&&(We&&K(We,Re),k||(k=We),We=Pr._focused=M=Qe):M&&M===We&&(k&&!k.isInserted()&&(k=null),We=Pr._focused=k,k=null,G())}We&&K(We,Re)},ee[j]=function(){$=!0},ee[W]=function(Re){var We=Pr._focused;We&&T&&We._handleMouseEvent("mouseup",Re),$=T=!1},pr.add(x,ee),pr.add(_,{load:G});var te=!1,oe=!1,ne={doubleclick:"click",mousedrag:"mousemove"},he=!1,se,le,re,ge,ye,Ce,_e,Ie;function Be(Re,We,Qe,it,tt,yt,Ft){var Jt=!1,lr;function Cr(Mt,Dt){if(Mt.responds(Dt)){if(lr||(lr=new Bn(Dt,it,tt,We||Mt,yt?tt.subtract(yt):null)),Mt.emit(Dt,lr)&&(te=!0,lr.prevented&&(oe=!0),lr.stopped))return Jt=!0}else{var fr=ne[Dt];if(fr)return Cr(Mt,fr)}}for(;Re&&Re!==Ft&&!Cr(Re,Qe);)Re=Re._parent;return Jt}function ze(Re,We,Qe,it,tt,yt){return Re._project.removeOn(Qe),oe=te=!1,ye&&Be(ye,null,Qe,it,tt,yt)||We&&We!==ye&&!We.isDescendant(ye)&&Be(We,null,Qe==="mousedrag"?"mousemove":Qe,it,tt,yt,ye)||Be(Re,ye||We||Re,Qe,it,tt,yt)}var Ke={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:Q,_handleMouseEvent:function(Re,We,Qe){var it=this._itemEvents,tt=it.native[Re],yt=Re==="mousemove",Ft=this._scope.tool,Jt=this;function lr(Rr){return it.virtual[Rr]||Jt.responds(Rr)||Ft&&Ft.responds(Rr)}yt&&T&&lr("mousedrag")&&(Re="mousedrag"),Qe||(Qe=this.getEventPoint(We));var Cr=this.getBounds().contains(Qe),Mt=tt&&Cr&&Jt._project.hitTest(Qe,{tolerance:0,fill:!0,stroke:!0}),Dt=Mt&&Mt.item||null,fr=!1,Sr={};if(Sr[Re.substr(5)]=!0,tt&&Dt!==ge&&(ge&&Be(ge,null,"mouseleave",We,Qe),Dt&&Be(Dt,null,"mouseenter",We,Qe),ge=Dt),he^Cr&&(Be(this,null,Cr?"mouseenter":"mouseleave",We,Qe),fr=!0),(Cr||Sr.drag)&&!Qe.equals(le)&&(ze(this,Dt,yt?Re:"mousemove",We,Qe,le),fr=!0),he=Cr,Sr.down&&Cr||Sr.up&&se){if(ze(this,Dt,Re,We,Qe,se),Sr.down){if(Ie=Dt===Ce&&Date.now()-_e<300,re=Ce=Dt,!oe&&Dt){for(var kr=Dt;kr&&!kr.responds("mousedrag");)kr=kr._parent;kr&&(ye=Dt)}se=Qe}else Sr.up&&(!oe&&Dt===re&&(_e=Date.now(),ze(this,Dt,Ie?"doubleclick":"click",We,Qe,se),Ie=!1),re=ye=null);he=!1,fr=!0}le=Qe,fr&&Ft&&(te=Ft._handleMouseEvent(Re,We,Qe,Sr)||te),We.cancelable!==!1&&(te&&!Sr.move||Sr.down&&lr("mouseup"))&&We.preventDefault()},_handleKeyEvent:function(Re,We,Qe,it){var tt=this._scope,yt=tt.tool,Ft;function Jt(lr){lr.responds(Re)&&(ut=tt,lr.emit(Re,Ft=Ft||new pn(Re,We,Qe,it)))}this.isVisible()&&(Jt(this),yt&&yt.responds(Re)&&Jt(yt))},_countItemEvent:function(Re,We){var Qe=this._itemEvents,it=Qe.native,tt=Qe.virtual;for(var yt in Ke)it[yt]=(it[yt]||0)+(Ke[yt][Re]||0)*We;tt[Re]=(tt[Re]||0)+We},statics:{updateFocus:G,_resetState:function(){T=$=te=he=!1,k=M=se=le=re=ge=ye=Ce=_e=Ie=null}}}}),tn=Pr.extend({_class:"CanvasView",initialize:function(M,T){if(!(T instanceof _.HTMLCanvasElement)){var $=X.read(arguments,1);if($.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+w.slice(arguments,1));T=ln.getCanvas($)}var R=this._context=T.getContext("2d");if(R.save(),this._pixelRatio=1,!/^off|false$/.test(E.getAttribute(T,"hidpi"))){var G=_.devicePixelRatio||1,K=Ut.getPrefixed(R,"backingStorePixelRatio")||1;this._pixelRatio=G/K}Pr.call(this,M,T),this._needsUpdate=!0},remove:function k(){return this._context.restore(),k.base.call(this)},_setElementSize:function k(M,T){var $=this._pixelRatio;if(k.base.call(this,M*$,T*$),$!==1){var R=this._element,G=this._context;if(!E.hasAttribute(R,"resize")){var K=R.style;K.width=M+"px",K.height=T+"px"}G.restore(),G.save(),G.scale($,$)}},getContext:function(){return this._context},getPixelSize:function k(M){var T=ut.agent,$;if(T&&T.firefox)$=k.base.call(this,M);else{var R=this._context,G=R.font;R.font=M+" serif",$=parseFloat(R.font),R.font=G}return $},getTextWidth:function(k,M){var T=this._context,$=T.font,R=0;T.font=k;for(var G=0,K=M.length;G<K;G++)R=Math.max(R,T.measureText(M[G]).width);return T.font=$,R},update:function(){if(!this._needsUpdate)return!1;var k=this._project,M=this._context,T=this._viewSize;return M.clearRect(0,0,T.width+1,T.height+1),k&&k.draw(M,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),un=w.extend({_class:"Event",initialize:function(M){this.event=M,this.type=M&&M.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return kn.modifiers}}),pn=un.extend({_class:"KeyEvent",initialize:function(M,T,$,R){this.type=M,this.event=T,this.key=$,this.character=R},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),kn=new function(){var k={"	":"tab"," ":"space","\b":"backspace","":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},M={tab:"	",space:" ",enter:"\r"},T={},$={},R,G,K=new w({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var q=ut&&ut.agent;return q&&q.mac?this.meta:this.control}}});function Y(q){var W=q.key||q.keyIdentifier;return W=/^U\+/.test(W)?String.fromCharCode(parseInt(W.substr(2),16)):/^Arrow[A-Z]/.test(W)?W.substr(5):W==="Unidentified"||W===y?String.fromCharCode(q.keyCode):W,k[W]||(W.length>1?w.hyphenate(W):W.toLowerCase())}function j(q,W,Q,ee){var te=Pr._focused,oe;if(T[W]=q,q?$[W]=Q:delete $[W],W.length>1&&(oe=w.camelize(W))in K){K[oe]=q;var ne=ut&&ut.agent;if(oe==="meta"&&ne&&ne.mac)if(q)R={};else{for(var he in R)he in $&&j(!1,he,R[he],ee);R=null}}else q&&R&&(R[W]=Q);te&&te._handleKeyEvent(q?"keydown":"keyup",ee,W,Q)}return pr.add(x,{keydown:function(q){var W=Y(q),Q=ut&&ut.agent;W.length>1||Q&&Q.chrome&&(q.altKey||Q.mac&&q.metaKey||!Q.mac&&q.ctrlKey)?j(!0,W,M[W]||(W.length>1?"":W),q):G=W},keypress:function(q){if(G){var W=Y(q),Q=q.charCode,ee=Q>=32?String.fromCharCode(Q):W.length>1?"":W;W!==G&&(W=ee.toLowerCase()),j(!0,W,ee,q),G=null}},keyup:function(q){var W=Y(q);W in $&&j(!1,W,$[W],q)}}),pr.add(_,{blur:function(q){for(var W in $)j(!1,W,$[W],q)}}),{modifiers:K,isDown:function(q){return!!T[q]}}},Bn=un.extend({_class:"MouseEvent",initialize:function(M,T,$,R,G){this.type=M,this.event=T,this.point=$,this.target=R,this.delta=G},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),ai=un.extend({_class:"ToolEvent",_item:null,initialize:function(M,T,$){this.tool=M,this.type=T,this.event=$},_choosePoint:function(k,M){return k||(M?M.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(k){this._point=k},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(k){this._lastPoint=k},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(k){this._downPoint=k},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(k){this._middlePoint=k},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(k){this._delta=k},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(k){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=k},getItem:function(){if(!this._item){var k=this.tool._scope.project.hitTest(this.getPoint());if(k){for(var M=k.item,T=M._parent;/^(Group|CompoundPath)$/.test(T._class);)M=T,T=T._parent;this._item=M}}return this._item},setItem:function(k){this._item=k},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),vn=I.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(M){I.call(this),this._moveCount=-1,this._downCount=-1,this.set(M)},getMinDistance:function(){return this._minDistance},setMinDistance:function(k){this._minDistance=k,k!=null&&this._maxDistance!=null&&k>this._maxDistance&&(this._maxDistance=k)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(k){this._maxDistance=k,this._minDistance!=null&&k!=null&&k<this._minDistance&&(this._minDistance=k)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(k){this._minDistance=this._maxDistance=k},_handleMouseEvent:function(k,M,T,$){ut=this._scope,$.drag&&!this.responds(k)&&(k="mousemove");var R=$.move||$.drag,G=this.responds(k),K=!1,Y=this;function j(W,Q){var ee=T,te=R?Y._point:Y._downPoint||ee;if(R){if(Y._moveCount>=0&&ee.equals(te))return!1;if(te&&(W!=null||Q!=null)){var oe=ee.subtract(te),ne=oe.getLength();if(ne<(W||0))return!1;Q&&(ee=te.add(oe.normalize(Math.min(ne,Q))))}Y._moveCount++}return Y._point=ee,Y._lastPoint=te||ee,$.down&&(Y._moveCount=-1,Y._downPoint=ee,Y._downCount++),!0}function q(){G&&(K=Y.emit(k,new ai(Y,k,M))||K)}if($.down)j(),q();else if($.up)j(null,this._maxDistance),q();else if(G)for(;j(this._minDistance,this._maxDistance);)q();return K}}),oi=w.extend(S,{_class:"Tween",statics:{easings:new w({linear:function(k){return k},easeInQuad:function(k){return k*k},easeOutQuad:function(k){return k*(2-k)},easeInOutQuad:function(k){return k<.5?2*k*k:-1+2*(2-k)*k},easeInCubic:function(k){return k*k*k},easeOutCubic:function(k){return--k*k*k+1},easeInOutCubic:function(k){return k<.5?4*k*k*k:(k-1)*(2*k-2)*(2*k-2)+1},easeInQuart:function(k){return k*k*k*k},easeOutQuart:function(k){return 1- --k*k*k*k},easeInOutQuart:function(k){return k<.5?8*k*k*k*k:1-8*--k*k*k*k},easeInQuint:function(k){return k*k*k*k*k},easeOutQuint:function(k){return 1+--k*k*k*k*k},easeInOutQuint:function(k){return k<.5?16*k*k*k*k*k:1+16*--k*k*k*k*k}})},initialize:function k(M,T,$,R,G,K){this.object=M;var Y=typeof G,j=Y==="function";this.type=j?Y:Y==="string"?G:"linear",this.easing=j?G:k.easings[this.type],this.duration=R,this.running=!1,this._then=null,this._startTime=null;var q=T||$;this._keys=q?Object.keys(q):[],this._parsedKeys=this._parseKeys(this._keys),this._from=q&&this._getState(T),this._to=q&&this._getState($),K!==!1&&this.start()},then:function(k){return this._then=k,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(k){if(this.running){k>=1&&(k=1,this.running=!1);for(var M=this.easing(k),T=this._keys,$=function(W){return typeof W=="function"?W(M,k):W},R=0,G=T&&T.length;R<G;R++){var K=T[R],Y=$(this._from[K]),j=$(this._to[K]),q=Y&&j&&Y.__add&&j.__add?j.__subtract(Y).__multiply(M).__add(Y):(j-Y)*M+Y;this._setProperty(this._parsedKeys[K],q)}this.responds("update")&&this.emit("update",new w({progress:k,factor:M})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(k){var M=this._startTime,T=M?(k-M)/this.duration:0;M||(this._startTime=k),this.update(T)},_getState:function(k){for(var M=this._keys,T={},$=0,R=M.length;$<R;$++){var G=M[$],K=this._parsedKeys[G],Y=this._getProperty(K),j;if(k){var q=this._resolveValue(Y,k[G]);this._setProperty(K,q),j=this._getProperty(K),j=j&&j.clone?j.clone():j,this._setProperty(K,Y)}else j=Y&&Y.clone?Y.clone():Y;T[G]=j}return T},_resolveValue:function(k,M){if(M){if(Array.isArray(M)&&M.length===2){var T=M[0];return T&&T.match&&T.match(/^[+\-\*\/]=/)?this._calculate(k,T[0],M[1]):M}else if(typeof M=="string"){var $=M.match(/^[+\-*/]=(.*)/);if($){var R=JSON.parse($[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(k,M[0],R)}}}return M},_calculate:function(k,M,T){return ut.PaperScript.calculateBinary(k,M,T)},_parseKeys:function(k){for(var M={},T=0,$=k.length;T<$;T++){var R=k[T],G=R.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");M[R]=G.split("/")}return M},_getProperty:function(k,M){for(var T=this.object,$=0,R=k.length-(M||0);$<R&&T;$++)T=T[k[$]];return T},_setProperty:function(k,M){var T=this._getProperty(k,1);T&&(T[k[k.length-1]]=M)}}),Hn={request:function(k){var M=new v.XMLHttpRequest;return M.open((k.method||"get").toUpperCase(),k.url,w.pick(k.async,!0)),k.mimeType&&M.overrideMimeType(k.mimeType),M.onload=function(){var T=M.status;T===0||T===200?k.onLoad&&k.onLoad.call(M,M.responseText):M.onerror()},M.onerror=function(){var T=M.status,$='Could not load "'+k.url+'" (Status: '+T+")";if(k.onError)k.onError($,T);else throw new Error($)},M.send(null)}},ln=w.exports.CanvasProvider={canvases:[],getCanvas:function(k,M,T){if(!_)return null;var $,R=!0;typeof k=="object"&&(M=k.height,k=k.width),this.canvases.length?$=this.canvases.pop():($=x.createElement("canvas"),R=!1);var G=$.getContext("2d",T||{});if(!G)throw new Error("Canvas "+$+" is unable to provide a 2D context.");return $.width===k&&$.height===M?R&&G.clearRect(0,0,k+1,M+1):($.width=k,$.height=M),G.save(),$},getContext:function(k,M,T){var $=this.getCanvas(k,M,T);return $?$.getContext("2d",T||{}):null},release:function(k){var M=k&&k.canvas?k.canvas:k;M&&M.getContext&&(M.getContext("2d").restore(),this.canvases.push(M))}},In=new function(){var k=Math.min,M=Math.max,T=Math.abs,$,R,G,K,Y,j,q,W,Q,ee,te;function oe(ye,Ce,_e){return .2989*ye+.587*Ce+.114*_e}function ne(ye,Ce,_e,ze){var Be=ze-oe(ye,Ce,_e);Q=ye+Be,ee=Ce+Be,te=_e+Be;var ze=oe(Q,ee,te),Ke=k(Q,ee,te),Re=M(Q,ee,te);if(Ke<0){var We=ze-Ke;Q=ze+(Q-ze)*ze/We,ee=ze+(ee-ze)*ze/We,te=ze+(te-ze)*ze/We}if(Re>255){var Qe=255-ze,it=Re-ze;Q=ze+(Q-ze)*Qe/it,ee=ze+(ee-ze)*Qe/it,te=ze+(te-ze)*Qe/it}}function he(ye,Ce,_e){return M(ye,Ce,_e)-k(ye,Ce,_e)}function se(ye,Ce,_e,Ie){var Be=[ye,Ce,_e],ze=M(ye,Ce,_e),Ke=k(ye,Ce,_e),Re;Ke=Ke===ye?0:Ke===Ce?1:2,ze=ze===ye?0:ze===Ce?1:2,Re=k(Ke,ze)===0?M(Ke,ze)===1?2:1:0,Be[ze]>Be[Ke]?(Be[Re]=(Be[Re]-Be[Ke])*Ie/(Be[ze]-Be[Ke]),Be[ze]=Ie):Be[Re]=Be[ze]=0,Be[Ke]=0,Q=Be[0],ee=Be[1],te=Be[2]}var le={multiply:function(){Q=Y*$/255,ee=j*R/255,te=q*G/255},screen:function(){Q=Y+$-Y*$/255,ee=j+R-j*R/255,te=q+G-q*G/255},overlay:function(){Q=Y<128?2*Y*$/255:255-2*(255-Y)*(255-$)/255,ee=j<128?2*j*R/255:255-2*(255-j)*(255-R)/255,te=q<128?2*q*G/255:255-2*(255-q)*(255-G)/255},"soft-light":function(){var ye=$*Y/255;Q=ye+Y*(255-(255-Y)*(255-$)/255-ye)/255,ye=R*j/255,ee=ye+j*(255-(255-j)*(255-R)/255-ye)/255,ye=G*q/255,te=ye+q*(255-(255-q)*(255-G)/255-ye)/255},"hard-light":function(){Q=$<128?2*$*Y/255:255-2*(255-$)*(255-Y)/255,ee=R<128?2*R*j/255:255-2*(255-R)*(255-j)/255,te=G<128?2*G*q/255:255-2*(255-G)*(255-q)/255},"color-dodge":function(){Q=Y===0?0:$===255?255:k(255,255*Y/(255-$)),ee=j===0?0:R===255?255:k(255,255*j/(255-R)),te=q===0?0:G===255?255:k(255,255*q/(255-G))},"color-burn":function(){Q=Y===255?255:$===0?0:M(0,255-(255-Y)*255/$),ee=j===255?255:R===0?0:M(0,255-(255-j)*255/R),te=q===255?255:G===0?0:M(0,255-(255-q)*255/G)},darken:function(){Q=Y<$?Y:$,ee=j<R?j:R,te=q<G?q:G},lighten:function(){Q=Y>$?Y:$,ee=j>R?j:R,te=q>G?q:G},difference:function(){Q=Y-$,Q<0&&(Q=-Q),ee=j-R,ee<0&&(ee=-ee),te=q-G,te<0&&(te=-te)},exclusion:function(){Q=Y+$*(255-Y-Y)/255,ee=j+R*(255-j-j)/255,te=q+G*(255-q-q)/255},hue:function(){se($,R,G,he(Y,j,q)),ne(Q,ee,te,oe(Y,j,q))},saturation:function(){se(Y,j,q,he($,R,G)),ne(Q,ee,te,oe(Y,j,q))},luminosity:function(){ne(Y,j,q,oe($,R,G))},color:function(){ne($,R,G,oe(Y,j,q))},add:function(){Q=k(Y+$,255),ee=k(j+R,255),te=k(q+G,255)},subtract:function(){Q=M(Y-$,0),ee=M(j-R,0),te=M(q-G,0)},average:function(){Q=(Y+$)/2,ee=(j+R)/2,te=(q+G)/2},negation:function(){Q=255-T(255-$-Y),ee=255-T(255-R-j),te=255-T(255-G-q)}},re=this.nativeModes=w.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(ye){this[ye]=!0},{}),ge=ln.getContext(1,1,{willReadFrequently:!0});ge&&(w.each(le,function(ye,Ce){var _e=Ce==="darken",Ie=!1;ge.save();try{ge.fillStyle=_e?"#300":"#a00",ge.fillRect(0,0,1,1),ge.globalCompositeOperation=Ce,ge.globalCompositeOperation===Ce&&(ge.fillStyle=_e?"#a00":"#300",ge.fillRect(0,0,1,1),Ie=ge.getImageData(0,0,1,1).data[0]!==_e?170:51)}catch{}ge.restore(),re[Ce]=Ie}),ln.release(ge)),this.process=function(ye,Ce,_e,Ie,Be){var ze=Ce.canvas,Ke=ye==="normal";if(Ke||re[ye])_e.save(),_e.setTransform(1,0,0,1,0,0),_e.globalAlpha=Ie,Ke||(_e.globalCompositeOperation=ye),_e.drawImage(ze,Be.x,Be.y),_e.restore();else{var Re=le[ye];if(!Re)return;for(var We=_e.getImageData(Be.x,Be.y,ze.width,ze.height),Qe=We.data,it=Ce.getImageData(0,0,ze.width,ze.height).data,tt=0,yt=Qe.length;tt<yt;tt+=4){$=it[tt],Y=Qe[tt],R=it[tt+1],j=Qe[tt+1],G=it[tt+2],q=Qe[tt+2],K=it[tt+3],W=Qe[tt+3],Re();var Ft=K*Ie/255,Jt=1-Ft;Qe[tt]=Ft*Q+Jt*Y,Qe[tt+1]=Ft*ee+Jt*j,Qe[tt+2]=Ft*te+Jt*q,Qe[tt+3]=K*Ie+Jt*W}_e.putImageData(We,Be.x,Be.y)}}},Ee=new function(){var k="http://www.w3.org/2000/svg",M="http://www.w3.org/2000/xmlns",T="http://www.w3.org/1999/xlink",$={href:T,xlink:M,xmlns:M+"/","xmlns:xlink":M+"/"};function R(Y,j,q){return K(x.createElementNS(k,Y),j,q)}function G(Y,j){var q=$[j],W=q?Y.getAttributeNS(q,j):Y.getAttribute(j);return W==="null"?null:W}function K(Y,j,q){for(var W in j){var Q=j[W],ee=$[W];typeof Q=="number"&&q&&(Q=q.number(Q)),ee?Y.setAttributeNS(ee,W,Q):Y.setAttribute(W,Q)}return Y}return{svg:k,xmlns:M,xlink:T,create:R,get:G,set:K}},Xe=w.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(k,M){return!M&&(k instanceof gt||k instanceof be||k instanceof Yt)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(k,M){var T=w.capitalize(M),$=k[2];this[M]={type:k[1],property:M,attribute:k[0],toSVG:$,fromSVG:$&&w.each($,function(R,G){this[R]=G},{}),exportFilter:k[3],get:"get"+T,set:"set"+T}},{});new function(){var k;function M(le,re,ge){var ye=new w,Ce=le.getTranslation();if(re){var _e;le.isInvertible()?(le=le._shiftless(),_e=le._inverseTransform(Ce),Ce=null):_e=new N,ye[ge?"cx":"x"]=_e.x,ye[ge?"cy":"y"]=_e.y}if(!le.isIdentity()){var Ie=le.decompose();if(Ie){var Be=[],ze=Ie.rotation,Ke=Ie.scaling,Re=Ie.skewing;Ce&&!Ce.isZero()&&Be.push("translate("+k.point(Ce)+")"),ze&&Be.push("rotate("+k.number(ze)+")"),(!F.isZero(Ke.x-1)||!F.isZero(Ke.y-1))&&Be.push("scale("+k.point(Ke)+")"),Re.x&&Be.push("skewX("+k.number(Re.x)+")"),Re.y&&Be.push("skewY("+k.number(Re.y)+")"),ye.transform=Be.join(" ")}else ye.transform="matrix("+le.getValues().join(",")+")"}return ye}function T(le,re){for(var ge=M(le._matrix),ye=le._children,Ce=Ee.create("g",ge,k),_e=0,Ie=ye.length;_e<Ie;_e++){var Be=ye[_e],ze=he(Be,re);if(ze)if(Be.isClipMask()){var Ke=Ee.create("clipPath");Ke.appendChild(ze),oe(Be,Ke,"clip"),Ee.set(Ce,{"clip-path":"url(#"+Ke.id+")"})}else Ce.appendChild(ze)}return Ce}function $(le,re){var ge=M(le._matrix,!0),ye=le.getSize(),Ce=le.getImage();return ge.x-=ye.width/2,ge.y-=ye.height/2,ge.width=ye.width,ge.height=ye.height,ge.href=re.embedImages==!1&&Ce&&Ce.src||le.toDataURL(),Ee.create("image",ge,k)}function R(le,re){var ge=re.matchShapes;if(ge){var ye=le.toShape(!1);if(ye)return G(ye)}var Ce=le._segments,_e=Ce.length,Ie,Be=M(le._matrix);if(ge&&_e>=2&&!le.hasHandles())if(_e>2){Ie=le._closed?"polygon":"polyline";for(var ze=[],Ke=0;Ke<_e;Ke++)ze.push(k.point(Ce[Ke]._point));Be.points=ze.join(" ")}else{Ie="line";var Re=Ce[0]._point,We=Ce[1]._point;Be.set({x1:Re.x,y1:Re.y,x2:We.x,y2:We.y})}else Ie="path",Be.d=le.getPathData(null,re.precision);return Ee.create(Ie,Be,k)}function G(le){var re=le._type,ge=le._radius,ye=M(le._matrix,!0,re!=="rectangle");if(re==="rectangle"){re="rect";var Ce=le._size,_e=Ce.width,Ie=Ce.height;ye.x-=_e/2,ye.y-=Ie/2,ye.width=_e,ye.height=Ie,ge.isZero()&&(ge=null)}return ge&&(re==="circle"?ye.r=ge:(ye.rx=ge.width,ye.ry=ge.height)),Ee.create(re,ye,k)}function K(le,re){var ge=M(le._matrix),ye=le.getPathData(null,re.precision);return ye&&(ge.d=ye),Ee.create("path",ge,k)}function Y(le,re){var ge=M(le._matrix,!0),ye=le._definition,Ce=te(ye,"symbol"),_e=ye._item,Ie=_e.getStrokeBounds();return Ce||(Ce=Ee.create("symbol",{viewBox:k.rectangle(Ie)}),Ce.appendChild(he(_e,re)),oe(ye,Ce,"symbol")),ge.href="#"+Ce.id,ge.x+=Ie.x,ge.y+=Ie.y,ge.width=Ie.width,ge.height=Ie.height,ge.overflow="visible",Ee.create("use",ge,k)}function j(le){var re=te(le,"color");if(!re){var ge=le.getGradient(),ye=ge._radial,Ce=le.getOrigin(),_e=le.getDestination(),Ie;if(ye){Ie={cx:Ce.x,cy:Ce.y,r:Ce.getDistance(_e)};var Be=le.getHighlight();Be&&(Ie.fx=Be.x,Ie.fy=Be.y)}else Ie={x1:Ce.x,y1:Ce.y,x2:_e.x,y2:_e.y};Ie.gradientUnits="userSpaceOnUse",re=Ee.create((ye?"radial":"linear")+"Gradient",Ie,k);for(var ze=ge._stops,Ke=0,Re=ze.length;Ke<Re;Ke++){var We=ze[Ke],Qe=We._color,it=Qe.getAlpha(),tt=We._offset;Ie={offset:tt??Ke/(Re-1)},Qe&&(Ie["stop-color"]=Qe.toCSS(!0)),it<1&&(Ie["stop-opacity"]=it),re.appendChild(Ee.create("stop",Ie,k))}oe(le,re,"color")}return"url(#"+re.id+")"}function q(le){var re=Ee.create("text",M(le._matrix,!0),k);return re.textContent=le._content,re}var W={Group:T,Layer:T,Raster:$,Path:R,Shape:G,CompoundPath:K,SymbolItem:Y,PointText:q};function Q(le,re,ge,ye){var Ce={},_e=!ye&&le.getParent(),Ie=[];return le._name!=null&&(Ce.id=le._name),w.each(Xe,function(Be){var ze=Be.get,Ke=Be.type,Re=le[ze]();if(Be.exportFilter?Be.exportFilter(le,Re):ge.reduceAttributes==!1||!_e||!w.equals(_e[ze](),Re)){if(Ke==="color"&&Re!=null){var We=Re.getAlpha();We<1&&(Ce[Be.attribute+"-opacity"]=We)}Ke==="style"?Ie.push(Be.attribute+": "+Re):Ce[Be.attribute]=Re==null?"none":Ke==="color"?Re.gradient?j(Re):Re.toCSS(!0):Ke==="array"?Re.join(","):Ke==="lookup"?Be.toSVG[Re]:Re}}),Ie.length&&(Ce.style=Ie.join(";")),Ce.opacity===1&&delete Ce.opacity,le._visible||(Ce.visibility="hidden"),Ee.set(re,Ce,k)}var ee;function te(le,re){return ee||(ee={ids:{},svgs:{}}),le&&ee.svgs[re+"-"+(le._id||le.__id||(le.__id=z.get("svg")))]}function oe(le,re,ge){ee||te();var ye=ee.ids[ge]=(ee.ids[ge]||0)+1;re.id=ge+"-"+ye,ee.svgs[ge+"-"+(le._id||le.__id)]=re}function ne(le,re){var ge=le,ye=null;if(ee){ge=le.nodeName.toLowerCase()==="svg"&&le;for(var Ce in ee.svgs)ye||(ge||(ge=Ee.create("svg"),ge.appendChild(le)),ye=ge.insertBefore(Ee.create("defs"),ge.firstChild)),ye.appendChild(ee.svgs[Ce]);ee=null}return re.asString?new v.XMLSerializer().serializeToString(ge):ge}function he(le,re,ge){var ye=W[le._class],Ce=ye&&ye(le,re);if(Ce){var _e=re.onExport;_e&&(Ce=_e(le,Ce,re)||Ce);var Ie=JSON.stringify(le._data);Ie&&Ie!=="{}"&&Ie!=="null"&&Ce.setAttribute("data-paper-data",Ie)}return Ce&&Q(le,Ce,re,ge)}function se(le){return le||(le={}),k=new O(le.precision),le}V.inject({exportSVG:function(le){return le=se(le),ne(he(this,le,!0),le)}}),ce.inject({exportSVG:function(le){le=se(le);var re=this._children,ge=this.getView(),ye=w.pick(le.bounds,"view"),Ce=le.matrix||ye==="view"&&ge._matrix,_e=Ce&&pe.read([Ce]),Ie=ye==="view"?new ae([0,0],ge.getViewSize()):ye==="content"?V._getBounds(re,_e,{stroke:!0}).rect:ae.read([ye],0,{readNull:!0}),Be={version:"1.1",xmlns:Ee.svg,"xmlns:xlink":Ee.xlink};Ie&&(Be.width=Ie.width,Be.height=Ie.height,(Ie.x||Ie.x===0||Ie.y||Ie.y===0)&&(Be.viewBox=k.rectangle(Ie)));var ze=Ee.create("svg",Be,k),Ke=ze;_e&&!_e.isIdentity()&&(Ke=ze.appendChild(Ee.create("g",M(_e),k)));for(var Re=0,We=re.length;Re<We;Re++)Ke.appendChild(he(re[Re],le,!0));return ne(ze,le)}})},new function(){var k={},M;function T(re,ge,ye,Ce,_e,Ie){var Be=Ee.get(re,ge)||Ie,ze=Be==null?Ce?null:ye?"":0:ye?Be:parseFloat(Be);return/%\s*$/.test(Be)?ze/100*(_e?1:M[/x|^width/.test(ge)?"width":"height"]):ze}function $(re,ge,ye,Ce,_e,Ie,Be){return ge=T(re,ge||"x",!1,Ce,_e,Ie),ye=T(re,ye||"y",!1,Ce,_e,Be),Ce&&(ge==null||ye==null)?null:new N(ge,ye)}function R(re,ge,ye,Ce,_e){return ge=T(re,ge||"width",!1,Ce,_e),ye=T(re,ye||"height",!1,Ce,_e),Ce&&(ge==null||ye==null)?null:new X(ge,ye)}function G(re,ge,ye){return re==="none"?null:ge==="number"?parseFloat(re):ge==="array"?re?re.split(/[\s,]+/g).map(parseFloat):[]:ge==="color"?he(re)||re:ge==="lookup"?ye[re]:re}function K(re,ge,ye,Ce){var _e=re.childNodes,Ie=ge==="clippath",Be=ge==="defs",ze=new ie,Ke=ze._project,Re=Ke._currentStyle,We=[];if(!Ie&&!Be&&(ze=ne(ze,re,Ce),Ke._currentStyle=ze._style.clone()),Ce)for(var Qe=re.querySelectorAll("defs"),it=0,tt=Qe.length;it<tt;it++)se(Qe[it],ye,!1);for(var it=0,tt=_e.length;it<tt;it++){var yt=_e[it],Ft;yt.nodeType===1&&!/^defs$/i.test(yt.nodeName)&&(Ft=se(yt,ye,!1))&&!(Ft instanceof xe)&&We.push(Ft)}return ze.addChildren(We),Ie&&(ze=ne(ze.reduce(),re,Ce)),Ke._currentStyle=Re,(Ie||Be)&&(ze.remove(),ze=null),ze}function Y(re,ge){for(var ye=re.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),Ce=[],_e=0,Ie=ye.length;_e<Ie;_e+=2)Ce.push(new N(parseFloat(ye[_e]),parseFloat(ye[_e+1])));var Be=new ct(Ce);return ge==="polygon"&&Be.closePath(),Be}function j(re){return gt.create(re.getAttribute("d"))}function q(re,ge){var ye=(T(re,"href",!0)||"").substring(1),Ce=ge==="radialgradient",_e;if(ye)_e=k[ye].getGradient(),_e._radial^Ce&&(_e=_e.clone(),_e._radial=Ce);else{for(var Ie=re.childNodes,Be=[],ze=0,Ke=Ie.length;ze<Ke;ze++){var Re=Ie[ze];Re.nodeType===1&&Be.push(ne(new He,Re))}_e=new dt(Be,Ce)}var We,Qe,it,tt=T(re,"gradientUnits",!0)!=="userSpaceOnUse";Ce?(We=$(re,"cx","cy",!1,tt,"50%","50%"),Qe=We.add(T(re,"r",!1,!1,tt,"50%"),0),it=$(re,"fx","fy",!0,tt)):(We=$(re,"x1","y1",!1,tt,"0%","0%"),Qe=$(re,"x2","y2",!1,tt,"100%","0%"));var yt=ne(new Oe(_e,We,Qe,it),re);return yt._scaleToBounds=tt,null}var W={"#document":function(re,ge,ye,Ce){for(var _e=re.childNodes,Ie=0,Be=_e.length;Ie<Be;Ie++){var ze=_e[Ie];if(ze.nodeType===1)return se(ze,ye,Ce)}},g:K,svg:K,clippath:K,polygon:Y,polyline:Y,path:j,lineargradient:q,radialgradient:q,image:function(re){var ge=new Ae(T(re,"href",!0));return ge.on("load",function(){var ye=R(re);this.setSize(ye);var Ce=$(re).add(ye.divide(2));this._matrix.append(new pe().translate(Ce))}),ge},symbol:function(re,ge,ye,Ce){return new xe(K(re,ge,ye,Ce),!0)},defs:K,use:function(re){var ge=(T(re,"href",!0)||"").substring(1),ye=k[ge],Ce=$(re);return ye?ye instanceof xe?ye.place(Ce):ye.clone().translate(Ce):null},circle:function(re){return new be.Circle($(re,"cx","cy"),T(re,"r"))},ellipse:function(re){return new be.Ellipse({center:$(re,"cx","cy"),radius:R(re,"rx","ry")})},rect:function(re){return new be.Rectangle(new ae($(re),R(re)),R(re,"rx","ry"))},line:function(re){return new ct.Line($(re,"x1","y1"),$(re,"x2","y2"))},text:function(re){var ge=new Er($(re).add($(re,"dx","dy")));return ge.setContent(re.textContent.trim()||""),ge},switch:K};function Q(re,ge,ye,Ce){if(re.transform){for(var _e=(Ce.getAttribute(ye)||"").split(/\)\s*/g),Ie=new pe,Be=0,ze=_e.length;Be<ze;Be++){var Ke=_e[Be];if(!Ke)break;for(var Re=Ke.split(/\(\s*/),We=Re[0].trim(),Qe=Re[1].split(/[\s,]+/g),it=0,tt=Qe.length;it<tt;it++)Qe[it]=parseFloat(Qe[it]);switch(We){case"matrix":Ie.append(new pe(Qe[0],Qe[1],Qe[2],Qe[3],Qe[4],Qe[5]));break;case"rotate":Ie.rotate(Qe[0],Qe[1]||0,Qe[2]||0);break;case"translate":Ie.translate(Qe[0],Qe[1]||0);break;case"scale":Ie.scale(Qe);break;case"skewX":Ie.skew(Qe[0],0);break;case"skewY":Ie.skew(0,Qe[0]);break}}re.transform(Ie)}}function ee(re,ge,ye){var Ce=ye==="fill-opacity"?"getFillColor":"getStrokeColor",_e=re[Ce]&&re[Ce]();_e&&_e.setAlpha(parseFloat(ge))}var te=w.set(w.each(Xe,function(re){this[re.attribute]=function(ge,ye){if(ge[re.set]&&(ge[re.set](G(ye,re.type,re.fromSVG)),re.type==="color")){var Ce=ge[re.get]();if(Ce&&Ce._scaleToBounds){var _e=ge.getBounds();Ce.transform(new pe().translate(_e.getPoint()).scale(_e.getSize()))}}}},{}),{id:function(re,ge){k[ge]=re,re.setName&&re.setName(ge)},"clip-path":function(re,ge){var ye=he(ge);if(ye)if(ye=ye.clone(),ye.setClipMask(!0),re instanceof ie)re.insertChild(0,ye);else return new ie(ye,re)},gradientTransform:Q,transform:Q,"fill-opacity":ee,"stroke-opacity":ee,visibility:function(re,ge){re.setVisible&&re.setVisible(ge==="visible")},display:function(re,ge){re.setVisible&&re.setVisible(ge!==null)},"stop-color":function(re,ge){re.setColor&&re.setColor(ge)},"stop-opacity":function(re,ge){re._color&&re._color.setAlpha(parseFloat(ge))},offset:function(re,ge){if(re.setOffset){var ye=ge.match(/(.*)%$/);re.setOffset(ye?ye[1]/100:parseFloat(ge))}},viewBox:function(re,ge,ye,Ce,_e){var Ie=new ae(G(ge,"array")),Be=R(Ce,null,null,!0),ze,Ke;if(re instanceof ie){var Re=Be?Be.divide(Ie.getSize()):1,Ke=new pe().scale(Re).translate(Ie.getPoint().negate());ze=re}else re instanceof xe&&(Be&&Ie.setSize(Be),ze=re._item);if(ze){if(oe(Ce,"overflow",_e)!=="visible"){var We=new be.Rectangle(Ie);We.setClipMask(!0),ze.addChild(We)}Ke&&ze.transform(Ke)}}});function oe(re,ge,ye){var Ce=re.attributes[ge],_e=Ce&&Ce.value;if(!_e&&re.style){var Ie=w.camelize(ge);_e=re.style[Ie],!_e&&ye.node[Ie]!==ye.parent[Ie]&&(_e=ye.node[Ie])}return _e?_e==="none"?null:_e:y}function ne(re,ge,ye){var Ce=ge.parentNode,_e={node:Ut.getStyles(ge)||{},parent:!ye&&!/^defs$/i.test(Ce.tagName)&&Ut.getStyles(Ce)||{}};return w.each(te,function(Ie,Be){var ze=oe(ge,Be,_e);re=ze!==y&&Ie(re,ze,Be,ge,_e)||re}),re}function he(re){var ge=re&&re.match(/\((?:["'#]*)([^"')]+)/),ye=ge&&ge[1],Ce=ye&&k[_?ye.replace(_.location.href.split("#")[0]+"#",""):ye];return Ce&&Ce._scaleToBounds&&(Ce=Ce.clone(),Ce._scaleToBounds=!0),Ce}function se(re,ge,ye){var Ce=re.nodeName.toLowerCase(),_e=Ce!=="#document",Ie=x.body,Be,ze,Ke;ye&&_e&&(M=ut.getView().getSize(),M=R(re,null,null,!0)||M,Be=Ee.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),ze=re.parentNode,Ke=re.nextSibling,Be.appendChild(re),Ie.appendChild(Be));var Re=ut.settings,We=Re.applyMatrix,Qe=Re.insertItems;Re.applyMatrix=!1,Re.insertItems=!1;var it=W[Ce],tt=it&&it(re,Ce,ge,ye)||null;if(Re.insertItems=Qe,Re.applyMatrix=We,tt){_e&&!(tt instanceof ie)&&(tt=ne(tt,re,ye));var yt=ge.onImport,Ft=_e&&re.getAttribute("data-paper-data");yt&&(tt=yt(re,tt,ge)||tt),ge.expandShapes&&tt instanceof be&&(tt.remove(),tt=tt.toPath()),Ft&&(tt._data=JSON.parse(Ft))}return Be&&(Ie.removeChild(Be),ze&&(Ke?ze.insertBefore(re,Ke):ze.appendChild(re))),ye&&(k={},tt&&w.pick(ge.applyMatrix,We)&&tt.matrix.apply(!0,!0)),tt}function le(re,ge,ye){if(!re)return null;ge=typeof ge=="function"?{onLoad:ge}:ge||{};var Ce=ut,_e=null;function Ie(Re){try{var We=typeof Re=="object"?Re:new v.DOMParser().parseFromString(Re.trim(),"image/svg+xml");if(!We.nodeName)throw We=null,new Error("Unsupported SVG source: "+re);ut=Ce,_e=se(We,ge,!0),(!ge||ge.insert!==!1)&&ye._insertItem(y,_e);var Qe=ge.onLoad;Qe&&Qe(_e,Re)}catch(it){Be(it)}}function Be(Re,We){var Qe=ge.onError;if(Qe)Qe(Re,We);else throw new Error(Re)}if(typeof re=="string"&&!/^[\s\S]*</.test(re)){var ze=x.getElementById(re);ze?Ie(ze):Hn.request({url:re,async:!0,onLoad:Ie,onError:Be})}else if(typeof File<"u"&&re instanceof File){var Ke=new FileReader;return Ke.onload=function(){Ie(Ke.result)},Ke.onerror=function(){Be(Ke.error)},Ke.readAsText(re)}else Ie(re);return _e}V.inject({importSVG:function(re,ge){return le(re,ge,this)}}),ce.inject({importSVG:function(re,ge){return this.activate(),le(re,ge,this)}})},w.exports.PaperScript=(function(){var k=this,M=k.acorn;if(!M&&typeof commonjsRequire<"u")try{M=requireAcorn()}catch{}if(!M){var T,$;M=T=$={},function(ne,he){if(typeof T=="object"&&typeof $=="object")return he(T);if(typeof y=="function"&&y.amd)return y(["exports"],he);he(ne.acorn||(ne.acorn={}))}(this,function(ne){ne.version="0.5.0";var he,se,le,re;ne.parse=function(qe,et){return se=String(qe),le=se.length,ye(et),rs(),Do(he.program)};var ge=ne.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function ye(qe){he=qe||{};for(var et in ge)Object.prototype.hasOwnProperty.call(he,et)||(he[et]=ge[et]);re=he.sourceFile||null}var Ce=ne.getLineInfo=function(qe,et){for(var wt=1,$t=0;;){yi.lastIndex=$t;var Or=yi.exec(qe);if(Or&&Or.index<et)++wt,$t=Or.index+Or[0].length;else break}return{line:wt,column:et-$t}};ne.tokenize=function(qe,et){se=String(qe),le=se.length,ye(et),rs();var wt={};function $t(Or){return Ft=Be,hn(Or),wt.start=Ie,wt.end=Be,wt.startLoc=ze,wt.endLoc=Ke,wt.type=Re,wt.value=We,wt}return $t.jumpTo=function(Or,Gr){if(_e=Or,he.locations){it=1,tt=yi.lastIndex=0;for(var Hr;(Hr=yi.exec(se))&&Hr.index<Or;)++it,tt=Hr.index+Hr[0].length}Qe=Gr,aa()},$t};var _e,Ie,Be,ze,Ke,Re,We,Qe,it,tt,yt,Ft,Jt,lr,Cr,Mt;function Dt(qe,et){var wt=Ce(se,qe);et+=" ("+wt.line+":"+wt.column+")";var $t=new SyntaxError(et);throw $t.pos=qe,$t.loc=wt,$t.raisedAt=_e,$t}var fr=[],Sr={type:"num"},kr={type:"regexp"},Rr={type:"string"},$r={type:"name"},Vr={type:"eof"},jr={keyword:"break"},zr={keyword:"case",beforeExpr:!0},Sn={keyword:"catch"},Pn={keyword:"continue"},Nn={keyword:"debugger"},dr={keyword:"default"},rn={keyword:"do",isLoop:!0},sn={keyword:"else",beforeExpr:!0},ti={keyword:"finally"},Dn={keyword:"for",isLoop:!0},si={keyword:"function"},Li={keyword:"if"},gi={keyword:"return",beforeExpr:!0},ci={keyword:"switch"},Fn={keyword:"throw",beforeExpr:!0},Yn={keyword:"try"},Un={keyword:"var"},xn={keyword:"while",isLoop:!0},$i={keyword:"with"},na={keyword:"new",beforeExpr:!0},Ia={keyword:"this"},va={keyword:"null",atomValue:null},io={keyword:"true",atomValue:!0},ao={keyword:"false",atomValue:!1},zi={keyword:"in",binop:7,beforeExpr:!0},ba={break:jr,case:zr,catch:Sn,continue:Pn,debugger:Nn,default:dr,do:rn,else:sn,finally:ti,for:Dn,function:si,if:Li,return:gi,switch:ci,throw:Fn,try:Yn,var:Un,while:xn,with:$i,null:va,true:io,false:ao,new:na,in:zi,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:Ia,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},Zn={type:"[",beforeExpr:!0},zn={type:"]"},fi={type:"{",beforeExpr:!0},Ur={type:"}"},Ai={type:"(",beforeExpr:!0},ui={type:")"},vi={type:",",beforeExpr:!0},bi={type:";",beforeExpr:!0},Wi={type:":",beforeExpr:!0},ia={type:"."},Da={type:"?",beforeExpr:!0},D={binop:10,beforeExpr:!0},U={isAssign:!0,beforeExpr:!0},me={isAssign:!0,beforeExpr:!0},we={postfix:!0,prefix:!0,isUpdate:!0},Fe={prefix:!0,beforeExpr:!0},ht={binop:1,beforeExpr:!0},xt={binop:2,beforeExpr:!0},Kt={binop:3,beforeExpr:!0},gr={binop:4,beforeExpr:!0},Wr={binop:5,beforeExpr:!0},Nr={binop:6,beforeExpr:!0},En={binop:7,beforeExpr:!0},Ri={binop:8,beforeExpr:!0},Xi={binop:9,prefix:!0,beforeExpr:!0},Yi={binop:10,beforeExpr:!0};ne.tokTypes={bracketL:Zn,bracketR:zn,braceL:fi,braceR:Ur,parenL:Ai,parenR:ui,comma:vi,semi:bi,colon:Wi,dot:ia,question:Da,slash:D,eq:U,name:$r,eof:Vr,num:Sr,regexp:kr,string:Rr};for(var Vi in ba)ne.tokTypes["_"+Vi]=ba[Vi];function di(qe){qe=qe.split(" ");var et="",wt=[];e:for(var $t=0;$t<qe.length;++$t){for(var Or=0;Or<wt.length;++Or)if(wt[Or][0].length==qe[$t].length){wt[Or].push(qe[$t]);continue e}wt.push([qe[$t]])}function Gr(cn){if(cn.length==1)return et+="return str === "+JSON.stringify(cn[0])+";";et+="switch(str){";for(var Ti=0;Ti<cn.length;++Ti)et+="case "+JSON.stringify(cn[Ti])+":";et+="return true}return false;"}if(wt.length>3){wt.sort(function(cn,Ti){return Ti.length-cn.length}),et+="switch(str.length){";for(var $t=0;$t<wt.length;++$t){var Hr=wt[$t];et+="case "+Hr[0].length+":",Gr(Hr)}et+="}"}else Gr(qe);return new Function("str",et)}var li=di("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),oo=di("class enum extends super const export import"),Mo=di("implements interface let package private protected public static yield"),La=di("eval arguments"),Bs=di("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),Ns=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Jo="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",Fs="------------------------------------------------------------------------------------------------------------------------------------------",es=new RegExp("["+Jo+"]"),zs=new RegExp("["+Jo+Fs+"]"),so=/[\n\r\u2028\u2029]/,yi=/\r\n|[\n\r\u2028\u2029]/g,uo=ne.isIdentifierStart=function(qe){return qe<65?qe===36:qe<91?!0:qe<97?qe===95:qe<123?!0:qe>=170&&es.test(String.fromCharCode(qe))},ts=ne.isIdentifierChar=function(qe){return qe<48?qe===36:qe<58?!0:qe<65?!1:qe<91?!0:qe<97?qe===95:qe<123?!0:qe>=170&&zs.test(String.fromCharCode(qe))};function Ei(){this.line=it,this.column=_e-tt}function rs(){it=1,_e=tt=0,Qe=!0,aa()}function Mn(qe,et){Be=_e,he.locations&&(Ke=new Ei),Re=qe,aa(),We=et,Qe=qe.beforeExpr}function ns(){var qe=he.onComment&&he.locations&&new Ei,et=_e,wt=se.indexOf("*/",_e+=2);if(wt===-1&&Dt(_e-2,"Unterminated comment"),_e=wt+2,he.locations){yi.lastIndex=et;for(var $t;($t=yi.exec(se))&&$t.index<_e;)++it,tt=$t.index+$t[0].length}he.onComment&&he.onComment(!0,se.slice(et+2,wt),et,_e,qe,he.locations&&new Ei)}function Zi(){for(var qe=_e,et=he.onComment&&he.locations&&new Ei,wt=se.charCodeAt(_e+=2);_e<le&&wt!==10&&wt!==13&&wt!==8232&&wt!==8233;)++_e,wt=se.charCodeAt(_e);he.onComment&&he.onComment(!1,se.slice(qe+2,_e),qe,_e,et,he.locations&&new Ei)}function aa(){for(;_e<le;){var qe=se.charCodeAt(_e);if(qe===32)++_e;else if(qe===13){++_e;var et=se.charCodeAt(_e);et===10&&++_e,he.locations&&(++it,tt=_e)}else if(qe===10||qe===8232||qe===8233)++_e,he.locations&&(++it,tt=_e);else if(qe>8&&qe<14)++_e;else if(qe===47){var et=se.charCodeAt(_e+1);if(et===42)ns();else if(et===47)Zi();else break}else if(qe===160)++_e;else if(qe>=5760&&Ns.test(String.fromCharCode(qe)))++_e;else break}}function oa(){var qe=se.charCodeAt(_e+1);return qe>=48&&qe<=57?$a(!0):(++_e,Mn(ia))}function To(){var qe=se.charCodeAt(_e+1);return Qe?(++_e,ss()):qe===61?Vn(me,2):Vn(D,1)}function Vs(){var qe=se.charCodeAt(_e+1);return qe===61?Vn(me,2):Vn(Yi,1)}function Gs(qe){var et=se.charCodeAt(_e+1);return et===qe?Vn(qe===124?ht:xt,2):et===61?Vn(me,2):Vn(qe===124?Kt:Wr,1)}function qs(){var qe=se.charCodeAt(_e+1);return qe===61?Vn(me,2):Vn(gr,1)}function as(qe){var et=se.charCodeAt(_e+1);return et===qe?et==45&&se.charCodeAt(_e+2)==62&&so.test(se.slice(Ft,_e))?(_e+=3,Zi(),aa(),hn()):Vn(we,2):et===61?Vn(me,2):Vn(Xi,1)}function js(qe){var et=se.charCodeAt(_e+1),wt=1;return et===qe?(wt=qe===62&&se.charCodeAt(_e+2)===62?3:2,se.charCodeAt(_e+wt)===61?Vn(me,wt+1):Vn(Ri,wt)):et==33&&qe==60&&se.charCodeAt(_e+2)==45&&se.charCodeAt(_e+3)==45?(_e+=4,Zi(),aa(),hn()):(et===61&&(wt=se.charCodeAt(_e+2)===61?3:2),Vn(En,wt))}function Hs(qe){var et=se.charCodeAt(_e+1);return et===61?Vn(Nr,se.charCodeAt(_e+2)===61?3:2):Vn(qe===61?U:Fe,1)}function os(qe){switch(qe){case 46:return oa();case 40:return++_e,Mn(Ai);case 41:return++_e,Mn(ui);case 59:return++_e,Mn(bi);case 44:return++_e,Mn(vi);case 91:return++_e,Mn(Zn);case 93:return++_e,Mn(zn);case 123:return++_e,Mn(fi);case 125:return++_e,Mn(Ur);case 58:return++_e,Mn(Wi);case 63:return++_e,Mn(Da);case 48:var et=se.charCodeAt(_e+1);if(et===120||et===88)return Po();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return $a(!1);case 34:case 39:return sa(qe);case 47:return To();case 37:case 42:return Vs();case 124:case 38:return Gs(qe);case 94:return qs();case 43:case 45:return as(qe);case 60:case 62:return js(qe);case 61:case 33:return Hs(qe);case 126:return Vn(Fe,1)}return!1}function hn(qe){if(qe?_e=Ie+1:Ie=_e,he.locations&&(ze=new Ei),qe)return ss();if(_e>=le)return Mn(Vr);var et=se.charCodeAt(_e);if(uo(et)||et===92)return Ra();var wt=os(et);if(wt===!1){var $t=String.fromCharCode(et);if($t==="\\"||es.test($t))return Ra();Dt(_e,"Unexpected character '"+$t+"'")}return wt}function Vn(qe,et){var wt=se.slice(_e,_e+et);_e+=et,Mn(qe,wt)}function ss(){for(var Or="",qe,et,wt=_e;;){_e>=le&&Dt(wt,"Unterminated regular expression");var $t=se.charAt(_e);if(so.test($t)&&Dt(wt,"Unterminated regular expression"),qe)qe=!1;else{if($t==="[")et=!0;else if($t==="]"&&et)et=!1;else if($t==="/"&&!et)break;qe=$t==="\\"}++_e}var Or=se.slice(wt,_e);++_e;var Gr=xa();Gr&&!/^[gmsiy]*$/.test(Gr)&&Dt(wt,"Invalid regexp flag");try{var Hr=new RegExp(Or,Gr)}catch(cn){cn instanceof SyntaxError&&Dt(wt,cn.message),Dt(cn)}return Mn(kr,Hr)}function hi(qe,et){for(var wt=_e,$t=0,Or=0,Gr=et??1/0;Or<Gr;++Or){var Hr=se.charCodeAt(_e),cn;if(Hr>=97?cn=Hr-97+10:Hr>=65?cn=Hr-65+10:Hr>=48&&Hr<=57?cn=Hr-48:cn=1/0,cn>=qe)break;++_e,$t=$t*qe+cn}return _e===wt||et!=null&&_e-wt!==et?null:$t}function Po(){_e+=2;var qe=hi(16);return qe==null&&Dt(Ie+2,"Expected hexadecimal number"),uo(se.charCodeAt(_e))&&Dt(_e,"Identifier directly after number"),Mn(Sr,qe)}function $a(qe){var et=_e,wt=!1,$t=se.charCodeAt(_e)===48;!qe&&hi(10)===null&&Dt(et,"Invalid number"),se.charCodeAt(_e)===46&&(++_e,hi(10),wt=!0);var Or=se.charCodeAt(_e);(Or===69||Or===101)&&(Or=se.charCodeAt(++_e),(Or===43||Or===45)&&++_e,hi(10)===null&&Dt(et,"Invalid number"),wt=!0),uo(se.charCodeAt(_e))&&Dt(_e,"Identifier directly after number");var Gr=se.slice(et,_e),Hr;return wt?Hr=parseFloat(Gr):!$t||Gr.length===1?Hr=parseInt(Gr,10):/[89]/.test(Gr)||Mt?Dt(et,"Invalid number"):Hr=parseInt(Gr,8),Mn(Sr,Hr)}function sa(qe){_e++;for(var et="";;){_e>=le&&Dt(Ie,"Unterminated string constant");var wt=se.charCodeAt(_e);if(wt===qe)return++_e,Mn(Rr,et);if(wt===92){wt=se.charCodeAt(++_e);var $t=/^[0-7]+/.exec(se.slice(_e,_e+3));for($t&&($t=$t[0]);$t&&parseInt($t,8)>255;)$t=$t.slice(0,-1);if($t==="0"&&($t=null),++_e,$t)Mt&&Dt(_e-2,"Octal literal in strict mode"),et+=String.fromCharCode(parseInt($t,8)),_e+=$t.length-1;else switch(wt){case 110:et+=`
`;break;case 114:et+="\r";break;case 120:et+=String.fromCharCode(ya(2));break;case 117:et+=String.fromCharCode(ya(4));break;case 85:et+=String.fromCharCode(ya(8));break;case 116:et+="	";break;case 98:et+="\b";break;case 118:et+="\v";break;case 102:et+="\f";break;case 48:et+="\0";break;case 13:se.charCodeAt(_e)===10&&++_e;case 10:he.locations&&(tt=_e,++it);break;default:et+=String.fromCharCode(wt);break}}else(wt===13||wt===10||wt===8232||wt===8233)&&Dt(Ie,"Unterminated string constant"),et+=String.fromCharCode(wt),++_e}}function ya(qe){var et=hi(16,qe);return et===null&&Dt(Ie,"Bad character escape sequence"),et}var Gi;function xa(){Gi=!1;for(var qe,et=!0,wt=_e;;){var $t=se.charCodeAt(_e);if(ts($t))Gi&&(qe+=se.charAt(_e)),++_e;else if($t===92){Gi||(qe=se.slice(wt,_e)),Gi=!0,se.charCodeAt(++_e)!=117&&Dt(_e,"Expecting Unicode escape sequence \\uXXXX"),++_e;var Or=ya(4),Gr=String.fromCharCode(Or);Gr||Dt(_e-1,"Invalid Unicode escape"),(et?uo(Or):ts(Or))||Dt(_e-4,"Invalid Unicode escape"),qe+=Gr}else break;et=!1}return Gi?qe:se.slice(wt,_e)}function Ra(){var qe=xa(),et=$r;return!Gi&&Bs(qe)&&(et=ba[qe]),Mn(et,qe)}function nn(){yt=Ie,Ft=Be,Jt=Ke,hn()}function Oa(qe){if(Mt=qe,_e=Ie,he.locations)for(;_e<tt;)tt=se.lastIndexOf(`
`,tt-2)+1,--it;aa(),hn()}function Io(){this.type=null,this.start=Ie,this.end=null}function us(){this.start=ze,this.end=null,re!==null&&(this.source=re)}function Kn(){var qe=new Io;return he.locations&&(qe.loc=new us),he.directSourceFile&&(qe.sourceFile=he.directSourceFile),he.ranges&&(qe.range=[Ie,0]),qe}function Ki(qe){var et=new Io;return et.start=qe.start,he.locations&&(et.loc=new us,et.loc.start=qe.loc.start),he.ranges&&(et.range=[qe.range[0],0]),et}function Qr(qe,et){return qe.type=et,qe.end=Ft,he.locations&&(qe.loc.end=Jt),he.ranges&&(qe.range[1]=Ft),qe}function Ba(qe){return he.ecmaVersion>=5&&qe.type==="ExpressionStatement"&&qe.expression.type==="Literal"&&qe.expression.value==="use strict"}function bn(qe){if(Re===qe)return nn(),!0}function Aa(){return!he.strictSemicolons&&(Re===Vr||Re===Ur||so.test(se.slice(Ft,Ie)))}function qi(){!bn(bi)&&!Aa()&&Mi()}function _n(qe){Re===qe?nn():Mi()}function Mi(){Dt(Ie,"Unexpected token")}function wa(qe){qe.type!=="Identifier"&&qe.type!=="MemberExpression"&&Dt(qe.start,"Assigning to rvalue"),Mt&&qe.type==="Identifier"&&La(qe.name)&&Dt(qe.start,"Assigning to "+qe.name+" in strict mode")}function Do(qe){yt=Ft=_e,he.locations&&(Jt=new Ei),lr=Mt=null,Cr=[],hn();var et=qe||Kn(),wt=!0;for(qe||(et.body=[]);Re!==Vr;){var $t=wi();et.body.push($t),wt&&Ba($t)&&Oa(!0),wt=!1}return Qr(et,"Program")}var Na={kind:"loop"},ls={kind:"switch"};function wi(){(Re===D||Re===me&&We=="/=")&&hn(!0);var qe=Re,et=Kn();switch(qe){case jr:case Pn:nn();var wt=qe===jr;bn(bi)||Aa()?et.label=null:Re!==$r?Mi():(et.label=Oi(),qi());for(var $t=0;$t<Cr.length;++$t){var Or=Cr[$t];if((et.label==null||Or.name===et.label.name)&&(Or.kind!=null&&(wt||Or.kind==="loop")||et.label&&wt))break}return $t===Cr.length&&Dt(et.start,"Unsyntactic "+qe.keyword),Qr(et,wt?"BreakStatement":"ContinueStatement");case Nn:return nn(),qi(),Qr(et,"DebuggerStatement");case rn:return nn(),Cr.push(Na),et.body=wi(),Cr.pop(),_n(xn),et.test=Ca(),qi(),Qr(et,"DoWhileStatement");case Dn:if(nn(),Cr.push(Na),_n(Ai),Re===bi)return lo(et,null);if(Re===Un){var Gr=Kn();return nn(),$o(Gr,!0),Qr(Gr,"VariableDeclaration"),Gr.declarations.length===1&&bn(zi)?Lo(et,Gr):lo(et,Gr)}var Gr=Qn(!1,!0);return bn(zi)?(wa(Gr),Lo(et,Gr)):lo(et,Gr);case si:return nn(),Va(et,!0);case Li:return nn(),et.test=Ca(),et.consequent=wi(),et.alternate=bn(sn)?wi():null,Qr(et,"IfStatement");case gi:return!lr&&!he.allowReturnOutsideFunction&&Dt(Ie,"'return' outside of function"),nn(),bn(bi)||Aa()?et.argument=null:(et.argument=Qn(),qi()),Qr(et,"ReturnStatement");case ci:nn(),et.discriminant=Ca(),et.cases=[],_n(fi),Cr.push(ls);for(var Hr,cn;Re!=Ur;)if(Re===zr||Re===dr){var Ti=Re===zr;Hr&&Qr(Hr,"SwitchCase"),et.cases.push(Hr=Kn()),Hr.consequent=[],nn(),Ti?Hr.test=Qn():(cn&&Dt(yt,"Multiple default clauses"),cn=!0,Hr.test=null),_n(Wi)}else Hr||Mi(),Hr.consequent.push(wi());return Hr&&Qr(Hr,"SwitchCase"),nn(),Cr.pop(),Qr(et,"SwitchStatement");case Fn:return nn(),so.test(se.slice(Ft,Ie))&&Dt(Ft,"Illegal newline after throw"),et.argument=Qn(),qi(),Qr(et,"ThrowStatement");case Yn:if(nn(),et.block=ka(),et.handler=null,Re===Sn){var la=Kn();nn(),_n(Ai),la.param=Oi(),Mt&&La(la.param.name)&&Dt(la.param.start,"Binding "+la.param.name+" in strict mode"),_n(ui),la.guard=null,la.body=ka(),et.handler=Qr(la,"CatchClause")}return et.guardedHandlers=fr,et.finalizer=bn(ti)?ka():null,!et.handler&&!et.finalizer&&Dt(et.start,"Missing catch or finally clause"),Qr(et,"TryStatement");case Un:return nn(),$o(et),qi(),Qr(et,"VariableDeclaration");case xn:return nn(),et.test=Ca(),Cr.push(Na),et.body=wi(),Cr.pop(),Qr(et,"WhileStatement");case $i:return Mt&&Dt(Ie,"'with' in strict mode"),nn(),et.object=Ca(),et.body=wi(),Qr(et,"WithStatement");case fi:return ka();case bi:return nn(),Qr(et,"EmptyStatement");default:var Fo=We,co=Qn();if(qe===$r&&co.type==="Identifier"&&bn(Wi)){for(var $t=0;$t<Cr.length;++$t)Cr[$t].name===Fo&&Dt(co.start,"Label '"+Fo+"' is already declared");var fs=Re.isLoop?"loop":Re===ci?"switch":null;return Cr.push({name:Fo,kind:fs}),et.body=wi(),Cr.pop(),et.label=co,Qr(et,"LabeledStatement")}else return et.expression=co,qi(),Qr(et,"ExpressionStatement")}}function Ca(){_n(Ai);var qe=Qn();return _n(ui),qe}function ka(qe){var et=Kn(),wt=!0,$t=!1,Or;for(et.body=[],_n(fi);!bn(Ur);){var Gr=wi();et.body.push(Gr),wt&&qe&&Ba(Gr)&&(Or=$t,Oa($t=!0)),wt=!1}return $t&&!Or&&Oa(!1),Qr(et,"BlockStatement")}function lo(qe,et){return qe.init=et,_n(bi),qe.test=Re===bi?null:Qn(),_n(bi),qe.update=Re===ui?null:Qn(),_n(ui),qe.body=wi(),Cr.pop(),Qr(qe,"ForStatement")}function Lo(qe,et){return qe.left=et,qe.right=Qn(),_n(ui),qe.body=wi(),Cr.pop(),Qr(qe,"ForInStatement")}function $o(qe,et){for(qe.declarations=[],qe.kind="var";;){var wt=Kn();if(wt.id=Oi(),Mt&&La(wt.id.name)&&Dt(wt.id.start,"Binding "+wt.id.name+" in strict mode"),wt.init=bn(U)?Qn(!0,et):null,qe.declarations.push(Qr(wt,"VariableDeclarator")),!bn(vi))break}return qe}function Qn(qe,et){var wt=Qi(et);if(!qe&&Re===vi){var $t=Ki(wt);for($t.expressions=[wt];bn(vi);)$t.expressions.push(Qi(et));return Qr($t,"SequenceExpression")}return wt}function Qi(qe){var et=Ro(qe);if(Re.isAssign){var wt=Ki(et);return wt.operator=We,wt.left=et,nn(),wt.right=Qi(qe),wa(et),Qr(wt,"AssignmentExpression")}return et}function Ro(qe){var et=Oo(qe);if(bn(Da)){var wt=Ki(et);return wt.test=et,wt.consequent=Qn(!0),_n(Wi),wt.alternate=Qn(!0,qe),Qr(wt,"ConditionalExpression")}return et}function Oo(qe){return ua(Bo(),-1,qe)}function ua(qe,et,wt){var $t=Re.binop;if($t!=null&&(!wt||Re!==zi)&&$t>et){var Or=Ki(qe);Or.left=qe,Or.operator=We;var Gr=Re;nn(),Or.right=ua(Bo(),$t,wt);var Hr=Qr(Or,Gr===ht||Gr===xt?"LogicalExpression":"BinaryExpression");return ua(Hr,et,wt)}return qe}function Bo(){if(Re.prefix){var qe=Kn(),et=Re.isUpdate;return qe.operator=We,qe.prefix=!0,Qe=!0,nn(),qe.argument=Bo(),et?wa(qe.argument):Mt&&qe.operator==="delete"&&qe.argument.type==="Identifier"&&Dt(qe.start,"Deleting local variable in strict mode"),Qr(qe,et?"UpdateExpression":"UnaryExpression")}for(var wt=Us();Re.postfix&&!Aa();){var qe=Ki(wt);qe.operator=We,qe.prefix=!1,qe.argument=wt,wa(wt),nn(),wt=Qr(qe,"UpdateExpression")}return wt}function Us(){return Fa(za())}function Fa(qe,et){if(bn(ia)){var wt=Ki(qe);return wt.object=qe,wt.property=Oi(!0),wt.computed=!1,Fa(Qr(wt,"MemberExpression"),et)}else if(bn(Zn)){var wt=Ki(qe);return wt.object=qe,wt.property=Qn(),wt.computed=!0,_n(zn),Fa(Qr(wt,"MemberExpression"),et)}else if(!et&&bn(Ai)){var wt=Ki(qe);return wt.callee=qe,wt.arguments=No(ui,!1),Fa(Qr(wt,"CallExpression"),et)}else return qe}function za(){switch(Re){case Ia:var $t=Kn();return nn(),Qr($t,"ThisExpression");case $r:return Oi();case Sr:case Rr:case kr:var $t=Kn();return $t.value=We,$t.raw=se.slice(Ie,Be),nn(),Qr($t,"Literal");case va:case io:case ao:var $t=Kn();return $t.value=Re.atomValue,$t.raw=Re.keyword,nn(),Qr($t,"Literal");case Ai:var qe=ze,et=Ie;nn();var wt=Qn();return wt.start=et,wt.end=Be,he.locations&&(wt.loc.start=qe,wt.loc.end=Ke),he.ranges&&(wt.range=[et,Be]),_n(ui),wt;case Zn:var $t=Kn();return nn(),$t.elements=No(zn,!0,!0),Qr($t,"ArrayExpression");case fi:return Xs();case si:var $t=Kn();return nn(),Va($t,!1);case na:return Ws();default:Mi()}}function Ws(){var qe=Kn();return nn(),qe.callee=Fa(za(),!0),bn(Ai)?qe.arguments=No(ui,!1):qe.arguments=fr,Qr(qe,"NewExpression")}function Xs(){var qe=Kn(),et=!0,wt=!1;for(qe.properties=[],nn();!bn(Ur);){if(et)et=!1;else if(_n(vi),he.allowTrailingCommas&&bn(Ur))break;var $t={key:cs()},Or=!1,Gr;if(bn(Wi)?($t.value=Qn(!0),Gr=$t.kind="init"):he.ecmaVersion>=5&&$t.key.type==="Identifier"&&($t.key.name==="get"||$t.key.name==="set")?(Or=wt=!0,Gr=$t.kind=$t.key.name,$t.key=cs(),Re!==Ai&&Mi(),$t.value=Va(Kn(),!1)):Mi(),$t.key.type==="Identifier"&&(Mt||wt))for(var Hr=0;Hr<qe.properties.length;++Hr){var cn=qe.properties[Hr];if(cn.key.name===$t.key.name){var Ti=Gr==cn.kind||Or&&cn.kind==="init"||Gr==="init"&&(cn.kind==="get"||cn.kind==="set");Ti&&!Mt&&Gr==="init"&&cn.kind==="init"&&(Ti=!1),Ti&&Dt($t.key.start,"Redefinition of property")}}qe.properties.push($t)}return Qr(qe,"ObjectExpression")}function cs(){return Re===Sr||Re===Rr?za():Oi(!0)}function Va(qe,et){Re===$r?qe.id=Oi():et?Mi():qe.id=null,qe.params=[];var wt=!0;for(_n(Ai);!bn(ui);)wt?wt=!1:_n(vi),qe.params.push(Oi());var $t=lr,Or=Cr;if(lr=!0,Cr=[],qe.body=ka(!0),lr=$t,Cr=Or,Mt||qe.body.body.length&&Ba(qe.body.body[0]))for(var Gr=qe.id?-1:0;Gr<qe.params.length;++Gr){var Hr=Gr<0?qe.id:qe.params[Gr];if((Mo(Hr.name)||La(Hr.name))&&Dt(Hr.start,"Defining '"+Hr.name+"' in strict mode"),Gr>=0)for(var cn=0;cn<Gr;++cn)Hr.name===qe.params[cn].name&&Dt(Hr.start,"Argument name clash in strict mode")}return Qr(qe,et?"FunctionDeclaration":"FunctionExpression")}function No(qe,et,wt){for(var $t=[],Or=!0;!bn(qe);){if(Or)Or=!1;else if(_n(vi),et&&he.allowTrailingCommas&&bn(qe))break;wt&&Re===vi?$t.push(null):$t.push(Qn(!0))}return $t}function Oi(qe){var et=Kn();return qe&&he.forbidReserved=="everywhere"&&(qe=!1),Re===$r?(!qe&&(he.forbidReserved&&(he.ecmaVersion===3?li:oo)(We)||Mt&&Mo(We))&&se.slice(Ie,Be).indexOf("\\")==-1&&Dt(Ie,"The keyword '"+We+"' is reserved"),et.name=We):qe&&Re.keyword?et.name=Re.keyword:Mi(),Qe=!1,nn(),Qr(et,"Identifier")}}),M.version||(M=null)}function R(ne,he){return(k.acorn||M).parse(ne,he)}var G={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},K={"-":"__negate","+":"__self"},Y=w.each(["add","subtract","multiply","divide","modulo","equals","negate"],function(ne){this["__"+ne]="#"+ne},{__self:function(){return this}});N.inject(Y),X.inject(Y),Oe.inject(Y);function j(ne,he,se){var le=G[he];if(ne&&ne[le]){var re=ne[le](se);return he==="!="?!re:re}switch(he){case"+":return ne+se;case"-":return ne-se;case"*":return ne*se;case"/":return ne/se;case"%":return ne%se;case"==":return ne==se;case"!=":return ne!=se}}function q(ne,he){var se=K[ne];if(he&&he[se])return he[se]();switch(ne){case"+":return+he;case"-":return-he}}function W(ne,he){if(!ne)return"";he=he||{};var se=[];function le(Mt){for(var Dt=0,fr=se.length;Dt<fr;Dt++){var Sr=se[Dt];if(Sr[0]>=Mt)break;Mt+=Sr[1]}return Mt}function re(Mt){return ne.substring(le(Mt.range[0]),le(Mt.range[1]))}function ge(Mt,Dt){return ne.substring(le(Mt.range[1]),le(Dt.range[0]))}function ye(Mt,Dt){for(var fr=le(Mt.range[0]),Sr=le(Mt.range[1]),kr=0,Rr=se.length-1;Rr>=0;Rr--)if(fr>se[Rr][0]){kr=Rr+1;break}se.splice(kr,0,[fr,Dt.length-Sr+fr]),ne=ne.substring(0,fr)+Dt+ne.substring(Sr)}function Ce(Mt,Dt){switch(Mt.type){case"UnaryExpression":if(Mt.operator in K&&Mt.argument.type!=="Literal"){var fr=re(Mt.argument);ye(Mt,'$__("'+Mt.operator+'", '+fr+")")}break;case"BinaryExpression":if(Mt.operator in G&&Mt.left.type!=="Literal"){var Sr=re(Mt.left),kr=re(Mt.right),Rr=ge(Mt.left,Mt.right),$r=Mt.operator;ye(Mt,"__$__("+Sr+","+Rr.replace(new RegExp("\\"+$r),'"'+$r+'"')+", "+kr+")")}break;case"UpdateExpression":case"AssignmentExpression":var Vr=Dt&&Dt.type;if(!(Vr==="ForStatement"||Vr==="BinaryExpression"&&/^[=!<>]/.test(Dt.operator)||Vr==="MemberExpression"&&Dt.computed)){if(Mt.type==="UpdateExpression"){var fr=re(Mt.argument),jr="__$__("+fr+', "'+Mt.operator[0]+'", 1)',zr=fr+" = "+jr;Mt.prefix?zr="("+zr+")":(Vr==="AssignmentExpression"||Vr==="VariableDeclarator"||Vr==="BinaryExpression")&&(re(Dt.left||Dt.id)===fr&&(zr=jr),zr=fr+"; "+zr),ye(Mt,zr)}else if(/^.=$/.test(Mt.operator)&&Mt.left.type!=="Literal"){var Sr=re(Mt.left),kr=re(Mt.right),jr=Sr+" = __$__("+Sr+', "'+Mt.operator[0]+'", '+kr+")";ye(Mt,/^\(.*\)$/.test(re(Mt))?"("+jr+")":jr)}}break}}function _e(Mt){switch(Mt.type){case"ExportDefaultDeclaration":ye({range:[Mt.start,Mt.declaration.start]},"module.exports = ");break;case"ExportNamedDeclaration":var Dt=Mt.declaration,fr=Mt.specifiers;if(Dt){var Sr=Dt.declarations;Sr&&(Sr.forEach(function(Rr){ye(Rr,"module.exports."+re(Rr))}),ye({range:[Mt.start,Dt.start+Dt.kind.length]},""))}else if(fr){var kr=fr.map(function(Rr){var $r=re(Rr);return"module.exports."+$r+" = "+$r+"; "}).join("");kr&&ye(Mt,kr)}break}}function Ie(Mt,Dt,fr){if(Mt){for(var Sr in Mt)if(Sr!=="range"&&Sr!=="loc"){var kr=Mt[Sr];if(Array.isArray(kr))for(var Rr=0,$r=kr.length;Rr<$r;Rr++)Ie(kr[Rr],Mt,fr);else kr&&typeof kr=="object"&&Ie(kr,Mt,fr)}fr.operatorOverloading!==!1&&Ce(Mt,Dt),fr.moduleExports!==!1&&_e(Mt)}}function Be(Mt){var Dt="",fr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Mt=(Math.abs(Mt)<<1)+(Mt<0?1:0);Mt||!Dt;){var Sr=Mt&31;Mt>>=5,Mt&&(Sr|=32),Dt+=fr[Sr]}return Dt}var ze=he.url||"",Ke=he.sourceMaps,Re=he.paperFeatures||{},We=he.source||ne,Qe=he.offset||0,it=ut.agent,tt=it.versionNumber,yt=!1,Ft=/\r\n|\n|\r/mg,Jt;if(Ke&&(it.chrome&&tt>=30||it.webkit&&tt>=537.76||it.firefox&&tt>=23||it.node)){if(it.node)Qe-=2;else if(_&&ze&&!_.location.href.indexOf(ze)){var lr=x.getElementsByTagName("html")[0].innerHTML;Qe=lr.substr(0,lr.indexOf(ne)+1).match(Ft).length+1}yt=Qe>0&&!(it.chrome&&tt>=36||it.safari&&tt>=600||it.firefox&&tt>=40||it.node);var Cr=["AA"+Be(yt?0:Qe)+"A"];Cr.length=(ne.match(Ft)||[]).length+1+(yt?Qe:0),Jt={version:3,file:ze,names:[],mappings:Cr.join(";AACA"),sourceRoot:"",sources:[ze],sourcesContent:[We]}}return(Re.operatorOverloading!==!1||Re.moduleExports!==!1)&&Ie(R(ne,{ranges:!0,preserveParens:!0,sourceType:"module"}),null,Re),Jt&&(yt&&(ne=new Array(Qe+1).join(`
`)+ne),/^(inline|both)$/.test(Ke)&&(ne+=`
//# sourceMappingURL=data:application/json;base64,`+v.btoa(unescape(encodeURIComponent(JSON.stringify(Jt))))),ne+=`
//# sourceURL=`+(ze||"paperscript")),{url:ze,source:We,code:ne,map:Jt}}function Q(ne,he,se){ut=he;var le=he.getView(),re=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(ne)&&!/\bnew\s+Tool\b/.test(ne)?new vn:null,ge=re?re._events:[],ye=["onFrame","onResize"].concat(ge),Ce=[],_e=[],Ie,Be=typeof ne=="object"?ne:W(ne,se);ne=Be.code;function ze(tt,yt){for(var Ft in tt)(yt||!/^_/.test(Ft))&&new RegExp("([\\b\\s\\W]|^)"+Ft.replace(/\$/g,"\\$")+"\\b").test(ne)&&(Ce.push(Ft),_e.push(tt[Ft]))}ze({__$__:j,$__:q,paper:he,tool:re},!0),ze(he),ne="var module = { exports: {} }; "+ne;var Qe=w.each(ye,function(tt){new RegExp("\\s+"+tt+"\\b").test(ne)&&(Ce.push(tt),this.push("module.exports."+tt+" = "+tt+";"))},[]).join(`
`);Qe&&(ne+=`
`+Qe),ne+=`
return module.exports;`;var Ke=ut.agent;if(x&&(Ke.chrome||Ke.firefox&&Ke.versionNumber<40)){var Re=x.createElement("script"),We=x.head||x.getElementsByTagName("head")[0];Ke.firefox&&(ne=`
`+ne),Re.appendChild(x.createTextNode("document.__paperscript__ = function("+Ce+") {"+ne+`
}`)),We.appendChild(Re),Ie=x.__paperscript__,delete x.__paperscript__,We.removeChild(Re)}else Ie=Function(Ce,ne);var Qe=Ie&&Ie.apply(he,_e),it=Qe||{};return w.each(ge,function(tt){var yt=it[tt];yt&&(re[tt]=yt)}),le&&(it.onResize&&le.setOnResize(it.onResize),le.emit("resize",{size:le.size,delta:new N}),it.onFrame&&le.setOnFrame(it.onFrame),le.requestUpdate()),Qe}function ee(ne){if(/^text\/(?:x-|)paperscript$/.test(ne.type)&&E.getAttribute(ne,"ignore")!=="true"){var he=E.getAttribute(ne,"canvas"),se=x.getElementById(he),le=ne.src||ne.getAttribute("data-src"),re=E.hasAttribute(ne,"async"),ge="data-paper-scope";if(!se)throw new Error('Unable to find canvas with id "'+he+'"');var ye=E.get(se.getAttribute(ge))||new E().setup(se);return se.setAttribute(ge,ye._id),le?Hn.request({url:le,async:re,mimeType:"text/plain",onLoad:function(Ce){Q(Ce,ye,le)}}):Q(ne.innerHTML,ye,ne.baseURI),ne.setAttribute("data-paper-ignore","true"),ye}}function te(){w.each(x&&x.getElementsByTagName("script"),ee)}function oe(ne){return ne?ee(ne):te()}return _&&(x.readyState==="complete"?setTimeout(te):pr.add(_,{load:te})),{compile:W,execute:Q,load:oe,parse:R,calculateBinary:j,calculateUnary:q}}).call(this);var ut=new(E.inject(w.exports,{Base:w,Numerical:F,Key:kn,DomEvent:pr,DomElement:Ut,document:x,window:_,Symbol:xe,PlacedSymbol:ue}));return ut.agent.node&&require$$2(ut),typeof y=="function"&&y.amd?y("paper",ut):h&&(h.exports=ut),ut}).call(commonjsGlobal,typeof self=="object"?self:null)})(paperFull);var paperFullExports=paperFull.exports;const paper=getDefaultExportFromCjs(paperFullExports);function offsetSegment(h,v,y,_){var x=h.curve===v,w=v.getNormalAtTime(x?0:1).multiply(_),S=h.point.add(w),E=new paper.Segment(S),I=x?"handleOut":"handleIn";return E[I]=h[I].add(y.subtract(w).divide(2)),E}function adaptiveOffsetCurve(h,v){var y=new paper.Curve(h.segment1.handleOut.add(h.segment1.point),new paper.Point(0,0),new paper.Point(0,0),h.segment2.handleIn.add(h.segment2.point)).getNormalAtTime(.5).multiply(v),_=offsetSegment(h.segment1,h,y,v),x=offsetSegment(h.segment2,h,y,v),w=new paper.Curve(_,x);if(w.getIntersections(w).length===0){var S=Math.min(Math.abs(v)/10,1),E=w.getPointAtTime(.5).getDistance(h.getPointAtTime(.5));if(Math.abs(E-Math.abs(v))>S){var I=h.divideAtTime(.5);if(I!=null)return adaptiveOffsetCurve(h,v).concat(adaptiveOffsetCurve(I,v))}}return[_,x]}function makeRoundJoin(h,v,y,_){var x=h.point.subtract(y).add(v.point.subtract(y)).normalize(Math.abs(_)).add(y),w=new paper.Path.Arc({from:h.point,to:v.point,through:x,insert:!1});return h.handleOut=w.firstSegment.handleOut,v.handleIn=w.lastSegment.handleIn,w.segments.length===3?w.segments[1]:null}function det(h,v){return h.x*v.y-h.y*v.x}function getPointLineIntersections(h,v,y,_){var x=h.subtract(v),w=y.subtract(_),S=det(h,v),E=det(y,_);return new paper.Point(S*w.x-x.x*E,S*w.y-x.y*E).divide(det(x,w))}function connectAdjacentBezier(h,v,y,_,x,w){var S=new paper.Curve(h[0],h[1]),E=new paper.Curve(v[0],v[1]),I=S.getIntersections(E),L=h[1].point.getDistance(v[0].point);if(y.isSmooth())v[0].handleOut=v[0].handleOut.project(y.handleOut),v[0].handleIn=h[1].handleIn.project(y.handleIn),v[0].point=h[1].point.add(v[0].point).divide(2),h.pop();else if(I.length===0)if(L>Math.abs(x)*.1)switch(_){case"miter":var O=getPointLineIntersections(S.point2,S.point2.add(S.getTangentAtTime(1)),E.point1,E.point1.add(E.getTangentAtTime(0))),F=Math.max(O.getDistance(S.point2),O.getDistance(E.point1));F<Math.abs(x)*w&&h.push(new paper.Segment(O));break;case"round":var z=makeRoundJoin(h[1],v[0],y.point,x);z&&h.push(z);break}else v[0].handleIn=h[1].handleIn,h.pop();else{var N=S.divideAt(I[0]);if(N){var O=N.segment1,H=E.divideAt(E.getIntersections(S)[0]);O.handleOut=H?H.segment1.handleOut:v[0].handleOut,h.pop(),v[0]=O}else v[0].handleIn=h[1].handleIn,h.pop()}}function connectBeziers(h,v,y,_,x){for(var w=y.segments,S=h[0].slice(),E=0;E<h.length-1;++E)connectAdjacentBezier(h[E],h[E+1],w[E+1],v,_,x);return y.closed&&(connectAdjacentBezier(h[h.length-1],S,w[0],v,_,x),h[0][0]=S[0]),h}function reduceSingleChildCompoundPath(h){return h.children.length===1&&(h=h.children[0],h.remove()),h}function normalize$1(h,v){if(v===void 0&&(v=.01),h.closed){var y=Math.abs(h.area*v);if(h.clockwise||h.reverse(),h=h.unite(h,{insert:!1}),h instanceof paper.CompoundPath&&(h.children.filter(function(_){return Math.abs(_.area)<y}).forEach(function(_){return _.remove()}),h.children.length===1))return reduceSingleChildCompoundPath(h)}return h}function isSameDirection(h,v){var y=h.segments[0].location.offset,_=h.segments[Math.max(1,Math.floor(h.segments.length/2))].location.offset,x=(y+_)/3,w=v.getNearestLocation(h.getPointAt(x)).offset,S=v.getNearestLocation(h.getPointAt(2*x)).offset;return w<S}function removeIntersection(h){if(h.closed){var v=h.unite(h,{insert:!1});if(v instanceof paper.CompoundPath)return v.children.filter(function(y){return y.segments.length>1?!isSameDirection(y,h):!0}).forEach(function(y){return y.remove()}),reduceSingleChildCompoundPath(v)}return h}function getSegments(h){return h instanceof paper.CompoundPath?h.children.map(function(v){return v.segments}).flat():h.segments}function removeOutsiders(h,v){var y=getSegments(h).slice();y.forEach(function(_){v.contains(_.point)||_.remove()})}function preparePath(h,v){var y=h.clone({insert:!1});return y.reduce({}),h.clockwise||(y.reverse(),v=-v),[y,v]}function offsetSimpleShape(h,v,y,_){var x,w;x=preparePath(h,v),w=x[0],v=x[1];for(var S=w.curves.slice(),E=S.map(function(z){return adaptiveOffsetCurve(z,v)}).flat(),I=[],L=0;L<E.length;L+=2)I.push(E.slice(L,L+2));var O=connectBeziers(I,y,w,v,_).flat(),F=removeIntersection(new paper.Path({segments:O,insert:!1,closed:h.closed}));return F.reduce({}),w.closed&&(w.clockwise&&v<0||!w.clockwise&&v>0)&&removeOutsiders(F,h),w.clockwise!==h.clockwise&&F.reverse(),normalize$1(F)}function makeRoundCap(h,v,y){var _=h.point.add(v.point).divide(2),x=v.point.subtract(h.point).rotate(-90,new paper.Point(0,0)).normalize(y),w=_.add(x),S=new paper.Path.Arc({from:h.point,to:v.point,through:w,insert:!1});return S.segments}function connectSide(h,v,y,_){if(h instanceof paper.CompoundPath){var x=h.children.map(function(O){return{c:O,a:Math.abs(O.area)}});x=x.sort(function(O,F){return F.a-O.a}),h=x[0].c}var w=h.segments.slice(),S=v.segments.slice();switch(_){case"round":var E=makeRoundCap(S[S.length-1],w[0],y),I=makeRoundCap(w[w.length-1],S[0],y),L=new paper.Path({segments:E.concat(w,I,S),closed:!0,insert:!1});return L.reduce({}),L;default:return new paper.Path({segments:w.concat(S),closed:!0,insert:!1})}}function offsetSimpleStroke(h,v,y,_,x){v=h.clockwise?v:-v;var w=offsetSimpleShape(h,v,y,x),S=offsetSimpleShape(h,-v,y,x);if(h.closed)return w.subtract(S,{insert:!1});var E=S,I=new Array;S instanceof paper.CompoundPath&&(I=S.children.filter(function(N){return N.closed}),I.forEach(function(N){return N.remove()}),E=S.children[0]),E.reverse();var L=connectSide(w,E,v,_);if(I.length>0)for(var O=0,F=I;O<F.length;O++){var z=F[O];L=L.subtract(z,{insert:!1})}return L}function getNonSelfItersectionPath(h){return h.closed?h.unite(h,{insert:!1}):h}function offsetPath(h,v,y,_){var x=getNonSelfItersectionPath(h),w=x;if(x instanceof paper.Path)w=offsetSimpleShape(x,v,y,_);else{var S=x.children.map(function(I){if(I.segments.length>1){isSameDirection(I,h)||I.reverse();var L=offsetSimpleShape(I,v,y,_);return L=normalize$1(L),L.clockwise!==I.clockwise&&L.reverse(),L instanceof paper.CompoundPath?(L.applyMatrix=!0,L.children):L}else return null}),E=S.flat().filter(function(I){return!!I});w=new paper.CompoundPath({children:E,insert:!1})}return w.copyAttributes(x,!1),w.remove(),w}function offsetStroke(h,v,y,_,x){var w=getNonSelfItersectionPath(h),S=w;if(w instanceof paper.Path)S=offsetSimpleStroke(w,v,y,_,x);else{var E=w.children.flatMap(function(I){return offsetSimpleStroke(I,v,y,_,x)});S=E.reduce(function(I,L){return I.unite(L,{insert:!1})})}return S.strokeWidth=0,S.fillColor=w.strokeColor,S.shadowBlur=w.shadowBlur,S.shadowColor=w.shadowColor,S.shadowOffset=w.shadowOffset,S}var PaperOffset=function(){function h(){}return h.offset=function(v,y,_){_=_||{};var x=offsetPath(v,y,_.join||"miter",_.limit||10);return _.insert===void 0&&(_.insert=!0),_.insert&&(v.parent||paper.project.activeLayer).addChild(x),x},h.offsetStroke=function(v,y,_){_=_||{};var x=offsetStroke(v,y,_.join||"miter",_.cap||"butt",_.limit||10);return _.insert===void 0&&(_.insert=!0),_.insert&&(v.parent||paper.project.activeLayer).addChild(x),x},h}(),paramCounts={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},SPECIAL_SPACES=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function isSpace$1(h){return h===10||h===13||h===8232||h===8233||h===32||h===9||h===11||h===12||h===160||h>=5760&&SPECIAL_SPACES.indexOf(h)>=0}function isCommand(h){switch(h|32){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:case 114:return!0}return!1}function isArc(h){return(h|32)===97}function isDigit(h){return h>=48&&h<=57}function isDigitStart(h){return h>=48&&h<=57||h===43||h===45||h===46}function State(h){this.index=0,this.path=h,this.max=h.length,this.result=[],this.param=0,this.err="",this.segmentStart=0,this.data=[]}function skipSpaces(h){for(;h.index<h.max&&isSpace$1(h.path.charCodeAt(h.index));)h.index++}function scanFlag(h){var v=h.path.charCodeAt(h.index);if(v===48){h.param=0,h.index++;return}if(v===49){h.param=1,h.index++;return}h.err="SvgPath: arc flag can be 0 or 1 only (at pos "+h.index+")"}function scanParam(h){var v=h.index,y=v,_=h.max,x=!1,w=!1,S=!1,E=!1,I;if(y>=_){h.err="SvgPath: missed param (at pos "+y+")";return}if(I=h.path.charCodeAt(y),(I===43||I===45)&&(y++,I=y<_?h.path.charCodeAt(y):0),!isDigit(I)&&I!==46){h.err="SvgPath: param should start with 0..9 or `.` (at pos "+y+")";return}if(I!==46){if(x=I===48,y++,I=y<_?h.path.charCodeAt(y):0,x&&y<_&&I&&isDigit(I)){h.err="SvgPath: numbers started with `0` such as `09` are illegal (at pos "+v+")";return}for(;y<_&&isDigit(h.path.charCodeAt(y));)y++,w=!0;I=y<_?h.path.charCodeAt(y):0}if(I===46){for(E=!0,y++;isDigit(h.path.charCodeAt(y));)y++,S=!0;I=y<_?h.path.charCodeAt(y):0}if(I===101||I===69){if(E&&!w&&!S){h.err="SvgPath: invalid float exponent (at pos "+y+")";return}if(y++,I=y<_?h.path.charCodeAt(y):0,(I===43||I===45)&&y++,y<_&&isDigit(h.path.charCodeAt(y)))for(;y<_&&isDigit(h.path.charCodeAt(y));)y++;else{h.err="SvgPath: invalid float exponent (at pos "+y+")";return}}h.index=y,h.param=parseFloat(h.path.slice(v,y))+0}function finalizeSegment(h){var v,y;v=h.path[h.segmentStart],y=v.toLowerCase();var _=h.data;if(y==="m"&&_.length>2&&(h.result.push([v,_[0],_[1]]),_=_.slice(2),y="l",v=v==="m"?"l":"L"),y==="r")h.result.push([v].concat(_));else for(;_.length>=paramCounts[y]&&(h.result.push([v].concat(_.splice(0,paramCounts[y]))),!!paramCounts[y]););}function scanSegment(h){var v=h.max,y,_,x,w,S;if(h.segmentStart=h.index,y=h.path.charCodeAt(h.index),_=isArc(y),!isCommand(y)){h.err="SvgPath: bad command "+h.path[h.index]+" (at pos "+h.index+")";return}if(w=paramCounts[h.path[h.index].toLowerCase()],h.index++,skipSpaces(h),h.data=[],!w){finalizeSegment(h);return}for(x=!1;;){for(S=w;S>0;S--){if(_&&(S===3||S===4)?scanFlag(h):scanParam(h),h.err.length){finalizeSegment(h);return}h.data.push(h.param),skipSpaces(h),x=!1,h.index<v&&h.path.charCodeAt(h.index)===44&&(h.index++,skipSpaces(h),x=!0)}if(!x&&(h.index>=h.max||!isDigitStart(h.path.charCodeAt(h.index))))break}finalizeSegment(h)}var path_parse=function(v){var y=new State(v),_=y.max;for(skipSpaces(y);y.index<_&&!y.err.length;)scanSegment(y);return y.result.length&&("mM".indexOf(y.result[0][0])<0?(y.err="SvgPath: string should start with `M` or `m`",y.result=[]):y.result[0][0]="M"),{err:y.err,segments:y.result}};function combine(h,v){return[h[0]*v[0]+h[2]*v[1],h[1]*v[0]+h[3]*v[1],h[0]*v[2]+h[2]*v[3],h[1]*v[2]+h[3]*v[3],h[0]*v[4]+h[2]*v[5]+h[4],h[1]*v[4]+h[3]*v[5]+h[5]]}function Matrix$1(){if(!(this instanceof Matrix$1))return new Matrix$1;this.queue=[],this.cache=null}Matrix$1.prototype.matrix=function(h){return h[0]===1&&h[1]===0&&h[2]===0&&h[3]===1&&h[4]===0&&h[5]===0?this:(this.cache=null,this.queue.push(h),this)},Matrix$1.prototype.translate=function(h,v){return(h!==0||v!==0)&&(this.cache=null,this.queue.push([1,0,0,1,h,v])),this},Matrix$1.prototype.scale=function(h,v){return(h!==1||v!==1)&&(this.cache=null,this.queue.push([h,0,0,v,0,0])),this},Matrix$1.prototype.rotate=function(h,v,y){var _,x,w;return h!==0&&(this.translate(v,y),_=h*Math.PI/180,x=Math.cos(_),w=Math.sin(_),this.queue.push([x,w,-w,x,0,0]),this.cache=null,this.translate(-v,-y)),this},Matrix$1.prototype.skewX=function(h){return h!==0&&(this.cache=null,this.queue.push([1,0,Math.tan(h*Math.PI/180),1,0,0])),this},Matrix$1.prototype.skewY=function(h){return h!==0&&(this.cache=null,this.queue.push([1,Math.tan(h*Math.PI/180),0,1,0,0])),this},Matrix$1.prototype.toArray=function(){if(this.cache)return this.cache;if(!this.queue.length)return this.cache=[1,0,0,1,0,0],this.cache;if(this.cache=this.queue[0],this.queue.length===1)return this.cache;for(var h=1;h<this.queue.length;h++)this.cache=combine(this.cache,this.queue[h]);return this.cache},Matrix$1.prototype.calc=function(h,v,y){var _;return this.queue.length?(this.cache||(this.cache=this.toArray()),_=this.cache,[h*_[0]+v*_[2]+(y?0:_[4]),h*_[1]+v*_[3]+(y?0:_[5])]):[h,v]};var matrix$1=Matrix$1,Matrix=matrix$1,operations={matrix:!0,scale:!0,rotate:!0,translate:!0,skewX:!0,skewY:!0},CMD_SPLIT_RE=/\s*(matrix|translate|scale|rotate|skewX|skewY)\s*\(\s*(.+?)\s*\)[\s,]*/,PARAMS_SPLIT_RE=/[\s,]+/,transform_parse=function(v){var y=new Matrix,_,x;return v.split(CMD_SPLIT_RE).forEach(function(w){if(w.length){if(typeof operations[w]<"u"){_=w;return}switch(x=w.split(PARAMS_SPLIT_RE).map(function(S){return+S||0}),_){case"matrix":x.length===6&&y.matrix(x);return;case"scale":x.length===1?y.scale(x[0],x[0]):x.length===2&&y.scale(x[0],x[1]);return;case"rotate":x.length===1?y.rotate(x[0],0,0):x.length===3&&y.rotate(x[0],x[1],x[2]);return;case"translate":x.length===1?y.translate(x[0],0):x.length===2&&y.translate(x[0],x[1]);return;case"skewX":x.length===1&&y.skewX(x[0]);return;case"skewY":x.length===1&&y.skewY(x[0]);return}}}),y},TAU=Math.PI*2;function unit_vector_angle(h,v,y,_){var x=h*_-v*y<0?-1:1,w=h*y+v*_;return w>1&&(w=1),w<-1&&(w=-1),x*Math.acos(w)}function get_arc_center(h,v,y,_,x,w,S,E,I,L){var O=L*(h-y)/2+I*(v-_)/2,F=-I*(h-y)/2+L*(v-_)/2,z=S*S,N=E*E,H=O*O,X=F*F,J=z*N-z*X-N*H;J<0&&(J=0),J/=z*X+N*H,J=Math.sqrt(J)*(x===w?-1:1);var ae=J*S/E*F,ve=J*-E/S*O,pe=L*ae-I*ve+(h+y)/2,de=I*ae+L*ve+(v+_)/2,ce=(O-ae)/S,V=(F-ve)/E,ie=(-O-ae)/S,ke=(-F-ve)/E,be=unit_vector_angle(1,0,ce,V),Ae=unit_vector_angle(ce,V,ie,ke);return w===0&&Ae>0&&(Ae-=TAU),w===1&&Ae<0&&(Ae+=TAU),[pe,de,be,Ae]}function approximate_unit_arc(h,v){var y=1.3333333333333333*Math.tan(v/4),_=Math.cos(h),x=Math.sin(h),w=Math.cos(h+v),S=Math.sin(h+v);return[_,x,_-x*y,x+_*y,w+S*y,S-w*y,w,S]}var a2c$1=function(v,y,_,x,w,S,E,I,L){var O=Math.sin(L*TAU/360),F=Math.cos(L*TAU/360),z=F*(v-_)/2+O*(y-x)/2,N=-O*(v-_)/2+F*(y-x)/2;if(z===0&&N===0)return[];if(E===0||I===0)return[];E=Math.abs(E),I=Math.abs(I);var H=z*z/(E*E)+N*N/(I*I);H>1&&(E*=Math.sqrt(H),I*=Math.sqrt(H));var X=get_arc_center(v,y,_,x,w,S,E,I,O,F),J=[],ae=X[2],ve=X[3],pe=Math.max(Math.ceil(Math.abs(ve)/(TAU/4)),1);ve/=pe;for(var de=0;de<pe;de++)J.push(approximate_unit_arc(ae,ve)),ae+=ve;return J.map(function(ce){for(var V=0;V<ce.length;V+=2){var ie=ce[V+0],ke=ce[V+1];ie*=E,ke*=I;var be=F*ie-O*ke,Ae=O*ie+F*ke;ce[V+0]=be+X[0],ce[V+1]=Ae+X[1]}return ce})},epsilon$1=1e-10,torad=Math.PI/180;function Ellipse(h,v,y){if(!(this instanceof Ellipse))return new Ellipse(h,v,y);this.rx=h,this.ry=v,this.ax=y}Ellipse.prototype.transform=function(h){var v=Math.cos(this.ax*torad),y=Math.sin(this.ax*torad),_=[this.rx*(h[0]*v+h[2]*y),this.rx*(h[1]*v+h[3]*y),this.ry*(-h[0]*y+h[2]*v),this.ry*(-h[1]*y+h[3]*v)],x=_[0]*_[0]+_[2]*_[2],w=_[1]*_[1]+_[3]*_[3],S=((_[0]-_[3])*(_[0]-_[3])+(_[2]+_[1])*(_[2]+_[1]))*((_[0]+_[3])*(_[0]+_[3])+(_[2]-_[1])*(_[2]-_[1])),E=(x+w)/2;if(S<epsilon$1*E)return this.rx=this.ry=Math.sqrt(E),this.ax=0,this;var I=_[0]*_[1]+_[2]*_[3];S=Math.sqrt(S);var L=E+S/2,O=E-S/2;return this.ax=Math.abs(I)<epsilon$1&&Math.abs(L-w)<epsilon$1?90:Math.atan(Math.abs(I)>Math.abs(L-w)?(L-x)/I:I/(L-w))*180/Math.PI,this.ax>=0?(this.rx=Math.sqrt(L),this.ry=Math.sqrt(O)):(this.ax+=90,this.rx=Math.sqrt(O),this.ry=Math.sqrt(L)),this},Ellipse.prototype.isDegenerate=function(){return this.rx<epsilon$1*this.ry||this.ry<epsilon$1*this.rx};var ellipse$1=Ellipse,pathParse=path_parse,transformParse=transform_parse,matrix=matrix$1,a2c=a2c$1,ellipse=ellipse$1;function SvgPath(h){if(!(this instanceof SvgPath))return new SvgPath(h);var v=pathParse(h);this.segments=v.segments,this.err=v.err,this.__stack=[]}SvgPath.from=function(h){if(typeof h=="string")return new SvgPath(h);if(h instanceof SvgPath){var v=new SvgPath("");return v.err=h.err,v.segments=h.segments.map(function(y){return y.slice()}),v.__stack=h.__stack.map(function(y){return matrix().matrix(y.toArray())}),v}throw new Error("SvgPath.from: invalid param type "+h)},SvgPath.prototype.__matrix=function(h){var v=this,y;h.queue.length&&this.iterate(function(_,x,w,S){var E,I,L,O;switch(_[0]){case"v":E=h.calc(0,_[1],!0),I=E[0]===0?["v",E[1]]:["l",E[0],E[1]];break;case"V":E=h.calc(w,_[1],!1),I=E[0]===h.calc(w,S,!1)[0]?["V",E[1]]:["L",E[0],E[1]];break;case"h":E=h.calc(_[1],0,!0),I=E[1]===0?["h",E[0]]:["l",E[0],E[1]];break;case"H":E=h.calc(_[1],S,!1),I=E[1]===h.calc(w,S,!1)[1]?["H",E[0]]:["L",E[0],E[1]];break;case"a":case"A":var F=h.toArray(),z=ellipse(_[1],_[2],_[3]).transform(F);if(F[0]*F[3]-F[1]*F[2]<0&&(_[5]=_[5]?"0":"1"),E=h.calc(_[6],_[7],_[0]==="a"),_[0]==="A"&&_[6]===w&&_[7]===S||_[0]==="a"&&_[6]===0&&_[7]===0){I=[_[0]==="a"?"l":"L",E[0],E[1]];break}z.isDegenerate()?I=[_[0]==="a"?"l":"L",E[0],E[1]]:I=[_[0],z.rx,z.ry,z.ax,_[4],_[5],E[0],E[1]];break;case"m":O=x>0,E=h.calc(_[1],_[2],O),I=["m",E[0],E[1]];break;default:for(L=_[0],I=[L],O=L.toLowerCase()===L,y=1;y<_.length;y+=2)E=h.calc(_[y],_[y+1],O),I.push(E[0],E[1])}v.segments[x]=I},!0)},SvgPath.prototype.__evaluateStack=function(){var h,v;if(this.__stack.length){if(this.__stack.length===1){this.__matrix(this.__stack[0]),this.__stack=[];return}for(h=matrix(),v=this.__stack.length;--v>=0;)h.matrix(this.__stack[v].toArray());this.__matrix(h),this.__stack=[]}},SvgPath.prototype.toString=function(){var h="",v="",y=!1;this.__evaluateStack();for(var _=0,x=this.segments.length;_<x;_++){var w=this.segments[_],S=w[0];S!==v||S==="m"||S==="M"?(S==="m"&&v==="z"&&(h+=" "),h+=S,y=!1):y=!0;for(var E=1;E<w.length;E++){var I=w[E];E===1?y&&I>=0&&(h+=" "):I>=0&&(h+=" "),h+=I}v=S}return h},SvgPath.prototype.translate=function(h,v){return this.__stack.push(matrix().translate(h,v||0)),this},SvgPath.prototype.scale=function(h,v){return this.__stack.push(matrix().scale(h,!v&&v!==0?h:v)),this},SvgPath.prototype.rotate=function(h,v,y){return this.__stack.push(matrix().rotate(h,v||0,y||0)),this},SvgPath.prototype.skewX=function(h){return this.__stack.push(matrix().skewX(h)),this},SvgPath.prototype.skewY=function(h){return this.__stack.push(matrix().skewY(h)),this},SvgPath.prototype.matrix=function(h){return this.__stack.push(matrix().matrix(h)),this},SvgPath.prototype.transform=function(h){return h.trim()?(this.__stack.push(transformParse(h)),this):this},SvgPath.prototype.round=function(h){var v=0,y=0,_=0,x=0,w;return h=h||0,this.__evaluateStack(),this.segments.forEach(function(S){var E=S[0].toLowerCase()===S[0];switch(S[0]){case"H":case"h":E&&(S[1]+=_),_=S[1]-S[1].toFixed(h),S[1]=+S[1].toFixed(h);return;case"V":case"v":E&&(S[1]+=x),x=S[1]-S[1].toFixed(h),S[1]=+S[1].toFixed(h);return;case"Z":case"z":_=v,x=y;return;case"M":case"m":E&&(S[1]+=_,S[2]+=x),_=S[1]-S[1].toFixed(h),x=S[2]-S[2].toFixed(h),v=_,y=x,S[1]=+S[1].toFixed(h),S[2]=+S[2].toFixed(h);return;case"A":case"a":E&&(S[6]+=_,S[7]+=x),_=S[6]-S[6].toFixed(h),x=S[7]-S[7].toFixed(h),S[1]=+S[1].toFixed(h),S[2]=+S[2].toFixed(h),S[3]=+S[3].toFixed(h+2),S[6]=+S[6].toFixed(h),S[7]=+S[7].toFixed(h);return;default:w=S.length,E&&(S[w-2]+=_,S[w-1]+=x),_=S[w-2]-S[w-2].toFixed(h),x=S[w-1]-S[w-1].toFixed(h),S.forEach(function(I,L){L&&(S[L]=+S[L].toFixed(h))});return}}),this},SvgPath.prototype.iterate=function(h,v){var y=this.segments,_={},x=!1,w=0,S=0,E=0,I=0,L,O,F;if(v||this.__evaluateStack(),y.forEach(function(z,N){var H=h(z,N,w,S);Array.isArray(H)&&(_[N]=H,x=!0);var X=z[0]===z[0].toLowerCase();switch(z[0]){case"m":case"M":w=z[1]+(X?w:0),S=z[2]+(X?S:0),E=w,I=S;return;case"h":case"H":w=z[1]+(X?w:0);return;case"v":case"V":S=z[1]+(X?S:0);return;case"z":case"Z":w=E,S=I;return;default:w=z[z.length-2]+(X?w:0),S=z[z.length-1]+(X?S:0)}}),!x)return this;for(F=[],L=0;L<y.length;L++)if(typeof _[L]<"u")for(O=0;O<_[L].length;O++)F.push(_[L][O]);else F.push(y[L]);return this.segments=F,this},SvgPath.prototype.abs=function(){return this.iterate(function(h,v,y,_){var x=h[0],w=x.toUpperCase(),S;if(x!==w)switch(h[0]=w,x){case"v":h[1]+=_;return;case"a":h[6]+=y,h[7]+=_;return;default:for(S=1;S<h.length;S++)h[S]+=S%2?y:_}},!0),this},SvgPath.prototype.rel=function(){return this.iterate(function(h,v,y,_){var x=h[0],w=x.toLowerCase(),S;if(x!==w&&!(v===0&&x==="M"))switch(h[0]=w,x){case"V":h[1]-=_;return;case"A":h[6]-=y,h[7]-=_;return;default:for(S=1;S<h.length;S++)h[S]-=S%2?y:_}},!0),this},SvgPath.prototype.unarc=function(){return this.iterate(function(h,v,y,_){var x,w,S,E=[],I=h[0];return I!=="A"&&I!=="a"?null:(I==="a"?(w=y+h[6],S=_+h[7]):(w=h[6],S=h[7]),x=a2c(y,_,w,S,h[4],h[5],h[1],h[2],h[3]),x.length===0?[[h[0]==="a"?"l":"L",h[6],h[7]]]:(x.forEach(function(L){E.push(["C",L[2],L[3],L[4],L[5],L[6],L[7]])}),E))}),this},SvgPath.prototype.unshort=function(){var h=this.segments,v,y,_,x,w;return this.iterate(function(S,E,I,L){var O=S[0],F=O.toUpperCase(),z;E&&(F==="T"?(z=O==="t",_=h[E-1],_[0]==="Q"?(v=_[1]-I,y=_[2]-L):_[0]==="q"?(v=_[1]-_[3],y=_[2]-_[4]):(v=0,y=0),x=-v,w=-y,z||(x+=I,w+=L),h[E]=[z?"q":"Q",x,w,S[1],S[2]]):F==="S"&&(z=O==="s",_=h[E-1],_[0]==="C"?(v=_[3]-I,y=_[4]-L):_[0]==="c"?(v=_[3]-_[5],y=_[4]-_[6]):(v=0,y=0),x=-v,w=-y,z||(x+=I,w+=L),h[E]=[z?"c":"C",x,w,S[1],S[2],S[3],S[4]]))}),this};var svgpath$2=SvgPath,svgpath=svgpath$2;const svgpath$1=getDefaultExportFromCjs(svgpath);var Circle;(function(h){function v(y,_,x){const w=2*(y[0]*(_[1]-x[1])+_[0]*(x[1]-y[1])+x[0]*(y[1]-_[1]));if(scalar.approx(w,0))return null;const S=vec2.sqrLen(y),E=vec2.sqrLen(_),I=vec2.sqrLen(x),L=[(S*(_[1]-x[1])+E*(x[1]-y[1])+I*(y[1]-_[1]))/w,(S*(x[0]-_[0])+E*(y[0]-x[0])+I*(_[0]-y[0]))/w],O=vec2.dist(L,y);return{center:L,radius:O}}h.circumcircle=v})(Circle||(Circle={}));const{abs:abs$3,cos:cos$6,sin:sin$5,acos:acos$2,atan2:atan2$3,sqrt:sqrt$6,pow:pow$7}=Math;function crt(h){return h<0?-pow$7(-h,1/3):pow$7(h,1/3)}const pi$1=Math.PI,tau=2*pi$1,quart=pi$1/2,epsilon=1e-6,nMax=Number.MAX_SAFE_INTEGER||9007199254740991,nMin=Number.MIN_SAFE_INTEGER||-9007199254740991,ZERO={x:0,y:0,z:0},utils$1={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(h,v){const y=v(h);let _=y.x*y.x+y.y*y.y;return typeof y.z<"u"&&(_+=y.z*y.z),sqrt$6(_)},compute:function(h,v,y){if(h===0)return v[0].t=0,v[0];const _=v.length-1;if(h===1)return v[_].t=1,v[_];const x=1-h;let w=v;if(_===0)return v[0].t=h,v[0];if(_===1){const E={x:x*w[0].x+h*w[1].x,y:x*w[0].y+h*w[1].y,t:h};return y&&(E.z=x*w[0].z+h*w[1].z),E}if(_<4){let E=x*x,I=h*h,L,O,F,z=0;_===2?(w=[w[0],w[1],w[2],ZERO],L=E,O=x*h*2,F=I):_===3&&(L=E*x,O=E*h*3,F=x*I*3,z=h*I);const N={x:L*w[0].x+O*w[1].x+F*w[2].x+z*w[3].x,y:L*w[0].y+O*w[1].y+F*w[2].y+z*w[3].y,t:h};return y&&(N.z=L*w[0].z+O*w[1].z+F*w[2].z+z*w[3].z),N}const S=JSON.parse(JSON.stringify(v));for(;S.length>1;){for(let E=0;E<S.length-1;E++)S[E]={x:S[E].x+(S[E+1].x-S[E].x)*h,y:S[E].y+(S[E+1].y-S[E].y)*h},typeof S[E].z<"u"&&(S[E].z=S[E].z+(S[E+1].z-S[E].z)*h);S.splice(S.length-1,1)}return S[0].t=h,S[0]},computeWithRatios:function(h,v,y,_){const x=1-h,w=y,S=v;let E=w[0],I=w[1],L=w[2],O=w[3],F;if(E*=x,I*=h,S.length===2)return F=E+I,{x:(E*S[0].x+I*S[1].x)/F,y:(E*S[0].y+I*S[1].y)/F,z:_?(E*S[0].z+I*S[1].z)/F:!1,t:h};if(E*=x,I*=2*x,L*=h*h,S.length===3)return F=E+I+L,{x:(E*S[0].x+I*S[1].x+L*S[2].x)/F,y:(E*S[0].y+I*S[1].y+L*S[2].y)/F,z:_?(E*S[0].z+I*S[1].z+L*S[2].z)/F:!1,t:h};if(E*=x,I*=1.5*x,L*=3*x,O*=h*h*h,S.length===4)return F=E+I+L+O,{x:(E*S[0].x+I*S[1].x+L*S[2].x+O*S[3].x)/F,y:(E*S[0].y+I*S[1].y+L*S[2].y+O*S[3].y)/F,z:_?(E*S[0].z+I*S[1].z+L*S[2].z+O*S[3].z)/F:!1,t:h}},derive:function(h,v){const y=[];for(let _=h,x=_.length,w=x-1;x>1;x--,w--){const S=[];for(let E=0,I;E<w;E++)I={x:w*(_[E+1].x-_[E].x),y:w*(_[E+1].y-_[E].y)},v&&(I.z=w*(_[E+1].z-_[E].z)),S.push(I);y.push(S),_=S}return y},between:function(h,v,y){return v<=h&&h<=y||utils$1.approximately(h,v)||utils$1.approximately(h,y)},approximately:function(h,v,y){return abs$3(h-v)<=(y||epsilon)},length:function(h){const y=utils$1.Tvalues.length;let _=0;for(let x=0,w;x<y;x++)w=.5*utils$1.Tvalues[x]+.5,_+=utils$1.Cvalues[x]*utils$1.arcfn(w,h);return .5*_},map:function(h,v,y,_,x){const w=y-v,S=x-_,E=h-v,I=E/w;return _+S*I},lerp:function(h,v,y){const _={x:v.x+h*(y.x-v.x),y:v.y+h*(y.y-v.y)};return v.z!==void 0&&y.z!==void 0&&(_.z=v.z+h*(y.z-v.z)),_},pointToString:function(h){let v=h.x+"/"+h.y;return typeof h.z<"u"&&(v+="/"+h.z),v},pointsToString:function(h){return"["+h.map(utils$1.pointToString).join(", ")+"]"},copy:function(h){return JSON.parse(JSON.stringify(h))},angle:function(h,v,y){const _=v.x-h.x,x=v.y-h.y,w=y.x-h.x,S=y.y-h.y,E=_*S-x*w,I=_*w+x*S;return atan2$3(E,I)},round:function(h,v){const y=""+h,_=y.indexOf(".");return parseFloat(y.substring(0,_+1+v))},dist:function(h,v){const y=h.x-v.x,_=h.y-v.y;return sqrt$6(y*y+_*_)},closest:function(h,v){let y=pow$7(2,63),_,x;return h.forEach(function(w,S){x=utils$1.dist(v,w),x<y&&(y=x,_=S)}),{mdist:y,mpos:_}},abcratio:function(h,v){if(v!==2&&v!==3)return!1;if(typeof h>"u")h=.5;else if(h===0||h===1)return h;const y=pow$7(h,v)+pow$7(1-h,v),_=y-1;return abs$3(_/y)},projectionratio:function(h,v){if(v!==2&&v!==3)return!1;if(typeof h>"u")h=.5;else if(h===0||h===1)return h;const y=pow$7(1-h,v),_=pow$7(h,v)+y;return y/_},lli8:function(h,v,y,_,x,w,S,E){const I=(h*_-v*y)*(x-S)-(h-y)*(x*E-w*S),L=(h*_-v*y)*(w-E)-(v-_)*(x*E-w*S),O=(h-y)*(w-E)-(v-_)*(x-S);return O==0?!1:{x:I/O,y:L/O}},lli4:function(h,v,y,_){const x=h.x,w=h.y,S=v.x,E=v.y,I=y.x,L=y.y,O=_.x,F=_.y;return utils$1.lli8(x,w,S,E,I,L,O,F)},lli:function(h,v){return utils$1.lli4(h,h.c,v,v.c)},makeline:function(h,v){return new Bezier(h.x,h.y,(h.x+v.x)/2,(h.y+v.y)/2,v.x,v.y)},findbbox:function(h){let v=nMax,y=nMax,_=nMin,x=nMin;return h.forEach(function(w){const S=w.bbox();v>S.x.min&&(v=S.x.min),y>S.y.min&&(y=S.y.min),_<S.x.max&&(_=S.x.max),x<S.y.max&&(x=S.y.max)}),{x:{min:v,mid:(v+_)/2,max:_,size:_-v},y:{min:y,mid:(y+x)/2,max:x,size:x-y}}},shapeintersections:function(h,v,y,_,x){if(!utils$1.bboxoverlap(v,_))return[];const w=[],S=[h.startcap,h.forward,h.back,h.endcap],E=[y.startcap,y.forward,y.back,y.endcap];return S.forEach(function(I){I.virtual||E.forEach(function(L){if(L.virtual)return;const O=I.intersects(L,x);O.length>0&&(O.c1=I,O.c2=L,O.s1=h,O.s2=y,w.push(O))})}),w},makeshape:function(h,v,y){const _=v.points.length,x=h.points.length,w=utils$1.makeline(v.points[_-1],h.points[0]),S=utils$1.makeline(h.points[x-1],v.points[0]),E={startcap:w,forward:h,back:v,endcap:S,bbox:utils$1.findbbox([w,h,v,S])};return E.intersections=function(I){return utils$1.shapeintersections(E,E.bbox,I,I.bbox,y)},E},getminmax:function(h,v,y){if(!y)return{min:0,max:0};let _=nMax,x=nMin,w,S;y.indexOf(0)===-1&&(y=[0].concat(y)),y.indexOf(1)===-1&&y.push(1);for(let E=0,I=y.length;E<I;E++)w=y[E],S=h.get(w),S[v]<_&&(_=S[v]),S[v]>x&&(x=S[v]);return{min:_,mid:(_+x)/2,max:x,size:x-_}},align:function(h,v){const y=v.p1.x,_=v.p1.y,x=-atan2$3(v.p2.y-_,v.p2.x-y),w=function(S){return{x:(S.x-y)*cos$6(x)-(S.y-_)*sin$5(x),y:(S.x-y)*sin$5(x)+(S.y-_)*cos$6(x)}};return h.map(w)},roots:function(h,v){v=v||{p1:{x:0,y:0},p2:{x:1,y:0}};const y=h.length-1,_=utils$1.align(h,v),x=function(ie){return 0<=ie&&ie<=1};if(y===2){const ie=_[0].y,ke=_[1].y,be=_[2].y,Ae=ie-2*ke+be;if(Ae!==0){const ue=-sqrt$6(ke*ke-ie*be),xe=-ie+ke,Me=-(ue+xe)/Ae,Ge=-(-ue+xe)/Ae;return[Me,Ge].filter(x)}else if(ke!==be&&Ae===0)return[(2*ke-be)/(2*ke-2*be)].filter(x);return[]}const w=_[0].y,S=_[1].y,E=_[2].y,I=_[3].y;let L=-w+3*S-3*E+I,O=3*w-6*S+3*E,F=-3*w+3*S,z=w;if(utils$1.approximately(L,0)){if(utils$1.approximately(O,0))return utils$1.approximately(F,0)?[]:[-z/F].filter(x);const ie=sqrt$6(F*F-4*O*z),ke=2*O;return[(ie-F)/ke,(-F-ie)/ke].filter(x)}O/=L,F/=L,z/=L;const N=(3*F-O*O)/3,H=N/3,X=(2*O*O*O-9*O*F+27*z)/27,J=X/2,ae=J*J+H*H*H;let ve,pe,de,ce,V;if(ae<0){const ie=-N/3,ke=ie*ie*ie,be=sqrt$6(ke),Ae=-X/(2*be),ue=Ae<-1?-1:Ae>1?1:Ae,xe=acos$2(ue),Me=crt(be),Ge=2*Me;return de=Ge*cos$6(xe/3)-O/3,ce=Ge*cos$6((xe+tau)/3)-O/3,V=Ge*cos$6((xe+2*tau)/3)-O/3,[de,ce,V].filter(x)}else{if(ae===0)return ve=J<0?crt(-J):-crt(J),de=2*ve-O/3,ce=-ve-O/3,[de,ce].filter(x);{const ie=sqrt$6(ae);return ve=crt(-J+ie),pe=crt(J+ie),[ve-pe-O/3].filter(x)}}},droots:function(h){if(h.length===3){const v=h[0],y=h[1],_=h[2],x=v-2*y+_;if(x!==0){const w=-sqrt$6(y*y-v*_),S=-v+y,E=-(w+S)/x,I=-(-w+S)/x;return[E,I]}else if(y!==_&&x===0)return[(2*y-_)/(2*(y-_))];return[]}if(h.length===2){const v=h[0],y=h[1];return v!==y?[v/(v-y)]:[]}return[]},curvature:function(h,v,y,_,x){let w,S,E,I,L=0,O=0;const F=utils$1.compute(h,v),z=utils$1.compute(h,y),N=F.x*F.x+F.y*F.y;if(_?(w=sqrt$6(pow$7(F.y*z.z-z.y*F.z,2)+pow$7(F.z*z.x-z.z*F.x,2)+pow$7(F.x*z.y-z.x*F.y,2)),S=pow$7(N+F.z*F.z,3/2)):(w=F.x*z.y-F.y*z.x,S=pow$7(N,3/2)),w===0||S===0)return{k:0,r:0};if(L=w/S,O=S/w,!x){const H=utils$1.curvature(h-.001,v,y,_,!0).k,X=utils$1.curvature(h+.001,v,y,_,!0).k;I=(X-L+(L-H))/2,E=(abs$3(X-L)+abs$3(L-H))/2}return{k:L,r:O,dk:I,adk:E}},inflections:function(h){if(h.length<4)return[];const v=utils$1.align(h,{p1:h[0],p2:h.slice(-1)[0]}),y=v[2].x*v[1].y,_=v[3].x*v[1].y,x=v[1].x*v[2].y,w=v[3].x*v[2].y,S=18*(-3*y+2*_+3*x-w),E=18*(3*y-_-3*x),I=18*(x-y);if(utils$1.approximately(S,0)){if(!utils$1.approximately(E,0)){let z=-I/E;if(0<=z&&z<=1)return[z]}return[]}const L=2*S;if(utils$1.approximately(L,0))return[];const O=E*E-4*S*I;if(O<0)return[];const F=Math.sqrt(O);return[(F-E)/L,-(E+F)/L].filter(function(z){return 0<=z&&z<=1})},bboxoverlap:function(h,v){const y=["x","y"],_=y.length;for(let x=0,w,S,E,I;x<_;x++)if(w=y[x],S=h[w].mid,E=v[w].mid,I=(h[w].size+v[w].size)/2,abs$3(S-E)>=I)return!1;return!0},expandbox:function(h,v){v.x.min<h.x.min&&(h.x.min=v.x.min),v.y.min<h.y.min&&(h.y.min=v.y.min),v.z&&v.z.min<h.z.min&&(h.z.min=v.z.min),v.x.max>h.x.max&&(h.x.max=v.x.max),v.y.max>h.y.max&&(h.y.max=v.y.max),v.z&&v.z.max>h.z.max&&(h.z.max=v.z.max),h.x.mid=(h.x.min+h.x.max)/2,h.y.mid=(h.y.min+h.y.max)/2,h.z&&(h.z.mid=(h.z.min+h.z.max)/2),h.x.size=h.x.max-h.x.min,h.y.size=h.y.max-h.y.min,h.z&&(h.z.size=h.z.max-h.z.min)},pairiteration:function(h,v,y){const _=h.bbox(),x=v.bbox(),w=1e5,S=y||.5;if(_.x.size+_.y.size<S&&x.x.size+x.y.size<S)return[(w*(h._t1+h._t2)/2|0)/w+"/"+(w*(v._t1+v._t2)/2|0)/w];let E=h.split(.5),I=v.split(.5),L=[{left:E.left,right:I.left},{left:E.left,right:I.right},{left:E.right,right:I.right},{left:E.right,right:I.left}];L=L.filter(function(F){return utils$1.bboxoverlap(F.left.bbox(),F.right.bbox())});let O=[];return L.length===0||(L.forEach(function(F){O=O.concat(utils$1.pairiteration(F.left,F.right,S))}),O=O.filter(function(F,z){return O.indexOf(F)===z})),O},getccenter:function(h,v,y){const _=v.x-h.x,x=v.y-h.y,w=y.x-v.x,S=y.y-v.y,E=_*cos$6(quart)-x*sin$5(quart),I=_*sin$5(quart)+x*cos$6(quart),L=w*cos$6(quart)-S*sin$5(quart),O=w*sin$5(quart)+S*cos$6(quart),F=(h.x+v.x)/2,z=(h.y+v.y)/2,N=(v.x+y.x)/2,H=(v.y+y.y)/2,X=F+E,J=z+I,ae=N+L,ve=H+O,pe=utils$1.lli8(F,z,X,J,N,H,ae,ve),de=utils$1.dist(pe,h);let ce=atan2$3(h.y-pe.y,h.x-pe.x),V=atan2$3(v.y-pe.y,v.x-pe.x),ie=atan2$3(y.y-pe.y,y.x-pe.x),ke;return ce<ie?((ce>V||V>ie)&&(ce+=tau),ce>ie&&(ke=ie,ie=ce,ce=ke)):ie<V&&V<ce?(ke=ie,ie=ce,ce=ke):ie+=tau,pe.s=ce,pe.e=ie,pe.r=de,pe},numberSort:function(h,v){return h-v}};class PolyBezier{constructor(v){this.curves=[],this._3d=!1,v&&(this.curves=v,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(v){return utils$1.pointsToString(v.points)}).join(", ")+"]"}addCurve(v){this.curves.push(v),this._3d=this._3d||v._3d}length(){return this.curves.map(function(v){return v.length()}).reduce(function(v,y){return v+y})}curve(v){return this.curves[v]}bbox(){const v=this.curves;for(var y=v[0].bbox(),_=1;_<v.length;_++)utils$1.expandbox(y,v[_].bbox());return y}offset(v){const y=[];return this.curves.forEach(function(_){y.push(..._.offset(v))}),new PolyBezier(y)}}const{abs:abs$2,min:min$6,max:max$6,cos:cos$5,sin:sin$4,acos:acos$1,sqrt:sqrt$5}=Math,pi=Math.PI;class Bezier{constructor(v){let y=v&&v.forEach?v:Array.from(arguments).slice(),_=!1;if(typeof y[0]=="object"){_=y.length;const N=[];y.forEach(function(H){["x","y","z"].forEach(function(X){typeof H[X]<"u"&&N.push(H[X])})}),y=N}let x=!1;const w=y.length;if(_){if(_>4){if(arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");x=!0}}else if(w!==6&&w!==8&&w!==9&&w!==12&&arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const S=this._3d=!x&&(w===9||w===12)||v&&v[0]&&typeof v[0].z<"u",E=this.points=[];for(let N=0,H=S?3:2;N<w;N+=H){var I={x:y[N],y:y[N+1]};S&&(I.z=y[N+2]),E.push(I)}const L=this.order=E.length-1,O=this.dims=["x","y"];S&&O.push("z"),this.dimlen=O.length;const F=utils$1.align(E,{p1:E[0],p2:E[L]}),z=utils$1.dist(E[0],E[L]);this._linear=F.reduce((N,H)=>N+abs$2(H.y),0)<z/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(v,y,_,x){if(typeof x>"u"&&(x=.5),x===0)return new Bezier(y,y,_);if(x===1)return new Bezier(v,y,y);const w=Bezier.getABC(2,v,y,_,x);return new Bezier(v,w.A,_)}static cubicFromPoints(v,y,_,x,w){typeof x>"u"&&(x=.5);const S=Bezier.getABC(3,v,y,_,x);typeof w>"u"&&(w=utils$1.dist(y,S.C));const E=w*(1-x)/x,I=utils$1.dist(v,_),L=(_.x-v.x)/I,O=(_.y-v.y)/I,F=w*L,z=w*O,N=E*L,H=E*O,X={x:y.x-F,y:y.y-z},J={x:y.x+N,y:y.y+H},ae=S.A,ve={x:ae.x+(X.x-ae.x)/(1-x),y:ae.y+(X.y-ae.y)/(1-x)},pe={x:ae.x+(J.x-ae.x)/x,y:ae.y+(J.y-ae.y)/x},de={x:v.x+(ve.x-v.x)/x,y:v.y+(ve.y-v.y)/x},ce={x:_.x+(pe.x-_.x)/(1-x),y:_.y+(pe.y-_.y)/(1-x)};return new Bezier(v,de,ce,_)}static getUtils(){return utils$1}getUtils(){return Bezier.getUtils()}static get PolyBezier(){return PolyBezier}valueOf(){return this.toString()}toString(){return utils$1.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const v=this.points,y=v[0].x,_=v[0].y,x=["M",y,_,this.order===2?"Q":"C"];for(let w=1,S=v.length;w<S;w++)x.push(v[w].x),x.push(v[w].y);return x.join(" ")}setRatios(v){if(v.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=v,this._lut=[]}verify(){const v=this.coordDigest();v!==this._print&&(this._print=v,this.update())}coordDigest(){return this.points.map(function(v,y){return""+y+v.x+v.y+(v.z?v.z:0)}).join("")}update(){this._lut=[],this.dpoints=utils$1.derive(this.points,this._3d),this.computedirection()}computedirection(){const v=this.points,y=utils$1.angle(v[0],v[this.order],v[1]);this.clockwise=y>0}length(){return utils$1.length(this.derivative.bind(this))}static getABC(v=2,y,_,x,w=.5){const S=utils$1.projectionratio(w,v),E=1-S,I={x:S*y.x+E*x.x,y:S*y.y+E*x.y},L=utils$1.abcratio(w,v);return{A:{x:_.x+(_.x-I.x)/L,y:_.y+(_.y-I.y)/L},B:_,C:I,S:y,E:x}}getABC(v,y){y=y||this.get(v);let _=this.points[0],x=this.points[this.order];return Bezier.getABC(this.order,_,y,x,v)}getLUT(v){if(this.verify(),v=v||100,this._lut.length===v+1)return this._lut;this._lut=[],v++,this._lut=[];for(let y=0,_,x;y<v;y++)x=y/(v-1),_=this.compute(x),_.t=x,this._lut.push(_);return this._lut}on(v,y){y=y||5;const _=this.getLUT(),x=[];for(let w=0,S,E=0;w<_.length;w++)S=_[w],utils$1.dist(S,v)<y&&(x.push(S),E+=w/_.length);return x.length?t/=x.length:!1}project(v){const y=this.getLUT(),_=y.length-1,x=utils$1.closest(y,v),w=x.mpos,S=(w-1)/_,E=(w+1)/_,I=.1/_;let L=x.mdist,O=S,F=O,z;L+=1;for(let N;O<E+I;O+=I)z=this.compute(O),N=utils$1.dist(v,z),N<L&&(L=N,F=O);return F=F<0?0:F>1?1:F,z=this.compute(F),z.t=F,z.d=L,z}get(v){return this.compute(v)}point(v){return this.points[v]}compute(v){return this.ratios?utils$1.computeWithRatios(v,this.points,this.ratios,this._3d):utils$1.compute(v,this.points,this._3d,this.ratios)}raise(){const v=this.points,y=[v[0]],_=v.length;for(let x=1,w,S;x<_;x++)w=v[x],S=v[x-1],y[x]={x:(_-x)/_*w.x+x/_*S.x,y:(_-x)/_*w.y+x/_*S.y};return y[_]=v[_-1],new Bezier(y)}derivative(v){return utils$1.compute(v,this.dpoints[0],this._3d)}dderivative(v){return utils$1.compute(v,this.dpoints[1],this._3d)}align(){let v=this.points;return new Bezier(utils$1.align(v,{p1:v[0],p2:v[v.length-1]}))}curvature(v){return utils$1.curvature(v,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return utils$1.inflections(this.points)}normal(v){return this._3d?this.__normal3(v):this.__normal2(v)}__normal2(v){const y=this.derivative(v),_=sqrt$5(y.x*y.x+y.y*y.y);return{t:v,x:-y.y/_,y:y.x/_}}__normal3(v){const y=this.derivative(v),_=this.derivative(v+.01),x=sqrt$5(y.x*y.x+y.y*y.y+y.z*y.z),w=sqrt$5(_.x*_.x+_.y*_.y+_.z*_.z);y.x/=x,y.y/=x,y.z/=x,_.x/=w,_.y/=w,_.z/=w;const S={x:_.y*y.z-_.z*y.y,y:_.z*y.x-_.x*y.z,z:_.x*y.y-_.y*y.x},E=sqrt$5(S.x*S.x+S.y*S.y+S.z*S.z);S.x/=E,S.y/=E,S.z/=E;const I=[S.x*S.x,S.x*S.y-S.z,S.x*S.z+S.y,S.x*S.y+S.z,S.y*S.y,S.y*S.z-S.x,S.x*S.z-S.y,S.y*S.z+S.x,S.z*S.z];return{t:v,x:I[0]*y.x+I[1]*y.y+I[2]*y.z,y:I[3]*y.x+I[4]*y.y+I[5]*y.z,z:I[6]*y.x+I[7]*y.y+I[8]*y.z}}hull(v){let y=this.points,_=[],x=[],w=0;for(x[w++]=y[0],x[w++]=y[1],x[w++]=y[2],this.order===3&&(x[w++]=y[3]);y.length>1;){_=[];for(let S=0,E,I=y.length-1;S<I;S++)E=utils$1.lerp(v,y[S],y[S+1]),x[w++]=E,_.push(E);y=_}return x}split(v,y){if(v===0&&y)return this.split(y).left;if(y===1)return this.split(v).right;const _=this.hull(v),x={left:this.order===2?new Bezier([_[0],_[3],_[5]]):new Bezier([_[0],_[4],_[7],_[9]]),right:this.order===2?new Bezier([_[5],_[4],_[2]]):new Bezier([_[9],_[8],_[6],_[3]]),span:_};return x.left._t1=utils$1.map(0,0,1,this._t1,this._t2),x.left._t2=utils$1.map(v,0,1,this._t1,this._t2),x.right._t1=utils$1.map(v,0,1,this._t1,this._t2),x.right._t2=utils$1.map(1,0,1,this._t1,this._t2),y?(y=utils$1.map(y,v,1,0,1),x.right.split(y).left):x}extrema(){const v={};let y=[];return this.dims.forEach((function(_){let x=function(S){return S[_]},w=this.dpoints[0].map(x);v[_]=utils$1.droots(w),this.order===3&&(w=this.dpoints[1].map(x),v[_]=v[_].concat(utils$1.droots(w))),v[_]=v[_].filter(function(S){return S>=0&&S<=1}),y=y.concat(v[_].sort(utils$1.numberSort))}).bind(this)),v.values=y.sort(utils$1.numberSort).filter(function(_,x){return y.indexOf(_)===x}),v}bbox(){const v=this.extrema(),y={};return this.dims.forEach((function(_){y[_]=utils$1.getminmax(this,_,v[_])}).bind(this)),y}overlaps(v){const y=this.bbox(),_=v.bbox();return utils$1.bboxoverlap(y,_)}offset(v,y){if(typeof y<"u"){const _=this.get(v),x=this.normal(v),w={c:_,n:x,x:_.x+x.x*y,y:_.y+x.y*y};return this._3d&&(w.z=_.z+x.z*y),w}if(this._linear){const _=this.normal(0),x=this.points.map(function(w){const S={x:w.x+v*_.x,y:w.y+v*_.y};return w.z&&_.z&&(S.z=w.z+v*_.z),S});return[new Bezier(x)]}return this.reduce().map(function(_){return _._linear?_.offset(v)[0]:_.scale(v)})}simple(){if(this.order===3){const x=utils$1.angle(this.points[0],this.points[3],this.points[1]),w=utils$1.angle(this.points[0],this.points[3],this.points[2]);if(x>0&&w<0||x<0&&w>0)return!1}const v=this.normal(0),y=this.normal(1);let _=v.x*y.x+v.y*y.y;return this._3d&&(_+=v.z*y.z),abs$2(acos$1(_))<pi/3}reduce(){let v,y=0,_=0,x=.01,w,S=[],E=[],I=this.extrema().values;for(I.indexOf(0)===-1&&(I=[0].concat(I)),I.indexOf(1)===-1&&I.push(1),y=I[0],v=1;v<I.length;v++)_=I[v],w=this.split(y,_),w._t1=y,w._t2=_,S.push(w),y=_;return S.forEach(function(L){for(y=0,_=0;_<=1;)for(_=y+x;_<=1+x;_+=x)if(w=L.split(y,_),!w.simple()){if(_-=x,abs$2(y-_)<x)return[];w=L.split(y,_),w._t1=utils$1.map(y,0,1,L._t1,L._t2),w._t2=utils$1.map(_,0,1,L._t1,L._t2),E.push(w),y=_;break}y<1&&(w=L.split(y,1),w._t1=utils$1.map(y,0,1,L._t1,L._t2),w._t2=L._t2,E.push(w))}),E}translate(v,y,_){_=typeof _=="number"?_:y;const x=this.order;let w=this.points.map((S,E)=>(1-E/x)*y+E/x*_);return new Bezier(this.points.map((S,E)=>({x:S.x+v.x*w[E],y:S.y+v.y*w[E]})))}scale(v){const y=this.order;let _=!1;if(typeof v=="function"&&(_=v),_&&y===2)return this.raise().scale(_);const x=this.clockwise,w=this.points;if(this._linear)return this.translate(this.normal(0),_?_(0):v,_?_(1):v);const S=_?_(0):v,E=_?_(1):v,I=[this.offset(0,10),this.offset(1,10)],L=[],O=utils$1.lli4(I[0],I[0].c,I[1],I[1].c);if(!O)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(F){const z=L[F*y]=utils$1.copy(w[F*y]);z.x+=(F?E:S)*I[F].n.x,z.y+=(F?E:S)*I[F].n.y}),_?([0,1].forEach(function(F){if(!(y===2&&F)){var z=w[F+1],N={x:z.x-O.x,y:z.y-O.y},H=_?_((F+1)/y):v;_&&!x&&(H=-H);var X=sqrt$5(N.x*N.x+N.y*N.y);N.x/=X,N.y/=X,L[F+1]={x:z.x+H*N.x,y:z.y+H*N.y}}}),new Bezier(L)):([0,1].forEach(F=>{if(y===2&&F)return;const z=L[F*y],N=this.derivative(F),H={x:z.x+N.x,y:z.y+N.y};L[F+1]=utils$1.lli4(z,H,O,w[F+1])}),new Bezier(L))}outline(v,y,_,x){if(y=y===void 0?v:y,this._linear){const ce=this.normal(0),V=this.points[0],ie=this.points[this.points.length-1];let ke,be,Ae;_===void 0&&(_=v,x=y),ke={x:V.x+ce.x*v,y:V.y+ce.y*v},Ae={x:ie.x+ce.x*_,y:ie.y+ce.y*_},be={x:(ke.x+Ae.x)/2,y:(ke.y+Ae.y)/2};const ue=[ke,be,Ae];ke={x:V.x-ce.x*y,y:V.y-ce.y*y},Ae={x:ie.x-ce.x*x,y:ie.y-ce.y*x},be={x:(ke.x+Ae.x)/2,y:(ke.y+Ae.y)/2};const xe=[Ae,be,ke],Me=utils$1.makeline(xe[2],ue[0]),Ge=utils$1.makeline(ue[2],xe[0]),lt=[Me,new Bezier(ue),Ge,new Bezier(xe)];return new PolyBezier(lt)}const w=this.reduce(),S=w.length,E=[];let I=[],L,O=0,F=this.length();const z=typeof _<"u"&&typeof x<"u";function N(ce,V,ie,ke,be){return function(Ae){const ue=ke/ie,xe=(ke+be)/ie,Me=V-ce;return utils$1.map(Ae,0,1,ce+ue*Me,ce+xe*Me)}}w.forEach(function(ce){const V=ce.length();z?(E.push(ce.scale(N(v,_,F,O,V))),I.push(ce.scale(N(-y,-x,F,O,V)))):(E.push(ce.scale(v)),I.push(ce.scale(-y))),O+=V}),I=I.map(function(ce){return L=ce.points,L[3]?ce.points=[L[3],L[2],L[1],L[0]]:ce.points=[L[2],L[1],L[0]],ce}).reverse();const H=E[0].points[0],X=E[S-1].points[E[S-1].points.length-1],J=I[S-1].points[I[S-1].points.length-1],ae=I[0].points[0],ve=utils$1.makeline(J,H),pe=utils$1.makeline(X,ae),de=[ve].concat(E).concat([pe]).concat(I);return new PolyBezier(de)}outlineshapes(v,y,_){y=y||v;const x=this.outline(v,y).curves,w=[];for(let S=1,E=x.length;S<E/2;S++){const I=utils$1.makeshape(x[S],x[E-S],_);I.startcap.virtual=S>1,I.endcap.virtual=S<E/2-1,w.push(I)}return w}intersects(v,y){return v?v.p1&&v.p2?this.lineIntersects(v):(v instanceof Bezier&&(v=v.reduce()),this.curveintersects(this.reduce(),v,y)):this.selfintersects(y)}lineIntersects(v){const y=min$6(v.p1.x,v.p2.x),_=min$6(v.p1.y,v.p2.y),x=max$6(v.p1.x,v.p2.x),w=max$6(v.p1.y,v.p2.y);return utils$1.roots(this.points,v).filter(S=>{var E=this.get(S);return utils$1.between(E.x,y,x)&&utils$1.between(E.y,_,w)})}selfintersects(v){const y=this.reduce(),_=y.length-2,x=[];for(let w=0,S,E,I;w<_;w++)E=y.slice(w,w+1),I=y.slice(w+2),S=this.curveintersects(E,I,v),x.push(...S);return x}curveintersects(v,y,_){const x=[];v.forEach(function(S){y.forEach(function(E){S.overlaps(E)&&x.push({left:S,right:E})})});let w=[];return x.forEach(function(S){const E=utils$1.pairiteration(S.left,S.right,_);E.length>0&&(w=w.concat(E))}),w}arcs(v){return v=v||.5,this._iterate(v,[])}_error(v,y,_,x){const w=(x-_)/4,S=this.get(_+w),E=this.get(x-w),I=utils$1.dist(v,y),L=utils$1.dist(v,S),O=utils$1.dist(v,E);return abs$2(L-I)+abs$2(O-I)}_iterate(v,y){let _=0,x=1,w;do{w=0,x=1;let S=this.get(_),E,I,L,O,F=!1,z=!1,N,H=x,X=1;do if(z=F,O=L,H=(_+x)/2,E=this.get(H),I=this.get(x),L=utils$1.getccenter(S,E,I),L.interval={start:_,end:x},F=this._error(L,S,_,x)<=v,N=z&&!F,N||(X=x),F){if(x>=1){if(L.interval.end=X=1,O=L,x>1){let ae={x:L.x+L.r*cos$5(L.e),y:L.y+L.r*sin$4(L.e)};L.e+=utils$1.angle({x:L.x,y:L.y},ae,this.get(1))}break}x=x+(x-_)/2}else x=H;while(!N&&w++<100);if(w>=100)break;O=O||L,y.push(O),_=X}while(x<1);return y}}function toFixedSimple(h,v=2){return h.toFixed(v).replace(/(?:\.0+$)|(?:(\.[0-9]*?)0+$)/,"$1").replace(/^(-?)0\./,"$1.")}function normalizeOffset(h,v){return scalar.clamp(h>=0?h:v+h,0,v)}function normalizeIndex(h,v){return scalar.clamp(h>=0?h:v+h,0,v-1)}function memoize(h){const v=new WeakMap;return y=>{if(v.has(y))return v.get(y);{const _=h(y);return v.set(y,_),_}}}var Iter;(function(h){function*v(S,E,I,L=1e6){if(S===E){yield S;return}I===0&&(I=Math.sign(E-S)),I=Math.sign(E-S)*Math.abs(I);let O=Math.abs((E-S)/I);O>L&&(I*=O/L,O=L);for(let F=0;F<=O;F++)yield S+F*I}h.range=v;function*y(S,E,I,L,O){L=(L%I+I)%I,L!==0&&(yield S);for(const F of v(S+L,E,I,O))yield F;L!==0&&(yield E)}h.rangeWithOffset=y;function*_(S){let E;for(const I of S)E!==void 0&&(yield[E,I]),E=I}h.tuple=_;function*x(S){let E=0;for(const I of S)yield[E,I],E++}h.enumerate=x;function*w(S,E,{step:I,align:L="uniform",count:O,emitFrom:F=!0,emitTo:z=!0}={}){const N=E-S;I===void 0&&(I=N);let H=S;O!==void 0?(O=Math.max(1,Math.floor(O)),I=N/O):L==="start"||L==="center"||L==="end"?(O=Math.floor(Math.abs(N/I)),I*=Math.sign(N),L==="end"?H=E-O*I:L==="center"&&(H=scalar.lerp(S,E-O*I,.5))):(O=Math.ceil(Math.abs(N/I)),I=N/O),F&&(yield S),S!==H&&(yield H);for(let X=1;X<=O;X++)yield H+X*I;z&&!scalar.approx(H+O*I,E)&&(yield E)}h.resample=w})(Iter||(Iter={}));var CubicBezier;(function(h){function v(H,X,J,ae){return{command:"C",start:H,args:[X,J],point:ae}}h.of=v,h.toPaperBezier=memoize(H=>{const{start:[X,J],args:[[ae,ve],[pe,de]],point:[ce,V]}=H;return new paper.Curve(new paper.Point(X,J),new paper.Point(ae-X,ve-J),new paper.Point(pe-ce,de-V),new paper.Point(ce,V))});function y(H,X,J){const ae=vec2.lerp(H,X,.6666666666666666),ve=vec2.lerp(J,X,2/3);return{command:"C",start:H,args:[ae,ve],point:J}}h.fromQuadraticBezier=y,h.length=memoize(H=>toBezierJS(H).length()),h.bounds=memoize(H=>{const X=toBezierJS(H),{x:J,y:ae}=X.bbox();return[[J.min,ae.min],[J.max,ae.max]]});function _(H,X){if(typeof X=="number"&&(X={unit:X}),"time"in X)return normalizeOffset(X.time,1);const J=h.toPaperBezier(H),ae=normalizeOffset("unit"in X?X.unit*J.length:X.offset,J.length);return J.getTimeAt(ae)}h.toTime=_;function x(H,X){const J=_(H,X),{start:ae,args:[ve,pe],point:de}=H,ce=(1-J)**3*ae[0]+3*(1-J)**2*J*ve[0]+3*(1-J)*J**2*pe[0]+J**3*de[0],V=(1-J)**3*ae[1]+3*(1-J)**2*J*ve[1]+3*(1-J)*J**2*pe[1]+J**3*de[1];return[ce,V]}h.point=x;function w(H,X){const J=_(H,X);return getDerivativeFn(H)(J)}h.derivative=w;function S(H,X){return vec2.normalize(w(H,X))}h.tangent=S;function E(H,X){return vec2.rotate(S(H,X),90)}h.normal=E;function I(H,X){const J=toBezierJS(H),{x:ae,y:ve,t:pe,d:de}=J.project(toPoint(X));return{position:[ae,ve],t:pe,distance:de}}h.project=I;function L(H,X,J){let ae=_(H,X),ve=_(H,J);if(ae===0&&ve===1)return"command"in H?H:{...H,command:"C"};const pe=ae>ve;pe&&([ae,ve]=[ve,ae]);let[de,ce,V,ie]=trimBetweenTimes(H,ae,ve);return pe&&([de,ce,V,ie]=[ie,V,ce,de]),{command:"C",start:de,args:[ce,V],point:ie}}h.trim=L;function O(H,X){X=[0,...X,1];const J=[];for(const[ae,ve]of Iter.tuple(X)){const[,pe,de,ce]=trimBetweenTimes(H,ae,ve);J.push({command:"C",args:[pe,de],point:ce})}return J}h.divideAtTimes=O;function F(H){const{start:X,args:[J,ae],point:ve}=H;return vec2.approx(X,ve)&&vec2.approx(X,J)&&vec2.approx(X,ae)}h.isZero=F;function z(H){if(F(H))return!0;const{start:X,point:J,args:[ae,ve]}=H;if(vec2.approx(X,ae)&&vec2.approx(J,ve)||vec2.approx(X,J))return!0;const pe=vec2.sub(J,X),de=vec2.sub(ae,X),ce=vec2.sub(ve,X),V=vec2.len(pe);return scalar.approx(vec2.angle(pe,de),0)&&scalar.approx(vec2.angle(pe,ce),0)&&vec2.len(de)<V&&vec2.len(ce)<V}h.isStraight=z;function N(H,X){const ae=toBezierJS(H).offset(X),ve=Path.pen();if(ae.length===0)throw new Error("Offsetting a bezier curve failed");const{x:pe,y:de}=ae[0].points[0];ve.M([pe,de]);for(const ce of ae)ve.C([ce.points[1].x,ce.points[1].y],[ce.points[2].x,ce.points[2].y],[ce.points[3].x,ce.points[3].y]);return ve.get()}h.offset=N})(CubicBezier||(CubicBezier={}));function toPoint([h,v]){return{x:h,y:v}}const getDerivativeFn=memoize(h=>{const{start:[v,y],args:[[_,x],[w,S]],point:[E,I]}=h,L=9*(_-w)+3*(E-v),O=6*(v+w)-12*_,F=3*(_-v),z=9*(x-S)+3*(I-y),N=6*(y+S)-12*x,H=3*(x-y);return X=>{const J=(L*X+O)*X+F,ae=(z*X+N)*X+H;return[J,ae]}});function splitCubicBezierAtTime(h,v){const[y,_]=h.args,x=vec2.lerp(h.start,y,v),w=vec2.lerp(y,_,v),S=vec2.lerp(_,h.point,v),E=vec2.lerp(x,w,v),I=vec2.lerp(w,S,v),L=vec2.lerp(E,I,v);return[x,E,L,I,S]}const toBezierJS=memoize(h=>{const{start:v,args:[y,_],point:x}=h;return new Bezier(v[0],v[1],y[0],y[1],_[0],_[1],x[0],x[1])});function trimBetweenTimes(h,v,y){let _,x,w;v===0?(_=h.start,[x,w]=h.args):[,,_,x,w]=splitCubicBezierAtTime(h,v);let S,E,I;return y===1?(I=h.point,[S,E]=[x,w]):[S,E,I]=splitCubicBezierAtTime({start:_,args:[x,w],point:h.point},scalar.invlerp(v,1,y)),[_,S,E,I]}var Rect;(function(h){function v(ve){return[[ve.left,ve.top],[ve.right,ve.bottom]]}h.fromDOMRect=v;function y(...ve){let pe=1/0,de=1/0,ce=-1/0,V=-1/0;for(const[ie,ke]of ve)pe=Math.min(pe,ie),de=Math.min(de,ke),ce=Math.max(ce,ie),V=Math.max(V,ke);return[[pe,de],[ce,V]]}h.fromPoints=y;function _(ve,pe){return y(ve,vec2.add(ve,pe))}h.bySize=_;function x(ve,pe){const de=vec2.scale(pe,.5);return y(vec2.sub(ve,de),vec2.scale(pe,2))}h.fromCenter=x;function w(ve){const[pe,de]=ve;return vec2.sub(de,pe)}h.size=w;function S(ve){const[pe,de]=ve;return vec2.lerp(pe,de,.5)}h.center=S;function E(ve){return ve[0][0]}h.left=E;function I(ve){return ve[0][1]}h.top=I;function L(ve){return ve[1][0]}h.right=L;function O(ve){return ve[1][1]}h.bottom=O;function F(ve,pe){typeof pe=="number"&&(pe=[pe,pe]);const[de,ce]=ve;return[vec2.mul(de,pe),vec2.mul(ce,pe)]}h.scale=F;function z(ve,pe){const[de,ce]=ve;return[vec2.add(de,pe),vec2.add(ce,pe)]}h.translate=z;function N(ve,pe){const[de,ce]=ve,[V,ie]=pe;return V[0]>=de[0]&&V[1]>=de[1]&&ie[0]<=ce[0]&&ie[1]<=ce[1]}h.contains=N;function H(ve,pe){const[de,ce]=ve;return pe[0]>=de[0]&&pe[0]<=ce[0]&&pe[1]>=de[1]&&pe[1]<=ce[1]}h.containsPoint=H;function X(ve,pe){const[de,ce]=ve,[V,ie]=pe;return de[0]<=ie[0]&&ce[0]>=V[0]&&de[1]<=ie[1]&&ce[1]>=V[1]}h.intersects=X;function J(...ve){let pe=1/0,de=1/0,ce=-1/0,V=-1/0;for(const[ie,ke]of ve)pe=Math.min(pe,ie[0]),de=Math.min(de,ie[1]),ce=Math.max(ce,ke[0]),V=Math.max(V,ke[1]);return[[pe,de],[ce,V]]}h.unite=J;function ae(...ve){let pe=-1/0,de=-1/0,ce=1/0,V=1/0;for(const[ie,ke]of ve)pe=Math.max(pe,ie[0]),de=Math.max(de,ie[1]),ce=Math.min(ce,ke[0]),V=Math.min(V,ke[1]);return[[pe,de],[ce,V]]}h.intersect=ae})(Rect||(Rect={}));var Line;(function(h){function v(z){const{start:N,point:H}=z;return Rect.fromPoints(N,H)}h.bounds=v;function y(z,N){const H=F(z,N);return vec2.lerp(z.start,z.point,H)}h.point=y;function _(z){return vec2.sub(z.point,z.start)}h.derivative=_;function x(z){return vec2.normalize(_(z))}h.tangent=x;function w(z){return vec2.rotate90(x(z))}h.normal=w,h.curvature=0;function S(z,N){const H=y(z,N),X=x(z),J=vec2.rotate90(X);return[...X,...J,...H]}h.orientation=S;function E(z,N,H){const X=F(z,N),J=F(z,H),ae=y(z,X),ve=y(z,J);return{start:ae,point:ve,command:"L"}}h.trim=E;function I(z,N){return[...N,1].map(H=>({point:vec2.lerp(z.start,z.point,H),command:"L"}))}h.divideAtTimes=I;function L(z){return vec2.approx(z.start,z.point)}h.isZero=L;function O(z,N){const H=w(z),X=vec2.scale(H,N);return Path.line(vec2.add(z.start,X),vec2.add(z.point,X))}h.offset=O;function F(z,N){return typeof N!="number"&&("time"in N?N=N.time:"unit"in N?N=N.unit:N=N.offset/vec2.distance(z.start,z.point)),normalizeOffset(N,1)}h.toTime=F})(Line||(Line={}));var Segment;(function(h){h.length=z=>z.command==="L"?vec2.distance(z.start,z.point):z.command==="C"?CubicBezier.length(z):Arc.length(z),h.bounds=z=>z.command==="L"?Line.bounds(z):z.command==="C"?CubicBezier.bounds(z):Arc.bounds(z);function v(z,N){return z.command==="L"?Line.point(z,N):z.command==="C"?CubicBezier.point(z,N):Arc.point(z,N)}h.point=v;function y(z,N){return z.command==="L"?Line.derivative(z):z.command==="C"?CubicBezier.derivative(z,N):Arc.derivative(z,N)}h.derivative=y;function _(z,N){const H=h.derivative(z,N);return vec2.normalize(H)}h.tangent=_;function x(z,N){const H=h.tangent(z,N);return vec2.rotate90(H)}h.normal=x;function w(z,N){const H=v(z,N),X=_(z,N),J=vec2.rotate90(X);return[...X,...J,...H]}h.orientation=w;function S(z,N,H){return z.command==="L"?Line.trim(z,N,H):z.command==="C"?CubicBezier.trim(z,N,H):Arc.trim(z,N,H)}h.trim=S;function E(z){return z.command==="L"?Line.isZero(z):z.command==="C"?CubicBezier.isZero(z):Arc.isZero(z)}h.isZero=E;function I(z){return z.command==="L"?!0:z.command==="C"?CubicBezier.isStraight(z):Arc.isStraight(z)}h.isStraight=I;function L(z,N,H=90){return z.command==="L"?Line.offset(z,N):z.command==="C"?CubicBezier.offset(z,N):Arc.offset(z,N,H)}h.offset=L;function O(z,N){return z.command==="L"?Line.divideAtTimes(z,N):z.command==="C"?CubicBezier.divideAtTimes(z,N):Arc.divideAtTimes(z,N)}h.divideAtTimes=O;function F(z,N){return z.command==="L"?Line.toTime(z,N):z.command==="C"?CubicBezier.toTime(z,N):Arc.toTime(z,N)}h.toTime=F})(Segment||(Segment={}));var MultiSegment;(function(h){function v(y){const _=[];for(let w=y.vertices.length-1;w>=0;w--){const S=w>=1?y.vertices[w-1].point:y.start,{command:E,args:I}=y.vertices[w];if(E==="L")_.push({command:"L",point:S});else if(E==="C")_.push({command:"C",point:S,args:[I[1],I[0]]});else{const[L,O,F,z]=I;_.push({command:"A",point:S,args:[L,O,F,!z]})}}return{start:y.vertices.length>0?y.vertices[0].point:y.start,vertices:_}}h.reverse=v})(MultiSegment||(MultiSegment={}));var Curve;(function(h){h.length=memoize(z=>{let N=0;for(const H of h.segments(z))H.command==="L"?N+=vec2.distance(H.start,H.point):H.command==="C"?N+=CubicBezier.length(H):N+=Arc.length(H);return N}),h.bounds=memoize(z=>Rect.unite(...h.segments(z).map(N=>Segment.bounds(N))));function v(z){return z.closed?z.vertices.length:z.vertices.length-1}h.segmentCount=v;function y(z,N){return h.segments(z)[N]}h.segment=y,h.segments=memoize(z=>{const N=[];let H;for(const X of z.vertices)H&&N.push({...X,start:H}),H=X.point;if(z.closed){const X=z.vertices.at(0);H&&X&&N.push({...X,start:H})}return N});function _(z,N,H){const X=v(z);let J=N+H;return z.closed&&(J=scalar.mod(J,X)),J<0||J>=X?null:y(z,J)}h.neighborSegment=_;function x(z,N){return _(z,N,1)}h.nextSegment=x;function w(z,N){return _(z,N,-1)}h.prevSegment=w;function S(z){const N=[],H=z.vertices.length,X=z.closed?H:H-1;for(let J=X;J>=0;J--){if(!z.closed&&J===H-1){N.push({command:"L",point:z.vertices[J].point});continue}const ae=z.vertices[J%H].point,{command:ve,args:pe}=z.vertices[(J+1)%H];if(ve==="L")N.push({command:"L",point:ae});else if(ve==="C")N.push({command:"C",point:ae,args:[pe[1],pe[0]]});else{const[de,ce,V,ie]=pe;N.push({command:"A",point:ae,args:[de,ce,V,!ie]})}}return{vertices:N,closed:z.closed}}h.reverse=S;function E(z,N,H){const X=F(z,N),J=F(z,H);if(X.segmentIndex===J.segmentIndex){const ae=Segment.trim(X.segment,X,J);return{vertices:[{command:"L",point:ae.start},ae],closed:!1}}else if(X.segmentIndex<J.segmentIndex){const ae=Segment.trim(X.segment,X,1),ve={command:"L",point:ae.start},pe=z.vertices.slice(X.segmentIndex+2,J.segmentIndex+1),de=Segment.toTime(J.segment,J),ce=scalar.approx(de,0)?[]:[Segment.trim(J.segment,0,{time:de})];return{vertices:[ve,ae,...pe,...ce],closed:!1}}else{let ae;const ve=Segment.toTime(X.segment,X);if(scalar.approx(ve,0))ae=[{command:"L",point:X.segment.start}];else{const V=Segment.trim(X.segment,{time:ve},0);ae=[{command:"L",point:V.start},V]}const pe={start:J.segment.point,vertices:z.vertices.slice(J.segmentIndex+2,X.segmentIndex+1)},de=MultiSegment.reverse(pe).vertices,ce=Segment.trim(J.segment,1,J);return{vertices:[...ae,...de,ce],closed:!1}}}h.trim=E;function I(z,N=!0){if(N){const H=z.vertices.at(0),X=z.vertices.at(-1);if(H&&X&&vec2.approx(H.point,X.point))return{vertices:[X,...z.vertices.slice(1)],closed:!0}}return{...z,closed:!0}}h.close=I;function L(z,{convertStraightLines:N=!0}={}){let H=h.segments(z).flatMap(X=>Segment.isZero(X)?[]:N&&Segment.isStraight(X)?[{command:"L",point:X.point}]:[X]);if(z.closed){if(H.length===0)z.vertices.length>0&&(H=[z.vertices[0]]);else if(H.length>1){const X=H.pop();H.unshift(X)}}else if(z.vertices.length>=1){const X=z.vertices[0];H.unshift(X)}return{vertices:H,closed:z.closed}}h.reduce=L;function O(z){const N=h.segments(z);return N.length===0||N.every(H=>Segment.isZero(H))}h.isZero=O;function F(z,N){if(typeof N=="number"&&(N={unit:N}),N.segmentIndex!==void 0){const ae=normalizeIndex(N.segmentIndex,v(z)),ve=h.segment(z,ae);return{segment:ve,segmentIndex:ae,time:Segment.toTime(ve,N)}}if("time"in N){const ae=v(z),ve=normalizeOffset(N.time,1)*ae,pe=Math.floor(ve),de=h.segment(z,pe),ce=ve-pe;return{segment:de,time:ce,segmentIndex:pe}}const H=h.length(z);let X=normalizeOffset("unit"in N?N.unit*H:N.offset,H);const J=h.segments(z);for(const[ae,ve]of J.entries()){const pe=Segment.length(ve);if(X<pe||ae===J.length-1)return{segment:ve,segmentIndex:ae,time:Segment.toTime(ve,{offset:X})};X-=pe}throw new Error("Location is out of bounds")}h.toTime=F})(Curve||(Curve={}));var CurveGroup;(function(h){function v(y,_){if(typeof y=="function")return y;typeof y=="number"?y=[y]:y instanceof Set&&(y=[...y]),y=y.map(w=>w>=0?w:_.curves.length+w);const x=new Set(y);return(w,S)=>x.has(S)}h.getMatcher=v})(CurveGroup||(CurveGroup={})),paper.setup(document.createElement("canvas"));var Path;(function(h){var Y;h.empty=Object.freeze({curves:[]});function v(j,q){return{curves:[{vertices:[{point:j,command:"L"},{point:[q[0],j[1]],command:"L"},{point:q,command:"L"},{point:[j[0],q[1]],command:"L"}],closed:!0}]}}h.rectangle=v,h.rect=v;function y(j,q){const W=vec2.scale(q,.5),Q=vec2.sub(j,W),ee=vec2.add(j,W);return v(Q,ee)}h.rectFromCenter=y;function _(j,q,W){let Q,ee,te,oe;typeof W=="number"?Q=ee=te=oe=W:W.length===1?Q=ee=te=oe=W[0]:W.length===2?([Q,ee]=W,[te,oe]=W):W.length===3?([Q,ee,te]=W,oe=ee):[Q,ee,te,oe]=W;const[ne,he]=vec2.sub(q,j),se=Math.abs(ne)/2,le=Math.abs(he)/2;Q=Math.min(Math.abs(Q),se,le),ee=Math.min(Math.abs(ee),se,le),te=Math.min(Math.abs(te),se,le),oe=Math.min(Math.abs(oe),se,le);const re=ne*he>0,ge=Math.sign(ne),ye=Math.sign(he);return G().M([j[0],j[1]+Q*ye]).A([Q,Q],0,!1,re,[j[0]+Q*ge,j[1]]).H(q[0]-ee*ge).A([ee,ee],0,!1,re,[q[0],j[1]+ee*ye]).V(q[1]-te*ye).A([te,te],0,!1,re,[q[0]-te*ge,q[1]]).H(j[0]+oe*ge).A([oe,oe],0,!1,re,[j[0],q[1]-oe*ye]).Z().get()}h.roundRect=_;function x(j,q){return L(j,[q,q])}h.circle=x;function w(j,q,W=!0){const Q=vec2.dist(j,q)/2,ee=T(Ee(h.empty,j),[Q,Q],0,!1,!0,q);return W?h.close(ee):ee}h.semicircle=w;function S(j,q,W=1e8){const Q=vec2.normalize(vec2.sub(q,j)),ee=vec2.scaleAndAdd(j,Q,W),te=vec2.scaleAndAdd(j,Q,-W);return X(ee,te)}h.infiniteLine=S;function E(j,q,W=1e8){const Q=vec2.normalize(vec2.sub(q,j)),ee=vec2.scaleAndAdd(j,Q,W);return X(j,ee)}h.halfLine=E;function I(j,q,W,{preferredSweep:Q=!0}={}){if(q&&W&&vec2.approx(q,W)&&(W=void 0),W&&vec2.approx(W,j)&&(W=void 0),q&&vec2.approx(j,q)&&(q=W,W=void 0),q||(q=j),!W){const he=vec2.distance(j,q)/2,se=[he,he];return{curves:[{vertices:[{point:j,command:"A",args:[se,0,!1,Q]},{point:q,command:"A",args:[se,0,!1,Q]}],closed:!0}]}}const ee=Circle.circumcircle(j,q,W);if(!ee)throw new Error("Circumcircle is not defined");const{radius:te}=ee,oe=[te,te],ne=vec2.angle(vec2.sub(q,j),vec2.sub(W,j))>0;return{curves:[{vertices:[{point:j,command:"A",args:[oe,0,!1,ne]},{point:q,command:"A",args:[oe,0,!1,ne]},{point:W,command:"A",args:[oe,0,!1,ne]}],closed:!0}]}}h.circleFromPoints=I;function L(j,q){const[W,Q]=j,[ee]=q;return{curves:[{vertices:[{point:[W+ee,Q],command:"A",args:[q,0,!1,!0]},{point:[W-ee,Q],command:"A",args:[q,0,!1,!0]}],closed:!0}]}}h.ellipse=L;function O(j,q,W,Q,ee={}){let oe=ee.step??359.9999;oe=scalar.clamp(Math.abs(oe),.1,359.9999);const ne=[q,q],he=Q>W,se=Iter.resample(W,Q,{align:"uniform",step:oe,...ee}),le=[{command:"L",point:vec2.dir(W,q,j)}];for(const[re,ge]of Iter.tuple(se)){const ye=Math.abs(ge-re)>180;le.push({point:vec2.dir(ge,q,j),command:"A",args:[ne,0,ye,he]})}return{curves:[{vertices:le,closed:!1}]}}h.arc=O;function F(j,q,W){const Q=Circle.circumcircle(j,q,W);if(!Q){const Ce=vec2.sub(q,j),_e=vec2.sub(q,W);if(vec2.dot(Ce,_e)<=0)return X(j,W);if(vec2.len(Ce)<vec2.len(_e)){const Ie=vec2.add(W,vec2.sub(j,q));return h.merge([E(j,q),E(W,Ie)])}else{const Ie=vec2.add(j,vec2.sub(W,q));return h.merge([E(j,Ie),E(W,q)])}}const{center:ee,radius:te}=Q,oe=vec2.sub(j,ee),ne=vec2.sub(q,ee),he=vec2.sub(W,ee),se=vec2.angle(oe,he),le=vec2.angle(oe,ne),re=vec2.angle(he,ne);let ge,ye;return se<0?le<0&&re>0?(ge=!1,ye=!1):(ge=!0,ye=!0):le>0&&re<0?(ge=!1,ye=!0):(ge=!0,ye=!1),h.fromSegment({start:j,command:"A",args:[[te,te],0,ge,ye],point:W})}h.arcByPoints=F;function z(j,q,W){const Q=vec2.sub(W,j),ee=vec2.angle(q,Q)/2;if(scalar.approx(ee,0))return X(j,W);const te=scalar.cos(ee),oe=vec2.len(Q),ne=vec2.normalize(Q),he=oe/2/te,se=vec2.normalize(vec2.add(q,ne)),le=vec2.scaleAndAdd(j,se,he);return F(j,le,W)}h.arcByPointsTangent=z;function N(j,q,W){if(scalar.approx(W,0))return X(j,q);if(Math.abs(W)>=360){const Ce=vec2.sub(q,j);return h.merge([E(j,vec2.sub(j,Ce)),E(q,vec2.add(q,Ce))])}if(W===180)return w(j,q,!1);if(W===-180)return w(q,j,!1);const Q=Math.sign(W);W=Math.abs(W);const ee=vec2.sub(q,j),te=90-W/2,ne=vec2.len(ee)/(2*scalar.cos(te)),he=vec2.scaleAndAdd(j,vec2.rotate(vec2.normalize(ee),te*Q),ne),se=vec2.sub(j,he),le=vec2.sub(q,he),re=vec2.angle(se);let ge=vec2.angle(se,le);te<0&&(ge+=360*Q);const ye=re+ge;return O(he,ne,re,ye)}h.arcByPointsAngle=N;function H(j,q,W,Q,ee){const te=O(j,W,Q,ee),oe=O(j,q,ee,Q);return $(Ct([te,oe]))}h.fan=H;function X(j,q){return{curves:[{vertices:[{point:j,command:"L"},{point:q,command:"L"}],closed:!1}]}}h.line=X;function J(j){return{curves:[{vertices:[{point:j,command:"L"}],closed:!0}]}}h.dot=J;function ae(...j){return{curves:[{vertices:j.map(q=>({point:q,command:"L"})),closed:!1}]}}h.polyline=ae;function ve(...j){return{curves:[{vertices:j.map(q=>({point:q,command:"L"})),closed:!0}]}}h.polygon=ve;function pe(j,q,W){const Q=360/W,ee=[];for(let te=0;te<W;te++){const oe=vec2.add(j,vec2.rotate([q,0],Q*te));ee.push(oe)}return ve(...ee)}h.regularPolygon=pe,h.ngon=pe;function de(j,q){const[W,Q]=q,[ee,te]=j,oe=[];for(let ne=0;ne<=W;ne++){const he=scalar.lerp(ee[0],te[0],ne/W);oe.push({vertices:[{command:"L",point:[he,ee[1]]},{command:"L",point:[he,te[1]]}],closed:!1})}for(let ne=0;ne<=Q;ne++){const he=scalar.lerp(ee[1],te[1],ne/Q);oe.push({vertices:[{command:"L",point:[ee[0],he]},{command:"L",point:[te[0],he]}],closed:!1})}return{curves:oe}}h.grid=de;function ce(j,q,W,Q){return{curves:[{vertices:[{point:j,command:"L"},{point:Q,command:"C",args:[q,W]}],closed:!1}]}}h.cubicBezier=ce;function V(j,q,W){const Q=vec2.lerp(j,q,.6666666666666666),ee=vec2.lerp(W,q,2/3);return ce(j,Q,ee,W)}h.quadraticBezier=V;function ie(j){if(j.length===0)return h.empty;if(j.length===1)return J(j[0]);if(j.length===2)return X(j[0],j[1]);if(j.length===3)return V(j[0],j[1],j[2]);if(j.length===4)return ce(j[0],j[1],j[2],j[3]);const q=[],W=j.length-1,Q=Array(W+1).fill(0).map((te,oe)=>ee(W,oe));for(const te of Iter.resample(0,1,{count:W*10})){let oe=vec2.zero;for(const[ne,he]of j.entries()){const se=Q[ne]*Math.pow(1-te,W-ne)*Math.pow(te,ne);oe=vec2.scaleAndAdd(oe,he,se)}q.push(oe)}return ae(...q);function ee(te,oe){let ne=1;for(let he=1;he<=oe;he++)ne*=(te-he+1)/he;return ne}}h.nBezier=ie;function ke(j){return{curves:[{vertices:[{point:j.start,command:"L"},{point:j.point,command:j.command,args:j.args}],closed:!1}]}}h.fromSegment=ke;function be(j,q,{delta:W=1e-5}={}){const Q=Array.isArray(q)?q:[...q],ee=Q.map(j),te=[{point:ee[0],command:"L"}];for(const[oe,[ne,he]]of Iter.enumerate(Iter.tuple(Q))){const se=ee[oe],le=ee[oe+1],re=(he-ne)/W/3,ge=vec2.scaleAndAdd(se,vec2.sub(j(ne+W),se),re),ye=vec2.scaleAndAdd(le,vec2.sub(j(he-W),le),re);te.push({point:le,command:"C",args:[ge,ye]})}return{curves:[{vertices:te,closed:!1}]}}h.formula=be,h.length=memoize(j=>{let q=0;for(const W of h.segments(j))W.command==="L"?q+=vec2.distance(W.start,W.point):W.command==="C"?q+=CubicBezier.length(W):q+=Arc.length(W);return q}),h.bounds=memoize(j=>Rect.unite(...j.curves.map(Curve.bounds))),h.area=memoize(j=>h.toPaperPath(j).area),h.segmentCount=memoize(j=>j.curves.reduce((q,W)=>q+Curve.segmentCount(W),0));function Ae(j,q,W){if(typeof W=="number"){const Q=j.curves.at(q);if(!Q)throw new Error(`Curve index out of range: ${q}`);const ee=Curve.segments(Q).at(W);if(!ee)throw new Error(`Segment index out of range: curve[${q}] segment[${W}]`);return ee}else{W=q;for(const Q of j.curves){const ee=Curve.segmentCount(Q);if(W<ee)return Curve.segments(Q)[W];W-=ee}throw new Error(`Linear segment index out of range: ${W}`)}}h.segment=Ae;function ue(j,q){typeof q=="number"&&(q={unit:q});const W=h.segmentCount(j);let Q=q.curveIndex??null,ee=q.segmentIndex??null;if(Q!==null&&ee!==null){Q=normalizeIndex(Q,j.curves.length);const oe=Curve.segmentCount(j.curves[Q]);ee=normalizeIndex(ee,oe);const ne=h.segment(j,Q,ee);return{segment:ne,time:Segment.toTime(ne,q),curveIndex:Q,segmentIndex:ee}}if(Q!==null&&ee===null){Q=normalizeOffset(Q,j.curves.length);const oe=j.curves[Q];return{curveIndex:Q,...Curve.toTime(oe,q)}}const te=h.segments(j);if(Q===null&&ee!==null){ee=normalizeIndex(ee,W);const oe=te[ee];return{segment:oe,time:Segment.toTime(oe,q),...xe(j,ee)}}else if(Q===null&&ee===null)if("time"in q){const oe=normalizeOffset(q.time,1)*W,ne=scalar.clamp(Math.floor(oe),0,W-1),he=te[ne],se=oe-ne,{curveIndex:le,segmentIndex:re}=xe(j,ne);return{segment:he,time:se,curveIndex:le,segmentIndex:re}}else{const oe=h.length(j);let ne=normalizeOffset("unit"in q?q.unit*oe:q.offset,oe);if(ne<oe)for(const[he,se]of j.curves.entries()){const le=Curve.length(se);if(ne<le)return{...Curve.toTime(se,{offset:ne}),curveIndex:he};ne-=le}else{const he=te.at(-1);if(he)return{segment:he,time:1,curveIndex:j.curves.length-1,segmentIndex:te.length-1}}}throw new Error("Location is out of bounds. Its likely a bug in the library.")}h.toTime=ue;function xe(j,q){let W=q,Q=0;W<0&&(W=h.segmentCount(j)+W);for(const ee of j.curves){const te=Curve.segmentCount(ee);if(W<te)break;Q++,W-=te}return{curveIndex:Q,segmentIndex:W}}h.unlinearSegmentIndex=xe;function Me(j,q){const W=ue(j,q);return Segment.point(W.segment,W)}h.point=Me;function Ge(j,q){const W=ue(j,q);return Segment.derivative(W.segment,W)}h.derivative=Ge;function lt(j,q){const W=ue(j,q);return Segment.tangent(W.segment,W)}h.tangent=lt;function Le(j,q){const W=ue(j,q);return Segment.normal(W.segment,W)}h.normal=Le;function Je(j,q){const W=ue(j,q);return Segment.orientation(W.segment,W)}h.orientation=Je;function gt(j,q){return{curves:j.curves.map(W=>{const Q=[];if(!W.closed&&W.vertices.length>1){const ee={command:W.vertices[0].command,start:W.vertices.at(-1).point,point:W.vertices[0].point,args:W.vertices[0].args},te=q(ee,-1,W);Array.isArray(te)?Q.push(...te.slice(-1)):Q.push(te)}return Q.push(...Curve.segments(W).flatMap((ee,te)=>q(ee,te,W))),W.closed&&Q.length>=1&&Q.unshift(Q.pop()),{vertices:Q,closed:W.closed}})}}h.spawnVertex=gt;function ct(j,q){return{curves:j.curves.flatMap(q)}}h.spawnCurve=ct;function Ot(j,q,{join:W=!0}={}){const Q={curves:[]};for(const ee of j.curves){const te=[];for(const[oe,ne]of Curve.segments(ee).entries()){const he=q(ne,oe,ee);if(!W){te.push(...he.curves);continue}const se=te.at(-1),le=he.curves.at(0);if(se&&le&&!se.closed&&!le.closed){const re=se.vertices.at(-1),ge=le.vertices.at(0);re&&ge&&vec2.approx(re.point,ge.point)&&(se.vertices.push(...le.vertices.slice(1)),he.curves.shift())}te.push(...he.curves)}if(ee.closed){const oe=te.at(0),ne=te.at(-1);if(oe&&ne&&!oe.closed&&!ne.closed){const he=oe.vertices.at(0),se=ne.vertices.at(-1);he&&se&&vec2.approx(he.point,se.point)&&(oe===ne?te[0]=Curve.close(oe):(ne.vertices.push(...oe.vertices.slice(1)),te.shift()))}}Q.curves.push(...te)}return Q}h.spawn=Ot;function ur(j,q){return gt(j,W=>{const{command:Q,args:ee}=W,te=vec2.transformMat2d(W.point,q);if(Q==="L")return[{point:te,command:"L"}];if(Q==="C"){const oe=vec2.transformMat2d(ee[0],q),ne=vec2.transformMat2d(ee[1],q);return[{point:te,command:"C",args:[oe,ne]}]}else{const oe=Arc.transform(W,q);return[{point:te,command:"A",args:oe.args}]}})}h.transform=ur;function rr(j,{per:q="path"}={}){return{curves:(q==="path"?j.curves.slice().reverse():j.curves).flatMap(Curve.reverse)}}h.reverse=rr;function Yt(j,q,W,Q=!0){let ee=ue(j,q),te=ue(j,W);if(ee.curveIndex===te.curveIndex){const oe=j.curves[ee.curveIndex];if(Q&&ee.time>te.time){const ne=Curve.trim(oe,ee,1),he=Curve.trim(oe,0,te);return oe.closed?{curves:[{vertices:[...ne.vertices,...he.vertices.slice(1)],closed:!1}]}:{curves:[ne,he]}}else return{curves:[Curve.trim(oe,ee,te)]}}else if(ee.curveIndex!==te.curveIndex){const oe=ee.curveIndex>te.curveIndex;oe&&([ee,te]=[te,ee]);const ne={curves:[Curve.trim(j.curves[ee.curveIndex],ee,1),...j.curves.slice(ee.curveIndex+1,te.curveIndex),Curve.trim(j.curves[te.curveIndex],0,te)]};return oe?rr(ne):ne}throw new Error("Not implemented")}h.trim=Yt;function Er(j,q=90){return gt(j,W=>W.command==="A"?Arc.approximateByCubicBeziers(W,q):[W])}h.unarc=Er;function Oe(j,q=90){return gt(j,W=>{if(W.command==="C")return[{point:W.point,command:"C",args:W.args}];if(W.command==="A")return Arc.approximateByCubicBeziers(W,q);{const Q=vec2.lerp(W.start,W.point,.3333333333333333),ee=vec2.lerp(W.start,W.point,2/3);return[{point:W.point,command:"C",args:[Q,ee]}]}})}h.toCubicBezier=Oe,h.toC=Oe;function dt(j,q,W){const Q=h.toPaperPath(j),ee={cap:W==null?void 0:W.cap,join:W==null?void 0:W.join,limit:W==null?void 0:W.miterLimit};return h.fromPaperPath(PaperOffset.offset(Q,q,ee))}h.offset=dt;function He(j,q,W){const Q=h.toPaperPath(j),ee={join:W==null?void 0:W.join,cap:W==null?void 0:W.lineCap,limit:W==null?void 0:W.miterLimit};return h.fromPaperPath(PaperOffset.offsetStroke(Q,q/2,ee))}h.offsetStroke=He;function Ct(j){return{curves:[{vertices:j.flatMap(q=>q.curves.flatMap(W=>W.vertices)),closed:!1}]}}h.join=Ct;function Ut(j){return{curves:j.flatMap(q=>"curves"in q?q.curves:[q])}}h.merge=Ut;function pr(j,q=.25){const W=h.toPaperPath(j).clone();return W.flatten(q),h.fromPaperPath(W)}h.flatten=pr;function Pr(j,q){if(q=Math.floor(q),q<=1)return j;const W=Array(q-1).fill(0).map((Q,ee)=>(ee+1)/q);return gt(j,Q=>Segment.divideAtTimes(Q,W))}h.subdivide=Pr,h.subdiv=Pr;function tn(j,q){return[...Iter.tuple(q)].map(([W,Q])=>Yt(j,W,Q))}h.split=tn;function un(j,q,{unarcAngle:W=5,subdivide:Q=1}={}){return gt(Oe(h.subdivide(j,Q),W),ee=>{let[te,oe]=ee.args;const ne=q(ee.start),he=q(ee.point);return te=vec2.transformMat2d(vec2.sub(te,ee.start),ne),oe=vec2.transformMat2d(vec2.sub(oe,ee.point),he),[{point:[he[4],he[5]],command:"C",args:[te,oe]}]})}h.distort=un;function pn(j,q){return gt(j,(W,Q,ee)=>{const te=Curve.nextSegment(ee,Q);if(!te||Q===-1)return W;const oe=Segment.point(te,{offset:q});return[Segment.trim(W,0,{offset:-q}),{command:"L",point:oe}]})}h.chamfer=pn;function kn(j,q){return gt(j,(W,Q,ee)=>{const te=Curve.nextSegment(ee,Q);if(!te||Q===-1)return W;const oe=Math.abs(vec2.angle(Segment.tangent(W,1),Segment.tangent(te,0))),ne=q*scalar.tan(oe/2),he=Segment.point(W,{offset:-ne}),se=Segment.point(te,{offset:ne}),le=Segment.tangent(W,{offset:-ne}),re=Segment.tangent(te,{offset:ne}),ge=4/3*scalar.tan(oe/4)*q,ye=vec2.scaleAndAdd(he,le,ge),Ce=vec2.scaleAndAdd(se,re,-ge);return[Segment.trim(W,0,{offset:-ne}),{command:"C",args:[ye,Ce],point:se}]})}h.fillet=kn;function Bn(j){const q=j.map(h.toPaperPath).reduce((W,Q)=>W.unite(Q,{insert:!1}),new paper.CompoundPath({}));return h.fromPaperPath(q)}h.unite=Bn;function ai(j,q){const W=h.toPaperPath(j),ee=q.map(h.toPaperPath).reduce((te,oe)=>te.subtract(oe,{insert:!1}),W);return h.fromPaperPath(ee)}h.subtract=ai;function vn(j){const q=new K;return svgpath$1(j).unshort().abs().iterate(W=>{switch(W[0]){case"M":q.M([W[1],W[2]]);break;case"L":q.L([W[1],W[2]]);break;case"C":q.C([W[1],W[2]],[W[3],W[4]],[W[5],W[6]]);break;case"Q":q.Q([W[1],W[2]],[W[3],W[4]]);break;case"A":{const[,Q,ee,te,oe,ne,he,se]=W;q.A([Q,ee],te,!!oe,!!ne,[he,se]);break}case"Z":q.Z();break;default:throw new Error(`Unexpected command: ${W[0]}`)}}),q.get()}h.fromSVGString=vn,h.fromD=vn;function oi(j){return j.curves.flatMap(ee=>{const te=ee.vertices.map(({point:oe,command:ne,args:he},se)=>{if(se===0)return`M ${q(oe)}`;if(ne==="L")return`L ${q(oe)}`;if(ne==="C")return W(oe,he);if(ne==="A")return Q(oe,he)});if(ee.closed){const oe=ee.vertices.at(0);oe&&oe.command!=="L"&&(oe.command==="C"?te.push(W(oe.point,oe.args)):oe.command==="A"&&te.push(Q(oe.point,oe.args))),te.push("Z")}return te}).join(" ");function q(ee){return`${ee[0]},${ee[1]}`}function W(ee,te){const oe=q(te[0]),ne=q(te[1]),he=q(ee);return`C ${oe} ${ne} ${he}`}function Q(ee,te){const oe=q(te[0]),ne=toFixedSimple(te[1]),he=te[2]?"1":"0",se=te[3]?"1":"0",le=q(ee);return`A ${oe} ${ne} ${he} ${se} ${le}`}}h.toSVGString=oi,h.toD=oi,h.segments=memoize(j=>j.curves.flatMap(Curve.segments));function Hn(j){const q=[];let W,Q,ee,te;for(let ne=0;ne<j.length;ne++){let he=j[ne];if(typeof he!="string")throw new Error("Invalid command");const se=he.toLowerCase()===he;if(he=he.toUpperCase(),he==="M"){te&&q.push(te);let le=j[++ne];if(!oe(le))throw new Error("Invalid command M");if(se){if(!Q)throw new Error("Relative command is used without a previous point");le=vec2.add(Q,le)}te={vertices:[{point:le,command:"L"}],closed:!1},W=Q=le;continue}if(!te)throw new Error("The path is not started");if(he==="L"){let le=j[++ne];if(!oe(le))throw new Error("Invalid command L");if(se){if(!Q)throw new Error("Relative command is used without a previous point");le=vec2.add(Q,le)}te.vertices.push({point:le,command:"L"}),Q=le,ee=void 0}else if(he==="H"){const le=j[++ne];if(typeof le!="number"||!Q)throw new Error("Invalid command H");let re=[le,Q[1]];if(se){if(!Q)throw new Error("Relative command is used without a previous point");re=[re[0]+Q[0],re[1]]}te.vertices.push({point:re,command:"L"}),Q=re,ee=void 0}else if(he==="V"){const le=j[++ne];if(typeof le!="number"||!Q)throw new Error("Invalid command V");let re=[Q[0],le];if(se){if(!Q)throw new Error("Relative command is used without a previous point");re=[re[0],re[1]+Q[1]]}te.vertices.push({point:re,command:"L"}),Q=re,ee=void 0}else if(he==="Q"){let le=j[++ne],re=j[++ne];if(!oe(le)||!oe(re)||!Q)throw new Error("Invalid command Q");if(se){if(!Q)throw new Error("Relative command is used without a previous point");le=vec2.add(Q,le),re=vec2.add(Q,re)}const{command:ge,args:ye}=CubicBezier.fromQuadraticBezier(Q,le,re);te.vertices.push({point:re,command:ge,args:ye}),Q=re,ee=void 0}else if(he==="T"){let le=j[++ne];if(!oe(le)||!Q||!ee)throw new Error("Invalid command T");if(se){if(!Q)throw new Error("Relative command is used without a previous point");le=vec2.add(Q,le)}const re=vec2.sub(Q,ee),{command:ge,args:ye}=CubicBezier.fromQuadraticBezier(Q,re,le);te.vertices.push({point:le,command:ge,args:ye}),Q=le,ee=re}else if(he==="C"){let le=j[++ne],re=j[++ne],ge=j[++ne];if(!oe(le)||!oe(re)||!oe(ge))throw new Error("Invalid command C");if(se){if(!Q)throw new Error("Relative command is used without a previous point");le=vec2.add(Q,le),re=vec2.add(Q,re),ge=vec2.add(Q,ge)}te.vertices.push({point:ge,command:"C",args:[le,re]}),Q=ge,ee=re}else if(he==="S"){let le=j[++ne],re=j[++ne];if(!oe(le)||!oe(re)||!Q||!ee)throw new Error("Invalid command S");if(se){if(!Q)throw new Error("Relative command is used without a previous point");le=vec2.add(Q,le),re=vec2.add(Q,re)}const ge=vec2.sub(Q,ee);te.vertices.push({point:re,command:"C",args:[ge,le]}),Q=re,ee=le}else if(he==="A"){const le=j[++ne],re=j[++ne],ge=j[++ne],ye=j[++ne];let Ce=j[++ne];if(!oe(le)||typeof re!="number"||!oe(Ce))throw new Error("Invalid command A");if(se){if(!Q)throw new Error("Relative command is used without a previous point");Ce=vec2.add(Q,Ce)}te.vertices.push({point:Ce,command:"A",args:[le,re,!!ge,!!ye]}),Q=Ce,ee=void 0}else he==="Z"&&(W&&Q&&vec2.approx(W,Q)&&(te.vertices[0]=te.vertices.at(-1),te.vertices.pop()),q.push({...te,closed:!0}),te=void 0)}return te&&q.push(te),{curves:q};function oe(ne){return Array.isArray(ne)}}h.fromSVG=Hn,h.toPath2D=memoize(j=>{const q=new Path2D;return drawToRenderingContext(j,q),q});function ln(j,q){q.beginPath(),drawToRenderingContext(j,q)}h.drawToCanvas=ln;function In(j,q=window){const W=Er(j),Q=q;for(const{vertices:ee,closed:te}of W.curves){Q.beginShape();const oe=ee.at(0);oe&&Q.vertex(...oe.point);for(const{point:ne,command:he,args:se}of ee.slice(1))he==="L"?Q.vertex(...ne):he==="C"&&Q.bezierVertex(...se[0],...se[1],...ne);if(te){if(oe){const{point:ne,command:he,args:se}=oe;he==="L"?Q.vertex(...ne):he==="C"&&Q.bezierVertex(...se[0],...se[1],...ne)}Q.endShape(Q.CLOSE)}else Q.endShape()}}h.drawToP5=In,h.toPaperPath=memoize(j=>{const q=j.curves.map(({vertices:Q,closed:ee})=>{const te=new paper.Path;let oe;const ne=Q.at(0);ne&&(te.moveTo(W(ne.point)),oe=ne.point,Q=Q.slice(1),ee&&Q.push(ne));for(const{point:he,command:se,args:le}of Q){if(se==="L")te.lineTo(W(he));else if(se==="C")te.cubicCurveTo(W(le[0]),W(le[1]),W(he));else{const re=Arc.approximateByCubicBeziers({start:oe,point:he,args:le},90);for(const{point:ge,args:ye}of re)te.cubicCurveTo(W(ye[0]),W(ye[1]),W(ge))}oe=he}return ee&&te.closePath(),te});return setTimeout(()=>paper.project.clear(),0),q.length>1?new paper.CompoundPath({children:q}):q[0];function W(Q){return{x:Q[0],y:Q[1]}}}),h.fromPaperPath=memoize(j=>({curves:(j instanceof paper.CompoundPath?j.children:[j]).map(({curves:Q,closed:ee})=>{const te=Q.map(oe=>{const{point1:ne,point2:he,handle1:se,handle2:le}=oe;return oe.isStraight()?{point:paperPointToVec2(he),command:"L"}:{point:paperPointToVec2(he),command:"C",args:[paperPointToVec2(ne.add(se)),paperPointToVec2(he.add(le))]}});if(ee){const oe=te.at(-1);te.pop(),te.unshift(oe)}else te.unshift({point:paperPointToVec2(Q[0].point1),command:"L"});return{vertices:te,closed:ee}})}));function Ee(j,q){return{curves:[...j.curves,{vertices:[{point:q,command:"L"}],closed:!1}]}}h.moveTo=Ee;function Xe(j,q){const W=j.curves.at(-1);return W?{curves:[...j.curves.slice(0,-1),{vertices:[...W.vertices,q],closed:W.closed}]}:{curves:[{vertices:[q],closed:!1}]}}h.addVertex=Xe;function ut(j,q){return Xe(j,{point:q,command:"L"})}h.lineTo=ut;function k(j,q,W,Q){return Xe(j,{point:Q,command:"C",args:[q,W]})}h.cubicBezierTo=k;function M(j,q,W){var oe,ne;const Q=(ne=(oe=j.curves.at(-1))==null?void 0:oe.vertices.at(-1))==null?void 0:ne.point;if(!Q)throw new Error("The path is empty");const ee=vec2.lerp(Q,q,2/3),te=vec2.lerp(W,q,2/3);return Xe(j,{point:W,command:"C",args:[ee,te]})}h.quadraticBezierTo=M;function T(j,q,W,Q,ee,te){return Xe(j,{command:"A",args:[q,W,Q,ee],point:te})}h.arcTo=T;function $(j,{fuse:q=!0,group:W=-1}={}){const Q=CurveGroup.getMatcher(W,j);return{curves:j.curves.map((ee,te)=>Q(ee,te)?Curve.close(ee,q):ee)}}h.close=$;function R(j,q={}){let W=j.curves.map(Q=>Curve.reduce(Q,q));return(q.removeEmptyCurves??!0)&&(W=W.filter(Q=>!Curve.isZero(Q))),{curves:W}}h.reduce=R;function G(){return new K}h.pen=G;class K{constructor(){wn(this,Y,[]);ma(this,"current")}moveTo(q){return this.current={curve:{vertices:[{point:q,command:"L"}],closed:!1},point:q},wr(this,Y).push(this.current.curve),this}M(q){return this.moveTo(q)}moveBy(q){if(!this.current)throw new Error("The pen is not moved yet");const W=vec2.add(this.current.point,q);return this.moveTo(W),this}m(q){return this.moveBy(q)}lineTo(q){if(!this.current)throw new Error("The pen is not moved yet");return this.current.point=q,this.current.curve.vertices.push({command:"L",point:q}),this}L(q){return this.lineTo(q)}lineBy(q){if(!this.current)throw new Error("The pen is not moved yet");const W=vec2.add(this.current.point,q);return this.lineTo(W),this}l(q){return this.lineBy(q)}horizTo(q){if(!this.current)throw new Error("The pen is not moved yet");const W=[q,this.current.point[1]];return this.lineTo(W),this}H(q){return this.horizTo(q)}horizBy(q){if(!this.current)throw new Error("The pen is not moved yet");const W=[this.current.point[0]+q,this.current.point[1]];return this.lineTo(W),this}h(q){return this.horizBy(q)}vertTo(q){if(!this.current)throw new Error("The pen is not moved yet");const W=[this.current.point[0],q];return this.lineTo(W),this}V(q){return this.vertTo(q)}vertBy(q){if(!this.current)throw new Error("The pen is not moved yet");const W=[this.current.point[0],this.current.point[1]+q];return this.lineTo(W),this}v(q){return this.vertBy(q)}quadraticCurveTo(q,W){if(!this.current)throw new Error("The pen is not moved yet");const{point:Q}=this.current,ee=vec2.lerp(Q,q,2/3),te=vec2.lerp(W,q,2/3);return this.current.point=W,this.current.lastHandle=q,this.current.curve.vertices.push({command:"C",point:W,args:[ee,te]}),this}Q(q,W){return this.quadraticCurveTo(q,W)}quadraticCurveBy(q,W){if(!this.current)throw new Error("The pen is not moved yet");const Q=vec2.add(this.current.point,q),ee=vec2.add(Q,W);return this.quadraticCurveTo(Q,ee),this}q(q,W){return this.quadraticCurveBy(q,W)}smoothQuadraticCurveTo(q){if(!this.current)throw new Error("The pen is not moved yet");const W=this.current.lastHandle?vec2.sub(this.current.point,this.current.lastHandle):this.current.point;return this.quadraticCurveTo(W,q),this}T(q){return this.smoothQuadraticCurveTo(q)}smoothQuadraticCurveBy(q){if(!this.current)throw new Error("The pen is not moved yet");const W=this.current.lastHandle?vec2.sub(this.current.point,this.current.lastHandle):this.current.point,Q=vec2.add(this.current.point,q);return this.quadraticCurveTo(W,Q),this}t(q){return this.smoothQuadraticCurveBy(q)}cubicBezierTo(q,W,Q){if(!this.current)throw new Error("The pen is not moved yet");return this.current.point=Q,this.current.lastHandle=W,this.current.curve.vertices.push({command:"C",point:Q,args:[q,W]}),this}C(q,W,Q){return this.cubicBezierTo(q,W,Q)}cubicBezierBy(q,W,Q){if(!this.current)throw new Error("The pen is not moved yet");const ee=vec2.add(this.current.point,q),te=vec2.add(ee,W),oe=vec2.add(te,Q);return this.cubicBezierTo(ee,te,oe),this}c(q,W,Q){return this.cubicBezierBy(q,W,Q)}smoothCubicBezierTo(q,W){if(!this.current)throw new Error("The pen is not moved yet");const Q=this.current.lastHandle?vec2.sub(this.current.point,this.current.lastHandle):this.current.point;return this.cubicBezierTo(Q,q,W),this}S(q,W){return this.smoothCubicBezierTo(q,W)}smoothCubicBezierBy(q,W){if(!this.current)throw new Error("The pen is not moved yet");const Q=this.current.lastHandle?vec2.sub(this.current.point,this.current.lastHandle):this.current.point,ee=vec2.add(Q,q),te=vec2.add(ee,W);return this.cubicBezierTo(Q,ee,te),this}s(q,W){return this.smoothCubicBezierBy(q,W)}arcTo(q,W,Q,ee,te){if(!this.current)throw new Error("The pen is not moved yet");return this.current.point=te,this.current.curve.vertices.push({command:"A",args:[q,W,Q,ee],point:te}),this}A(q,W,Q,ee,te){return this.arcTo(q,W,Q,ee,te)}arcBy(q,W,Q,ee,te){if(!this.current)throw new Error("The pen is not moved yet");const oe=vec2.add(q,te);return this.arcTo(q,W,Q,ee,oe),this}a(q,W,Q,ee,te){return this.arcBy(q,W,Q,ee,te)}close(q=!0){if(!this.current)throw new Error("The pen is not moved yet");const{curve:W}=this.current;if(q){const Q=W.vertices.at(0),ee=W.vertices.at(-1);Q&&ee&&vec2.approx(Q.point,ee.point)&&(W.vertices[0]=ee,W.vertices.pop())}return W.closed=!0,this.current=void 0,this}Z(q=!0){return this.close(q)}get(){return this.current?{curves:[...wr(this,Y).slice(0,-1),{vertices:[...this.current.curve.vertices],closed:this.current.curve.closed}]}:{curves:[...wr(this,Y)]}}}Y=new WeakMap,h.Pen=K})(Path||(Path={}));function paperPointToVec2(h){return[h.x,h.y]}function drawToRenderingContext(h,v){var _;for(const{vertices:x,closed:w}of h.curves)if(x.forEach(({point:S,command:E,args:I},L)=>{var O;if(L===0){v.moveTo(...S);return}if(E==="L")v.lineTo(...S);else if(E==="C")v.bezierCurveTo(...I[0],...I[1],...S);else if(E==="A"){const F=(O=x.at(L-1))==null?void 0:O.point;if(!F)throw new Error("The start point is not found");y(v,F,S,I)}}),w){const S=x.at(0);if(S){const{point:E,command:I,args:L}=S;if(I==="C")v.bezierCurveTo(...L[0],...L[1],...E);else if(I==="A"){const O=(_=x.at(-1))==null?void 0:_.point;if(!O)throw new Error("The previous point is not found");y(v,O,E,L)}I==="L"&&x.length===1&&v.quadraticCurveTo(...E,...E)}v.closePath()}function y(x,w,S,E){const I=Arc.toCenterParameterization({start:w,point:S,command:"A",args:E});x.ellipse(...I.center,...I.radii,scalar.rad(I.xAxisRotation),scalar.rad(I.angles[0]),scalar.rad(I.angles[1]),!I.sweep)}}var Arc;(function(h){h.toCenterParameterization=memoize(N=>{const{start:H,point:X,args:[J,ae,ve,pe]}=N;if(scalar.approx(J[0],0)||scalar.approx(J[1],0)){const ur=vec2.sub(H,X),rr=vec2.angle(ur),Yt=vec2.len(ur)/2;return{center:vec2.lerp(H,X,.5),radii:[Yt,0],angles:[0,180],xAxisRotation:rr,sweep:!0}}const[de,ce]=vec2.rotate(vec2.scale(vec2.sub(H,X),.5),-ae),[V,ie]=Ot(J,[de,ce]),ke=V**2,be=ie**2,Ae=ke*be-ke*ce**2-be*de**2,ue=ke*ce**2+be*de**2,xe=ve!==pe?1:-1,Me=vec2.scale([V*ce/ie,-ie*de/V],xe*Math.sqrt(Math.abs(Ae/ue))),Ge=vec2.add(vec2.rotate(Me,-ae),vec2.lerp(H,X,.5)),lt=vec2.div(vec2.sub([de,ce],Me),[V,ie]),Le=vec2.div(vec2.sub(vec2.zero,[de,ce],Me),[V,ie]),Je=vec2.angle(lt);let gt=vec2.angle(lt,Le)%360;!pe&&gt>0?gt=gt-360:pe&&gt<0&&(gt=gt+360);const ct=Je+gt;return{center:Ge,radii:[V,ie],angles:[Je,ct],xAxisRotation:ae,sweep:gt>0};function Ot(ur,rr){const[Yt,Er]=ur,[Oe,dt]=rr,He=Math.abs(Yt),Ct=Math.abs(Er),Ut=Oe**2/He**2+dt**2/Ct**2,pr=Ut>1?Math.sqrt(Ut)*He:He,Pr=Ut>1?Math.sqrt(Ut)*Ct:Ct;return[pr,Pr]}});function v(N,H){H=H===0?90:Math.abs(H);const{center:X,radii:J,angles:ae,xAxisRotation:ve,sweep:pe}=h.toCenterParameterization(N),[de,ce]=ae,V=Math.ceil(Math.abs(ce-de)/H),ie=Math.sign(ce-de),ke=(ce-de)/V,be=mat2d.trs(X,ve,J),Ae=[];for(let ue=0;ue<V;ue++){const xe=de+ue*ke,Me=de+(ue+1)*ke,Ge=vec2.direction(xe),lt=vec2.direction(Me),Le=4/3*scalar.tan((Me-xe)/4),Je=vec2.scaleAndAdd(Ge,vec2.direction(xe+90*ie),Le*(pe?1:-1)),gt=vec2.scaleAndAdd(lt,vec2.direction(Me-90*ie),Le*(pe?1:-1)),ct={point:vec2.transformMat2d(lt,be),command:"C",args:[vec2.transformMat2d(Je,be),vec2.transformMat2d(gt,be)]};Ae.push(ct)}return Ae}h.approximateByCubicBeziers=v,h.bounds=memoize(N=>{const{start:H,point:X}=N,{center:J,radii:ae,angles:ve,xAxisRotation:pe}=h.toCenterParameterization(N),de=ae[1]/ae[0],ce=-scalar.atan(de*scalar.sin(pe),scalar.cos(pe)),V=normalizeAngle(ce+180),ie=-scalar.atan(-de*scalar.cos(pe),scalar.sin(pe)),ke=normalizeAngle(ie+180),be=mat2d.scale(mat2d.rotate(mat2d.fromTranslation(J),pe),ae);let Ae=Math.max(H[0],X[0]),ue=Math.min(H[0],X[0]),xe=Math.max(H[1],X[1]),Me=Math.min(H[1],X[1]);return crossAtAngle(ce,ve)&&(Ae=vec2.transformMat2d(vec2.direction(ce),be)[0]),crossAtAngle(V,ve)&&(ue=vec2.transformMat2d(vec2.direction(V),be)[0]),crossAtAngle(ie,ve)&&(xe=vec2.transformMat2d(vec2.direction(ie),be)[1]),crossAtAngle(ke,ve)&&(Me=vec2.transformMat2d(vec2.direction(ke),be)[1]),[[ue,Me],[Ae,xe]]});function y(N,H){let[[X,J],ae,ve,pe]=N.args;const de=scalar.sin(ae),ce=scalar.cos(ae),V=H,ie=[V[0]*+X*ce+V[2]*X*de,V[1]*+X*ce+V[3]*X*de,V[0]*-J*de+V[2]*J*ce,V[1]*-J*de+V[3]*J*ce],ke=ie[0]**2+ie[2]**2,be=ie[1]**2+ie[3]**2,Ae=(ie[0]*ie[1]+ie[2]*ie[3])*2,ue=ke-be;let xe,Me;if(Ge(Ae))ae=0,xe=ke,Me=be;else if(Ge(ue))xe=ke+Ae*.5,Me=ke-Ae*.5,ae=45;else{let lt=1+Ae*Ae/(ue*ue);lt=lt<0?0:Math.sqrt(lt),xe=.5*(ke+be+lt*ue),Me=.5*(ke+be-lt*ue),ae=scalar.deg(.5*Math.atan2(Ae,ue))}return xe=xe<0?0:Math.sqrt(xe),Me=Me<0?0:Math.sqrt(Me),ue<=0?(J=xe,X=Me):(J=Me,X=xe),mat2d.det(H)<0&&(pe=!pe),{start:vec2.transformMat2d(N.start,H),point:vec2.transformMat2d(N.point,H),command:"A",args:[[X,J],ae,ve,pe]};function Ge(lt){return Math.abs(lt)<1e-16}}h.transform=y,h.length=memoize(N=>{const{radii:H,angles:X}=h.toCenterParameterization(N);return F(H,X)});function _(N,H){if(typeof H=="number"&&(H={unit:H}),"time"in H)return normalizeOffset(H.time,1);if("unit"in H)return unitToTime(N,H.unit);{const X=H.offset/h.length(N);return unitToTime(N,X)}}h.toTime=_;function x(N,H){const X=_(N,H),{center:J,radii:ae,angles:ve,xAxisRotation:pe}=h.toCenterParameterization(N),de=scalar.lerp(...ve,X),ce=mat2d.trs(J,pe,ae);return vec2.transformMat2d(vec2.dir(de),ce)}h.point=x;function w(N,H){const X=_(N,H),{radii:J,angles:ae,xAxisRotation:ve,sweep:pe}=h.toCenterParameterization(N),de=scalar.lerp(...ae,X),ce=vec2.dir(de+90*(pe?1:-1)),V=mat2d.trs(null,ve,J);return vec2.transformMat2d(ce,V)}h.derivative=w;function S(N,H){return vec2.normalize(w(N,H))}h.tangent=S;function E(N,H){return vec2.rotate(S(N,H),90)}h.normal=E;function I(N,H,X){let J=_(N,H),ae=_(N,X),{radii:ve,center:pe,angles:de,xAxisRotation:ce,sweep:V}=h.toCenterParameterization(N);const ie=mat2d.trs(pe,ce,ve),ke=scalar.lerp(...de,J),be=scalar.lerp(...de,ae),Ae=Math.abs(be-ke)>180;return J>ae&&(V=!V),{command:"A",start:vec2.transformMat2d(vec2.dir(ke),ie),args:[ve,ce,Ae,V],point:vec2.transformMat2d(vec2.dir(be),ie)}}h.trim=I;function L(N,H){const[,X,,J]=N.args,{radii:ae,center:ve,angles:pe}=h.toCenterParameterization(N),de=[],ce=mat2d.trs(ve,X,ae);H=[0,...H,1];for(const[V,ie]of Iter.tuple(H)){const ke=scalar.lerp(...pe,V),be=scalar.lerp(...pe,ie),Ae=Math.abs(be-ke)>180,ue=vec2.transformMat2d(vec2.dir(be),ce);de.push({command:"A",args:[ae,X,Ae,J],point:ue})}return de}h.divideAtTimes=L,h.isZero=memoize(N=>{const{start:H,point:X}=N;return vec2.approx(H,X)});function O(N){if(h.isZero(N))return!0;const[H,X]=N.args[0];return scalar.approx(H,0)||scalar.approx(X,0)}h.isStraight=O;function F(N,H){const[X,J]=N,[ae,ve]=H;if(X===J)return scalar.rad(Math.abs(ve-ae))*X;const pe=.25,de=Math.abs(ve-ae),ce=Math.ceil(de/pe),V=scalar.rad(ae),ie=scalar.rad(ve),ke=scalar.rad(de)/ce;let be=0;for(let Ae=0;Ae<ce;Ae++){const ue=scalar.lerp(V,ie,(Ae+.5)/ce);be+=ke*Math.sqrt((X*Math.sin(ue))**2+(J*Math.cos(ue))**2)}return be}h.ellipticArcLength=F;function z(N,H,X=90){const{center:J,radii:[ae,ve],angles:[pe,de]}=h.toCenterParameterization(N);if(!scalar.approx(ae,ve)){const V=[{point:N.start,command:"C",args:[vec2.zero,vec2.zero]},...v(N,X)],ie=Array.from(Iter.tuple(V)).map(([ke,be])=>CubicBezier.offset({start:ke.point,...be},H));return Path.join(ie)}const ce=pe<de;return Path.arc(J,ae+H*(ce?-1:1),pe,de)}h.offset=z})(Arc||(Arc={}));function normalizeAngle(h){return(h+180)%360-180}function crossAtAngle(h,[v,y]){return v===y?!1:v<y?v<h?h<y:h<y-360:h<v?y<h:h<y+360}function unitToTime(h,v){const y=normalizeOffset(typeof v=="number"?v:v.unit,1),[_,x]=h.args[0];if(scalar.approx(_,x))return y;const{radii:w,angles:[S,E]}=Arc.toCenterParameterization(h);let I=0,L=1,O;for(let F=0;F<16;F++){O=scalar.lerp(I,L,.5);const z=scalar.lerp(S,E,O),N=Arc.ellipticArcLength(w,[S,z])/Arc.length(h);if(N<y?I=O:L=O,scalar.approx(N,y))break}return O}const useMultiSelectStore=defineStore("multiSelect",()=>{const{meta:h,shift:v}=useMagicKeys();let y;const _=vue.reactive(new Map),x=vue.reactive(new Set);function w(X){x.delete(X),x.add(X)}const S=vue.computed(()=>[...x.values()].map(X=>_.get(X))),E=vue.computed(()=>{const X=[...x.values()].at(-1);if(!X)return null;const J=_.get(X);return J?unrefElement(J.el)??null:null});function I(){x.clear()}useEventListener("pointerdown",X=>{if(X.button!==0)return;const J=X.target,ae=!S.value.some(({el:de})=>{const ce=unrefElement(de);return ce&&nodeContains(ce,J)}),ve=y&&nodeContains(y,J),pe=h.value||v.value;ae&&!ve&&!pe&&I()}),onKeyStroke("Escape",I),onKeyStroke("Tab",I);const L=vue.computed(()=>S.value.length>1);function O(X,J){const ae=Rect.center(X),ve=Rect.center(J),pe=vec2$1.sub(ve,ae),de=Rect.unite(X,J),ce=[];_.forEach(({el:V,id:ie})=>{if(!V)return;const ke=Rect.fromDOMRect(unrefElement(V).getBoundingClientRect());if(Rect.intersects(de,ke)){const be=Rect.center(ke),Ae=vec2$1.dot(vec2$1.sub(be,ae),pe);ce.push({id:ie,order:Ae})}}),ce.sort((V,ie)=>V.order-ie.order),ce.forEach(({id:V})=>w(V))}function F(X){const J=Symbol(),ae=vue.reactive({id:J,...X}),ve=vue.computed(()=>x.has(J)&&!X.focusing.value);_.set(J,ae);const pe=vue.computed(()=>(h.value||v.value)&&!S.value.some(V=>V.id===J));vue.watch(X.focusing,V=>{if(V){if(v.value&&E.value&&X.el.value){const ie=Rect.fromDOMRect(E.value.getBoundingClientRect()),ke=Rect.fromDOMRect(unrefElement(X.el.value).getBoundingClientRect());O(ie,ke)}!ve.value&&!h.value&&!v.value&&I(),ve.value||w(J)}},{flush:"sync"}),vue.onBeforeUnmount(()=>_.delete(J));function de(V){S.value.forEach((ie,ke)=>{if(ie.id===J||ie.type!==X.type)return;const be={i:ke},Ae=V(ie.capturedValue??ie.getValue(),be);ie.setValue(Ae)})}function ce(){S.value.forEach(V=>{V.id!==J&&V.confirm()})}return reactiveComputed(()=>({subfocus:ve,index:S.value.findIndex(V=>V.id===J),capture:z,readyToBeSelected:pe,update:de,confirm:ce,multiSelected:L}))}function z(){S.value.forEach(X=>{X.capturedValue=X.getValue()})}function N(X){const J=S.value.map(ve=>ve.capturedValue??ve.getValue()),ae=X(J);S.value.forEach((ve,pe)=>{ve.setValue(ae[pe])})}function H(){S.value.forEach(X=>{X.confirm(),X.capturedValue=void 0})}return{register:F,focusedElement:E,captureValues:z,updateValues:N,confirmValues:H,selectedInputs:S,setPopupEl:X=>{y=X}}});function useDrag(h,{disabled:v,lockPointer:y=!1,pointerType:_=["mouse","pen","touch"],dragDelaySeconds:x=.5,onClick:w,onDrag:S,onDragStart:E,onDragEnd:I}={}){const L=vue.reactive({xy:vec2$1.zero,previous:vec2$1.zero,initial:vec2$1.zero,delta:vec2$1.zero,origin:vec2$1.zero,top:0,right:0,bottom:0,left:0,width:0,height:0,dragging:!1,pointerLocked:!1});let O,F=!1;const z=vue.computed(()=>unrefElement(h.value)??null),N=useElementBounding(z),{lock:H,unlock:X}=usePointerLock(z);vue.watchEffect(()=>{L.top=vue.unref(N.top),L.left=vue.unref(N.left),L.bottom=vue.unref(N.bottom),L.right=vue.unref(N.right),L.width=vue.unref(N.width),L.height=vue.unref(N.height),L.width=vue.unref(N.width),L.height=vue.unref(N.height)},{flush:"sync"}),vue.watchEffect(()=>{L.origin=vec2$1.lerp([L.left,L.top],[L.right,L.bottom],.5)}),useEventListener(z,"pointerdown",ae),useEventListener(z,"pointermove",ve),useEventListener(z,"pointerup",pe),useEventListener(z,"pointercancel",pe),useEventListener(z,"pointerleave",pe);function J(de){vue.unref(y)&&h.value&&z.value&&"requestPointerLock"in z.value&&(H(de),L.pointerLocked=!0),L.dragging=!0,L.initial=L.previous,E==null||E(L,de)}function ae(de){vue.unref(v)||de.button!==0||!de.isPrimary||_.includes(de.pointerType)&&(F=!0,L.xy=L.previous=L.initial=[de.clientX,de.clientY],N.update(),x===0?J(de):O=setTimeout(()=>J(de),x*1e3),de.target.setPointerCapture(de.pointerId))}function ve(de){if(F){if(de.movementX!==void 0&&de.movementY!==void 0){const ce=window.outerWidth/window.innerWidth,V=vec2$1.scale([de.movementX,de.movementY],1/ce);L.xy=vec2$1.add(L.xy,V)}else L.xy=[de.clientX,de.clientY];if(L.delta=vec2$1.sub(L.xy,L.previous),N.update(),vec2$1.squaredLength(L.delta)!==0){if(!L.dragging){const ce=vec2$1.dist(L.initial,L.xy),V=de.pointerType==="mouse"?1:5;ce>=V&&(clearTimeout(O),J(de))}L.dragging&&(S==null||S(L,de)),L.previous=L.xy}}}function pe(de){L.pointerLocked&&X(),L.pointerLocked=!1,F&&(L.dragging?I==null||I(L,de):w==null||w(L,de)),clearTimeout(O),F=!1,L.dragging=!1,L.xy=L.initial=L.delta=vec2$1.zero,de.target.releasePointerCapture(de.pointerId)}return vue.toRefs(L)}function useValidator(h,v){const y=vue.computed(()=>vue.unref(v)(h.value)),_=vue.ref();return vue.watchSyncEffect(()=>{y.value.value!==void 0&&(_.value=y.value.value)}),{validLocal:vue.readonly(_),validateResult:y}}var lib$1=function(h){var v={};function y(_){if(v[_])return v[_].exports;var x=v[_]={i:_,l:!1,exports:{}};return h[_].call(x.exports,x,x.exports,y),x.l=!0,x.exports}return y.m=h,y.c=v,y.d=function(_,x,w){y.o(_,x)||Object.defineProperty(_,x,{enumerable:!0,get:w})},y.r=function(_){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_,"__esModule",{value:!0})},y.t=function(_,x){if(1&x&&(_=y(_)),8&x||4&x&&typeof _=="object"&&_&&_.__esModule)return _;var w=Object.create(null);if(y.r(w),Object.defineProperty(w,"default",{enumerable:!0,value:_}),2&x&&typeof _!="string")for(var S in _)y.d(w,S,(function(E){return _[E]}).bind(null,S));return w},y.n=function(_){var x=_&&_.__esModule?function(){return _.default}:function(){return _};return y.d(x,"a",x),x},y.o=function(_,x){return Object.prototype.hasOwnProperty.call(_,x)},y.p="",y(y.s=0)}([function(h,v,y){y.r(v),y.d(v,"validateHTMLColorName",function(){return S}),y.d(v,"validateHTMLColorSpecialName",function(){return E}),y.d(v,"validateHTMLColorHex",function(){return I}),y.d(v,"validateHTMLColorRgb",function(){return X}),y.d(v,"validateHTMLColorHsl",function(){return J}),y.d(v,"validateHTMLColorHwb",function(){return ae}),y.d(v,"validateHTMLColorLab",function(){return ve}),y.d(v,"validateHTMLColorLch",function(){return pe}),y.d(v,"validateHTMLColor",function(){return de});const _=ce=>ce&&typeof ce=="string",x=["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenrod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","DarkOrange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","Goldenrod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenrodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquamarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenrod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","RebeccaPurple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"],w=["currentColor","inherit","transparent"],S=ce=>{let V=!1;return _(ce)&&x.map(ie=>(ce.toLowerCase()===ie.toLowerCase()&&(V=!0),null)),V},E=ce=>{let V=!1;return _(ce)&&w.map(ie=>(ce.toLowerCase()===ie.toLowerCase()&&(V=!0),null)),V},I=ce=>_(ce)?ce&&/^#([\da-f]{3}){1,2}$|^#([\da-f]{4}){1,2}$/i.test(ce):!1,L="(([\\d]{0,5})((\\.([\\d]{1,5}))?))",O=`(${L}%)`,F="(([0-9]|[1-9][0-9]|100)%)",z=`(${F}|(0?((\\.([\\d]{1,5}))?))|1)`,N=`([\\s]{0,5})\\)?)(([\\s]{0,5})(\\/?)([\\s]{1,5})${`(((${F}))|(0?((\\.([\\d]{1,5}))?))|1))?`}([\\s]{0,5})\\)`,H="(-?(([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-9][0-9]|3[0-5][0-9])((\\.([\\d]{1,5}))?)|360)(deg)?)",X=ce=>{if(_(ce)){const V="([\\s]{0,5})([\\d]{1,5})%?([\\s]{0,5}),?",ie="((([\\s]{0,5}),?([\\s]{0,5}))|(([\\s]{1,5})))",ke=new RegExp(`^(rgb)a?\\(${`${V}${ie}`}${`${V}${ie}`}${`${V}${ie}`}((\\/?([\\s]{0,5})(0?\\.?([\\d]{1,5})%?([\\s]{0,5}))?|1|0))?\\)$`);return ce&&ke.test(ce)}return!1},J=ce=>{if(_(ce)){const V=new RegExp(`^(hsl)a?\\((([\\s]{0,5})(${H}|(([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-9][0-9]|3[0-9][0-9]|400)grad)|((([0-5])?\\.([\\d]{1,5})|6\\.([0-9]|1[0-9]|2[0-8])|[0-6])rad)|((0?((\\.([\\d]{1,5}))?)|1)turn))((([\\s]{0,5}),([\\s]{0,5}))|(([\\s]{1,5}))))(([\\s]{0,5})(0|${F})((([\\s]{0,5}),([\\s]{0,5}))|(([\\s]{1,5}))))(([\\s]{0,5})(0|${F})([\\s]{0,5})\\)?)(([\\s]{0,5})(\\/?|,?)([\\s]{0,5})(((${F}))|(0?((\\.([\\d]{1,5}))?))|1))?\\)$`);return ce&&V.test(ce)}return!1},ae=ce=>{if(_(ce)){const V=new RegExp(`^(hwb\\(([\\s]{0,5})${H}([\\s]{1,5}))((0|${F})([\\s]{1,5}))((0|${F})${N}$`);return ce&&V.test(ce)}return!1},ve=ce=>{if(_(ce)){const V="(-?(([0-9]|[1-9][0-9]|1[0-5][0-9])((\\.([\\d]{1,5}))?)?|160))",ie=new RegExp(`^(lab\\(([\\s]{0,5})${O}([\\s]{1,5})${V}([\\s]{1,5})${V}${N}$`);return ce&&ie.test(ce)}return!1},pe=ce=>{if(_(ce)){const V="((([0-9]|[1-9][0-9])?((\\.([\\d]{1,5}))?)|100)(%)?)",ie=""+L,ke=`((${H})|(0|${z})|(([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-9][0-9]|3[0-5][0-9])((\\.([\\d]{1,5}))?)|360))`,be=`(\\/([\\s]{0,5})${z})`,Ae=new RegExp(`^lch\\(${`(([\\s]{0,5})${V}([\\s]{1,5})${ie}([\\s]{1,5})${ke}([\\s]{0,5})(${be})?)`}\\)$`);return ce&&Ae.test(ce)}return!1},de=ce=>!!(ce&&I(ce)||X(ce)||J(ce)||ae(ce)||ve(ce)||pe(ce));v.default=ce=>!!(ce&&I(ce)||S(ce)||E(ce)||X(ce)||J(ce)||ae(ce)||ve(ce)||pe(ce))}]);const validateColor=getDefaultExportFromCjs(lib$1);function clamp$1(h,v){return y=>y<h?{value:Math.max(y,h),log:[`should be >= ${h}`]}:y>v?{value:Math.min(y,v),log:[`should be <= ${v}`]}:{value:y,log:[]}}function quantize(h){return v=>{if(h===0)return{value:v,log:[]};const y=scalar$1.quantize(v,h);return scalar$1.approx(v,y)?{value:v,log:[]}:{value:y,log:[`should be a multiple of ${h}`]}}}const colorCode=h=>validateColor(h)?{value:h,log:[]}:{value:void 0,log:["Invalid color code"]},identity=h=>({value:h,log:[]});function compose(...h){return v=>{let y={value:v,log:[]};for(const _ of h){if(!_||!y.value)continue;const{value:x,log:w}=y;y=_(x),y.log.unshift(...w)}return y}}const _sfc_main$U=vue.defineComponent({__name:"InputNumberScales",props:{min:{},max:{},step:{}},setup(h){const v=h,y=vue.useTemplateRef("$el"),{width:_}=useElementSize(y),x=vue.computed(()=>{if(v.max===void 0||v.min===void 0||v.step===void 0||_.value===0)return 0;const S=v.step/(v.max-v.min)*_.value;return S<10?0:S}),w=vue.computed(()=>x.value===0?{}:{backgroundSize:`${x.value}px 100%`});return(S,E)=>(vue.openBlock(),vue.createElementBlock("div",{ref_key:"$el",ref:y,class:"TqInputNumberScales",style:vue.normalizeStyle(w.value)},null,4))}}),InputNumberScales=_export_sfc(_sfc_main$U,[["__scopeId","data-v-5cb331d2"]]),_hoisted_1$B={class:"display-at-inactive"},_hoisted_2$l={key:0,class:"prefix"},_hoisted_3$f={key:1,class:"suffix"},_hoisted_4$7={key:0,class:"overlay"},_sfc_main$T=vue.defineComponent({__name:"InputNumber",props:vue.mergeModels({min:{default:Number.MIN_SAFE_INTEGER},max:{default:Number.MAX_SAFE_INTEGER},step:{},snap:{default:10},bar:{type:[Number,Boolean],default:0},clampMin:{type:Boolean,default:!0},clampMax:{type:Boolean,default:!0},precision:{default:4},prefix:{default:""},suffix:{default:""},leftIcon:{},rightIcon:{},inlinePosition:{},blockPosition:{},invalid:{type:Boolean},disabled:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:vue.mergeModels(["focus","blur","confirm"],["update:modelValue"]),setup(__props,{emit:__emit}){const model=vue.useModel(__props,"modelValue"),props=__props,emit=__emit,$input=vue.useTemplateRef("$input"),$inputEl=vue.computed(()=>unrefElement($input.value)),{left,width,right}=useElementBounding($inputEl),focused=vue.ref(!1),expressionEnabled=vue.ref(!1),expressionError=vue.ref(void 0),local=vue.ref(model.value),display=vue.ref(""),barVisible=vue.computed(()=>props.bar!==!1&&props.min!==Number.MIN_SAFE_INTEGER&&props.max!==Number.MAX_SAFE_INTEGER&&width.value>0),validMin=vue.computed(()=>props.clampMin?props.min:Number.MIN_SAFE_INTEGER),validMax=vue.computed(()=>props.clampMax?props.max:Number.MAX_SAFE_INTEGER),{alt:lessSpeedKey,shift:moreSpeedKey,q:snapKey}=useMagicKeys(),speedMultiplierKey=vue.computed(()=>(lessSpeedKey.value?.1:1)*(moreSpeedKey.value?props.snap:1)),speedMultiplierGesture=vue.ref(1),speed=vue.computed(()=>speedMultiplierKey.value*speedMultiplierGesture.value),stepPrecision=vue.computed(()=>props.step?precisionOf(props.step):null),displayPrecision=vue.computed(()=>getNumberPresition(display.value)),sliderPrecision=vue.computed(()=>{if(props.min!==Number.MIN_SAFE_INTEGER&&props.max!==Number.MAX_SAFE_INTEGER&&width.value>0){const h=Math.abs(props.max-props.min)/width.value;return precisionOf(h)}else return 0}),tweakPrecision=vue.computed(()=>tweaking.value?precisionOf(speed.value):null),precision=vue.computed(()=>stepPrecision.value!==null?stepPrecision.value:tweakPrecision.value!==null?Math.max(displayPrecision.value,sliderPrecision.value,tweakPrecision.value):Math.min(props.precision,Math.max(displayPrecision.value,sliderPrecision.value))),minSpeed=vue.computed(()=>{let h=props.precision;if(props.step&&barVisible.value){const v=(props.max-props.min)/props.step,y=width.value/v;h=precisionOf(y)}return 10**-h}),maxSpeed=vue.computed(()=>barVisible.value?1:1e3);let deltaAccumulated=0,dirAverage=vec2$1.unitX,offsetWeight=1;const{dragging:tweaking}=useDrag($input,{lockPointer:vue.computed(()=>!barVisible.value),disabled:vue.computed(()=>props.disabled||focused.value),onClick(){var h;(h=$input.value)==null||h.select()},onDragStart(h,v){const y=v.target.classList.contains("handle"),_=props.min<=model.value&&model.value<=props.max;barVisible.value&&_&&!y&&(local.value=scalar$1.fit(h.xy[0],left.value,right.value,props.min,props.max),multi.update(()=>local.value)),deltaAccumulated=0,speedMultiplierGesture.value=1,emit("focus"),multi.capture()},onDrag(h){const[v,y]=h.delta;dirAverage=vec2$1.normalize(vec2$1.lerp(dirAverage,vec2$1.abs(h.delta),.1)),offsetWeight=scalar$1.smoothstep(.4,.6,Math.abs(vec2$1.dot([1,0],dirAverage)));const _=barVisible.value?(props.max-props.min)/width.value:1,x=v*_*speed.value*offsetWeight;let w=local.value+x;barVisible.value||(props.min!==Number.MIN_SAFE_INTEGER&&(w=scalar$1.max(w,props.min)),props.max!==Number.MAX_SAFE_INTEGER&&(w=scalar$1.min(w,props.max))),local.value=w,deltaAccumulated+=x,multi.update(S=>S+deltaAccumulated),speedMultiplierGesture.value=scalar$1.clamp(scalar$1.lerp(speedMultiplierGesture.value*.98**y,speedMultiplierGesture.value,offsetWeight),minSpeed.value,maxSpeed.value),snapEnabled.value=snapKey.value},onDragEnd(){confirm(),emit("blur")}}),snapEnabled=vue.ref(!1);whenever(snapKey,()=>{snapEnabled.value=tweaking.value});const validate=vue.computed(()=>compose(clamp$1(validMin.value,validMax.value),quantize(props.step??0),quantize(snapEnabled.value?props.snap:0))),{validateResult,validLocal}=useValidator(local,validate),invalid=vue.computed(()=>props.invalid?!0:tweaking.value?!1:validateResult.value.log.length>0||!!expressionError.value);function confirm(){emit("confirm"),multi.confirm(),multi.capture(),expressionEnabled.value=!1,expressionError.value=void 0,vue.nextTick(()=>{local.value=model.value,display.value=print.value(model.value)})}let localAtFocus=0;function onFocus(){multi.capture(),emit("focus")}function enableExpression(){localAtFocus=local.value,expressionEnabled.value=!0}function onKeydown(h){h.metaKey&&h.key==="="&&(h.preventDefault(),enableExpression())}function onInput(e){const value=e.target.value;display.value=value,/^[0-9.]*$/.test(value)||enableExpression();try{const fn=eval(`(x, {i}) => {
			const result = (${value})
			if (typeof result === 'number') {
				return result
			}
			throw new Error('Value is not a number')
		}`);local.value=fn(localAtFocus,{i:multi.index}),expressionError.value=void 0,multi.update(fn)}catch(h){expressionError.value=h.message}}function onBlur(){confirm(),emit("blur")}const print=vue.computed(()=>{const h=tweaking.value,v=precision.value;return y=>h?y.toFixed(v):toFixed(y,v)});function onIncrementByKey(h){if(props.step)local.value+=props.step*h*Math.max(1,speedMultiplierKey.value);else{let v=speedMultiplierKey.value;validMax.value-validMin.value<=1&&(v*=.1),local.value+=h*v,local.value=scalar$1.clamp(local.value,validMin.value,validMax.value)}vue.nextTick(()=>{display.value=print.value(model.value)})}vue.watch(model,h=>{h!==validLocal.value&&(local.value=h)},{immediate:!0,flush:"sync"}),vue.watch(()=>[model.value,focused.value,print.value],([h,v,y],_)=>{v&&(_!=null&&_[1])||(display.value=y(h))},{immediate:!0,flush:"sync"});let emittedModel;vue.watchSyncEffect(()=>{validLocal.value!==void 0&&validLocal.value!==model.value&&validLocal.value!==emittedModel&&(emittedModel=validLocal.value,model.value=emittedModel)}),whenever(focused,()=>vue.nextTick(()=>{var h;return(h=$input.value)==null?void 0:h.select()}));const multi=useMultiSelectStore().register({type:"number",el:$input,focusing:vue.computed(()=>focused.value||tweaking.value),speed:vue.computed(()=>barVisible.value?(props.max-props.min)/width.value:1),getValue:()=>local.value,setValue(h){const v=vue.unref(validate)(h);if(v.value===void 0)return!1;local.value=v.value},confirm(){emit("confirm")}}),valueRangeStateClasses=vue.computed(()=>barVisible.value?model.value<props.min?{"below-range":!0}:model.value>props.max?{"above-range":!0}:{}:{}),scaleAttrs=h=>{const y=scalar$1.mod(-Math.log(speedMultiplierGesture.value)/Math.log(10)+h,3),_=Math.pow(scalar$1.smoothstep(1,2,y),.5),x=width.value/2,w=barVisible.value?scalar$1.efit(model.value,props.min,props.max,0,width.value):x-model.value/speedMultiplierGesture.value;return{x1:-x,x2:x,style:{"--offset-weight":offsetWeight,"--gesture-precision":y,strokeDashoffset:-w,opacity:_}}},handleStyles=vue.computed(()=>barVisible.value?{left:`calc((100% - 1px) * ${scalar$1.invlerp(props.min,props.max,model.value)})`}:{visibility:"hidden"}),barStyle=vue.computed(()=>{if(!barVisible.value||props.bar===!1)return{visibility:"hidden"};const h=typeof props.bar=="number"?props.bar:0,v=scalar$1.invlerp(props.min,props.max,h),y=scalar$1.invlerp(props.min,props.max,model.value),_=Math.min(v,y),x=1-Math.max(v,y);return{left:toPercent(_),right:toPercent(x)}});return(h,v)=>(vue.openBlock(),vue.createBlock(vue.unref(InputTextBase),{ref_key:"$input",ref:$input,focused:focused.value,"onUpdate:focused":v[0]||(v[0]=y=>focused.value=y),class:vue.normalizeClass(["TqInputNumber",{...valueRangeStateClasses.value,tweaking:vue.unref(tweaking)}]),ignoreInput:!focused.value,modelValue:display.value,active:vue.unref(multi).subfocus,font:expressionEnabled.value?"monospace":"numeric",align:"center","inline-position":h.inlinePosition,"block-position":h.blockPosition,disabled:h.disabled,invalid:invalid.value,leftIcon:h.leftIcon,rightIcon:h.rightIcon,onFocus,onBlur,onInput,onKeydown:[onKeydown,v[1]||(v[1]=vue.withKeys(vue.withModifiers(y=>onIncrementByKey(1),["prevent"]),["up"])),v[2]||(v[2]=vue.withKeys(vue.withModifiers(y=>onIncrementByKey(-1),["prevent"]),["down"])),vue.withKeys(vue.withModifiers(confirm,["prevent"]),["enter"])]},{inactiveContent:vue.withCtx(()=>[vue.createElementVNode("div",_hoisted_1$B,[h.prefix?(vue.openBlock(),vue.createElementBlock("span",_hoisted_2$l,vue.toDisplayString(h.prefix),1)):vue.createCommentVNode("",!0),vue.createTextVNode(" "+vue.toDisplayString(display.value)+" ",1),h.suffix?(vue.openBlock(),vue.createElementBlock("span",_hoisted_3$f,vue.toDisplayString(h.suffix),1)):vue.createCommentVNode("",!0)])]),back:vue.withCtx(()=>[vue.createElementVNode("div",{class:"bar",style:vue.normalizeStyle(barStyle.value)},null,4),vue.createVNode(InputNumberScales,{min:h.min,max:h.max,step:h.step},null,8,["min","max","step"]),vue.unref(tweaking)?(vue.openBlock(),vue.createElementBlock("svg",_hoisted_4$7,[vue.createElementVNode("line",vue.mergeProps({class:"scale"},scaleAttrs(0)),null,16),vue.createElementVNode("line",vue.mergeProps({class:"scale"},scaleAttrs(1)),null,16),vue.createElementVNode("line",vue.mergeProps({class:"scale"},scaleAttrs(2)),null,16)])):vue.createCommentVNode("",!0),vue.createElementVNode("div",{class:"handle",style:vue.normalizeStyle(handleStyles.value)},null,4)]),_:1},8,["focused","class","ignoreInput","modelValue","active","font","inline-position","block-position","disabled","invalid","leftIcon","rightIcon","onKeydown"]))}}),InputNumber=_export_sfc(_sfc_main$T,[["__scopeId","data-v-ed9fff1e"]]),_sfc_main$S=vue.defineComponent({name:"SvgIcon",props:{mode:{type:String,default:"inline"},strokeWidth:{type:Number},nonStrokeScaling:{type:Boolean}}});function _sfc_render$1(h,v,y,_,x,w){return vue.openBlock(),vue.createElementBlock("svg",{class:vue.normalizeClass(["TqSvgIcon",{inline:h.mode==="inline",block:h.mode==="block","non-stroke-scaling":h.nonStrokeScaling}]),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:"32",height:"32",style:vue.normalizeStyle({strokeWidth:h.strokeWidth})},[vue.renderSlot(h.$slots,"default",{},void 0,!0)],6)}const SvgIcon=_export_sfc(_sfc_main$S,[["render",_sfc_render$1],["__scopeId","data-v-4744d866"]]),_hoisted_1$A={class:"TqTooltip"},_sfc_main$R=vue.defineComponent({__name:"Tooltip",setup(h){return(v,y)=>(vue.openBlock(),vue.createElementBlock("div",_hoisted_1$A,[vue.renderSlot(v.$slots,"default",{},void 0,!0)]))}}),Tooltip=_export_sfc(_sfc_main$R,[["__scopeId","data-v-6fb68097"]]);function useLastActive(h){const v=vue.ref(null),y=Object.entries(h);for(const[_,x]of y)vue.watch(x,()=>{if(x.value)v.value=_;else if(v.value===_){const w=y.find(([,S])=>S.value);v.value=(w==null?void 0:w[0])??null}});return v}const{Meta_C,Meta_V}=useMagicKeys();function useCopyPaste({target:h,onCopy:v,onPaste:y}){const{focused:_}=useFocus(h);v&&whenever(Meta_C,()=>{_.value&&v()}),y&&whenever(Meta_V,()=>{_.value&&y()})}const styles=vue.ref(new Map),currentStyle=vue.computed(()=>{for(const h of styles.value.values())if(h!==null)return h;return"inherit"});vue.watchEffect(()=>{document.documentElement.style.cursor=currentStyle.value});function useCursorStyle(h){const v=typeof h=="function"?vue.computed(h):h,y=uniqueId();vue.watchEffect(()=>{styles.value.set(y,vue.unref(v))}),vue.onBeforeUnmount(()=>{styles.value.delete(y)})}function useElementCenter(h){const{left:v,top:y,right:_,bottom:x}=useElementBounding(h);return vue.computed(()=>[scalar$1.lerp(v.value,_.value,.5),scalar$1.lerp(y.value,x.value,.5)])}var COLINEAR=intersectResult("colinear"),PARALLEL=intersectResult("parallel"),NONE=intersectResult("none");function checkIntersection(h,v,y,_,x,w,S,E){var I=(E-w)*(y-h)-(S-x)*(_-v),L=(S-x)*(v-w)-(E-w)*(h-x),O=(y-h)*(v-w)-(_-v)*(h-x);if(I==0)return L==0&&O==0?COLINEAR:PARALLEL;var F=L/I,z=O/I;return F>=0&&F<=1&&z>=0&&z<=1?intersecting({x:h+F*(y-h),y:v+F*(_-v)}):NONE}function intersecting(h){var v=intersectResult("intersecting");return v.point=h,v}function intersectResult(h){return{type:h}}function clampPosWithinRect(h,v,y){const[[_,x],[w,S]]=y;let E;const I=partial(checkIntersection,...h,...v);return(E=I(_,x,w,x)).type==="intersecting"?[E.point.x,E.point.y]:(E=I(w,x,w,S)).type==="intersecting"?[E.point.x,E.point.y]:(E=I(w,S,_,S)).type==="intersecting"?[E.point.x,E.point.y]:(E=I(_,S,_,x)).type==="intersecting"?[E.point.x,E.point.y]:v}const _hoisted_1$z=["tweak-mode"],_hoisted_2$k={key:0,class:"overlay"},_hoisted_3$e=["d"],_hoisted_4$6=["d","marker-end"],_hoisted_5$5=["d"],_sfc_main$Q=vue.defineComponent({__name:"InputRotary",props:vue.mergeModels({snap:{default:45},angleOffset:{default:-90},inlinePosition:{},blockPosition:{},invalid:{type:Boolean},disabled:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:vue.mergeModels(["focus","blur","confirm"],["update:modelValue"]),setup(h,{emit:v}){const y=h,_=useThemeStore(),x=vue.useModel(h,"modelValue"),w=v;function S(rr,Yt){const Er=rr-Yt;return unsignedMod(Er+180,360)-180}const E=vue.computed(()=>{const rr=Math.trunc(x.value/360),Yt=x.value-rr*360;return(rr!==0?rr+"x ":"")+Yt.toFixed(1)+""}),I=vue.ref(x.value),L=[_.inputHeight*4,160],O=vue.useTemplateRef("$root"),F=useElementCenter(O),{dragging:z,initial:N,origin:H,xy:X}=useDrag(O,{dragDelaySeconds:0,onDragStart({xy:rr}){if(I.value=be.value=x.value,ke.value==="absolute"){const Yt=vec2$1.sub(rr,F.value),Er=vec2$1.angle(Yt)-y.angleOffset,Oe=S(Er,be.value);be.value+=Oe}ur.capture()},onDrag({xy:rr,previous:Yt}){const Er=vec2$1.sub(rr,F.value),Oe=vec2$1.sub(Yt,F.value),dt=vec2$1.angle(Oe,Er);be.value+=dt},onDragEnd(){w("confirm"),ur.confirm()}}),{shift:J,q:ae,a:ve,r:pe}=useMagicKeys(),de=vue.computed(()=>J.value||ae.value),ce=vue.computed(()=>{const rr=vec2$1.dist(F.value,X.value);return de.value||L[0]<=rr&&rr<=L[1]}),V=vue.ref("relative"),ie=useLastActive({absolute:ve,relative:pe}),ke=vue.computed(()=>ie.value??V.value),be=vue.ref(x.value),Ae=vue.computed(()=>ce.value?quantize(y.snap):identity),ue=vue.computed(()=>Ae.value(be.value));vue.watch(()=>[ue.value,z.value,ke.value,ce.value,y.snap],([rr])=>{if(rr.value!==void 0&&(z.value&&(x.value=rr.value),z.value))if(ke.value==="absolute")ur.update(()=>rr.value);else{const Yt=rr.value-I.value;ur.update(Er=>{const Oe=Er+Yt;return ce.value?scalar$1.quantize(Oe,y.snap):Oe})}},{flush:"sync"}),useCursorStyle(()=>z.value?"none":null);const xe=vue.computed(()=>({transform:`rotate(${x.value+y.angleOffset}deg)`})),Me=useWindowSize(),Ge=vue.computed(()=>{const Oe=Me.width.value-40,dt=Me.height.value-40;return[[40,40],[Oe,dt]]}),lt=vue.computed(()=>clampPosWithinRect(N.value,X.value,Ge.value)),Le=vue.computed(()=>{const rr=vec2$1.sub(X.value,H.value);return{transform:`rotate(${vec2$1.angle(rr)+90}deg)`}});function Je(rr,Yt,Er){const Oe=rr+y.angleOffset;return Path.line(vec2$1.dir(Oe,Yt,F.value),vec2$1.dir(Oe,Er,F.value))}const gt=vue.computed(()=>Path.toSVGString(Path.merge(range$1(0,360,y.snap).map(rr=>Je(rr,...L))))),ct=vue.computed(()=>Path.toSVGString(ce.value&&x.value%y.snap===0?Je(x.value,...L):Path.empty)),Ot=vue.computed(()=>{const rr=F.value;if(ke.value==="absolute"){const Yt=vec2$1.distance(F.value,X.value),Er=x.value,Oe=_.inputHeight,dt=Yt;return Path.toSVGString(Je(Er,Oe,dt))}else{const Yt=_.inputHeight*4,Er=_.inputHeight*.25,Oe=I.value+y.angleOffset,dt=x.value+y.angleOffset,He=Math.floor(Math.abs(dt-Oe)/360)*Math.sign(dt-Oe),Ct=range$1(0,He).map(pn=>Path.circle(rr,Yt+pn*Er)),Ut=Yt+He*Er;let pr=unsignedMod(S(dt,Oe),360);dt<Oe&&(pr-=360);const Pr=unsignedMod(Oe,360),tn=Pr+pr,un=Path.arc(rr,Ut,Pr,tn);return Path.toSVGString(Path.merge([...Ct,un]))}}),ur=useMultiSelectStore().register({type:"number",el:O,focusing:useFocus(O).focused,getValue:()=>be.value,setValue(rr){be.value=rr,ue.value.value&&(x.value=ue.value.value)},confirm(){w("confirm")}});return useCopyPaste({target:O,onCopy(){navigator.clipboard.writeText(x.value.toString())},onPaste:async()=>{const rr=await navigator.clipboard.readText();if(!rr)return;const Yt=parseFloat(rr);isNaN(Yt)||(x.value=Yt,ur.update(()=>Yt),ur.confirm())}}),(rr,Yt)=>(vue.openBlock(),vue.createElementBlock(vue.Fragment,null,[vue.createElementVNode("button",{ref_key:"$root",ref:O,class:vue.normalizeClass(["TqInputRotary",{tweaking:vue.unref(z),subfocus:vue.unref(ur).subfocus}]),"tweak-mode":ke.value,onFocus:Yt[2]||(Yt[2]=Er=>w("focus")),onBlur:Yt[3]||(Yt[3]=Er=>w("blur"))},[vue.createVNode(vue.unref(SvgIcon),{mode:"block",class:"rotary"},{default:vue.withCtx(()=>[Yt[5]||(Yt[5]=vue.createElementVNode("circle",{class:"circle",cx:"16",cy:"16",r:"16"},null,-1)),vue.createElementVNode("g",{"transform-origin":"16 16",style:vue.normalizeStyle(xe.value),onPointerenter:Yt[0]||(Yt[0]=Er=>V.value="absolute"),onPointerleave:Yt[1]||(Yt[1]=Er=>!vue.unref(z)&&(V.value="relative"))},[...Yt[4]||(Yt[4]=[vue.createElementVNode("path",{class:"absolute-mode-area",d:"M 16 16 L 16 32 A 16 16 0 0 0 16 0 Z"},null,-1),vue.createElementVNode("path",{class:"tip",d:"M20 16 L30 16"},null,-1)])],36),Yt[6]||(Yt[6]=vue.createElementVNode("circle",{cx:"16",cy:"16",r:"7",fill:"transparent",stroke:"none"},null,-1))]),_:1})],42,_hoisted_1$z),vue.unref(z)?(vue.openBlock(),vue.createElementBlock("div",_hoisted_2$k,[(vue.openBlock(),vue.createElementBlock("svg",null,[Yt[7]||(Yt[7]=vue.createElementVNode("defs",null,[vue.createElementVNode("marker",{id:"arrow",markerWidth:"6",markerHeight:"6",refX:"3",refY:"3",orient:"auto",fill:"var(--tq-color-accent)"},[vue.createElementVNode("path",{d:"M 0 0 L 6 3 L 0 6 Z"})])],-1)),vue.createElementVNode("path",{class:vue.normalizeClass(["thin gray",{snap:ce.value}]),d:gt.value},null,10,_hoisted_3$e),vue.createElementVNode("path",{class:"bold",d:Ot.value,"marker-end":ke.value==="relative"?"url(#arrow)":""},null,8,_hoisted_4$6),vue.createElementVNode("path",{class:"bold",d:ct.value},null,8,_hoisted_5$5)])),vue.createVNode(vue.unref(Tooltip),{ref:"overlayLabel",class:"overlay-label",style:vue.normalizeStyle({top:lt.value[1]+"px",left:lt.value[0]+"px"})},{default:vue.withCtx(()=>[vue.createTextVNode(vue.toDisplayString(E.value)+" ",1),vue.createElementVNode("span",{class:"arrows",style:vue.normalizeStyle(Le.value)},null,4)]),_:1},8,["style"])])):vue.createCommentVNode("",!0)],64))}}),InputRotary=_export_sfc(_sfc_main$Q,[["__scopeId","data-v-f7b589b6"]]),_sfc_main$P=vue.defineComponent({__name:"InputAngle",props:vue.mergeModels({snap:{},angleOffset:{},inlinePosition:{},blockPosition:{},invalid:{type:Boolean},disabled:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:vue.mergeModels(["focus","blur","confirm"],["update:modelValue"]),setup(h,{emit:v}){const y=vue.useModel(h,"modelValue"),_=h,x=v,w=useThemeStore(),S=vue.useTemplateRef("$root"),{width:E}=useElementSize(S),I=vue.computed(()=>E.value>w.inputHeight*4);return(L,O)=>(vue.openBlock(),vue.createElementBlock("div",{ref_key:"$root",ref:S,class:"TqInputAngle"},[vue.createVNode(vue.unref(InputRotary),vue.mergeProps(_,{modelValue:y.value,"onUpdate:modelValue":O[0]||(O[0]=F=>y.value=F),onFocus:O[1]||(O[1]=F=>x("focus")),onBlur:O[2]||(O[2]=F=>x("blur")),onConfirm:O[3]||(O[3]=F=>x("confirm"))}),null,16,["modelValue"]),I.value?(vue.openBlock(),vue.createBlock(vue.unref(InputNumber),vue.mergeProps({key:0},_,{modelValue:y.value,"onUpdate:modelValue":O[4]||(O[4]=F=>y.value=F),class:"number",suffix:"",onFocus:O[5]||(O[5]=F=>x("focus")),onBlur:O[6]||(O[6]=F=>x("blur")),onConfirm:O[7]||(O[7]=F=>x("confirm"))}),null,16,["modelValue"])):vue.createCommentVNode("",!0)],512))}}),InputAngle=_export_sfc(_sfc_main$P,[["__scopeId","data-v-16d622cc"]]),_hoisted_1$y={key:0,class:"overlay"},_sfc_main$O=vue.defineComponent({__name:"InputSwitchOverlay",props:{modelValue:{type:[null,String,Boolean]}},setup(h){return(v,y)=>(vue.openBlock(),vue.createBlock(vue.Transition,null,{default:vue.withCtx(()=>[v.modelValue!==null?(vue.openBlock(),vue.createElementBlock("div",_hoisted_1$y,[vue.createVNode(vue.unref(Icon),{class:vue.normalizeClass(["icon off",{active:v.modelValue===!1}]),icon:"ic:baseline-radio-button-unchecked"},null,8,["class"]),vue.createVNode(vue.unref(Icon),{class:vue.normalizeClass(["icon on",{active:v.modelValue===!0}]),icon:"ic:baseline-check-circle"},null,8,["class"])])):vue.createCommentVNode("",!0)]),_:1}))}}),InputSwitchOverlay=_export_sfc(_sfc_main$O,[["__scopeId","data-v-bd355f1a"]]);function useInputSwitch({track:h,input:v,props:y,emit:_}){let w=null;const{focused:S}=useFocus(v),{dragging:E,initial:I,xy:L}=useDrag(h,{dragDelaySeconds:.2,onClick(){var z;F.readyToBeSelected||(_("update:modelValue",!y.modelValue),F.update(N=>!N)),_("confirm"),(z=v.value)==null||z.focus()},onDragStart(){_("focus"),w=y.modelValue},onDragEnd(){var z;_("confirm"),(z=v.value)==null||z.focus()}}),O=vue.computed(()=>{if(!E.value)return null;const z=L.value[0]-I.value[0];return Math.abs(z)<=3?!w:z>0});vue.watch(O,z=>{z!==null&&(F.update(()=>z),_("update:modelValue",z))}),useEventListener(v,"keydown",z=>{const N=z.key.toLowerCase();N===" "?H(!y.modelValue):N==="t"||N==="1"||N==="y"||N==="p"?H(!0):(N==="f"||N==="0"||N==="n"||N==="m")&&H(!1);function H(X){z.preventDefault(),_("update:modelValue",X),_("confirm")}}),useEventListener(v,"input",()=>{const z=v.value.checked;_("update:modelValue",z),_("confirm")}),useEventListener(v,"focus",z=>{z.relatedTarget!==null&&_("focus")}),useEventListener(v,"blur",()=>_("blur"));const F=useMultiSelectStore().register({type:"boolean",el:h,focusing:S,getValue:()=>y.modelValue,setValue(z){_("update:modelValue",z)},confirm(){_("confirm")}});return{tweakingValue:O,subfocus:vue.toRef(F,"subfocus")}}const _hoisted_1$x={class:"TqInputCheckbox"},_hoisted_2$j=["block-position","inline-position"],_hoisted_3$d=["id","checked"],_hoisted_4$5=["for"],_sfc_main$N=vue.defineComponent({__name:"InputCheckbox",props:vue.mergeModels({modelValue:{type:Boolean},label:{},icon:{},inlinePosition:{},blockPosition:{},invalid:{type:Boolean},disabled:{type:Boolean}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:vue.mergeModels(["focus","blur","confirm"],["update:modelValue"]),setup(h,{emit:v}){const y=vue.useModel(h,"modelValue"),_=h,x=v,w=vue.ref(uniqueId("InputCheckbox_")),S=vue.useTemplateRef("track"),E=vue.useTemplateRef("input"),{tweakingValue:I,subfocus:L}=useInputSwitch({track:S,input:E,props:_,emit:x});return(O,F)=>(vue.openBlock(),vue.createElementBlock("div",_hoisted_1$x,[vue.createElementVNode("div",{ref_key:"track",ref:S,class:vue.normalizeClass(["checkbox",{subfocus:vue.unref(L)}]),"block-position":_.blockPosition,"inline-position":_.inlinePosition},[vue.createElementVNode("input",{id:w.value,ref_key:"input",ref:E,checked:y.value,class:"input",type:"checkbox"},null,8,_hoisted_3$d),vue.createVNode(Icon,{icon:_.icon||"mdi:check-bold",class:"mark"},null,8,["icon"]),vue.createVNode(InputSwitchOverlay,{modelValue:vue.unref(I)},null,8,["modelValue"])],10,_hoisted_2$j),O.label?(vue.openBlock(),vue.createElementBlock("label",{key:0,for:w.value},vue.toDisplayString(O.label),9,_hoisted_4$5)):vue.createCommentVNode("",!0)]))}}),InputCheckbox=_export_sfc(_sfc_main$N,[["__scopeId","data-v-a836674c"]]),_hoisted_1$w={class:"TqMonacoEditor"},_sfc_main$M=vue.defineComponent({__name:"MonacoEditor",props:{modelValue:{},lang:{},cursorIndex:{},errors:{}},emits:["update:modelValue","update:cursorIndex","update:cursorPosition"],setup(h){const v=h;return(y,_)=>(vue.openBlock(),vue.createElementBlock("div",_hoisted_1$w,vue.toDisplayString(v.modelValue),1))}}),MonacoEditor=_export_sfc(_sfc_main$M,[["__scopeId","data-v-33fe43be"]]),_hoisted_1$v={class:"TqInputCode"},_sfc_main$L=vue.defineComponent({__name:"InputCode",props:{modelValue:{},lang:{}},emits:["update:modelValue"],setup(h){return(v,y)=>(vue.openBlock(),vue.createElementBlock("div",_hoisted_1$v,[vue.createVNode(vue.unref(MonacoEditor),{class:"monaco-editor",modelValue:v.modelValue,lang:v.lang,"onUpdate:modelValue":y[0]||(y[0]=_=>v.$emit("update:modelValue",_))},null,8,["modelValue","lang"])]))}}),InputCode=_export_sfc(_sfc_main$L,[["__scopeId","data-v-05ebbf23"]]),{min:min$5,max:max$5}=Math,limit=(h,v=0,y=1)=>min$5(max$5(v,h),y),clip_rgb=h=>{h._clipped=!1,h._unclipped=h.slice(0);for(let v=0;v<=3;v++)v<3?((h[v]<0||h[v]>255)&&(h._clipped=!0),h[v]=limit(h[v],0,255)):v===3&&(h[v]=limit(h[v],0,1));return h},classToType={};for(let h of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])classToType[`[object ${h}]`]=h.toLowerCase();function type(h){return classToType[Object.prototype.toString.call(h)]||"object"}const unpack=(h,v=null)=>h.length>=3?Array.prototype.slice.call(h):type(h[0])=="object"&&v?v.split("").filter(y=>h[0][y]!==void 0).map(y=>h[0][y]):h[0].slice(0),last=h=>{if(h.length<2)return null;const v=h.length-1;return type(h[v])=="string"?h[v].toLowerCase():null},{PI:PI$2,min:min$4,max:max$4}=Math,rnd2=h=>Math.round(h*100)/100,rnd3=h=>Math.round(h*100)/100,TWOPI=PI$2*2,PITHIRD=PI$2/3,DEG2RAD=PI$2/180,RAD2DEG=180/PI$2;function reverse3(h){return[...h.slice(0,3).reverse(),...h.slice(3)]}const input={format:{},autodetect:[]};class Color{constructor(...v){const y=this;if(type(v[0])==="object"&&v[0].constructor&&v[0].constructor===this.constructor)return v[0];let _=last(v),x=!1;if(!_){x=!0,input.sorted||(input.autodetect=input.autodetect.sort((w,S)=>S.p-w.p),input.sorted=!0);for(let w of input.autodetect)if(_=w.test(...v),_)break}if(input.format[_]){const w=input.format[_].apply(null,x?v:v.slice(0,-1));y._rgb=clip_rgb(w)}else throw new Error("unknown format: "+v);y._rgb.length===3&&y._rgb.push(1)}toString(){return type(this.hex)=="function"?this.hex():`[${this._rgb.join(",")}]`}}const version="3.1.2",chroma=(...h)=>new Color(...h);chroma.version=version;const w3cx11={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},RE_HEX=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,RE_HEXA=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,hex2rgb=h=>{if(h.match(RE_HEX)){(h.length===4||h.length===7)&&(h=h.substr(1)),h.length===3&&(h=h.split(""),h=h[0]+h[0]+h[1]+h[1]+h[2]+h[2]);const v=parseInt(h,16),y=v>>16,_=v>>8&255,x=v&255;return[y,_,x,1]}if(h.match(RE_HEXA)){(h.length===5||h.length===9)&&(h=h.substr(1)),h.length===4&&(h=h.split(""),h=h[0]+h[0]+h[1]+h[1]+h[2]+h[2]+h[3]+h[3]);const v=parseInt(h,16),y=v>>24&255,_=v>>16&255,x=v>>8&255,w=Math.round((v&255)/255*100)/100;return[y,_,x,w]}throw new Error(`unknown hex color: ${h}`)},{round:round$6}=Math,rgb2hex=(...h)=>{let[v,y,_,x]=unpack(h,"rgba"),w=last(h)||"auto";x===void 0&&(x=1),w==="auto"&&(w=x<1?"rgba":"rgb"),v=round$6(v),y=round$6(y),_=round$6(_);let E="000000"+(v<<16|y<<8|_).toString(16);E=E.substr(E.length-6);let I="0"+round$6(x*255).toString(16);switch(I=I.substr(I.length-2),w.toLowerCase()){case"rgba":return`#${E}${I}`;case"argb":return`#${I}${E}`;default:return`#${E}`}};Color.prototype.name=function(){const h=rgb2hex(this._rgb,"rgb");for(let v of Object.keys(w3cx11))if(w3cx11[v]===h)return v.toLowerCase();return h},input.format.named=h=>{if(h=h.toLowerCase(),w3cx11[h])return hex2rgb(w3cx11[h]);throw new Error("unknown color name: "+h)},input.autodetect.push({p:5,test:(h,...v)=>{if(!v.length&&type(h)==="string"&&w3cx11[h.toLowerCase()])return"named"}}),Color.prototype.alpha=function(h,v=!1){return h!==void 0&&type(h)==="number"?v?(this._rgb[3]=h,this):new Color([this._rgb[0],this._rgb[1],this._rgb[2],h],"rgb"):this._rgb[3]},Color.prototype.clipped=function(){return this._rgb._clipped||!1};const labConstants={Kn:18,labWhitePoint:"d65",Xn:.95047,Yn:1,Zn:1.08883,kE:216/24389,kKE:8,kK:24389/27,RefWhiteRGB:{X:.95047,Y:1,Z:1.08883},MtxRGB2XYZ:{m00:.4124564390896922,m01:.21267285140562253,m02:.0193338955823293,m10:.357576077643909,m11:.715152155287818,m12:.11919202588130297,m20:.18043748326639894,m21:.07217499330655958,m22:.9503040785363679},MtxXYZ2RGB:{m00:3.2404541621141045,m01:-.9692660305051868,m02:.055643430959114726,m10:-1.5371385127977166,m11:1.8760108454466942,m12:-.2040259135167538,m20:-.498531409556016,m21:.041556017530349834,m22:1.0572251882231791},As:.9414285350000001,Bs:1.040417467,Cs:1.089532651,MtxAdaptMa:{m00:.8951,m01:-.7502,m02:.0389,m10:.2664,m11:1.7135,m12:-.0685,m20:-.1614,m21:.0367,m22:1.0296},MtxAdaptMaI:{m00:.9869929054667123,m01:.43230526972339456,m02:-.008528664575177328,m10:-.14705425642099013,m11:.5183602715367776,m12:.04004282165408487,m20:.15996265166373125,m21:.0492912282128556,m22:.9684866957875502}},ILLUMINANTS=new Map([["a",[1.0985,.35585]],["b",[1.0985,.35585]],["c",[.98074,1.18232]],["d50",[.96422,.82521]],["d55",[.95682,.92149]],["d65",[.95047,1.08883]],["e",[1,1,1]],["f2",[.99186,.67393]],["f7",[.95041,1.08747]],["f11",[1.00962,.6435]],["icc",[.96422,.82521]]]);function setLabWhitePoint(h){const v=ILLUMINANTS.get(String(h).toLowerCase());if(!v)throw new Error("unknown Lab illuminant "+h);labConstants.labWhitePoint=h,labConstants.Xn=v[0],labConstants.Zn=v[1]}function getLabWhitePoint(){return labConstants.labWhitePoint}const lab2rgb=(...h)=>{h=unpack(h,"lab");const[v,y,_]=h,[x,w,S]=lab2xyz(v,y,_),[E,I,L]=xyz2rgb(x,w,S);return[E,I,L,h.length>3?h[3]:1]},lab2xyz=(h,v,y)=>{const{kE:_,kK:x,kKE:w,Xn:S,Yn:E,Zn:I}=labConstants,L=(h+16)/116,O=.002*v+L,F=L-.005*y,z=O*O*O,N=F*F*F,H=z>_?z:(116*O-16)/x,X=h>w?Math.pow((h+16)/116,3):h/x,J=N>_?N:(116*F-16)/x,ae=H*S,ve=X*E,pe=J*I;return[ae,ve,pe]},compand=h=>{const v=Math.sign(h);return h=Math.abs(h),(h<=.0031308?h*12.92:1.055*Math.pow(h,1/2.4)-.055)*v},xyz2rgb=(h,v,y)=>{const{MtxAdaptMa:_,MtxAdaptMaI:x,MtxXYZ2RGB:w,RefWhiteRGB:S,Xn:E,Yn:I,Zn:L}=labConstants,O=E*_.m00+I*_.m10+L*_.m20,F=E*_.m01+I*_.m11+L*_.m21,z=E*_.m02+I*_.m12+L*_.m22,N=S.X*_.m00+S.Y*_.m10+S.Z*_.m20,H=S.X*_.m01+S.Y*_.m11+S.Z*_.m21,X=S.X*_.m02+S.Y*_.m12+S.Z*_.m22,J=(h*_.m00+v*_.m10+y*_.m20)*(N/O),ae=(h*_.m01+v*_.m11+y*_.m21)*(H/F),ve=(h*_.m02+v*_.m12+y*_.m22)*(X/z),pe=J*x.m00+ae*x.m10+ve*x.m20,de=J*x.m01+ae*x.m11+ve*x.m21,ce=J*x.m02+ae*x.m12+ve*x.m22,V=compand(pe*w.m00+de*w.m10+ce*w.m20),ie=compand(pe*w.m01+de*w.m11+ce*w.m21),ke=compand(pe*w.m02+de*w.m12+ce*w.m22);return[V*255,ie*255,ke*255]},rgb2lab=(...h)=>{const[v,y,_,...x]=unpack(h,"rgb"),[w,S,E]=rgb2xyz(v,y,_),[I,L,O]=xyz2lab(w,S,E);return[I,L,O,...x.length>0&&x[0]<1?[x[0]]:[]]};function xyz2lab(h,v,y){const{Xn:_,Yn:x,Zn:w,kE:S,kK:E}=labConstants,I=h/_,L=v/x,O=y/w,F=I>S?Math.pow(I,1/3):(E*I+16)/116,z=L>S?Math.pow(L,1/3):(E*L+16)/116,N=O>S?Math.pow(O,1/3):(E*O+16)/116;return[116*z-16,500*(F-z),200*(z-N)]}function gammaAdjustSRGB(h){const v=Math.sign(h);return h=Math.abs(h),(h<=.04045?h/12.92:Math.pow((h+.055)/1.055,2.4))*v}const rgb2xyz=(h,v,y)=>{h=gammaAdjustSRGB(h/255),v=gammaAdjustSRGB(v/255),y=gammaAdjustSRGB(y/255);const{MtxRGB2XYZ:_,MtxAdaptMa:x,MtxAdaptMaI:w,Xn:S,Yn:E,Zn:I,As:L,Bs:O,Cs:F}=labConstants;let z=h*_.m00+v*_.m10+y*_.m20,N=h*_.m01+v*_.m11+y*_.m21,H=h*_.m02+v*_.m12+y*_.m22;const X=S*x.m00+E*x.m10+I*x.m20,J=S*x.m01+E*x.m11+I*x.m21,ae=S*x.m02+E*x.m12+I*x.m22;let ve=z*x.m00+N*x.m10+H*x.m20,pe=z*x.m01+N*x.m11+H*x.m21,de=z*x.m02+N*x.m12+H*x.m22;return ve*=X/L,pe*=J/O,de*=ae/F,z=ve*w.m00+pe*w.m10+de*w.m20,N=ve*w.m01+pe*w.m11+de*w.m21,H=ve*w.m02+pe*w.m12+de*w.m22,[z,N,H]};Color.prototype.lab=function(){return rgb2lab(this._rgb)};const lab$1=(...h)=>new Color(...h,"lab");Object.assign(chroma,{lab:lab$1,getLabWhitePoint,setLabWhitePoint}),input.format.lab=lab2rgb,input.autodetect.push({p:2,test:(...h)=>{if(h=unpack(h,"lab"),type(h)==="array"&&h.length===3)return"lab"}}),Color.prototype.darken=function(h=1){const v=this,y=v.lab();return y[0]-=labConstants.Kn*h,new Color(y,"lab").alpha(v.alpha(),!0)},Color.prototype.brighten=function(h=1){return this.darken(-h)},Color.prototype.darker=Color.prototype.darken,Color.prototype.brighter=Color.prototype.brighten,Color.prototype.get=function(h){const[v,y]=h.split("."),_=this[v]();if(y){const x=v.indexOf(y)-(v.substr(0,2)==="ok"?2:0);if(x>-1)return _[x];throw new Error(`unknown channel ${y} in mode ${v}`)}else return _};const{pow:pow$6}=Math,EPS=1e-7,MAX_ITER=20;Color.prototype.luminance=function(h,v="rgb"){if(h!==void 0&&type(h)==="number"){if(h===0)return new Color([0,0,0,this._rgb[3]],"rgb");if(h===1)return new Color([255,255,255,this._rgb[3]],"rgb");let y=this.luminance(),_=MAX_ITER;const x=(S,E)=>{const I=S.interpolate(E,.5,v),L=I.luminance();return Math.abs(h-L)<EPS||!_--?I:L>h?x(S,I):x(I,E)},w=(y>h?x(new Color([0,0,0]),this):x(this,new Color([255,255,255]))).rgb();return new Color([...w,this._rgb[3]])}return rgb2luminance(...this._rgb.slice(0,3))};const rgb2luminance=(h,v,y)=>(h=luminance_x(h),v=luminance_x(v),y=luminance_x(y),.2126*h+.7152*v+.0722*y),luminance_x=h=>(h/=255,h<=.03928?h/12.92:pow$6((h+.055)/1.055,2.4)),index={},mix=(h,v,y=.5,..._)=>{let x=_[0]||"lrgb";if(!index[x]&&!_.length&&(x=Object.keys(index)[0]),!index[x])throw new Error(`interpolation mode ${x} is not defined`);return type(h)!=="object"&&(h=new Color(h)),type(v)!=="object"&&(v=new Color(v)),index[x](h,v,y).alpha(h.alpha()+y*(v.alpha()-h.alpha()))};Color.prototype.mix=Color.prototype.interpolate=function(h,v=.5,...y){return mix(this,h,v,...y)},Color.prototype.premultiply=function(h=!1){const v=this._rgb,y=v[3];return h?(this._rgb=[v[0]*y,v[1]*y,v[2]*y,y],this):new Color([v[0]*y,v[1]*y,v[2]*y,y],"rgb")};const{sin:sin$3,cos:cos$4}=Math,lch2lab=(...h)=>{let[v,y,_]=unpack(h,"lch");return isNaN(_)&&(_=0),_=_*DEG2RAD,[v,cos$4(_)*y,sin$3(_)*y]},lch2rgb=(...h)=>{h=unpack(h,"lch");const[v,y,_]=h,[x,w,S]=lch2lab(v,y,_),[E,I,L]=lab2rgb(x,w,S);return[E,I,L,h.length>3?h[3]:1]},hcl2rgb=(...h)=>{const v=reverse3(unpack(h,"hcl"));return lch2rgb(...v)},{sqrt:sqrt$4,atan2:atan2$2,round:round$5}=Math,lab2lch=(...h)=>{const[v,y,_]=unpack(h,"lab"),x=sqrt$4(y*y+_*_);let w=(atan2$2(_,y)*RAD2DEG+360)%360;return round$5(x*1e4)===0&&(w=Number.NaN),[v,x,w]},rgb2lch=(...h)=>{const[v,y,_,...x]=unpack(h,"rgb"),[w,S,E]=rgb2lab(v,y,_),[I,L,O]=lab2lch(w,S,E);return[I,L,O,...x.length>0&&x[0]<1?[x[0]]:[]]};Color.prototype.lch=function(){return rgb2lch(this._rgb)},Color.prototype.hcl=function(){return reverse3(rgb2lch(this._rgb))};const lch$1=(...h)=>new Color(...h,"lch"),hcl=(...h)=>new Color(...h,"hcl");Object.assign(chroma,{lch:lch$1,hcl}),input.format.lch=lch2rgb,input.format.hcl=hcl2rgb,["lch","hcl"].forEach(h=>input.autodetect.push({p:2,test:(...v)=>{if(v=unpack(v,h),type(v)==="array"&&v.length===3)return h}})),Color.prototype.saturate=function(h=1){const v=this,y=v.lch();return y[1]+=labConstants.Kn*h,y[1]<0&&(y[1]=0),new Color(y,"lch").alpha(v.alpha(),!0)},Color.prototype.desaturate=function(h=1){return this.saturate(-h)},Color.prototype.set=function(h,v,y=!1){const[_,x]=h.split("."),w=this[_]();if(x){const S=_.indexOf(x)-(_.substr(0,2)==="ok"?2:0);if(S>-1){if(type(v)=="string")switch(v.charAt(0)){case"+":w[S]+=+v;break;case"-":w[S]+=+v;break;case"*":w[S]*=+v.substr(1);break;case"/":w[S]/=+v.substr(1);break;default:w[S]=+v}else if(type(v)==="number")w[S]=v;else throw new Error("unsupported value for Color.set");const E=new Color(w,_);return y?(this._rgb=E._rgb,this):E}throw new Error(`unknown channel ${x} in mode ${_}`)}else return w},Color.prototype.tint=function(h=.5,...v){return mix(this,"white",h,...v)},Color.prototype.shade=function(h=.5,...v){return mix(this,"black",h,...v)};const rgb$1=(h,v,y)=>{const _=h._rgb,x=v._rgb;return new Color(_[0]+y*(x[0]-_[0]),_[1]+y*(x[1]-_[1]),_[2]+y*(x[2]-_[2]),"rgb")};index.rgb=rgb$1;const{sqrt:sqrt$3,pow:pow$5}=Math,lrgb=(h,v,y)=>{const[_,x,w]=h._rgb,[S,E,I]=v._rgb;return new Color(sqrt$3(pow$5(_,2)*(1-y)+pow$5(S,2)*y),sqrt$3(pow$5(x,2)*(1-y)+pow$5(E,2)*y),sqrt$3(pow$5(w,2)*(1-y)+pow$5(I,2)*y),"rgb")};index.lrgb=lrgb;const lab=(h,v,y)=>{const _=h.lab(),x=v.lab();return new Color(_[0]+y*(x[0]-_[0]),_[1]+y*(x[1]-_[1]),_[2]+y*(x[2]-_[2]),"lab")};index.lab=lab;const interpolate_hsx=(h,v,y,_)=>{let x,w;_==="hsl"?(x=h.hsl(),w=v.hsl()):_==="hsv"?(x=h.hsv(),w=v.hsv()):_==="hcg"?(x=h.hcg(),w=v.hcg()):_==="hsi"?(x=h.hsi(),w=v.hsi()):_==="lch"||_==="hcl"?(_="hcl",x=h.hcl(),w=v.hcl()):_==="oklch"&&(x=h.oklch().reverse(),w=v.oklch().reverse());let S,E,I,L,O,F;(_.substr(0,1)==="h"||_==="oklch")&&([S,I,O]=x,[E,L,F]=w);let z,N,H,X;return!isNaN(S)&&!isNaN(E)?(E>S&&E-S>180?X=E-(S+360):E<S&&S-E>180?X=E+360-S:X=E-S,N=S+y*X):isNaN(S)?isNaN(E)?N=Number.NaN:(N=E,(O==1||O==0)&&_!="hsv"&&(z=L)):(N=S,(F==1||F==0)&&_!="hsv"&&(z=I)),z===void 0&&(z=I+y*(L-I)),H=O+y*(F-O),_==="oklch"?new Color([H,z,N],_):new Color([N,z,H],_)},lch=(h,v,y)=>interpolate_hsx(h,v,y,"lch");index.lch=lch,index.hcl=lch;const num2rgb=h=>{if(type(h)=="number"&&h>=0&&h<=16777215){const v=h>>16,y=h>>8&255,_=h&255;return[v,y,_,1]}throw new Error("unknown num color: "+h)},rgb2num=(...h)=>{const[v,y,_]=unpack(h,"rgb");return(v<<16)+(y<<8)+_};Color.prototype.num=function(){return rgb2num(this._rgb)};const num$1=(...h)=>new Color(...h,"num");Object.assign(chroma,{num:num$1}),input.format.num=num2rgb,input.autodetect.push({p:5,test:(...h)=>{if(h.length===1&&type(h[0])==="number"&&h[0]>=0&&h[0]<=16777215)return"num"}});const num=(h,v,y)=>{const _=h.num(),x=v.num();return new Color(_+y*(x-_),"num")};index.num=num;const{floor:floor$5}=Math,hcg2rgb=(...h)=>{h=unpack(h,"hcg");let[v,y,_]=h,x,w,S;_=_*255;const E=y*255;if(y===0)x=w=S=_;else{v===360&&(v=0),v>360&&(v-=360),v<0&&(v+=360),v/=60;const I=floor$5(v),L=v-I,O=_*(1-y),F=O+E*(1-L),z=O+E*L,N=O+E;switch(I){case 0:[x,w,S]=[N,z,O];break;case 1:[x,w,S]=[F,N,O];break;case 2:[x,w,S]=[O,N,z];break;case 3:[x,w,S]=[O,F,N];break;case 4:[x,w,S]=[z,O,N];break;case 5:[x,w,S]=[N,O,F];break}}return[x,w,S,h.length>3?h[3]:1]},rgb2hcg=(...h)=>{const[v,y,_]=unpack(h,"rgb"),x=min$4(v,y,_),w=max$4(v,y,_),S=w-x,E=S*100/255,I=x/(255-S)*100;let L;return S===0?L=Number.NaN:(v===w&&(L=(y-_)/S),y===w&&(L=2+(_-v)/S),_===w&&(L=4+(v-y)/S),L*=60,L<0&&(L+=360)),[L,E,I]};Color.prototype.hcg=function(){return rgb2hcg(this._rgb)};const hcg$1=(...h)=>new Color(...h,"hcg");chroma.hcg=hcg$1,input.format.hcg=hcg2rgb,input.autodetect.push({p:1,test:(...h)=>{if(h=unpack(h,"hcg"),type(h)==="array"&&h.length===3)return"hcg"}});const hcg=(h,v,y)=>interpolate_hsx(h,v,y,"hcg");index.hcg=hcg;const{cos:cos$3}=Math,hsi2rgb=(...h)=>{h=unpack(h,"hsi");let[v,y,_]=h,x,w,S;return isNaN(v)&&(v=0),isNaN(y)&&(y=0),v>360&&(v-=360),v<0&&(v+=360),v/=360,v<1/3?(S=(1-y)/3,x=(1+y*cos$3(TWOPI*v)/cos$3(PITHIRD-TWOPI*v))/3,w=1-(S+x)):v<2/3?(v-=1/3,x=(1-y)/3,w=(1+y*cos$3(TWOPI*v)/cos$3(PITHIRD-TWOPI*v))/3,S=1-(x+w)):(v-=2/3,w=(1-y)/3,S=(1+y*cos$3(TWOPI*v)/cos$3(PITHIRD-TWOPI*v))/3,x=1-(w+S)),x=limit(_*x*3),w=limit(_*w*3),S=limit(_*S*3),[x*255,w*255,S*255,h.length>3?h[3]:1]},{min:min$3,sqrt:sqrt$2,acos}=Math,rgb2hsi=(...h)=>{let[v,y,_]=unpack(h,"rgb");v/=255,y/=255,_/=255;let x;const w=min$3(v,y,_),S=(v+y+_)/3,E=S>0?1-w/S:0;return E===0?x=NaN:(x=(v-y+(v-_))/2,x/=sqrt$2((v-y)*(v-y)+(v-_)*(y-_)),x=acos(x),_>y&&(x=TWOPI-x),x/=TWOPI),[x*360,E,S]};Color.prototype.hsi=function(){return rgb2hsi(this._rgb)};const hsi$1=(...h)=>new Color(...h,"hsi");chroma.hsi=hsi$1,input.format.hsi=hsi2rgb,input.autodetect.push({p:2,test:(...h)=>{if(h=unpack(h,"hsi"),type(h)==="array"&&h.length===3)return"hsi"}});const hsi=(h,v,y)=>interpolate_hsx(h,v,y,"hsi");index.hsi=hsi;const hsl2rgb=(...h)=>{h=unpack(h,"hsl");const[v,y,_]=h;let x,w,S;if(y===0)x=w=S=_*255;else{const E=[0,0,0],I=[0,0,0],L=_<.5?_*(1+y):_+y-_*y,O=2*_-L,F=v/360;E[0]=F+1/3,E[1]=F,E[2]=F-1/3;for(let z=0;z<3;z++)E[z]<0&&(E[z]+=1),E[z]>1&&(E[z]-=1),6*E[z]<1?I[z]=O+(L-O)*6*E[z]:2*E[z]<1?I[z]=L:3*E[z]<2?I[z]=O+(L-O)*(2/3-E[z])*6:I[z]=O;[x,w,S]=[I[0]*255,I[1]*255,I[2]*255]}return h.length>3?[x,w,S,h[3]]:[x,w,S,1]},rgb2hsl$1=(...h)=>{h=unpack(h,"rgba");let[v,y,_]=h;v/=255,y/=255,_/=255;const x=min$4(v,y,_),w=max$4(v,y,_),S=(w+x)/2;let E,I;return w===x?(E=0,I=Number.NaN):E=S<.5?(w-x)/(w+x):(w-x)/(2-w-x),v==w?I=(y-_)/(w-x):y==w?I=2+(_-v)/(w-x):_==w&&(I=4+(v-y)/(w-x)),I*=60,I<0&&(I+=360),h.length>3&&h[3]!==void 0?[I,E,S,h[3]]:[I,E,S]};Color.prototype.hsl=function(){return rgb2hsl$1(this._rgb)};const hsl$1=(...h)=>new Color(...h,"hsl");chroma.hsl=hsl$1,input.format.hsl=hsl2rgb,input.autodetect.push({p:2,test:(...h)=>{if(h=unpack(h,"hsl"),type(h)==="array"&&h.length===3)return"hsl"}});const hsl=(h,v,y)=>interpolate_hsx(h,v,y,"hsl");index.hsl=hsl;const{floor:floor$4}=Math,hsv2rgb$1=(...h)=>{h=unpack(h,"hsv");let[v,y,_]=h,x,w,S;if(_*=255,y===0)x=w=S=_;else{v===360&&(v=0),v>360&&(v-=360),v<0&&(v+=360),v/=60;const E=floor$4(v),I=v-E,L=_*(1-y),O=_*(1-y*I),F=_*(1-y*(1-I));switch(E){case 0:[x,w,S]=[_,F,L];break;case 1:[x,w,S]=[O,_,L];break;case 2:[x,w,S]=[L,_,F];break;case 3:[x,w,S]=[L,O,_];break;case 4:[x,w,S]=[F,L,_];break;case 5:[x,w,S]=[_,L,O];break}}return[x,w,S,h.length>3?h[3]:1]},{min:min$2,max:max$3}=Math,rgb2hsl=(...h)=>{h=unpack(h,"rgb");let[v,y,_]=h;const x=min$2(v,y,_),w=max$3(v,y,_),S=w-x;let E,I,L;return L=w/255,w===0?(E=Number.NaN,I=0):(I=S/w,v===w&&(E=(y-_)/S),y===w&&(E=2+(_-v)/S),_===w&&(E=4+(v-y)/S),E*=60,E<0&&(E+=360)),[E,I,L]};Color.prototype.hsv=function(){return rgb2hsl(this._rgb)};const hsv$1=(...h)=>new Color(...h,"hsv");chroma.hsv=hsv$1,input.format.hsv=hsv2rgb$1,input.autodetect.push({p:2,test:(...h)=>{if(h=unpack(h,"hsv"),type(h)==="array"&&h.length===3)return"hsv"}});const hsv=(h,v,y)=>interpolate_hsx(h,v,y,"hsv");index.hsv=hsv;function multiplyMatrices(h,v){let y=h.length;Array.isArray(h[0])||(h=[h]),Array.isArray(v[0])||(v=v.map(S=>[S]));let _=v[0].length,x=v[0].map((S,E)=>v.map(I=>I[E])),w=h.map(S=>x.map(E=>Array.isArray(S)?S.reduce((I,L,O)=>I+L*(E[O]||0),0):E.reduce((I,L)=>I+L*S,0)));return y===1&&(w=w[0]),_===1?w.map(S=>S[0]):w}const oklab2rgb=(...h)=>{h=unpack(h,"lab");const[v,y,_,...x]=h,[w,S,E]=OKLab_to_XYZ([v,y,_]),[I,L,O]=xyz2rgb(w,S,E);return[I,L,O,...x.length>0&&x[0]<1?[x[0]]:[]]};function OKLab_to_XYZ(h){var v=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],y=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],_=multiplyMatrices(y,h);return multiplyMatrices(v,_.map(x=>x**3))}const rgb2oklab=(...h)=>{const[v,y,_,...x]=unpack(h,"rgb"),w=rgb2xyz(v,y,_);return[...XYZ_to_OKLab(w),...x.length>0&&x[0]<1?[x[0]]:[]]};function XYZ_to_OKLab(h){const v=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],y=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],_=multiplyMatrices(v,h);return multiplyMatrices(y,_.map(x=>Math.cbrt(x)))}Color.prototype.oklab=function(){return rgb2oklab(this._rgb)};const oklab$1=(...h)=>new Color(...h,"oklab");Object.assign(chroma,{oklab:oklab$1}),input.format.oklab=oklab2rgb,input.autodetect.push({p:2,test:(...h)=>{if(h=unpack(h,"oklab"),type(h)==="array"&&h.length===3)return"oklab"}});const oklab=(h,v,y)=>{const _=h.oklab(),x=v.oklab();return new Color(_[0]+y*(x[0]-_[0]),_[1]+y*(x[1]-_[1]),_[2]+y*(x[2]-_[2]),"oklab")};index.oklab=oklab;const oklch$1=(h,v,y)=>interpolate_hsx(h,v,y,"oklch");index.oklch=oklch$1;const{pow:pow$4,sqrt:sqrt$1,PI:PI$1,cos:cos$2,sin:sin$2,atan2:atan2$1}=Math,average=(h,v="lrgb",y=null)=>{const _=h.length;y||(y=Array.from(new Array(_)).map(()=>1));const x=_/y.reduce(function(F,z){return F+z});if(y.forEach((F,z)=>{y[z]*=x}),h=h.map(F=>new Color(F)),v==="lrgb")return _average_lrgb(h,y);const w=h.shift(),S=w.get(v),E=[];let I=0,L=0;for(let F=0;F<S.length;F++)if(S[F]=(S[F]||0)*y[0],E.push(isNaN(S[F])?0:y[0]),v.charAt(F)==="h"&&!isNaN(S[F])){const z=S[F]/180*PI$1;I+=cos$2(z)*y[0],L+=sin$2(z)*y[0]}let O=w.alpha()*y[0];h.forEach((F,z)=>{const N=F.get(v);O+=F.alpha()*y[z+1];for(let H=0;H<S.length;H++)if(!isNaN(N[H]))if(E[H]+=y[z+1],v.charAt(H)==="h"){const X=N[H]/180*PI$1;I+=cos$2(X)*y[z+1],L+=sin$2(X)*y[z+1]}else S[H]+=N[H]*y[z+1]});for(let F=0;F<S.length;F++)if(v.charAt(F)==="h"){let z=atan2$1(L/E[F],I/E[F])/PI$1*180;for(;z<0;)z+=360;for(;z>=360;)z-=360;S[F]=z}else S[F]=S[F]/E[F];return O/=_,new Color(S,v).alpha(O>.99999?1:O,!0)},_average_lrgb=(h,v)=>{const y=h.length,_=[0,0,0,0];for(let x=0;x<h.length;x++){const w=h[x],S=v[x]/y,E=w._rgb;_[0]+=pow$4(E[0],2)*S,_[1]+=pow$4(E[1],2)*S,_[2]+=pow$4(E[2],2)*S,_[3]+=E[3]*S}return _[0]=sqrt$1(_[0]),_[1]=sqrt$1(_[1]),_[2]=sqrt$1(_[2]),_[3]>.9999999&&(_[3]=1),new Color(clip_rgb(_))},{pow:pow$3}=Math;function scale(h){let v="rgb",y=chroma("#ccc"),_=0,x=[0,1],w=[],S=[0,0],E=!1,I=[],L=!1,O=0,F=1,z=!1,N={},H=!0,X=1;const J=function(ie){if(ie=ie||["#fff","#000"],ie&&type(ie)==="string"&&chroma.brewer&&chroma.brewer[ie.toLowerCase()]&&(ie=chroma.brewer[ie.toLowerCase()]),type(ie)==="array"){ie.length===1&&(ie=[ie[0],ie[0]]),ie=ie.slice(0);for(let ke=0;ke<ie.length;ke++)ie[ke]=chroma(ie[ke]);w.length=0;for(let ke=0;ke<ie.length;ke++)w.push(ke/(ie.length-1))}return ce(),I=ie},ae=function(ie){if(E!=null){const ke=E.length-1;let be=0;for(;be<ke&&ie>=E[be];)be++;return be-1}return 0};let ve=ie=>ie,pe=ie=>ie;const de=function(ie,ke){let be,Ae;if(ke==null&&(ke=!1),isNaN(ie)||ie===null)return y;ke?Ae=ie:E&&E.length>2?Ae=ae(ie)/(E.length-2):F!==O?Ae=(ie-O)/(F-O):Ae=1,Ae=pe(Ae),ke||(Ae=ve(Ae)),X!==1&&(Ae=pow$3(Ae,X)),Ae=S[0]+Ae*(1-S[0]-S[1]),Ae=limit(Ae,0,1);const ue=Math.floor(Ae*1e4);if(H&&N[ue])be=N[ue];else{if(type(I)==="array")for(let xe=0;xe<w.length;xe++){const Me=w[xe];if(Ae<=Me){be=I[xe];break}if(Ae>=Me&&xe===w.length-1){be=I[xe];break}if(Ae>Me&&Ae<w[xe+1]){Ae=(Ae-Me)/(w[xe+1]-Me),be=chroma.interpolate(I[xe],I[xe+1],Ae,v);break}}else type(I)==="function"&&(be=I(Ae));H&&(N[ue]=be)}return be};var ce=()=>N={};J(h);const V=function(ie){const ke=chroma(de(ie));return L&&ke[L]?ke[L]():ke};return V.classes=function(ie){if(ie!=null){if(type(ie)==="array")E=ie,x=[ie[0],ie[ie.length-1]];else{const ke=chroma.analyze(x);ie===0?E=[ke.min,ke.max]:E=chroma.limits(ke,"e",ie)}return V}return E},V.domain=function(ie){if(!arguments.length)return x;O=ie[0],F=ie[ie.length-1],w=[];const ke=I.length;if(ie.length===ke&&O!==F)for(let be of Array.from(ie))w.push((be-O)/(F-O));else{for(let be=0;be<ke;be++)w.push(be/(ke-1));if(ie.length>2){const be=ie.map((ue,xe)=>xe/(ie.length-1)),Ae=ie.map(ue=>(ue-O)/(F-O));Ae.every((ue,xe)=>be[xe]===ue)||(pe=ue=>{if(ue<=0||ue>=1)return ue;let xe=0;for(;ue>=Ae[xe+1];)xe++;const Me=(ue-Ae[xe])/(Ae[xe+1]-Ae[xe]);return be[xe]+Me*(be[xe+1]-be[xe])})}}return x=[O,F],V},V.mode=function(ie){return arguments.length?(v=ie,ce(),V):v},V.range=function(ie,ke){return J(ie),V},V.out=function(ie){return L=ie,V},V.spread=function(ie){return arguments.length?(_=ie,V):_},V.correctLightness=function(ie){return ie==null&&(ie=!0),z=ie,ce(),z?ve=function(ke){const be=de(0,!0).lab()[0],Ae=de(1,!0).lab()[0],ue=be>Ae;let xe=de(ke,!0).lab()[0];const Me=be+(Ae-be)*ke;let Ge=xe-Me,lt=0,Le=1,Je=20;for(;Math.abs(Ge)>.01&&Je-- >0;)(function(){return ue&&(Ge*=-1),Ge<0?(lt=ke,ke+=(Le-ke)*.5):(Le=ke,ke+=(lt-ke)*.5),xe=de(ke,!0).lab()[0],Ge=xe-Me})();return ke}:ve=ke=>ke,V},V.padding=function(ie){return ie!=null?(type(ie)==="number"&&(ie=[ie,ie]),S=ie,V):S},V.colors=function(ie,ke){arguments.length<2&&(ke="hex");let be=[];if(arguments.length===0)be=I.slice(0);else if(ie===1)be=[V(.5)];else if(ie>1){const Ae=x[0],ue=x[1]-Ae;be=__range__(0,ie).map(xe=>V(Ae+xe/(ie-1)*ue))}else{h=[];let Ae=[];if(E&&E.length>2)for(let ue=1,xe=E.length,Me=1<=xe;Me?ue<xe:ue>xe;Me?ue++:ue--)Ae.push((E[ue-1]+E[ue])*.5);else Ae=x;be=Ae.map(ue=>V(ue))}return chroma[ke]&&(be=be.map(Ae=>Ae[ke]())),be},V.cache=function(ie){return ie!=null?(H=ie,V):H},V.gamma=function(ie){return ie!=null?(X=ie,V):X},V.nodata=function(ie){return ie!=null?(y=chroma(ie),V):y},V}function __range__(h,v,y){let _=[],x=h<v,w=v;for(let S=h;x?S<w:S>w;x?S++:S--)_.push(S);return _}const binom_row=function(h){let v=[1,1];for(let y=1;y<h;y++){let _=[1];for(let x=1;x<=v.length;x++)_[x]=(v[x]||0)+v[x-1];v=_}return v},bezier=function(h){let v,y,_,x;if(h=h.map(w=>new Color(w)),h.length===2)[y,_]=h.map(w=>w.lab()),v=function(w){const S=[0,1,2].map(E=>y[E]+w*(_[E]-y[E]));return new Color(S,"lab")};else if(h.length===3)[y,_,x]=h.map(w=>w.lab()),v=function(w){const S=[0,1,2].map(E=>(1-w)*(1-w)*y[E]+2*(1-w)*w*_[E]+w*w*x[E]);return new Color(S,"lab")};else if(h.length===4){let w;[y,_,x,w]=h.map(S=>S.lab()),v=function(S){const E=[0,1,2].map(I=>(1-S)*(1-S)*(1-S)*y[I]+3*(1-S)*(1-S)*S*_[I]+3*(1-S)*S*S*x[I]+S*S*S*w[I]);return new Color(E,"lab")}}else if(h.length>=5){let w,S,E;w=h.map(I=>I.lab()),E=h.length-1,S=binom_row(E),v=function(I){const L=1-I,O=[0,1,2].map(F=>w.reduce((z,N,H)=>z+S[H]*L**(E-H)*I**H*N[F],0));return new Color(O,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return v},bezier$1=h=>{const v=bezier(h);return v.scale=()=>scale(v),v},{round:round$4}=Math;Color.prototype.rgb=function(h=!0){return h===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(round$4)},Color.prototype.rgba=function(h=!0){return this._rgb.slice(0,4).map((v,y)=>y<3?h===!1?v:round$4(v):v)};const rgb=(...h)=>new Color(...h,"rgb");Object.assign(chroma,{rgb}),input.format.rgb=(...h)=>{const v=unpack(h,"rgba");return v[3]===void 0&&(v[3]=1),v},input.autodetect.push({p:3,test:(...h)=>{if(h=unpack(h,"rgba"),type(h)==="array"&&(h.length===3||h.length===4&&type(h[3])=="number"&&h[3]>=0&&h[3]<=1))return"rgb"}});const blend=(h,v,y)=>{if(!blend[y])throw new Error("unknown blend mode "+y);return blend[y](h,v)},blend_f=h=>(v,y)=>{const _=chroma(y).rgb(),x=chroma(v).rgb();return chroma.rgb(h(_,x))},each=h=>(v,y)=>{const _=[];return _[0]=h(v[0],y[0]),_[1]=h(v[1],y[1]),_[2]=h(v[2],y[2]),_},normal=h=>h,multiply=(h,v)=>h*v/255,darken=(h,v)=>h>v?v:h,lighten=(h,v)=>h>v?h:v,screen=(h,v)=>255*(1-(1-h/255)*(1-v/255)),overlay=(h,v)=>v<128?2*h*v/255:255*(1-2*(1-h/255)*(1-v/255)),burn=(h,v)=>255*(1-(1-v/255)/(h/255)),dodge=(h,v)=>h===255?255:(h=255*(v/255)/(1-h/255),h>255?255:h);blend.normal=blend_f(each(normal)),blend.multiply=blend_f(each(multiply)),blend.screen=blend_f(each(screen)),blend.overlay=blend_f(each(overlay)),blend.darken=blend_f(each(darken)),blend.lighten=blend_f(each(lighten)),blend.dodge=blend_f(each(dodge)),blend.burn=blend_f(each(burn));const{pow:pow$2,sin:sin$1,cos:cos$1}=Math;function cubehelix(h=300,v=-1.5,y=1,_=1,x=[0,1]){let w=0,S;type(x)==="array"?S=x[1]-x[0]:(S=0,x=[x,x]);const E=function(I){const L=TWOPI*((h+120)/360+v*I),O=pow$2(x[0]+S*I,_),z=(w!==0?y[0]+I*w:y)*O*(1-O)/2,N=cos$1(L),H=sin$1(L),X=O+z*(-.14861*N+1.78277*H),J=O+z*(-.29227*N-.90649*H),ae=O+z*(1.97294*N);return chroma(clip_rgb([X*255,J*255,ae*255,1]))};return E.start=function(I){return I==null?h:(h=I,E)},E.rotations=function(I){return I==null?v:(v=I,E)},E.gamma=function(I){return I==null?_:(_=I,E)},E.hue=function(I){return I==null?y:(y=I,type(y)==="array"?(w=y[1]-y[0],w===0&&(y=y[1])):w=0,E)},E.lightness=function(I){return I==null?x:(type(I)==="array"?(x=I,S=I[1]-I[0]):(x=[I,I],S=0),E)},E.scale=()=>chroma.scale(E),E.hue(y),E}const digits="0123456789abcdef",{floor:floor$3,random}=Math,random$1=()=>{let h="#";for(let v=0;v<6;v++)h+=digits.charAt(floor$3(random()*16));return new Color(h,"hex")},{log:log$1,pow:pow$1,floor:floor$2,abs:abs$1}=Math;function analyze(h,v=null){const y={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return type(h)==="object"&&(h=Object.values(h)),h.forEach(_=>{v&&type(_)==="object"&&(_=_[v]),_!=null&&!isNaN(_)&&(y.values.push(_),y.sum+=_,_<y.min&&(y.min=_),_>y.max&&(y.max=_),y.count+=1)}),y.domain=[y.min,y.max],y.limits=(_,x)=>limits(y,_,x),y}function limits(h,v="equal",y=7){type(h)=="array"&&(h=analyze(h));const{min:_,max:x}=h,w=h.values.sort((E,I)=>E-I);if(y===1)return[_,x];const S=[];if(v.substr(0,1)==="c"&&(S.push(_),S.push(x)),v.substr(0,1)==="e"){S.push(_);for(let E=1;E<y;E++)S.push(_+E/y*(x-_));S.push(x)}else if(v.substr(0,1)==="l"){if(_<=0)throw new Error("Logarithmic scales are only possible for values > 0");const E=Math.LOG10E*log$1(_),I=Math.LOG10E*log$1(x);S.push(_);for(let L=1;L<y;L++)S.push(pow$1(10,E+L/y*(I-E)));S.push(x)}else if(v.substr(0,1)==="q"){S.push(_);for(let E=1;E<y;E++){const I=(w.length-1)*E/y,L=floor$2(I);if(L===I)S.push(w[L]);else{const O=I-L;S.push(w[L]*(1-O)+w[L+1]*O)}}S.push(x)}else if(v.substr(0,1)==="k"){let E;const I=w.length,L=new Array(I),O=new Array(y);let F=!0,z=0,N=null;N=[],N.push(_);for(let J=1;J<y;J++)N.push(_+J/y*(x-_));for(N.push(x);F;){for(let ae=0;ae<y;ae++)O[ae]=0;for(let ae=0;ae<I;ae++){const ve=w[ae];let pe=Number.MAX_VALUE,de;for(let ce=0;ce<y;ce++){const V=abs$1(N[ce]-ve);V<pe&&(pe=V,de=ce),O[de]++,L[ae]=de}}const J=new Array(y);for(let ae=0;ae<y;ae++)J[ae]=null;for(let ae=0;ae<I;ae++)E=L[ae],J[E]===null?J[E]=w[ae]:J[E]+=w[ae];for(let ae=0;ae<y;ae++)J[ae]*=1/O[ae];F=!1;for(let ae=0;ae<y;ae++)if(J[ae]!==N[ae]){F=!0;break}N=J,z++,z>200&&(F=!1)}const H={};for(let J=0;J<y;J++)H[J]=[];for(let J=0;J<I;J++)E=L[J],H[E].push(w[J]);let X=[];for(let J=0;J<y;J++)X.push(H[J][0]),X.push(H[J][H[J].length-1]);X=X.sort((J,ae)=>J-ae),S.push(X[0]);for(let J=1;J<X.length;J+=2){const ae=X[J];!isNaN(ae)&&S.indexOf(ae)===-1&&S.push(ae)}}return S}const contrast=(h,v)=>{h=new Color(h),v=new Color(v);const y=h.luminance(),_=v.luminance();return y>_?(y+.05)/(_+.05):(_+.05)/(y+.05)};/**
 * @license
 *
 * The APCA contrast prediction algorithm is based of the formulas published
 * in the APCA-1.0.98G specification by Myndex. The specification is available at:
 * https://raw.githubusercontent.com/Myndex/apca-w3/master/images/APCAw3_0.1.17_APCA0.0.98G.svg
 *
 * Note that the APCA implementation is still beta, so please update to
 * future versions of chroma.js when they become available.
 *
 * You can read more about the APCA Readability Criterion at
 * https://readtech.org/ARC/
 */const W_offset=.027,P_in=5e-4,P_out=.1,R_scale=1.14,B_threshold=.022,B_exp=1.414,contrastAPCA=(h,v)=>{h=new Color(h),v=new Color(v),h.alpha()<1&&(h=mix(v,h,h.alpha(),"rgb"));const y=lum(...h.rgb()),_=lum(...v.rgb()),x=y>=B_threshold?y:y+Math.pow(B_threshold-y,B_exp),w=_>=B_threshold?_:_+Math.pow(B_threshold-_,B_exp),S=Math.pow(w,.56)-Math.pow(x,.57),E=Math.pow(w,.65)-Math.pow(x,.62),I=Math.abs(w-x)<P_in?0:x<w?S*R_scale:E*R_scale;return(Math.abs(I)<P_out?0:I>0?I-W_offset:I+W_offset)*100};function lum(h,v,y){return .2126729*Math.pow(h/255,2.4)+.7151522*Math.pow(v/255,2.4)+.072175*Math.pow(y/255,2.4)}const{sqrt,pow,min:min$1,max:max$2,atan2,abs,cos,sin,exp,PI}=Math;function deltaE(h,v,y=1,_=1,x=1){var w=function(Yt){return 360*Yt/(2*PI)},S=function(Yt){return 2*PI*Yt/360};h=new Color(h),v=new Color(v);const[E,I,L]=Array.from(h.lab()),[O,F,z]=Array.from(v.lab()),N=(E+O)/2,H=sqrt(pow(I,2)+pow(L,2)),X=sqrt(pow(F,2)+pow(z,2)),J=(H+X)/2,ae=.5*(1-sqrt(pow(J,7)/(pow(J,7)+pow(25,7)))),ve=I*(1+ae),pe=F*(1+ae),de=sqrt(pow(ve,2)+pow(L,2)),ce=sqrt(pow(pe,2)+pow(z,2)),V=(de+ce)/2,ie=w(atan2(L,ve)),ke=w(atan2(z,pe)),be=ie>=0?ie:ie+360,Ae=ke>=0?ke:ke+360,ue=abs(be-Ae)>180?(be+Ae+360)/2:(be+Ae)/2,xe=1-.17*cos(S(ue-30))+.24*cos(S(2*ue))+.32*cos(S(3*ue+6))-.2*cos(S(4*ue-63));let Me=Ae-be;Me=abs(Me)<=180?Me:Ae<=be?Me+360:Me-360,Me=2*sqrt(de*ce)*sin(S(Me)/2);const Ge=O-E,lt=ce-de,Le=1+.015*pow(N-50,2)/sqrt(20+pow(N-50,2)),Je=1+.045*V,gt=1+.015*V*xe,ct=30*exp(-pow((ue-275)/25,2)),ur=-(2*sqrt(pow(V,7)/(pow(V,7)+pow(25,7))))*sin(2*S(ct)),rr=sqrt(pow(Ge/(y*Le),2)+pow(lt/(_*Je),2)+pow(Me/(x*gt),2)+ur*(lt/(_*Je))*(Me/(x*gt)));return max$2(0,min$1(100,rr))}function distance(h,v,y="lab"){h=new Color(h),v=new Color(v);const _=h.get(y),x=v.get(y);let w=0;for(let S in _){const E=(_[S]||0)-(x[S]||0);w+=E*E}return Math.sqrt(w)}const valid=(...h)=>{try{return new Color(...h),!0}catch{return!1}},scales={cool(){return scale([chroma.hsl(180,1,.9),chroma.hsl(250,.7,.4)])},hot(){return scale(["#000","#f00","#ff0","#fff"]).mode("rgb")}},colorbrewer={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},colorbrewerTypes=Object.keys(colorbrewer),typeMap=new Map(colorbrewerTypes.map(h=>[h.toLowerCase(),h])),colorbrewerProxy=typeof Proxy=="function"?new Proxy(colorbrewer,{get(h,v){const y=v.toLowerCase();if(typeMap.has(y))return h[typeMap.get(y)]},getOwnPropertyNames(){return Object.getOwnPropertyNames(colorbrewerTypes)}}):colorbrewer,cmyk2rgb=(...h)=>{h=unpack(h,"cmyk");const[v,y,_,x]=h,w=h.length>4?h[4]:1;return x===1?[0,0,0,w]:[v>=1?0:255*(1-v)*(1-x),y>=1?0:255*(1-y)*(1-x),_>=1?0:255*(1-_)*(1-x),w]},{max:max$1}=Math,rgb2cmyk=(...h)=>{let[v,y,_]=unpack(h,"rgb");v=v/255,y=y/255,_=_/255;const x=1-max$1(v,max$1(y,_)),w=x<1?1/(1-x):0,S=(1-v-x)*w,E=(1-y-x)*w,I=(1-_-x)*w;return[S,E,I,x]};Color.prototype.cmyk=function(){return rgb2cmyk(this._rgb)};const cmyk=(...h)=>new Color(...h,"cmyk");Object.assign(chroma,{cmyk}),input.format.cmyk=cmyk2rgb,input.autodetect.push({p:2,test:(...h)=>{if(h=unpack(h,"cmyk"),type(h)==="array"&&h.length===4)return"cmyk"}});const hsl2css=(...h)=>{const v=unpack(h,"hsla");let y=last(h)||"lsa";return v[0]=rnd2(v[0]||0)+"deg",v[1]=rnd2(v[1]*100)+"%",v[2]=rnd2(v[2]*100)+"%",y==="hsla"||v.length>3&&v[3]<1?(v[3]="/ "+(v.length>3?v[3]:1),y="hsla"):v.length=3,`${y.substr(0,3)}(${v.join(" ")})`},lab2css=(...h)=>{const v=unpack(h,"lab");let y=last(h)||"lab";return v[0]=rnd2(v[0])+"%",v[1]=rnd2(v[1]),v[2]=rnd2(v[2]),y==="laba"||v.length>3&&v[3]<1?v[3]="/ "+(v.length>3?v[3]:1):v.length=3,`lab(${v.join(" ")})`},lch2css=(...h)=>{const v=unpack(h,"lch");let y=last(h)||"lab";return v[0]=rnd2(v[0])+"%",v[1]=rnd2(v[1]),v[2]=isNaN(v[2])?"none":rnd2(v[2])+"deg",y==="lcha"||v.length>3&&v[3]<1?v[3]="/ "+(v.length>3?v[3]:1):v.length=3,`lch(${v.join(" ")})`},oklab2css=(...h)=>{const v=unpack(h,"lab");return v[0]=rnd2(v[0]*100)+"%",v[1]=rnd3(v[1]),v[2]=rnd3(v[2]),v.length>3&&v[3]<1?v[3]="/ "+(v.length>3?v[3]:1):v.length=3,`oklab(${v.join(" ")})`},rgb2oklch=(...h)=>{const[v,y,_,...x]=unpack(h,"rgb"),[w,S,E]=rgb2oklab(v,y,_),[I,L,O]=lab2lch(w,S,E);return[I,L,O,...x.length>0&&x[0]<1?[x[0]]:[]]},oklch2css=(...h)=>{const v=unpack(h,"lch");return v[0]=rnd2(v[0]*100)+"%",v[1]=rnd3(v[1]),v[2]=isNaN(v[2])?"none":rnd2(v[2])+"deg",v.length>3&&v[3]<1?v[3]="/ "+(v.length>3?v[3]:1):v.length=3,`oklch(${v.join(" ")})`},{round:round$3}=Math,rgb2css=(...h)=>{const v=unpack(h,"rgba");let y=last(h)||"rgb";if(y.substr(0,3)==="hsl")return hsl2css(rgb2hsl$1(v),y);if(y.substr(0,3)==="lab"){const _=getLabWhitePoint();setLabWhitePoint("d50");const x=lab2css(rgb2lab(v),y);return setLabWhitePoint(_),x}if(y.substr(0,3)==="lch"){const _=getLabWhitePoint();setLabWhitePoint("d50");const x=lch2css(rgb2lch(v),y);return setLabWhitePoint(_),x}return y.substr(0,5)==="oklab"?oklab2css(rgb2oklab(v)):y.substr(0,5)==="oklch"?oklch2css(rgb2oklch(v)):(v[0]=round$3(v[0]),v[1]=round$3(v[1]),v[2]=round$3(v[2]),(y==="rgba"||v.length>3&&v[3]<1)&&(v[3]="/ "+(v.length>3?v[3]:1),y="rgba"),`${y.substr(0,3)}(${v.slice(0,y==="rgb"?3:4).join(" ")})`)},oklch2rgb=(...h)=>{h=unpack(h,"lch");const[v,y,_,...x]=h,[w,S,E]=lch2lab(v,y,_),[I,L,O]=oklab2rgb(w,S,E);return[I,L,O,...x.length>0&&x[0]<1?[x[0]]:[]]},INT_OR_PCT=/((?:-?\d+)|(?:-?\d+(?:\.\d+)?)%|none)/.source,FLOAT_OR_PCT=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%?)|none)/.source,PCT=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%)|none)/.source,RE_S=/\s*/.source,SEP=/\s+/.source,COMMA=/\s*,\s*/.source,ANLGE=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)(?:deg)?)|none)/.source,ALPHA=/\s*(?:\/\s*((?:[01]|[01]?\.\d+)|\d+(?:\.\d+)?%))?/.source,RE_RGB=new RegExp("^rgba?\\("+RE_S+[INT_OR_PCT,INT_OR_PCT,INT_OR_PCT].join(SEP)+ALPHA+"\\)$"),RE_RGB_LEGACY=new RegExp("^rgb\\("+RE_S+[INT_OR_PCT,INT_OR_PCT,INT_OR_PCT].join(COMMA)+RE_S+"\\)$"),RE_RGBA_LEGACY=new RegExp("^rgba\\("+RE_S+[INT_OR_PCT,INT_OR_PCT,INT_OR_PCT,FLOAT_OR_PCT].join(COMMA)+RE_S+"\\)$"),RE_HSL=new RegExp("^hsla?\\("+RE_S+[ANLGE,PCT,PCT].join(SEP)+ALPHA+"\\)$"),RE_HSL_LEGACY=new RegExp("^hsl?\\("+RE_S+[ANLGE,PCT,PCT].join(COMMA)+RE_S+"\\)$"),RE_HSLA_LEGACY=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,RE_LAB=new RegExp("^lab\\("+RE_S+[FLOAT_OR_PCT,FLOAT_OR_PCT,FLOAT_OR_PCT].join(SEP)+ALPHA+"\\)$"),RE_LCH=new RegExp("^lch\\("+RE_S+[FLOAT_OR_PCT,FLOAT_OR_PCT,ANLGE].join(SEP)+ALPHA+"\\)$"),RE_OKLAB=new RegExp("^oklab\\("+RE_S+[FLOAT_OR_PCT,FLOAT_OR_PCT,FLOAT_OR_PCT].join(SEP)+ALPHA+"\\)$"),RE_OKLCH=new RegExp("^oklch\\("+RE_S+[FLOAT_OR_PCT,FLOAT_OR_PCT,ANLGE].join(SEP)+ALPHA+"\\)$"),{round:round$2}=Math,roundRGB=h=>h.map((v,y)=>y<=2?limit(round$2(v),0,255):v),percentToAbsolute=(h,v=0,y=100,_=!1)=>(typeof h=="string"&&h.endsWith("%")&&(h=parseFloat(h.substring(0,h.length-1))/100,_?h=v+(h+1)*.5*(y-v):h=v+h*(y-v)),+h),noneToValue=(h,v)=>h==="none"?v:h,css2rgb=h=>{if(h=h.toLowerCase().trim(),h==="transparent")return[0,0,0,0];let v;if(input.format.named)try{return input.format.named(h)}catch{}if((v=h.match(RE_RGB))||(v=h.match(RE_RGB_LEGACY))){let y=v.slice(1,4);for(let x=0;x<3;x++)y[x]=+percentToAbsolute(noneToValue(y[x],0),0,255);y=roundRGB(y);const _=v[4]!==void 0?+percentToAbsolute(v[4],0,1):1;return y[3]=_,y}if(v=h.match(RE_RGBA_LEGACY)){const y=v.slice(1,5);for(let _=0;_<4;_++)y[_]=+percentToAbsolute(y[_],0,255);return y}if((v=h.match(RE_HSL))||(v=h.match(RE_HSL_LEGACY))){const y=v.slice(1,4);y[0]=+noneToValue(y[0].replace("deg",""),0),y[1]=+percentToAbsolute(noneToValue(y[1],0),0,100)*.01,y[2]=+percentToAbsolute(noneToValue(y[2],0),0,100)*.01;const _=roundRGB(hsl2rgb(y)),x=v[4]!==void 0?+percentToAbsolute(v[4],0,1):1;return _[3]=x,_}if(v=h.match(RE_HSLA_LEGACY)){const y=v.slice(1,4);y[1]*=.01,y[2]*=.01;const _=hsl2rgb(y);for(let x=0;x<3;x++)_[x]=round$2(_[x]);return _[3]=+v[4],_}if(v=h.match(RE_LAB)){const y=v.slice(1,4);y[0]=percentToAbsolute(noneToValue(y[0],0),0,100),y[1]=percentToAbsolute(noneToValue(y[1],0),-125,125,!0),y[2]=percentToAbsolute(noneToValue(y[2],0),-125,125,!0);const _=getLabWhitePoint();setLabWhitePoint("d50");const x=roundRGB(lab2rgb(y));setLabWhitePoint(_);const w=v[4]!==void 0?+percentToAbsolute(v[4],0,1):1;return x[3]=w,x}if(v=h.match(RE_LCH)){const y=v.slice(1,4);y[0]=percentToAbsolute(y[0],0,100),y[1]=percentToAbsolute(noneToValue(y[1],0),0,150,!1),y[2]=+noneToValue(y[2].replace("deg",""),0);const _=getLabWhitePoint();setLabWhitePoint("d50");const x=roundRGB(lch2rgb(y));setLabWhitePoint(_);const w=v[4]!==void 0?+percentToAbsolute(v[4],0,1):1;return x[3]=w,x}if(v=h.match(RE_OKLAB)){const y=v.slice(1,4);y[0]=percentToAbsolute(noneToValue(y[0],0),0,1),y[1]=percentToAbsolute(noneToValue(y[1],0),-.4,.4,!0),y[2]=percentToAbsolute(noneToValue(y[2],0),-.4,.4,!0);const _=roundRGB(oklab2rgb(y)),x=v[4]!==void 0?+percentToAbsolute(v[4],0,1):1;return _[3]=x,_}if(v=h.match(RE_OKLCH)){const y=v.slice(1,4);y[0]=percentToAbsolute(noneToValue(y[0],0),0,1),y[1]=percentToAbsolute(noneToValue(y[1],0),0,.4,!1),y[2]=+noneToValue(y[2].replace("deg",""),0);const _=roundRGB(oklch2rgb(y)),x=v[4]!==void 0?+percentToAbsolute(v[4],0,1):1;return _[3]=x,_}};css2rgb.test=h=>RE_RGB.test(h)||RE_HSL.test(h)||RE_LAB.test(h)||RE_LCH.test(h)||RE_OKLAB.test(h)||RE_OKLCH.test(h)||RE_RGB_LEGACY.test(h)||RE_RGBA_LEGACY.test(h)||RE_HSL_LEGACY.test(h)||RE_HSLA_LEGACY.test(h)||h==="transparent",Color.prototype.css=function(h){return rgb2css(this._rgb,h)};const css=(...h)=>new Color(...h,"css");chroma.css=css,input.format.css=css2rgb,input.autodetect.push({p:5,test:(h,...v)=>{if(!v.length&&type(h)==="string"&&css2rgb.test(h))return"css"}}),input.format.gl=(...h)=>{const v=unpack(h,"rgba");return v[0]*=255,v[1]*=255,v[2]*=255,v};const gl=(...h)=>new Color(...h,"gl");chroma.gl=gl,Color.prototype.gl=function(){const h=this._rgb;return[h[0]/255,h[1]/255,h[2]/255,h[3]]},Color.prototype.hex=function(h){return rgb2hex(this._rgb,h)};const hex=(...h)=>new Color(...h,"hex");chroma.hex=hex,input.format.hex=hex2rgb,input.autodetect.push({p:4,test:(h,...v)=>{if(!v.length&&type(h)==="string"&&[3,4,5,6,7,8,9].indexOf(h.length)>=0)return"hex"}});const{log}=Math,temperature2rgb=h=>{const v=h/100;let y,_,x;return v<66?(y=255,_=v<6?0:-155.25485562709179-.44596950469579133*(_=v-2)+104.49216199393888*log(_),x=v<20?0:-254.76935184120902+.8274096064007395*(x=v-10)+115.67994401066147*log(x)):(y=351.97690566805693+.114206453784165*(y=v-55)-40.25366309332127*log(y),_=325.4494125711974+.07943456536662342*(_=v-50)-28.0852963507957*log(_),x=255),[y,_,x,1]},{round:round$1}=Math,rgb2temperature=(...h)=>{const v=unpack(h,"rgb"),y=v[0],_=v[2];let x=1e3,w=4e4;const S=.4;let E;for(;w-x>S;){E=(w+x)*.5;const I=temperature2rgb(E);I[2]/I[0]>=_/y?w=E:x=E}return round$1(E)};Color.prototype.temp=Color.prototype.kelvin=Color.prototype.temperature=function(){return rgb2temperature(this._rgb)};const temp=(...h)=>new Color(...h,"temp");Object.assign(chroma,{temp,kelvin:temp,temperature:temp}),input.format.temp=input.format.kelvin=input.format.temperature=temperature2rgb,Color.prototype.oklch=function(){return rgb2oklch(this._rgb)};const oklch=(...h)=>new Color(...h,"oklch");Object.assign(chroma,{oklch}),input.format.oklch=oklch2rgb,input.autodetect.push({p:2,test:(...h)=>{if(h=unpack(h,"oklch"),type(h)==="array"&&h.length===3)return"oklch"}}),Object.assign(chroma,{analyze,average,bezier:bezier$1,blend,brewer:colorbrewerProxy,Color,colors:w3cx11,contrast,contrastAPCA,cubehelix,deltaE,distance,input,interpolate:mix,limits,mix,random:random$1,scale,scales,valid});const _hoisted_1$u={class:"TqInputGroup"},_sfc_main$K=vue.defineComponent({__name:"InputGroup",setup(h){return(v,y)=>(vue.openBlock(),vue.createElementBlock("div",_hoisted_1$u,[vue.renderSlot(v.$slots,"default",{},void 0,!0)]))}}),InputGroup=_export_sfc(_sfc_main$K,[["__scopeId","data-v-4981ffc0"]]),_sfc_main$J=vue.defineComponent({__name:"InputString",props:vue.mergeModels({theme:{},font:{},align:{},validator:{type:Function,default:()=>identity},inlinePosition:{},blockPosition:{},invalid:{type:Boolean},disabled:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:vue.mergeModels(["focus","blur","confirm"],["update:modelValue"]),setup(__props,{expose:__expose,emit:__emit}){const model=vue.useModel(__props,"modelValue"),props=__props,emit=__emit,local=vue.ref(model.value),display=vue.ref(model.value),{validLocal,validateResult}=useValidator(local,props.validator),$input=vue.useTemplateRef("$input"),focused=vue.ref(!1),expressionEnabled=vue.ref(!1),expressionError=vue.ref(void 0),invalid=vue.computed(()=>props.invalid||validateResult.value.log.length>0||!!expressionError.value);vue.watch(()=>model.value,h=>{h!==validLocal.value&&(local.value=h)},{flush:"sync"}),vue.watch(()=>[local.value,focused.value],([h,v])=>{v||(display.value=h)},{flush:"sync"}),vue.watch(validLocal,h=>{h!==void 0&&h!==model.value&&(model.value=h)},{flush:"sync"});function onFocus(){multi.capture(),emit("focus")}function onKeyDown(h){h.metaKey&&h.key==="="&&(h.preventDefault(),enableExpression())}let localAtFocus="";function enableExpression(){expressionEnabled.value=!0,display.value=`"${local.value}"`,localAtFocus=local.value}function onInput(e){const newValue=e.target.value;if(display.value=newValue,expressionEnabled.value)try{const fn=eval(`(x, {i}) => {
				const result = (${newValue});
				if (typeof result === 'string') {
					return result
				} else if (typeof result === 'number') {
					return result.toString()
				}
				throw new Error('Value is not a string or number')
			}`);local.value=fn(localAtFocus,{i:multi.index}),expressionError.value=void 0,multi.update(fn)}catch(h){console.error("[InputString] Error evaluating expression",h),expressionError.value=h.message,multi.update(v=>v)}else local.value=newValue,multi.update(()=>newValue)}function confirm(){emit("confirm"),multi.capture(),multi.confirm(),expressionEnabled.value=!1,expressionError.value=void 0,vue.nextTick(()=>{display.value=local.value=model.value})}function onBlur(){confirm(),emit("blur")}__expose({select:()=>{var h;(h=$input.value)==null||h.select()}});const font=vue.computed(()=>{if(props.font)return props.font;if(expressionEnabled.value)return"monospace"}),multi=useMultiSelectStore().register({type:"string",el:$input,focusing:focused,getValue:()=>local.value,setValue(h){local.value=h},confirm(){emit("confirm")}});return(h,v)=>(vue.openBlock(),vue.createBlock(vue.unref(InputTextBase),{ref_key:"$input",ref:$input,focused:focused.value,"onUpdate:focused":v[0]||(v[0]=y=>focused.value=y),class:"TqInputString",active:vue.unref(multi).subfocus,modelValue:display.value,theme:h.theme,font:font.value,align:h.align,"inline-position":h.inlinePosition,"block-position":h.blockPosition,disabled:h.disabled,invalid:invalid.value,onFocus,onBlur,onInput,onKeydown:[onKeyDown,vue.withKeys(confirm,["enter"])]},null,8,["focused","active","modelValue","theme","font","align","inline-position","block-position","disabled","invalid"]))}});var eventemitter3={exports:{}};(function(h){var v=Object.prototype.hasOwnProperty,y="~";function _(){}Object.create&&(_.prototype=Object.create(null),new _().__proto__||(y=!1));function x(I,L,O){this.fn=I,this.context=L,this.once=O||!1}function w(I,L,O,F,z){if(typeof O!="function")throw new TypeError("The listener must be a function");var N=new x(O,F||I,z),H=y?y+L:L;return I._events[H]?I._events[H].fn?I._events[H]=[I._events[H],N]:I._events[H].push(N):(I._events[H]=N,I._eventsCount++),I}function S(I,L){--I._eventsCount===0?I._events=new _:delete I._events[L]}function E(){this._events=new _,this._eventsCount=0}E.prototype.eventNames=function(){var L=[],O,F;if(this._eventsCount===0)return L;for(F in O=this._events)v.call(O,F)&&L.push(y?F.slice(1):F);return Object.getOwnPropertySymbols?L.concat(Object.getOwnPropertySymbols(O)):L},E.prototype.listeners=function(L){var O=y?y+L:L,F=this._events[O];if(!F)return[];if(F.fn)return[F.fn];for(var z=0,N=F.length,H=new Array(N);z<N;z++)H[z]=F[z].fn;return H},E.prototype.listenerCount=function(L){var O=y?y+L:L,F=this._events[O];return F?F.fn?1:F.length:0},E.prototype.emit=function(L,O,F,z,N,H){var X=y?y+L:L;if(!this._events[X])return!1;var J=this._events[X],ae=arguments.length,ve,pe;if(J.fn){switch(J.once&&this.removeListener(L,J.fn,void 0,!0),ae){case 1:return J.fn.call(J.context),!0;case 2:return J.fn.call(J.context,O),!0;case 3:return J.fn.call(J.context,O,F),!0;case 4:return J.fn.call(J.context,O,F,z),!0;case 5:return J.fn.call(J.context,O,F,z,N),!0;case 6:return J.fn.call(J.context,O,F,z,N,H),!0}for(pe=1,ve=new Array(ae-1);pe<ae;pe++)ve[pe-1]=arguments[pe];J.fn.apply(J.context,ve)}else{var de=J.length,ce;for(pe=0;pe<de;pe++)switch(J[pe].once&&this.removeListener(L,J[pe].fn,void 0,!0),ae){case 1:J[pe].fn.call(J[pe].context);break;case 2:J[pe].fn.call(J[pe].context,O);break;case 3:J[pe].fn.call(J[pe].context,O,F);break;case 4:J[pe].fn.call(J[pe].context,O,F,z);break;default:if(!ve)for(ce=1,ve=new Array(ae-1);ce<ae;ce++)ve[ce-1]=arguments[ce];J[pe].fn.apply(J[pe].context,ve)}}return!0},E.prototype.on=function(L,O,F){return w(this,L,O,F,!1)},E.prototype.once=function(L,O,F){return w(this,L,O,F,!0)},E.prototype.removeListener=function(L,O,F,z){var N=y?y+L:L;if(!this._events[N])return this;if(!O)return S(this,N),this;var H=this._events[N];if(H.fn)H.fn===O&&(!z||H.once)&&(!F||H.context===F)&&S(this,N);else{for(var X=0,J=[],ae=H.length;X<ae;X++)(H[X].fn!==O||z&&!H[X].once||F&&H[X].context!==F)&&J.push(H[X]);J.length?this._events[N]=J.length===1?J[0]:J:S(this,N)}return this},E.prototype.removeAllListeners=function(L){var O;return L?(O=y?y+L:L,this._events[O]&&S(this,O)):(this._events=new _,this._eventsCount=0),this},E.prototype.off=E.prototype.removeListener,E.prototype.addListener=E.prototype.on,E.prefixed=y,E.EventEmitter=E,h.exports=E})(eventemitter3);var eventemitter3Exports=eventemitter3.exports;const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports);class TimeoutError extends Error{constructor(v){super(v),this.name="TimeoutError"}}class AbortError extends Error{constructor(v){super(),this.name="AbortError",this.message=v}}const getDOMException=h=>globalThis.DOMException===void 0?new AbortError(h):new DOMException(h),getAbortedReason=h=>{const v=h.reason===void 0?getDOMException("This operation was aborted."):h.reason;return v instanceof Error?v:getDOMException(v)};function pTimeout(h,v){const{milliseconds:y,fallback:_,message:x,customTimers:w={setTimeout,clearTimeout}}=v;let S,E;const L=new Promise((O,F)=>{if(typeof y!="number"||Math.sign(y)!==1)throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${y}\``);if(v.signal){const{signal:N}=v;N.aborted&&F(getAbortedReason(N)),E=()=>{F(getAbortedReason(N))},N.addEventListener("abort",E,{once:!0})}if(y===Number.POSITIVE_INFINITY){h.then(O,F);return}const z=new TimeoutError;S=w.setTimeout.call(void 0,()=>{if(_){try{O(_())}catch(N){F(N)}return}typeof h.cancel=="function"&&h.cancel(),x===!1?O():x instanceof Error?F(x):(z.message=x??`Promise timed out after ${y} milliseconds`,F(z))},y),(async()=>{try{O(await h)}catch(N){F(N)}})()}).finally(()=>{L.clear(),E&&v.signal&&v.signal.removeEventListener("abort",E)});return L.clear=()=>{w.clearTimeout.call(void 0,S),S=void 0},L}function lowerBound(h,v,y){let _=0,x=h.length;for(;x>0;){const w=Math.trunc(x/2);let S=_+w;y(h[S],v)<=0?(_=++S,x-=w+1):x=w}return _}class PriorityQueue{constructor(){wn(this,Ui,[])}enqueue(v,y){y={priority:0,...y};const _={priority:y.priority,run:v};if(this.size&&wr(this,Ui)[this.size-1].priority>=y.priority){wr(this,Ui).push(_);return}const x=lowerBound(wr(this,Ui),_,(w,S)=>S.priority-w.priority);wr(this,Ui).splice(x,0,_)}dequeue(){const v=wr(this,Ui).shift();return v==null?void 0:v.run}filter(v){return wr(this,Ui).filter(y=>y.priority===v.priority).map(y=>y.run)}get size(){return wr(this,Ui).length}}Ui=new WeakMap;class PQueue extends EventEmitter{constructor(y){var _,x;super();wn(this,dn);wn(this,Qa);wn(this,Ja);wn(this,ga,0);wn(this,Co);wn(this,eo);wn(this,ko,0);wn(this,Ii);wn(this,ro);wn(this,xi);wn(this,So);wn(this,Di,0);wn(this,no);wn(this,ra);wn(this,Eo);ma(this,"timeout");if(y={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:PriorityQueue,...y},!(typeof y.intervalCap=="number"&&y.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${((_=y.intervalCap)==null?void 0:_.toString())??""}\` (${typeof y.intervalCap})`);if(y.interval===void 0||!(Number.isFinite(y.interval)&&y.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${((x=y.interval)==null?void 0:x.toString())??""}\` (${typeof y.interval})`);gn(this,Qa,y.carryoverConcurrencyCount),gn(this,Ja,y.intervalCap===Number.POSITIVE_INFINITY||y.interval===0),gn(this,Co,y.intervalCap),gn(this,eo,y.interval),gn(this,xi,new y.queueClass),gn(this,So,y.queueClass),this.concurrency=y.concurrency,this.timeout=y.timeout,gn(this,Eo,y.throwOnTimeout===!0),gn(this,ra,y.autoStart===!1)}get concurrency(){return wr(this,no)}set concurrency(y){if(!(typeof y=="number"&&y>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${y}\` (${typeof y})`);gn(this,no,y),Xn(this,dn,Rs).call(this)}async add(y,_={}){return _={timeout:this.timeout,throwOnTimeout:wr(this,Eo),..._},new Promise((x,w)=>{wr(this,xi).enqueue(async()=>{var S;Ls(this,Di)._++,Ls(this,ga)._++;try{(S=_.signal)==null||S.throwIfAborted();let E=y({signal:_.signal});_.timeout&&(E=pTimeout(Promise.resolve(E),{milliseconds:_.timeout})),_.signal&&(E=Promise.race([E,Xn(this,dn,tc).call(this,_.signal)]));const I=await E;x(I),this.emit("completed",I)}catch(E){if(E instanceof TimeoutError&&!_.throwOnTimeout){x();return}w(E),this.emit("error",E)}finally{Xn(this,dn,Ql).call(this)}},_),this.emit("add"),Xn(this,dn,$s).call(this)})}async addAll(y,_){return Promise.all(y.map(async x=>this.add(x,_)))}start(){return wr(this,ra)?(gn(this,ra,!1),Xn(this,dn,Rs).call(this),this):this}pause(){gn(this,ra,!0)}clear(){gn(this,xi,new(wr(this,So)))}async onEmpty(){wr(this,xi).size!==0&&await Xn(this,dn,Os).call(this,"empty")}async onSizeLessThan(y){wr(this,xi).size<y||await Xn(this,dn,Os).call(this,"next",()=>wr(this,xi).size<y)}async onIdle(){wr(this,Di)===0&&wr(this,xi).size===0||await Xn(this,dn,Os).call(this,"idle")}get size(){return wr(this,xi).size}sizeBy(y){return wr(this,xi).filter(y).length}get pending(){return wr(this,Di)}get isPaused(){return wr(this,ra)}}Qa=new WeakMap,Ja=new WeakMap,ga=new WeakMap,Co=new WeakMap,eo=new WeakMap,ko=new WeakMap,Ii=new WeakMap,ro=new WeakMap,xi=new WeakMap,So=new WeakMap,Di=new WeakMap,no=new WeakMap,ra=new WeakMap,Eo=new WeakMap,dn=new WeakSet,Zl=function(){return wr(this,Ja)||wr(this,ga)<wr(this,Co)},Kl=function(){return wr(this,Di)<wr(this,no)},Ql=function(){Ls(this,Di)._--,Xn(this,dn,$s).call(this),this.emit("next")},Jl=function(){Xn(this,dn,ku).call(this),Xn(this,dn,Cu).call(this),gn(this,ro,void 0)},ec=function(){const y=Date.now();if(wr(this,Ii)===void 0){const _=wr(this,ko)-y;if(_<0)gn(this,ga,wr(this,Qa)?wr(this,Di):0);else return wr(this,ro)===void 0&&gn(this,ro,setTimeout(()=>{Xn(this,dn,Jl).call(this)},_)),!0}return!1},$s=function(){if(wr(this,xi).size===0)return wr(this,Ii)&&clearInterval(wr(this,Ii)),gn(this,Ii,void 0),this.emit("empty"),wr(this,Di)===0&&this.emit("idle"),!1;if(!wr(this,ra)){const y=!wr(this,dn,ec);if(wr(this,dn,Zl)&&wr(this,dn,Kl)){const _=wr(this,xi).dequeue();return _?(this.emit("active"),_(),y&&Xn(this,dn,Cu).call(this),!0):!1}}return!1},Cu=function(){wr(this,Ja)||wr(this,Ii)!==void 0||(gn(this,Ii,setInterval(()=>{Xn(this,dn,ku).call(this)},wr(this,eo))),gn(this,ko,Date.now()+wr(this,eo)))},ku=function(){wr(this,ga)===0&&wr(this,Di)===0&&wr(this,Ii)&&(clearInterval(wr(this,Ii)),gn(this,Ii,void 0)),gn(this,ga,wr(this,Qa)?wr(this,Di):0),Xn(this,dn,Rs).call(this)},Rs=function(){for(;Xn(this,dn,$s).call(this););},tc=async function(y){return new Promise((_,x)=>{y.addEventListener("abort",()=>{x(y.reason)},{once:!0})})},Os=async function(y,_){return new Promise(x=>{const w=()=>{_&&!_()||(this.off(y,w),x())};this.on(y,w)})};var regl={exports:{}};(function(h,v){(function(y,_){h.exports=_()})(commonjsGlobal,function(){var y=function(fe){return fe instanceof Uint8Array||fe instanceof Uint16Array||fe instanceof Uint32Array||fe instanceof Int8Array||fe instanceof Int16Array||fe instanceof Int32Array||fe instanceof Float32Array||fe instanceof Float64Array||fe instanceof Uint8ClampedArray},_=function(fe,Te){for(var Ve=Object.keys(Te),vt=0;vt<Ve.length;++vt)fe[Ve[vt]]=Te[Ve[vt]];return fe},x=`
`;function w(fe){return typeof atob<"u"?atob(fe):"base64:"+fe}function S(fe){var Te=new Error("(regl) "+fe);throw console.error(Te),Te}function E(fe,Te){fe||S(Te)}function I(fe){return fe?": "+fe:""}function L(fe,Te,Ve){fe in Te||S("unknown parameter ("+fe+")"+I(Ve)+". possible values: "+Object.keys(Te).join())}function O(fe,Te){y(fe)||S("invalid parameter type"+I(Te)+". must be a typed array")}function F(fe,Te){switch(Te){case"number":return typeof fe=="number";case"object":return typeof fe=="object";case"string":return typeof fe=="string";case"boolean":return typeof fe=="boolean";case"function":return typeof fe=="function";case"undefined":return typeof fe>"u";case"symbol":return typeof fe=="symbol"}}function z(fe,Te,Ve){F(fe,Te)||S("invalid parameter type"+I(Ve)+". expected "+Te+", got "+typeof fe)}function N(fe,Te){fe>=0&&(fe|0)===fe||S("invalid parameter type, ("+fe+")"+I(Te)+". must be a nonnegative integer")}function H(fe,Te,Ve){Te.indexOf(fe)<0&&S("invalid value"+I(Ve)+". must be one of: "+Te)}var X=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function J(fe){Object.keys(fe).forEach(function(Te){X.indexOf(Te)<0&&S('invalid regl constructor argument "'+Te+'". must be one of '+X)})}function ae(fe,Te){for(fe=fe+"";fe.length<Te;)fe=" "+fe;return fe}function ve(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function pe(fe,Te){this.number=fe,this.line=Te,this.errors=[]}function de(fe,Te,Ve){this.file=fe,this.line=Te,this.message=Ve}function ce(){var fe=new Error,Te=(fe.stack||fe).toString(),Ve=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(Te);if(Ve)return Ve[1];var vt=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(Te);return vt?vt[1]:"unknown"}function V(){var fe=new Error,Te=(fe.stack||fe).toString(),Ve=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(Te);if(Ve)return Ve[1];var vt=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(Te);return vt?vt[1]:"unknown"}function ie(fe,Te){var Ve=fe.split(`
`),vt=1,St=0,mt={unknown:new ve,0:new ve};mt.unknown.name=mt[0].name=Te||ce(),mt.unknown.lines.push(new pe(0,""));for(var At=0;At<Ve.length;++At){var Rt=Ve[At],Lt=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(Rt);if(Lt)switch(Lt[1]){case"line":var Gt=/(\d+)(\s+\d+)?/.exec(Lt[2]);Gt&&(vt=Gt[1]|0,Gt[2]&&(St=Gt[2]|0,St in mt||(mt[St]=new ve)));break;case"define":var jt=/SHADER_NAME(_B64)?\s+(.*)$/.exec(Lt[2]);jt&&(mt[St].name=jt[1]?w(jt[2]):jt[2]);break}mt[St].lines.push(new pe(vt++,Rt))}return Object.keys(mt).forEach(function(qt){var Zt=mt[qt];Zt.lines.forEach(function(Bt){Zt.index[Bt.number]=Bt})}),mt}function ke(fe){var Te=[];return fe.split(`
`).forEach(function(Ve){if(!(Ve.length<5)){var vt=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(Ve);vt?Te.push(new de(vt[1]|0,vt[2]|0,vt[3].trim())):Ve.length>0&&Te.push(new de("unknown",0,Ve))}}),Te}function be(fe,Te){Te.forEach(function(Ve){var vt=fe[Ve.file];if(vt){var St=vt.index[Ve.line];if(St){St.errors.push(Ve),vt.hasErrors=!0;return}}fe.unknown.hasErrors=!0,fe.unknown.lines[0].errors.push(Ve)})}function Ae(fe,Te,Ve,vt,St){if(!fe.getShaderParameter(Te,fe.COMPILE_STATUS)){var mt=fe.getShaderInfoLog(Te),At=vt===fe.FRAGMENT_SHADER?"fragment":"vertex";Je(Ve,"string",At+" shader source must be a string",St);var Rt=ie(Ve,St),Lt=ke(mt);be(Rt,Lt),Object.keys(Rt).forEach(function(Gt){var jt=Rt[Gt];if(!jt.hasErrors)return;var qt=[""],Zt=[""];function Bt(Vt,at){qt.push(Vt),Zt.push(at||"")}Bt("file number "+Gt+": "+jt.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),jt.lines.forEach(function(Vt){if(Vt.errors.length>0){Bt(ae(Vt.number,4)+"|  ","background-color:yellow; font-weight:bold"),Bt(Vt.line+x,"color:red; background-color:yellow; font-weight:bold");var at=0;Vt.errors.forEach(function(_t){var zt=_t.message,cr=/^\s*'(.*)'\s*:\s*(.*)$/.exec(zt);if(cr){var It=cr[1];switch(zt=cr[2],It){case"assign":It="=";break}at=Math.max(Vt.line.indexOf(It,at),0)}else at=0;Bt(ae("| ",6)),Bt(ae("^^^",at+3)+x,"font-weight:bold"),Bt(ae("| ",6)),Bt(zt+x,"font-weight:bold")}),Bt(ae("| ",6)+x)}else Bt(ae(Vt.number,4)+"|  "),Bt(Vt.line+x,"color:red")}),typeof document<"u"&&!window.chrome?(Zt[0]=qt.join("%c"),console.log.apply(console,Zt)):console.log(qt.join(""))}),E.raise("Error compiling "+At+" shader, "+Rt[0].name)}}function ue(fe,Te,Ve,vt,St){if(!fe.getProgramParameter(Te,fe.LINK_STATUS)){var mt=fe.getProgramInfoLog(Te),At=ie(Ve,St),Rt=ie(vt,St),Lt='Error linking program with vertex shader, "'+Rt[0].name+'", and fragment shader "'+At[0].name+'"';typeof document<"u"?console.log("%c"+Lt+x+"%c"+mt,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(Lt+x+mt),E.raise(Lt)}}function xe(fe){fe._commandRef=ce()}function Me(fe,Te,Ve,vt){xe(fe);function St(Lt){return Lt?vt.id(Lt):0}fe._fragId=St(fe.static.frag),fe._vertId=St(fe.static.vert);function mt(Lt,Gt){Object.keys(Gt).forEach(function(jt){Lt[vt.id(jt)]=!0})}var At=fe._uniformSet={};mt(At,Te.static),mt(At,Te.dynamic);var Rt=fe._attributeSet={};mt(Rt,Ve.static),mt(Rt,Ve.dynamic),fe._hasCount="count"in fe.static||"count"in fe.dynamic||"elements"in fe.static||"elements"in fe.dynamic}function Ge(fe,Te){var Ve=V();S(fe+" in command "+(Te||ce())+(Ve==="unknown"?"":" called from "+Ve))}function lt(fe,Te,Ve){fe||Ge(Te,Ve||ce())}function Le(fe,Te,Ve,vt){fe in Te||Ge("unknown parameter ("+fe+")"+I(Ve)+". possible values: "+Object.keys(Te).join(),vt||ce())}function Je(fe,Te,Ve,vt){F(fe,Te)||Ge("invalid parameter type"+I(Ve)+". expected "+Te+", got "+typeof fe,vt||ce())}function gt(fe){fe()}function ct(fe,Te,Ve){fe.texture?H(fe.texture._texture.internalformat,Te,"unsupported texture format for attachment"):H(fe.renderbuffer._renderbuffer.format,Ve,"unsupported renderbuffer format for attachment")}var Ot=33071,ur=9728,rr=9984,Yt=9985,Er=9986,Oe=9987,dt=5120,He=5121,Ct=5122,Ut=5123,pr=5124,Pr=5125,tn=5126,un=32819,pn=32820,kn=33635,Bn=34042,ai=36193,vn={};vn[dt]=vn[He]=1,vn[Ct]=vn[Ut]=vn[ai]=vn[kn]=vn[un]=vn[pn]=2,vn[pr]=vn[Pr]=vn[tn]=vn[Bn]=4;function oi(fe,Te){return fe===pn||fe===un||fe===kn?2:fe===Bn?4:vn[fe]*Te}function Hn(fe){return!(fe&fe-1)&&!!fe}function ln(fe,Te,Ve){var vt,St=Te.width,mt=Te.height,At=Te.channels;E(St>0&&St<=Ve.maxTextureSize&&mt>0&&mt<=Ve.maxTextureSize,"invalid texture shape"),(fe.wrapS!==Ot||fe.wrapT!==Ot)&&E(Hn(St)&&Hn(mt),"incompatible wrap mode for texture, both width and height must be power of 2"),Te.mipmask===1?St!==1&&mt!==1&&E(fe.minFilter!==rr&&fe.minFilter!==Er&&fe.minFilter!==Yt&&fe.minFilter!==Oe,"min filter requires mipmap"):(E(Hn(St)&&Hn(mt),"texture must be a square power of 2 to support mipmapping"),E(Te.mipmask===(St<<1)-1,"missing or incomplete mipmap data")),Te.type===tn&&(Ve.extensions.indexOf("oes_texture_float_linear")<0&&E(fe.minFilter===ur&&fe.magFilter===ur,"filter not supported, must enable oes_texture_float_linear"),E(!fe.genMipmaps,"mipmap generation not supported with float textures"));var Rt=Te.images;for(vt=0;vt<16;++vt)if(Rt[vt]){var Lt=St>>vt,Gt=mt>>vt;E(Te.mipmask&1<<vt,"missing mipmap data");var jt=Rt[vt];if(E(jt.width===Lt&&jt.height===Gt,"invalid shape for mip images"),E(jt.format===Te.format&&jt.internalformat===Te.internalformat&&jt.type===Te.type,"incompatible type for mip image"),!jt.compressed)if(jt.data){var qt=Math.ceil(oi(jt.type,At)*Lt/jt.unpackAlignment)*jt.unpackAlignment;E(jt.data.byteLength===qt*Gt,"invalid data for image, buffer size is inconsistent with image format")}else jt.element||jt.copy}else fe.genMipmaps||E((Te.mipmask&1<<vt)===0,"extra mipmap data");Te.compressed&&E(!fe.genMipmaps,"mipmap generation for compressed images not supported")}function In(fe,Te,Ve,vt){var St=fe.width,mt=fe.height,At=fe.channels;E(St>0&&St<=vt.maxTextureSize&&mt>0&&mt<=vt.maxTextureSize,"invalid texture shape"),E(St===mt,"cube map must be square"),E(Te.wrapS===Ot&&Te.wrapT===Ot,"wrap mode not supported by cube map");for(var Rt=0;Rt<Ve.length;++Rt){var Lt=Ve[Rt];E(Lt.width===St&&Lt.height===mt,"inconsistent cube map face shape"),Te.genMipmaps&&(E(!Lt.compressed,"can not generate mipmap for compressed textures"),E(Lt.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var Gt=Lt.images,jt=0;jt<16;++jt){var qt=Gt[jt];if(qt){var Zt=St>>jt,Bt=mt>>jt;E(Lt.mipmask&1<<jt,"missing mipmap data"),E(qt.width===Zt&&qt.height===Bt,"invalid shape for mip images"),E(qt.format===fe.format&&qt.internalformat===fe.internalformat&&qt.type===fe.type,"incompatible type for mip image"),qt.compressed||(qt.data?E(qt.data.byteLength===Zt*Bt*Math.max(oi(qt.type,At),qt.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):qt.element||qt.copy)}}}}var Ee=_(E,{optional:gt,raise:S,commandRaise:Ge,command:lt,parameter:L,commandParameter:Le,constructor:J,type:z,commandType:Je,isTypedArray:O,nni:N,oneOf:H,shaderError:Ae,linkError:ue,callSite:V,saveCommandRef:xe,saveDrawInfo:Me,framebufferFormat:ct,guessCommand:ce,texture2D:ln,textureCube:In}),Xe=0,ut=0,k=5,M=6;function T(fe,Te){this.id=Xe++,this.type=fe,this.data=Te}function $(fe){return fe.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function R(fe){if(fe.length===0)return[];var Te=fe.charAt(0),Ve=fe.charAt(fe.length-1);if(fe.length>1&&Te===Ve&&(Te==='"'||Te==="'"))return['"'+$(fe.substr(1,fe.length-2))+'"'];var vt=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(fe);if(vt)return R(fe.substr(0,vt.index)).concat(R(vt[1])).concat(R(fe.substr(vt.index+vt[0].length)));var St=fe.split(".");if(St.length===1)return['"'+$(fe)+'"'];for(var mt=[],At=0;At<St.length;++At)mt=mt.concat(R(St[At]));return mt}function G(fe){return"["+R(fe).join("][")+"]"}function K(fe,Te){return new T(fe,G(Te+""))}function Y(fe){return typeof fe=="function"&&!fe._reglType||fe instanceof T}function j(fe,Te){if(typeof fe=="function")return new T(ut,fe);if(typeof fe=="number"||typeof fe=="boolean")return new T(k,fe);if(Array.isArray(fe))return new T(M,fe.map(function(Ve,vt){return j(Ve,Te+"["+vt+"]")}));if(fe instanceof T)return fe;Ee(!1,"invalid option type in uniform "+Te)}var q={DynamicVariable:T,define:K,isDynamic:Y,unbox:j,accessor:G},W={next:typeof requestAnimationFrame=="function"?function(fe){return requestAnimationFrame(fe)}:function(fe){return setTimeout(fe,16)},cancel:typeof cancelAnimationFrame=="function"?function(fe){return cancelAnimationFrame(fe)}:clearTimeout},Q=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date};function ee(){var fe={"":0},Te=[""];return{id:function(Ve){var vt=fe[Ve];return vt||(vt=fe[Ve]=Te.length,Te.push(Ve),vt)},str:function(Ve){return Te[Ve]}}}function te(fe,Te,Ve){var vt=document.createElement("canvas");_(vt.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),fe.appendChild(vt),fe===document.body&&(vt.style.position="absolute",_(fe.style,{margin:0,padding:0}));function St(){var Rt=window.innerWidth,Lt=window.innerHeight;if(fe!==document.body){var Gt=vt.getBoundingClientRect();Rt=Gt.right-Gt.left,Lt=Gt.bottom-Gt.top}vt.width=Ve*Rt,vt.height=Ve*Lt}var mt;fe!==document.body&&typeof ResizeObserver=="function"?(mt=new ResizeObserver(function(){setTimeout(St)}),mt.observe(fe)):window.addEventListener("resize",St,!1);function At(){mt?mt.disconnect():window.removeEventListener("resize",St),fe.removeChild(vt)}return St(),{canvas:vt,onDestroy:At}}function oe(fe,Te){function Ve(vt){try{return fe.getContext(vt,Te)}catch{return null}}return Ve("webgl")||Ve("experimental-webgl")||Ve("webgl-experimental")}function ne(fe){return typeof fe.nodeName=="string"&&typeof fe.appendChild=="function"&&typeof fe.getBoundingClientRect=="function"}function he(fe){return typeof fe.drawArrays=="function"||typeof fe.drawElements=="function"}function se(fe){return typeof fe=="string"?fe.split():(Ee(Array.isArray(fe),"invalid extension array"),fe)}function le(fe){return typeof fe=="string"?(Ee(typeof document<"u","not supported outside of DOM"),document.querySelector(fe)):fe}function re(fe){var Te=fe||{},Ve,vt,St,mt,At={},Rt=[],Lt=[],Gt=typeof window>"u"?1:window.devicePixelRatio,jt=!1,qt=function(Vt){Vt&&Ee.raise(Vt)},Zt=function(){};if(typeof Te=="string"?(Ee(typeof document<"u","selector queries only supported in DOM environments"),Ve=document.querySelector(Te),Ee(Ve,"invalid query string for element")):typeof Te=="object"?ne(Te)?Ve=Te:he(Te)?(mt=Te,St=mt.canvas):(Ee.constructor(Te),"gl"in Te?mt=Te.gl:"canvas"in Te?St=le(Te.canvas):"container"in Te&&(vt=le(Te.container)),"attributes"in Te&&(At=Te.attributes,Ee.type(At,"object","invalid context attributes")),"extensions"in Te&&(Rt=se(Te.extensions)),"optionalExtensions"in Te&&(Lt=se(Te.optionalExtensions)),"onDone"in Te&&(Ee.type(Te.onDone,"function","invalid or missing onDone callback"),qt=Te.onDone),"profile"in Te&&(jt=!!Te.profile),"pixelRatio"in Te&&(Gt=+Te.pixelRatio,Ee(Gt>0,"invalid pixel ratio"))):Ee.raise("invalid arguments to regl"),Ve&&(Ve.nodeName.toLowerCase()==="canvas"?St=Ve:vt=Ve),!mt){if(!St){Ee(typeof document<"u","must manually specify webgl context outside of DOM environments");var Bt=te(vt||document.body,qt,Gt);if(!Bt)return null;St=Bt.canvas,Zt=Bt.onDestroy}At.premultipliedAlpha===void 0&&(At.premultipliedAlpha=!0),mt=oe(St,At)}return mt?{gl:mt,canvas:St,container:vt,extensions:Rt,optionalExtensions:Lt,pixelRatio:Gt,profile:jt,onDone:qt,onDestroy:Zt}:(Zt(),qt("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function ge(fe,Te){var Ve={};function vt(At){Ee.type(At,"string","extension name must be string");var Rt=At.toLowerCase(),Lt;try{Lt=Ve[Rt]=fe.getExtension(Rt)}catch{}return!!Lt}for(var St=0;St<Te.extensions.length;++St){var mt=Te.extensions[St];if(!vt(mt))return Te.onDestroy(),Te.onDone('"'+mt+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return Te.optionalExtensions.forEach(vt),{extensions:Ve,restore:function(){Object.keys(Ve).forEach(function(At){if(Ve[At]&&!vt(At))throw new Error("(regl): error restoring extension "+At)})}}}function ye(fe,Te){for(var Ve=Array(fe),vt=0;vt<fe;++vt)Ve[vt]=Te(vt);return Ve}var Ce=5120,_e=5121,Ie=5122,Be=5123,ze=5124,Ke=5125,Re=5126;function We(fe){for(var Te=16;Te<=1<<28;Te*=16)if(fe<=Te)return Te;return 0}function Qe(fe){var Te,Ve;return Te=(fe>65535)<<4,fe>>>=Te,Ve=(fe>255)<<3,fe>>>=Ve,Te|=Ve,Ve=(fe>15)<<2,fe>>>=Ve,Te|=Ve,Ve=(fe>3)<<1,fe>>>=Ve,Te|=Ve,Te|fe>>1}function it(){var fe=ye(8,function(){return[]});function Te(mt){var At=We(mt),Rt=fe[Qe(At)>>2];return Rt.length>0?Rt.pop():new ArrayBuffer(At)}function Ve(mt){fe[Qe(mt.byteLength)>>2].push(mt)}function vt(mt,At){var Rt=null;switch(mt){case Ce:Rt=new Int8Array(Te(At),0,At);break;case _e:Rt=new Uint8Array(Te(At),0,At);break;case Ie:Rt=new Int16Array(Te(2*At),0,At);break;case Be:Rt=new Uint16Array(Te(2*At),0,At);break;case ze:Rt=new Int32Array(Te(4*At),0,At);break;case Ke:Rt=new Uint32Array(Te(4*At),0,At);break;case Re:Rt=new Float32Array(Te(4*At),0,At);break;default:return null}return Rt.length!==At?Rt.subarray(0,At):Rt}function St(mt){Ve(mt.buffer)}return{alloc:Te,free:Ve,allocType:vt,freeType:St}}var tt=it();tt.zero=it();var yt=3408,Ft=3410,Jt=3411,lr=3412,Cr=3413,Mt=3414,Dt=3415,fr=33901,Sr=33902,kr=3379,Rr=3386,$r=34921,Vr=36347,jr=36348,zr=35661,Sn=35660,Pn=34930,Nn=36349,dr=34076,rn=34024,sn=7936,ti=7937,Dn=7938,si=35724,Li=34047,gi=36063,ci=34852,Fn=3553,Yn=34067,Un=34069,xn=33984,$i=6408,na=5126,Ia=5121,va=36160,io=36053,ao=36064,zi=16384,ba=function(fe,Te){var Ve=1;Te.ext_texture_filter_anisotropic&&(Ve=fe.getParameter(Li));var vt=1,St=1;Te.webgl_draw_buffers&&(vt=fe.getParameter(ci),St=fe.getParameter(gi));var mt=!!Te.oes_texture_float;if(mt){var At=fe.createTexture();fe.bindTexture(Fn,At),fe.texImage2D(Fn,0,$i,1,1,0,$i,na,null);var Rt=fe.createFramebuffer();if(fe.bindFramebuffer(va,Rt),fe.framebufferTexture2D(va,ao,Fn,At,0),fe.bindTexture(Fn,null),fe.checkFramebufferStatus(va)!==io)mt=!1;else{fe.viewport(0,0,1,1),fe.clearColor(1,0,0,1),fe.clear(zi);var Lt=tt.allocType(na,4);fe.readPixels(0,0,1,1,$i,na,Lt),fe.getError()?mt=!1:(fe.deleteFramebuffer(Rt),fe.deleteTexture(At),mt=Lt[0]===1),tt.freeType(Lt)}}var Gt=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),jt=!0;if(!Gt){var qt=fe.createTexture(),Zt=tt.allocType(Ia,36);fe.activeTexture(xn),fe.bindTexture(Yn,qt),fe.texImage2D(Un,0,$i,3,3,0,$i,Ia,Zt),tt.freeType(Zt),fe.bindTexture(Yn,null),fe.deleteTexture(qt),jt=!fe.getError()}return{colorBits:[fe.getParameter(Ft),fe.getParameter(Jt),fe.getParameter(lr),fe.getParameter(Cr)],depthBits:fe.getParameter(Mt),stencilBits:fe.getParameter(Dt),subpixelBits:fe.getParameter(yt),extensions:Object.keys(Te).filter(function(Bt){return!!Te[Bt]}),maxAnisotropic:Ve,maxDrawbuffers:vt,maxColorAttachments:St,pointSizeDims:fe.getParameter(fr),lineWidthDims:fe.getParameter(Sr),maxViewportDims:fe.getParameter(Rr),maxCombinedTextureUnits:fe.getParameter(zr),maxCubeMapSize:fe.getParameter(dr),maxRenderbufferSize:fe.getParameter(rn),maxTextureUnits:fe.getParameter(Pn),maxTextureSize:fe.getParameter(kr),maxAttributes:fe.getParameter($r),maxVertexUniforms:fe.getParameter(Vr),maxVertexTextureUnits:fe.getParameter(Sn),maxVaryingVectors:fe.getParameter(jr),maxFragmentUniforms:fe.getParameter(Nn),glsl:fe.getParameter(si),renderer:fe.getParameter(ti),vendor:fe.getParameter(sn),version:fe.getParameter(Dn),readFloat:mt,npotTextureCube:jt}};function Zn(fe){return!!fe&&typeof fe=="object"&&Array.isArray(fe.shape)&&Array.isArray(fe.stride)&&typeof fe.offset=="number"&&fe.shape.length===fe.stride.length&&(Array.isArray(fe.data)||y(fe.data))}var zn=function(fe){return Object.keys(fe).map(function(Te){return fe[Te]})},fi={shape:Wi,flatten:bi};function Ur(fe,Te,Ve){for(var vt=0;vt<Te;++vt)Ve[vt]=fe[vt]}function Ai(fe,Te,Ve,vt){for(var St=0,mt=0;mt<Te;++mt)for(var At=fe[mt],Rt=0;Rt<Ve;++Rt)vt[St++]=At[Rt]}function ui(fe,Te,Ve,vt,St,mt){for(var At=mt,Rt=0;Rt<Te;++Rt)for(var Lt=fe[Rt],Gt=0;Gt<Ve;++Gt)for(var jt=Lt[Gt],qt=0;qt<vt;++qt)St[At++]=jt[qt]}function vi(fe,Te,Ve,vt,St){for(var mt=1,At=Ve+1;At<Te.length;++At)mt*=Te[At];var Rt=Te[Ve];if(Te.length-Ve===4){var Lt=Te[Ve+1],Gt=Te[Ve+2],jt=Te[Ve+3];for(At=0;At<Rt;++At)ui(fe[At],Lt,Gt,jt,vt,St),St+=mt}else for(At=0;At<Rt;++At)vi(fe[At],Te,Ve+1,vt,St),St+=mt}function bi(fe,Te,Ve,vt){var St=1;if(Te.length)for(var mt=0;mt<Te.length;++mt)St*=Te[mt];else St=0;var At=vt||tt.allocType(Ve,St);switch(Te.length){case 0:break;case 1:Ur(fe,Te[0],At);break;case 2:Ai(fe,Te[0],Te[1],At);break;case 3:ui(fe,Te[0],Te[1],Te[2],At,0);break;default:vi(fe,Te,0,At,0)}return At}function Wi(fe){for(var Te=[],Ve=fe;Ve.length;Ve=Ve[0])Te.push(Ve.length);return Te}var ia={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Da=5120,D=5122,U=5124,me=5121,we=5123,Fe=5125,ht=5126,xt=5126,Kt={int8:Da,int16:D,int32:U,uint8:me,uint16:we,uint32:Fe,float:ht,float32:xt},gr=35048,Wr=35040,Nr={dynamic:gr,stream:Wr,static:35044},En=fi.flatten,Ri=fi.shape,Xi=35044,Yi=35040,Vi=5121,di=5126,li=[];li[5120]=1,li[5122]=2,li[5124]=4,li[5121]=1,li[5123]=2,li[5125]=4,li[5126]=4;function oo(fe){return ia[Object.prototype.toString.call(fe)]|0}function Mo(fe,Te){for(var Ve=0;Ve<Te.length;++Ve)fe[Ve]=Te[Ve]}function La(fe,Te,Ve,vt,St,mt,At){for(var Rt=0,Lt=0;Lt<Ve;++Lt)for(var Gt=0;Gt<vt;++Gt)fe[Rt++]=Te[St*Lt+mt*Gt+At]}function Bs(fe,Te,Ve,vt){var St=0,mt={};function At(at){this.id=St++,this.buffer=fe.createBuffer(),this.type=at,this.usage=Xi,this.byteLength=0,this.dimension=1,this.dtype=Vi,this.persistentData=null,Ve.profile&&(this.stats={size:0})}At.prototype.bind=function(){fe.bindBuffer(this.type,this.buffer)},At.prototype.destroy=function(){Zt(this)};var Rt=[];function Lt(at,_t){var zt=Rt.pop();return zt||(zt=new At(at)),zt.bind(),qt(zt,_t,Yi,0,1,!1),zt}function Gt(at){Rt.push(at)}function jt(at,_t,zt){at.byteLength=_t.byteLength,fe.bufferData(at.type,_t,zt)}function qt(at,_t,zt,cr,It,or){var nr;if(at.usage=zt,Array.isArray(_t)){if(at.dtype=cr||di,_t.length>0){var Mr;if(Array.isArray(_t[0])){nr=Ri(_t);for(var Tt=1,kt=1;kt<nr.length;++kt)Tt*=nr[kt];at.dimension=Tt,Mr=En(_t,nr,at.dtype),jt(at,Mr,zt),or?at.persistentData=Mr:tt.freeType(Mr)}else if(typeof _t[0]=="number"){at.dimension=It;var br=tt.allocType(at.dtype,_t.length);Mo(br,_t),jt(at,br,zt),or?at.persistentData=br:tt.freeType(br)}else y(_t[0])?(at.dimension=_t[0].length,at.dtype=cr||oo(_t[0])||di,Mr=En(_t,[_t.length,_t[0].length],at.dtype),jt(at,Mr,zt),or?at.persistentData=Mr:tt.freeType(Mr)):Ee.raise("invalid buffer data")}}else if(y(_t))at.dtype=cr||oo(_t),at.dimension=It,jt(at,_t,zt),or&&(at.persistentData=new Uint8Array(new Uint8Array(_t.buffer)));else if(Zn(_t)){nr=_t.shape;var Qt=_t.stride,Nt=_t.offset,er=0,tr=0,Fr=0,Lr=0;nr.length===1?(er=nr[0],tr=1,Fr=Qt[0],Lr=0):nr.length===2?(er=nr[0],tr=nr[1],Fr=Qt[0],Lr=Qt[1]):Ee.raise("invalid shape"),at.dtype=cr||oo(_t.data)||di,at.dimension=tr;var ir=tt.allocType(at.dtype,er*tr);La(ir,_t.data,er,tr,Fr,Lr,Nt),jt(at,ir,zt),or?at.persistentData=ir:tt.freeType(ir)}else _t instanceof ArrayBuffer?(at.dtype=Vi,at.dimension=It,jt(at,_t,zt),or&&(at.persistentData=new Uint8Array(new Uint8Array(_t)))):Ee.raise("invalid buffer data")}function Zt(at){Te.bufferCount--,vt(at);var _t=at.buffer;Ee(_t,"buffer must not be deleted already"),fe.deleteBuffer(_t),at.buffer=null,delete mt[at.id]}function Bt(at,_t,zt,cr){Te.bufferCount++;var It=new At(_t);mt[It.id]=It;function or(Tt){var kt=Xi,br=null,Qt=0,Nt=0,er=1;return Array.isArray(Tt)||y(Tt)||Zn(Tt)||Tt instanceof ArrayBuffer?br=Tt:typeof Tt=="number"?Qt=Tt|0:Tt&&(Ee.type(Tt,"object","buffer arguments must be an object, a number or an array"),"data"in Tt&&(Ee(br===null||Array.isArray(br)||y(br)||Zn(br),"invalid data for buffer"),br=Tt.data),"usage"in Tt&&(Ee.parameter(Tt.usage,Nr,"invalid buffer usage"),kt=Nr[Tt.usage]),"type"in Tt&&(Ee.parameter(Tt.type,Kt,"invalid buffer type"),Nt=Kt[Tt.type]),"dimension"in Tt&&(Ee.type(Tt.dimension,"number","invalid dimension"),er=Tt.dimension|0),"length"in Tt&&(Ee.nni(Qt,"buffer length must be a nonnegative integer"),Qt=Tt.length|0)),It.bind(),br?qt(It,br,kt,Nt,er,cr):(Qt&&fe.bufferData(It.type,Qt,kt),It.dtype=Nt||Vi,It.usage=kt,It.dimension=er,It.byteLength=Qt),Ve.profile&&(It.stats.size=It.byteLength*li[It.dtype]),or}function nr(Tt,kt){Ee(kt+Tt.byteLength<=It.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+Tt.byteLength+" starting from offset "+kt+" to a buffer of size "+It.byteLength),fe.bufferSubData(It.type,kt,Tt)}function Mr(Tt,kt){var br=(kt||0)|0,Qt;if(It.bind(),y(Tt)||Tt instanceof ArrayBuffer)nr(Tt,br);else if(Array.isArray(Tt)){if(Tt.length>0)if(typeof Tt[0]=="number"){var Nt=tt.allocType(It.dtype,Tt.length);Mo(Nt,Tt),nr(Nt,br),tt.freeType(Nt)}else if(Array.isArray(Tt[0])||y(Tt[0])){Qt=Ri(Tt);var er=En(Tt,Qt,It.dtype);nr(er,br),tt.freeType(er)}else Ee.raise("invalid buffer data")}else if(Zn(Tt)){Qt=Tt.shape;var tr=Tt.stride,Fr=0,Lr=0,ir=0,sr=0;Qt.length===1?(Fr=Qt[0],Lr=1,ir=tr[0],sr=0):Qt.length===2?(Fr=Qt[0],Lr=Qt[1],ir=tr[0],sr=tr[1]):Ee.raise("invalid shape");var Ir=Array.isArray(Tt.data)?It.dtype:oo(Tt.data),Br=tt.allocType(Ir,Fr*Lr);La(Br,Tt.data,Fr,Lr,ir,sr,Tt.offset),nr(Br,br),tt.freeType(Br)}else Ee.raise("invalid data for buffer subdata");return or}return zt||or(at),or._reglType="buffer",or._buffer=It,or.subdata=Mr,Ve.profile&&(or.stats=It.stats),or.destroy=function(){Zt(It)},or}function Vt(){zn(mt).forEach(function(at){at.buffer=fe.createBuffer(),fe.bindBuffer(at.type,at.buffer),fe.bufferData(at.type,at.persistentData||at.byteLength,at.usage)})}return Ve.profile&&(Te.getTotalBufferSize=function(){var at=0;return Object.keys(mt).forEach(function(_t){at+=mt[_t].stats.size}),at}),{create:Bt,createStream:Lt,destroyStream:Gt,clear:function(){zn(mt).forEach(Zt),Rt.forEach(Zt)},getBuffer:function(at){return at&&at._buffer instanceof At?at._buffer:null},restore:Vt,_initBuffer:qt}}var Ns=0,Jo=0,Fs=1,es=1,zs=4,so=4,yi={points:Ns,point:Jo,lines:Fs,line:es,triangles:zs,triangle:so,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},uo=0,ts=1,Ei=4,rs=5120,Mn=5121,ns=5122,Zi=5123,aa=5124,oa=5125,To=34963,Vs=35040,Gs=35044;function qs(fe,Te,Ve,vt){var St={},mt=0,At={uint8:Mn,uint16:Zi};Te.oes_element_index_uint&&(At.uint32=oa);function Rt(Vt){this.id=mt++,St[this.id]=this,this.buffer=Vt,this.primType=Ei,this.vertCount=0,this.type=0}Rt.prototype.bind=function(){this.buffer.bind()};var Lt=[];function Gt(Vt){var at=Lt.pop();return at||(at=new Rt(Ve.create(null,To,!0,!1)._buffer)),qt(at,Vt,Vs,-1,-1,0,0),at}function jt(Vt){Lt.push(Vt)}function qt(Vt,at,_t,zt,cr,It,or){Vt.buffer.bind();var nr;if(at){var Mr=or;!or&&(!y(at)||Zn(at)&&!y(at.data))&&(Mr=Te.oes_element_index_uint?oa:Zi),Ve._initBuffer(Vt.buffer,at,_t,Mr,3)}else fe.bufferData(To,It,_t),Vt.buffer.dtype=nr||Mn,Vt.buffer.usage=_t,Vt.buffer.dimension=3,Vt.buffer.byteLength=It;if(nr=or,!or){switch(Vt.buffer.dtype){case Mn:case rs:nr=Mn;break;case Zi:case ns:nr=Zi;break;case oa:case aa:nr=oa;break;default:Ee.raise("unsupported type for element array")}Vt.buffer.dtype=nr}Vt.type=nr,Ee(nr!==oa||!!Te.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var Tt=cr;Tt<0&&(Tt=Vt.buffer.byteLength,nr===Zi?Tt>>=1:nr===oa&&(Tt>>=2)),Vt.vertCount=Tt;var kt=zt;if(zt<0){kt=Ei;var br=Vt.buffer.dimension;br===1&&(kt=uo),br===2&&(kt=ts),br===3&&(kt=Ei)}Vt.primType=kt}function Zt(Vt){vt.elementsCount--,Ee(Vt.buffer!==null,"must not double destroy elements"),delete St[Vt.id],Vt.buffer.destroy(),Vt.buffer=null}function Bt(Vt,at){var _t=Ve.create(null,To,!0),zt=new Rt(_t._buffer);vt.elementsCount++;function cr(It){if(!It)_t(),zt.primType=Ei,zt.vertCount=0,zt.type=Mn;else if(typeof It=="number")_t(It),zt.primType=Ei,zt.vertCount=It|0,zt.type=Mn;else{var or=null,nr=Gs,Mr=-1,Tt=-1,kt=0,br=0;Array.isArray(It)||y(It)||Zn(It)?or=It:(Ee.type(It,"object","invalid arguments for elements"),"data"in It&&(or=It.data,Ee(Array.isArray(or)||y(or)||Zn(or),"invalid data for element buffer")),"usage"in It&&(Ee.parameter(It.usage,Nr,"invalid element buffer usage"),nr=Nr[It.usage]),"primitive"in It&&(Ee.parameter(It.primitive,yi,"invalid element buffer primitive"),Mr=yi[It.primitive]),"count"in It&&(Ee(typeof It.count=="number"&&It.count>=0,"invalid vertex count for elements"),Tt=It.count|0),"type"in It&&(Ee.parameter(It.type,At,"invalid buffer type"),br=At[It.type]),"length"in It?kt=It.length|0:(kt=Tt,br===Zi||br===ns?kt*=2:(br===oa||br===aa)&&(kt*=4))),qt(zt,or,nr,Mr,Tt,kt,br)}return cr}return cr(Vt),cr._reglType="elements",cr._elements=zt,cr.subdata=function(It,or){return _t.subdata(It,or),cr},cr.destroy=function(){Zt(zt)},cr}return{create:Bt,createStream:Gt,destroyStream:jt,getElements:function(Vt){return typeof Vt=="function"&&Vt._elements instanceof Rt?Vt._elements:null},clear:function(){zn(St).forEach(Zt)}}}var as=new Float32Array(1),js=new Uint32Array(as.buffer),Hs=5123;function os(fe){for(var Te=tt.allocType(Hs,fe.length),Ve=0;Ve<fe.length;++Ve)if(isNaN(fe[Ve]))Te[Ve]=65535;else if(fe[Ve]===1/0)Te[Ve]=31744;else if(fe[Ve]===-1/0)Te[Ve]=64512;else{as[0]=fe[Ve];var vt=js[0],St=vt>>>31<<15,mt=(vt<<1>>>24)-127,At=vt>>13&1023;if(mt<-24)Te[Ve]=St;else if(mt<-14){var Rt=-14-mt;Te[Ve]=St+(At+1024>>Rt)}else mt>15?Te[Ve]=St+31744:Te[Ve]=St+(mt+15<<10)+At}return Te}function hn(fe){return Array.isArray(fe)||y(fe)}var Vn=function(fe){return!(fe&fe-1)&&!!fe},ss=34467,hi=3553,Po=34067,$a=34069,sa=6408,ya=6406,Gi=6407,xa=6409,Ra=6410,nn=32854,Oa=32855,Io=36194,us=32819,Kn=32820,Ki=33635,Qr=34042,Ba=6402,bn=34041,Aa=35904,qi=35906,_n=36193,Mi=33776,wa=33777,Do=33778,Na=33779,ls=35986,wi=35987,Ca=34798,ka=35840,lo=35841,Lo=35842,$o=35843,Qn=36196,Qi=5121,Ro=5123,Oo=5125,ua=5126,Bo=10242,Us=10243,Fa=10497,za=33071,Ws=33648,Xs=10240,cs=10241,Va=9728,No=9729,Oi=9984,qe=9985,et=9986,wt=9987,$t=33170,Or=4352,Gr=4353,Hr=4354,cn=34046,Ti=3317,la=37440,Fo=37441,co=37443,fs=37444,zo=33984,rc=[Oi,et,qe,wt],ds=[0,xa,Ra,Gi,sa],Bi={};Bi[xa]=Bi[ya]=Bi[Ba]=1,Bi[bn]=Bi[Ra]=2,Bi[Gi]=Bi[Aa]=3,Bi[sa]=Bi[qi]=4;function fo(fe){return"[object "+fe+"]"}var Tu=fo("HTMLCanvasElement"),Pu=fo("OffscreenCanvas"),Iu=fo("CanvasRenderingContext2D"),Du=fo("ImageBitmap"),Lu=fo("HTMLImageElement"),$u=fo("HTMLVideoElement"),nc=Object.keys(ia).concat([Tu,Pu,Iu,Du,Lu,$u]),po=[];po[Qi]=1,po[ua]=4,po[_n]=2,po[Ro]=2,po[Oo]=4;var ri=[];ri[nn]=2,ri[Oa]=2,ri[Io]=2,ri[bn]=4,ri[Mi]=.5,ri[wa]=.5,ri[Do]=1,ri[Na]=1,ri[ls]=.5,ri[wi]=1,ri[Ca]=1,ri[ka]=.5,ri[lo]=.25,ri[Lo]=.5,ri[$o]=.25,ri[Qn]=.5;function Ru(fe){return Array.isArray(fe)&&(fe.length===0||typeof fe[0]=="number")}function Ou(fe){if(!Array.isArray(fe))return!1;var Te=fe.length;return!(Te===0||!hn(fe[0]))}function Ga(fe){return Object.prototype.toString.call(fe)}function Bu(fe){return Ga(fe)===Tu}function Nu(fe){return Ga(fe)===Pu}function ic(fe){return Ga(fe)===Iu}function ac(fe){return Ga(fe)===Du}function oc(fe){return Ga(fe)===Lu}function sc(fe){return Ga(fe)===$u}function Ys(fe){if(!fe)return!1;var Te=Ga(fe);return nc.indexOf(Te)>=0?!0:Ru(fe)||Ou(fe)||Zn(fe)}function Fu(fe){return ia[Object.prototype.toString.call(fe)]|0}function uc(fe,Te){var Ve=Te.length;switch(fe.type){case Qi:case Ro:case Oo:case ua:var vt=tt.allocType(fe.type,Ve);vt.set(Te),fe.data=vt;break;case _n:fe.data=os(Te);break;default:Ee.raise("unsupported texture type, must specify a typed array")}}function zu(fe,Te){return tt.allocType(fe.type===_n?ua:fe.type,Te)}function Vu(fe,Te){fe.type===_n?(fe.data=os(Te),tt.freeType(Te)):fe.data=Te}function lc(fe,Te,Ve,vt,St,mt){for(var At=fe.width,Rt=fe.height,Lt=fe.channels,Gt=At*Rt*Lt,jt=zu(fe,Gt),qt=0,Zt=0;Zt<Rt;++Zt)for(var Bt=0;Bt<At;++Bt)for(var Vt=0;Vt<Lt;++Vt)jt[qt++]=Te[Ve*Bt+vt*Zt+St*Vt+mt];Vu(fe,jt)}function ps(fe,Te,Ve,vt,St,mt){var At;if(typeof ri[fe]<"u"?At=ri[fe]:At=Bi[fe]*po[Te],mt&&(At*=6),St){for(var Rt=0,Lt=Ve;Lt>=1;)Rt+=At*Lt*Lt,Lt/=2;return Rt}else return At*Ve*vt}function cc(fe,Te,Ve,vt,St,mt,At){var Rt={"don't care":Or,"dont care":Or,nice:Hr,fast:Gr},Lt={repeat:Fa,clamp:za,mirror:Ws},Gt={nearest:Va,linear:No},jt=_({mipmap:wt,"nearest mipmap nearest":Oi,"linear mipmap nearest":qe,"nearest mipmap linear":et,"linear mipmap linear":wt},Gt),qt={none:0,browser:fs},Zt={uint8:Qi,rgba4:us,rgb565:Ki,"rgb5 a1":Kn},Bt={alpha:ya,luminance:xa,"luminance alpha":Ra,rgb:Gi,rgba:sa,rgba4:nn,"rgb5 a1":Oa,rgb565:Io},Vt={};Te.ext_srgb&&(Bt.srgb=Aa,Bt.srgba=qi),Te.oes_texture_float&&(Zt.float32=Zt.float=ua),Te.oes_texture_half_float&&(Zt.float16=Zt["half float"]=_n),Te.webgl_depth_texture&&(_(Bt,{depth:Ba,"depth stencil":bn}),_(Zt,{uint16:Ro,uint32:Oo,"depth stencil":Qr})),Te.webgl_compressed_texture_s3tc&&_(Vt,{"rgb s3tc dxt1":Mi,"rgba s3tc dxt1":wa,"rgba s3tc dxt3":Do,"rgba s3tc dxt5":Na}),Te.webgl_compressed_texture_atc&&_(Vt,{"rgb atc":ls,"rgba atc explicit alpha":wi,"rgba atc interpolated alpha":Ca}),Te.webgl_compressed_texture_pvrtc&&_(Vt,{"rgb pvrtc 4bppv1":ka,"rgb pvrtc 2bppv1":lo,"rgba pvrtc 4bppv1":Lo,"rgba pvrtc 2bppv1":$o}),Te.webgl_compressed_texture_etc1&&(Vt["rgb etc1"]=Qn);var at=Array.prototype.slice.call(fe.getParameter(ss));Object.keys(Vt).forEach(function(Ne){var bt=Vt[Ne];at.indexOf(bt)>=0&&(Bt[Ne]=bt)});var _t=Object.keys(Bt);Ve.textureFormats=_t;var zt=[];Object.keys(Bt).forEach(function(Ne){var bt=Bt[Ne];zt[bt]=Ne});var cr=[];Object.keys(Zt).forEach(function(Ne){var bt=Zt[Ne];cr[bt]=Ne});var It=[];Object.keys(Gt).forEach(function(Ne){var bt=Gt[Ne];It[bt]=Ne});var or=[];Object.keys(jt).forEach(function(Ne){var bt=jt[Ne];or[bt]=Ne});var nr=[];Object.keys(Lt).forEach(function(Ne){var bt=Lt[Ne];nr[bt]=Ne});var Mr=_t.reduce(function(Ne,bt){var pt=Bt[bt];return pt===xa||pt===ya||pt===xa||pt===Ra||pt===Ba||pt===bn||Te.ext_srgb&&(pt===Aa||pt===qi)?Ne[pt]=pt:pt===Oa||bt.indexOf("rgba")>=0?Ne[pt]=sa:Ne[pt]=Gi,Ne},{});function Tt(){this.internalformat=sa,this.format=sa,this.type=Qi,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=fs,this.width=0,this.height=0,this.channels=0}function kt(Ne,bt){Ne.internalformat=bt.internalformat,Ne.format=bt.format,Ne.type=bt.type,Ne.compressed=bt.compressed,Ne.premultiplyAlpha=bt.premultiplyAlpha,Ne.flipY=bt.flipY,Ne.unpackAlignment=bt.unpackAlignment,Ne.colorSpace=bt.colorSpace,Ne.width=bt.width,Ne.height=bt.height,Ne.channels=bt.channels}function br(Ne,bt){if(!(typeof bt!="object"||!bt)){if("premultiplyAlpha"in bt&&(Ee.type(bt.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),Ne.premultiplyAlpha=bt.premultiplyAlpha),"flipY"in bt&&(Ee.type(bt.flipY,"boolean","invalid texture flip"),Ne.flipY=bt.flipY),"alignment"in bt&&(Ee.oneOf(bt.alignment,[1,2,4,8],"invalid texture unpack alignment"),Ne.unpackAlignment=bt.alignment),"colorSpace"in bt&&(Ee.parameter(bt.colorSpace,qt,"invalid colorSpace"),Ne.colorSpace=qt[bt.colorSpace]),"type"in bt){var pt=bt.type;Ee(Te.oes_texture_float||!(pt==="float"||pt==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),Ee(Te.oes_texture_half_float||!(pt==="half float"||pt==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),Ee(Te.webgl_depth_texture||!(pt==="uint16"||pt==="uint32"||pt==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),Ee.parameter(pt,Zt,"invalid texture type"),Ne.type=Zt[pt]}var vr=Ne.width,Xr=Ne.height,De=Ne.channels,Se=!1;"shape"in bt?(Ee(Array.isArray(bt.shape)&&bt.shape.length>=2,"shape must be an array"),vr=bt.shape[0],Xr=bt.shape[1],bt.shape.length===3&&(De=bt.shape[2],Ee(De>0&&De<=4,"invalid number of channels"),Se=!0),Ee(vr>=0&&vr<=Ve.maxTextureSize,"invalid width"),Ee(Xr>=0&&Xr<=Ve.maxTextureSize,"invalid height")):("radius"in bt&&(vr=Xr=bt.radius,Ee(vr>=0&&vr<=Ve.maxTextureSize,"invalid radius")),"width"in bt&&(vr=bt.width,Ee(vr>=0&&vr<=Ve.maxTextureSize,"invalid width")),"height"in bt&&(Xr=bt.height,Ee(Xr>=0&&Xr<=Ve.maxTextureSize,"invalid height")),"channels"in bt&&(De=bt.channels,Ee(De>0&&De<=4,"invalid number of channels"),Se=!0)),Ne.width=vr|0,Ne.height=Xr|0,Ne.channels=De|0;var Ue=!1;if("format"in bt){var nt=bt.format;Ee(Te.webgl_depth_texture||!(nt==="depth"||nt==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),Ee.parameter(nt,Bt,"invalid texture format");var st=Ne.internalformat=Bt[nt];Ne.format=Mr[st],nt in Zt&&("type"in bt||(Ne.type=Zt[nt])),nt in Vt&&(Ne.compressed=!0),Ue=!0}!Se&&Ue?Ne.channels=Bi[Ne.format]:Se&&!Ue?Ne.channels!==ds[Ne.format]&&(Ne.format=Ne.internalformat=ds[Ne.channels]):Ue&&Se&&Ee(Ne.channels===Bi[Ne.format],"number of channels inconsistent with specified format")}}function Qt(Ne){fe.pixelStorei(la,Ne.flipY),fe.pixelStorei(Fo,Ne.premultiplyAlpha),fe.pixelStorei(co,Ne.colorSpace),fe.pixelStorei(Ti,Ne.unpackAlignment)}function Nt(){Tt.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function er(Ne,bt){var pt=null;if(Ys(bt)?pt=bt:bt&&(Ee.type(bt,"object","invalid pixel data type"),br(Ne,bt),"x"in bt&&(Ne.xOffset=bt.x|0),"y"in bt&&(Ne.yOffset=bt.y|0),Ys(bt.data)&&(pt=bt.data)),Ee(!Ne.compressed||pt instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),bt.copy){Ee(!pt,"can not specify copy and data field for the same texture");var vr=St.viewportWidth,Xr=St.viewportHeight;Ne.width=Ne.width||vr-Ne.xOffset,Ne.height=Ne.height||Xr-Ne.yOffset,Ne.needsCopy=!0,Ee(Ne.xOffset>=0&&Ne.xOffset<vr&&Ne.yOffset>=0&&Ne.yOffset<Xr&&Ne.width>0&&Ne.width<=vr&&Ne.height>0&&Ne.height<=Xr,"copy texture read out of bounds")}else if(!pt)Ne.width=Ne.width||1,Ne.height=Ne.height||1,Ne.channels=Ne.channels||4;else if(y(pt))Ne.channels=Ne.channels||4,Ne.data=pt,!("type"in bt)&&Ne.type===Qi&&(Ne.type=Fu(pt));else if(Ru(pt))Ne.channels=Ne.channels||4,uc(Ne,pt),Ne.alignment=1,Ne.needsFree=!0;else if(Zn(pt)){var De=pt.data;!Array.isArray(De)&&Ne.type===Qi&&(Ne.type=Fu(De));var Se=pt.shape,Ue=pt.stride,nt,st,Ze,Ye,rt,Pe;Se.length===3?(Ze=Se[2],Pe=Ue[2]):(Ee(Se.length===2,"invalid ndarray pixel data, must be 2 or 3D"),Ze=1,Pe=1),nt=Se[0],st=Se[1],Ye=Ue[0],rt=Ue[1],Ne.alignment=1,Ne.width=nt,Ne.height=st,Ne.channels=Ze,Ne.format=Ne.internalformat=ds[Ze],Ne.needsFree=!0,lc(Ne,De,Ye,rt,Pe,pt.offset)}else if(Bu(pt)||Nu(pt)||ic(pt))Bu(pt)||Nu(pt)?Ne.element=pt:Ne.element=pt.canvas,Ne.width=Ne.element.width,Ne.height=Ne.element.height,Ne.channels=4;else if(ac(pt))Ne.element=pt,Ne.width=pt.width,Ne.height=pt.height,Ne.channels=4;else if(oc(pt))Ne.element=pt,Ne.width=pt.naturalWidth,Ne.height=pt.naturalHeight,Ne.channels=4;else if(sc(pt))Ne.element=pt,Ne.width=pt.videoWidth,Ne.height=pt.videoHeight,Ne.channels=4;else if(Ou(pt)){var je=Ne.width||pt[0].length,$e=Ne.height||pt.length,ot=Ne.channels;hn(pt[0][0])?ot=ot||pt[0][0].length:ot=ot||1;for(var ft=fi.shape(pt),Pt=1,Wt=0;Wt<ft.length;++Wt)Pt*=ft[Wt];var Xt=zu(Ne,Pt);fi.flatten(pt,ft,"",Xt),Vu(Ne,Xt),Ne.alignment=1,Ne.width=je,Ne.height=$e,Ne.channels=ot,Ne.format=Ne.internalformat=ds[ot],Ne.needsFree=!0}Ne.type===ua?Ee(Ve.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):Ne.type===_n&&Ee(Ve.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function tr(Ne,bt,pt){var vr=Ne.element,Xr=Ne.data,De=Ne.internalformat,Se=Ne.format,Ue=Ne.type,nt=Ne.width,st=Ne.height;Qt(Ne),vr?fe.texImage2D(bt,pt,Se,Se,Ue,vr):Ne.compressed?fe.compressedTexImage2D(bt,pt,De,nt,st,0,Xr):Ne.needsCopy?(vt(),fe.copyTexImage2D(bt,pt,Se,Ne.xOffset,Ne.yOffset,nt,st,0)):fe.texImage2D(bt,pt,Se,nt,st,0,Se,Ue,Xr||null)}function Fr(Ne,bt,pt,vr,Xr){var De=Ne.element,Se=Ne.data,Ue=Ne.internalformat,nt=Ne.format,st=Ne.type,Ze=Ne.width,Ye=Ne.height;Qt(Ne),De?fe.texSubImage2D(bt,Xr,pt,vr,nt,st,De):Ne.compressed?fe.compressedTexSubImage2D(bt,Xr,pt,vr,Ue,Ze,Ye,Se):Ne.needsCopy?(vt(),fe.copyTexSubImage2D(bt,Xr,pt,vr,Ne.xOffset,Ne.yOffset,Ze,Ye)):fe.texSubImage2D(bt,Xr,pt,vr,Ze,Ye,nt,st,Se)}var Lr=[];function ir(){return Lr.pop()||new Nt}function sr(Ne){Ne.needsFree&&tt.freeType(Ne.data),Nt.call(Ne),Lr.push(Ne)}function Ir(){Tt.call(this),this.genMipmaps=!1,this.mipmapHint=Or,this.mipmask=0,this.images=Array(16)}function Br(Ne,bt,pt){var vr=Ne.images[0]=ir();Ne.mipmask=1,vr.width=Ne.width=bt,vr.height=Ne.height=pt,vr.channels=Ne.channels=4}function Yr(Ne,bt){var pt=null;if(Ys(bt))pt=Ne.images[0]=ir(),kt(pt,Ne),er(pt,bt),Ne.mipmask=1;else if(br(Ne,bt),Array.isArray(bt.mipmap))for(var vr=bt.mipmap,Xr=0;Xr<vr.length;++Xr)pt=Ne.images[Xr]=ir(),kt(pt,Ne),pt.width>>=Xr,pt.height>>=Xr,er(pt,vr[Xr]),Ne.mipmask|=1<<Xr;else pt=Ne.images[0]=ir(),kt(pt,Ne),er(pt,bt),Ne.mipmask=1;kt(Ne,Ne.images[0]),Ne.compressed&&(Ne.internalformat===Mi||Ne.internalformat===wa||Ne.internalformat===Do||Ne.internalformat===Na)&&Ee(Ne.width%4===0&&Ne.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function An(Ne,bt){for(var pt=Ne.images,vr=0;vr<pt.length;++vr){if(!pt[vr])return;tr(pt[vr],bt,vr)}}var Tn=[];function Kr(){var Ne=Tn.pop()||new Ir;Tt.call(Ne),Ne.mipmask=0;for(var bt=0;bt<16;++bt)Ne.images[bt]=null;return Ne}function Gn(Ne){for(var bt=Ne.images,pt=0;pt<bt.length;++pt)bt[pt]&&sr(bt[pt]),bt[pt]=null;Tn.push(Ne)}function yn(){this.minFilter=Va,this.magFilter=Va,this.wrapS=za,this.wrapT=za,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=Or}function On(Ne,bt){if("min"in bt){var pt=bt.min;Ee.parameter(pt,jt),Ne.minFilter=jt[pt],rc.indexOf(Ne.minFilter)>=0&&!("faces"in bt)&&(Ne.genMipmaps=!0)}if("mag"in bt){var vr=bt.mag;Ee.parameter(vr,Gt),Ne.magFilter=Gt[vr]}var Xr=Ne.wrapS,De=Ne.wrapT;if("wrap"in bt){var Se=bt.wrap;typeof Se=="string"?(Ee.parameter(Se,Lt),Xr=De=Lt[Se]):Array.isArray(Se)&&(Ee.parameter(Se[0],Lt),Ee.parameter(Se[1],Lt),Xr=Lt[Se[0]],De=Lt[Se[1]])}else{if("wrapS"in bt){var Ue=bt.wrapS;Ee.parameter(Ue,Lt),Xr=Lt[Ue]}if("wrapT"in bt){var nt=bt.wrapT;Ee.parameter(nt,Lt),De=Lt[nt]}}if(Ne.wrapS=Xr,Ne.wrapT=De,"anisotropic"in bt){var st=bt.anisotropic;Ee(typeof st=="number"&&st>=1&&st<=Ve.maxAnisotropic,"aniso samples must be between 1 and "),Ne.anisotropic=bt.anisotropic}if("mipmap"in bt){var Ze=!1;switch(typeof bt.mipmap){case"string":Ee.parameter(bt.mipmap,Rt,"invalid mipmap hint"),Ne.mipmapHint=Rt[bt.mipmap],Ne.genMipmaps=!0,Ze=!0;break;case"boolean":Ze=Ne.genMipmaps=bt.mipmap;break;case"object":Ee(Array.isArray(bt.mipmap),"invalid mipmap type"),Ne.genMipmaps=!1,Ze=!0;break;default:Ee.raise("invalid mipmap type")}Ze&&!("min"in bt)&&(Ne.minFilter=Oi)}}function qn(Ne,bt){fe.texParameteri(bt,cs,Ne.minFilter),fe.texParameteri(bt,Xs,Ne.magFilter),fe.texParameteri(bt,Bo,Ne.wrapS),fe.texParameteri(bt,Us,Ne.wrapT),Te.ext_texture_filter_anisotropic&&fe.texParameteri(bt,cn,Ne.anisotropic),Ne.genMipmaps&&(fe.hint($t,Ne.mipmapHint),fe.generateMipmap(bt))}var jn=0,Jn={},ni=Ve.maxTextureUnits,Ln=Array(ni).map(function(){return null});function qr(Ne){Tt.call(this),this.mipmask=0,this.internalformat=sa,this.id=jn++,this.refCount=1,this.target=Ne,this.texture=fe.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new yn,At.profile&&(this.stats={size:0})}function ii(Ne){fe.activeTexture(zo),fe.bindTexture(Ne.target,Ne.texture)}function an(){var Ne=Ln[0];Ne?fe.bindTexture(Ne.target,Ne.texture):fe.bindTexture(hi,null)}function Tr(Ne){var bt=Ne.texture;Ee(bt,"must not double destroy texture");var pt=Ne.unit,vr=Ne.target;pt>=0&&(fe.activeTexture(zo+pt),fe.bindTexture(vr,null),Ln[pt]=null),fe.deleteTexture(bt),Ne.texture=null,Ne.params=null,Ne.pixels=null,Ne.refCount=0,delete Jn[Ne.id],mt.textureCount--}_(qr.prototype,{bind:function(){var Ne=this;Ne.bindCount+=1;var bt=Ne.unit;if(bt<0){for(var pt=0;pt<ni;++pt){var vr=Ln[pt];if(vr){if(vr.bindCount>0)continue;vr.unit=-1}Ln[pt]=Ne,bt=pt;break}bt>=ni&&Ee.raise("insufficient number of texture units"),At.profile&&mt.maxTextureUnits<bt+1&&(mt.maxTextureUnits=bt+1),Ne.unit=bt,fe.activeTexture(zo+bt),fe.bindTexture(Ne.target,Ne.texture)}return bt},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&Tr(this)}});function Zr(Ne,bt){var pt=new qr(hi);Jn[pt.id]=pt,mt.textureCount++;function vr(Se,Ue){var nt=pt.texInfo;yn.call(nt);var st=Kr();return typeof Se=="number"?typeof Ue=="number"?Br(st,Se|0,Ue|0):Br(st,Se|0,Se|0):Se?(Ee.type(Se,"object","invalid arguments to regl.texture"),On(nt,Se),Yr(st,Se)):Br(st,1,1),nt.genMipmaps&&(st.mipmask=(st.width<<1)-1),pt.mipmask=st.mipmask,kt(pt,st),Ee.texture2D(nt,st,Ve),pt.internalformat=st.internalformat,vr.width=st.width,vr.height=st.height,ii(pt),An(st,hi),qn(nt,hi),an(),Gn(st),At.profile&&(pt.stats.size=ps(pt.internalformat,pt.type,st.width,st.height,nt.genMipmaps,!1)),vr.format=zt[pt.internalformat],vr.type=cr[pt.type],vr.mag=It[nt.magFilter],vr.min=or[nt.minFilter],vr.wrapS=nr[nt.wrapS],vr.wrapT=nr[nt.wrapT],vr}function Xr(Se,Ue,nt,st){Ee(!!Se,"must specify image data");var Ze=Ue|0,Ye=nt|0,rt=st|0,Pe=ir();return kt(Pe,pt),Pe.width=0,Pe.height=0,er(Pe,Se),Pe.width=Pe.width||(pt.width>>rt)-Ze,Pe.height=Pe.height||(pt.height>>rt)-Ye,Ee(pt.type===Pe.type&&pt.format===Pe.format&&pt.internalformat===Pe.internalformat,"incompatible format for texture.subimage"),Ee(Ze>=0&&Ye>=0&&Ze+Pe.width<=pt.width&&Ye+Pe.height<=pt.height,"texture.subimage write out of bounds"),Ee(pt.mipmask&1<<rt,"missing mipmap data"),Ee(Pe.data||Pe.element||Pe.needsCopy,"missing image data"),ii(pt),Fr(Pe,hi,Ze,Ye,rt),an(),sr(Pe),vr}function De(Se,Ue){var nt=Se|0,st=Ue|0||nt;if(nt===pt.width&&st===pt.height)return vr;vr.width=pt.width=nt,vr.height=pt.height=st,ii(pt);for(var Ze=0;pt.mipmask>>Ze;++Ze){var Ye=nt>>Ze,rt=st>>Ze;if(!Ye||!rt)break;fe.texImage2D(hi,Ze,pt.format,Ye,rt,0,pt.format,pt.type,null)}return an(),At.profile&&(pt.stats.size=ps(pt.internalformat,pt.type,nt,st,!1,!1)),vr}return vr(Ne,bt),vr.subimage=Xr,vr.resize=De,vr._reglType="texture2d",vr._texture=pt,At.profile&&(vr.stats=pt.stats),vr.destroy=function(){pt.decRef()},vr}function Jr(Ne,bt,pt,vr,Xr,De){var Se=new qr(Po);Jn[Se.id]=Se,mt.cubeCount++;var Ue=new Array(6);function nt(Ye,rt,Pe,je,$e,ot){var ft,Pt=Se.texInfo;for(yn.call(Pt),ft=0;ft<6;++ft)Ue[ft]=Kr();if(typeof Ye=="number"||!Ye){var Wt=Ye|0||1;for(ft=0;ft<6;++ft)Br(Ue[ft],Wt,Wt)}else if(typeof Ye=="object")if(rt)Yr(Ue[0],Ye),Yr(Ue[1],rt),Yr(Ue[2],Pe),Yr(Ue[3],je),Yr(Ue[4],$e),Yr(Ue[5],ot);else if(On(Pt,Ye),br(Se,Ye),"faces"in Ye){var Xt=Ye.faces;for(Ee(Array.isArray(Xt)&&Xt.length===6,"cube faces must be a length 6 array"),ft=0;ft<6;++ft)Ee(typeof Xt[ft]=="object"&&!!Xt[ft],"invalid input for cube map face"),kt(Ue[ft],Se),Yr(Ue[ft],Xt[ft])}else for(ft=0;ft<6;++ft)Yr(Ue[ft],Ye);else Ee.raise("invalid arguments to cube map");for(kt(Se,Ue[0]),Ee.optional(function(){Ve.npotTextureCube||Ee(Vn(Se.width)&&Vn(Se.height),"your browser does not support non power or two texture dimensions")}),Pt.genMipmaps?Se.mipmask=(Ue[0].width<<1)-1:Se.mipmask=Ue[0].mipmask,Ee.textureCube(Se,Pt,Ue,Ve),Se.internalformat=Ue[0].internalformat,nt.width=Ue[0].width,nt.height=Ue[0].height,ii(Se),ft=0;ft<6;++ft)An(Ue[ft],$a+ft);for(qn(Pt,Po),an(),At.profile&&(Se.stats.size=ps(Se.internalformat,Se.type,nt.width,nt.height,Pt.genMipmaps,!0)),nt.format=zt[Se.internalformat],nt.type=cr[Se.type],nt.mag=It[Pt.magFilter],nt.min=or[Pt.minFilter],nt.wrapS=nr[Pt.wrapS],nt.wrapT=nr[Pt.wrapT],ft=0;ft<6;++ft)Gn(Ue[ft]);return nt}function st(Ye,rt,Pe,je,$e){Ee(!!rt,"must specify image data"),Ee(typeof Ye=="number"&&Ye===(Ye|0)&&Ye>=0&&Ye<6,"invalid face");var ot=Pe|0,ft=je|0,Pt=$e|0,Wt=ir();return kt(Wt,Se),Wt.width=0,Wt.height=0,er(Wt,rt),Wt.width=Wt.width||(Se.width>>Pt)-ot,Wt.height=Wt.height||(Se.height>>Pt)-ft,Ee(Se.type===Wt.type&&Se.format===Wt.format&&Se.internalformat===Wt.internalformat,"incompatible format for texture.subimage"),Ee(ot>=0&&ft>=0&&ot+Wt.width<=Se.width&&ft+Wt.height<=Se.height,"texture.subimage write out of bounds"),Ee(Se.mipmask&1<<Pt,"missing mipmap data"),Ee(Wt.data||Wt.element||Wt.needsCopy,"missing image data"),ii(Se),Fr(Wt,$a+Ye,ot,ft,Pt),an(),sr(Wt),nt}function Ze(Ye){var rt=Ye|0;if(rt!==Se.width){nt.width=Se.width=rt,nt.height=Se.height=rt,ii(Se);for(var Pe=0;Pe<6;++Pe)for(var je=0;Se.mipmask>>je;++je)fe.texImage2D($a+Pe,je,Se.format,rt>>je,rt>>je,0,Se.format,Se.type,null);return an(),At.profile&&(Se.stats.size=ps(Se.internalformat,Se.type,nt.width,nt.height,!1,!0)),nt}}return nt(Ne,bt,pt,vr,Xr,De),nt.subimage=st,nt.resize=Ze,nt._reglType="textureCube",nt._texture=Se,At.profile&&(nt.stats=Se.stats),nt.destroy=function(){Se.decRef()},nt}function $n(){for(var Ne=0;Ne<ni;++Ne)fe.activeTexture(zo+Ne),fe.bindTexture(hi,null),Ln[Ne]=null;zn(Jn).forEach(Tr),mt.cubeCount=0,mt.textureCount=0}At.profile&&(mt.getTotalTextureSize=function(){var Ne=0;return Object.keys(Jn).forEach(function(bt){Ne+=Jn[bt].stats.size}),Ne});function ea(){for(var Ne=0;Ne<ni;++Ne){var bt=Ln[Ne];bt&&(bt.bindCount=0,bt.unit=-1,Ln[Ne]=null)}zn(Jn).forEach(function(pt){pt.texture=fe.createTexture(),fe.bindTexture(pt.target,pt.texture);for(var vr=0;vr<32;++vr)if(pt.mipmask&1<<vr)if(pt.target===hi)fe.texImage2D(hi,vr,pt.internalformat,pt.width>>vr,pt.height>>vr,0,pt.internalformat,pt.type,null);else for(var Xr=0;Xr<6;++Xr)fe.texImage2D($a+Xr,vr,pt.internalformat,pt.width>>vr,pt.height>>vr,0,pt.internalformat,pt.type,null);qn(pt.texInfo,pt.target)})}function Ya(){for(var Ne=0;Ne<ni;++Ne){var bt=Ln[Ne];bt&&(bt.bindCount=0,bt.unit=-1,Ln[Ne]=null),fe.activeTexture(zo+Ne),fe.bindTexture(hi,null),fe.bindTexture(Po,null)}}return{create2D:Zr,createCube:Jr,clear:$n,getTexture:function(Ne){return null},restore:ea,refresh:Ya}}var Sa=36161,hs=32854,Gu=32855,qu=36194,ju=33189,Hu=36168,Uu=34041,Wu=35907,Xu=34836,Yu=34842,Zu=34843,ji=[];ji[hs]=2,ji[Gu]=2,ji[qu]=2,ji[ju]=2,ji[Hu]=1,ji[Uu]=4,ji[Wu]=4,ji[Xu]=16,ji[Yu]=8,ji[Zu]=6;function Ku(fe,Te,Ve){return ji[fe]*Te*Ve}var fc=function(fe,Te,Ve,vt,St){var mt={rgba4:hs,rgb565:qu,"rgb5 a1":Gu,depth:ju,stencil:Hu,"depth stencil":Uu};Te.ext_srgb&&(mt.srgba=Wu),Te.ext_color_buffer_half_float&&(mt.rgba16f=Yu,mt.rgb16f=Zu),Te.webgl_color_buffer_float&&(mt.rgba32f=Xu);var At=[];Object.keys(mt).forEach(function(Bt){var Vt=mt[Bt];At[Vt]=Bt});var Rt=0,Lt={};function Gt(Bt){this.id=Rt++,this.refCount=1,this.renderbuffer=Bt,this.format=hs,this.width=0,this.height=0,St.profile&&(this.stats={size:0})}Gt.prototype.decRef=function(){--this.refCount<=0&&jt(this)};function jt(Bt){var Vt=Bt.renderbuffer;Ee(Vt,"must not double destroy renderbuffer"),fe.bindRenderbuffer(Sa,null),fe.deleteRenderbuffer(Vt),Bt.renderbuffer=null,Bt.refCount=0,delete Lt[Bt.id],vt.renderbufferCount--}function qt(Bt,Vt){var at=new Gt(fe.createRenderbuffer());Lt[at.id]=at,vt.renderbufferCount++;function _t(cr,It){var or=0,nr=0,Mr=hs;if(typeof cr=="object"&&cr){var Tt=cr;if("shape"in Tt){var kt=Tt.shape;Ee(Array.isArray(kt)&&kt.length>=2,"invalid renderbuffer shape"),or=kt[0]|0,nr=kt[1]|0}else"radius"in Tt&&(or=nr=Tt.radius|0),"width"in Tt&&(or=Tt.width|0),"height"in Tt&&(nr=Tt.height|0);"format"in Tt&&(Ee.parameter(Tt.format,mt,"invalid renderbuffer format"),Mr=mt[Tt.format])}else typeof cr=="number"?(or=cr|0,typeof It=="number"?nr=It|0:nr=or):cr?Ee.raise("invalid arguments to renderbuffer constructor"):or=nr=1;if(Ee(or>0&&nr>0&&or<=Ve.maxRenderbufferSize&&nr<=Ve.maxRenderbufferSize,"invalid renderbuffer size"),!(or===at.width&&nr===at.height&&Mr===at.format))return _t.width=at.width=or,_t.height=at.height=nr,at.format=Mr,fe.bindRenderbuffer(Sa,at.renderbuffer),fe.renderbufferStorage(Sa,Mr,or,nr),Ee(fe.getError()===0,"invalid render buffer format"),St.profile&&(at.stats.size=Ku(at.format,at.width,at.height)),_t.format=At[at.format],_t}function zt(cr,It){var or=cr|0,nr=It|0||or;return or===at.width&&nr===at.height||(Ee(or>0&&nr>0&&or<=Ve.maxRenderbufferSize&&nr<=Ve.maxRenderbufferSize,"invalid renderbuffer size"),_t.width=at.width=or,_t.height=at.height=nr,fe.bindRenderbuffer(Sa,at.renderbuffer),fe.renderbufferStorage(Sa,at.format,or,nr),Ee(fe.getError()===0,"invalid render buffer format"),St.profile&&(at.stats.size=Ku(at.format,at.width,at.height))),_t}return _t(Bt,Vt),_t.resize=zt,_t._reglType="renderbuffer",_t._renderbuffer=at,St.profile&&(_t.stats=at.stats),_t.destroy=function(){at.decRef()},_t}St.profile&&(vt.getTotalRenderbufferSize=function(){var Bt=0;return Object.keys(Lt).forEach(function(Vt){Bt+=Lt[Vt].stats.size}),Bt});function Zt(){zn(Lt).forEach(function(Bt){Bt.renderbuffer=fe.createRenderbuffer(),fe.bindRenderbuffer(Sa,Bt.renderbuffer),fe.renderbufferStorage(Sa,Bt.format,Bt.width,Bt.height)}),fe.bindRenderbuffer(Sa,null)}return{create:qt,clear:function(){zn(Lt).forEach(jt)},restore:Zt}},ca=36160,Zs=36161,qa=3553,ms=34069,Qu=36064,Ju=36096,el=36128,tl=33306,rl=36053,dc=36054,pc=36055,hc=36057,mc=36061,gc=36193,vc=5121,bc=5126,nl=6407,il=6408,yc=6402,_c=[nl,il],Ks=[];Ks[il]=4,Ks[nl]=3;var gs=[];gs[vc]=1,gs[bc]=4,gs[gc]=2;var xc=32854,Ac=32855,wc=36194,kc=33189,Sc=36168,al=34041,Ec=35907,Mc=34836,Tc=34842,Pc=34843,Ic=[xc,Ac,wc,Ec,Tc,Pc,Mc],ho={};ho[rl]="complete",ho[dc]="incomplete attachment",ho[hc]="incomplete dimensions",ho[pc]="incomplete, missing attachment",ho[mc]="unsupported";function Dc(fe,Te,Ve,vt,St,mt){var At={cur:null,next:null,dirty:!1,setFBO:null},Rt=["rgba"],Lt=["rgba4","rgb565","rgb5 a1"];Te.ext_srgb&&Lt.push("srgba"),Te.ext_color_buffer_half_float&&Lt.push("rgba16f","rgb16f"),Te.webgl_color_buffer_float&&Lt.push("rgba32f");var Gt=["uint8"];Te.oes_texture_half_float&&Gt.push("half float","float16"),Te.oes_texture_float&&Gt.push("float","float32");function jt(Nt,er,tr){this.target=Nt,this.texture=er,this.renderbuffer=tr;var Fr=0,Lr=0;er?(Fr=er.width,Lr=er.height):tr&&(Fr=tr.width,Lr=tr.height),this.width=Fr,this.height=Lr}function qt(Nt){Nt&&(Nt.texture&&Nt.texture._texture.decRef(),Nt.renderbuffer&&Nt.renderbuffer._renderbuffer.decRef())}function Zt(Nt,er,tr){if(Nt)if(Nt.texture){var Fr=Nt.texture._texture,Lr=Math.max(1,Fr.width),ir=Math.max(1,Fr.height);Ee(Lr===er&&ir===tr,"inconsistent width/height for supplied texture"),Fr.refCount+=1}else{var sr=Nt.renderbuffer._renderbuffer;Ee(sr.width===er&&sr.height===tr,"inconsistent width/height for renderbuffer"),sr.refCount+=1}}function Bt(Nt,er){er&&(er.texture?fe.framebufferTexture2D(ca,Nt,er.target,er.texture._texture.texture,0):fe.framebufferRenderbuffer(ca,Nt,Zs,er.renderbuffer._renderbuffer.renderbuffer))}function Vt(Nt){var er=qa,tr=null,Fr=null,Lr=Nt;typeof Nt=="object"&&(Lr=Nt.data,"target"in Nt&&(er=Nt.target|0)),Ee.type(Lr,"function","invalid attachment data");var ir=Lr._reglType;return ir==="texture2d"?(tr=Lr,Ee(er===qa)):ir==="textureCube"?(tr=Lr,Ee(er>=ms&&er<ms+6,"invalid cube map target")):ir==="renderbuffer"?(Fr=Lr,er=Zs):Ee.raise("invalid regl object for attachment"),new jt(er,tr,Fr)}function at(Nt,er,tr,Fr,Lr){if(tr){var ir=vt.create2D({width:Nt,height:er,format:Fr,type:Lr});return ir._texture.refCount=0,new jt(qa,ir,null)}else{var sr=St.create({width:Nt,height:er,format:Fr});return sr._renderbuffer.refCount=0,new jt(Zs,null,sr)}}function _t(Nt){return Nt&&(Nt.texture||Nt.renderbuffer)}function zt(Nt,er,tr){Nt&&(Nt.texture?Nt.texture.resize(er,tr):Nt.renderbuffer&&Nt.renderbuffer.resize(er,tr),Nt.width=er,Nt.height=tr)}var cr=0,It={};function or(){this.id=cr++,It[this.id]=this,this.framebuffer=fe.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function nr(Nt){Nt.colorAttachments.forEach(qt),qt(Nt.depthAttachment),qt(Nt.stencilAttachment),qt(Nt.depthStencilAttachment)}function Mr(Nt){var er=Nt.framebuffer;Ee(er,"must not double destroy framebuffer"),fe.deleteFramebuffer(er),Nt.framebuffer=null,mt.framebufferCount--,delete It[Nt.id]}function Tt(Nt){var er;fe.bindFramebuffer(ca,Nt.framebuffer);var tr=Nt.colorAttachments;for(er=0;er<tr.length;++er)Bt(Qu+er,tr[er]);for(er=tr.length;er<Ve.maxColorAttachments;++er)fe.framebufferTexture2D(ca,Qu+er,qa,null,0);fe.framebufferTexture2D(ca,tl,qa,null,0),fe.framebufferTexture2D(ca,Ju,qa,null,0),fe.framebufferTexture2D(ca,el,qa,null,0),Bt(Ju,Nt.depthAttachment),Bt(el,Nt.stencilAttachment),Bt(tl,Nt.depthStencilAttachment);var Fr=fe.checkFramebufferStatus(ca);!fe.isContextLost()&&Fr!==rl&&Ee.raise("framebuffer configuration not supported, status = "+ho[Fr]),fe.bindFramebuffer(ca,At.next?At.next.framebuffer:null),At.cur=At.next,fe.getError()}function kt(Nt,er){var tr=new or;mt.framebufferCount++;function Fr(ir,sr){var Ir;Ee(At.next!==tr,"can not update framebuffer which is currently in use");var Br=0,Yr=0,An=!0,Tn=!0,Kr=null,Gn=!0,yn="rgba",On="uint8",qn=1,jn=null,Jn=null,ni=null,Ln=!1;if(typeof ir=="number")Br=ir|0,Yr=sr|0||Br;else if(!ir)Br=Yr=1;else{Ee.type(ir,"object","invalid arguments for framebuffer");var qr=ir;if("shape"in qr){var ii=qr.shape;Ee(Array.isArray(ii)&&ii.length>=2,"invalid shape for framebuffer"),Br=ii[0],Yr=ii[1]}else"radius"in qr&&(Br=Yr=qr.radius),"width"in qr&&(Br=qr.width),"height"in qr&&(Yr=qr.height);("color"in qr||"colors"in qr)&&(Kr=qr.color||qr.colors,Array.isArray(Kr)&&Ee(Kr.length===1||Te.webgl_draw_buffers,"multiple render targets not supported")),Kr||("colorCount"in qr&&(qn=qr.colorCount|0,Ee(qn>0,"invalid color buffer count")),"colorTexture"in qr&&(Gn=!!qr.colorTexture,yn="rgba4"),"colorType"in qr&&(On=qr.colorType,Gn?(Ee(Te.oes_texture_float||!(On==="float"||On==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),Ee(Te.oes_texture_half_float||!(On==="half float"||On==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):On==="half float"||On==="float16"?(Ee(Te.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),yn="rgba16f"):(On==="float"||On==="float32")&&(Ee(Te.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),yn="rgba32f"),Ee.oneOf(On,Gt,"invalid color type")),"colorFormat"in qr&&(yn=qr.colorFormat,Rt.indexOf(yn)>=0?Gn=!0:Lt.indexOf(yn)>=0?Gn=!1:Ee.optional(function(){Gn?Ee.oneOf(qr.colorFormat,Rt,"invalid color format for texture"):Ee.oneOf(qr.colorFormat,Lt,"invalid color format for renderbuffer")}))),("depthTexture"in qr||"depthStencilTexture"in qr)&&(Ln=!!(qr.depthTexture||qr.depthStencilTexture),Ee(!Ln||Te.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in qr&&(typeof qr.depth=="boolean"?An=qr.depth:(jn=qr.depth,Tn=!1)),"stencil"in qr&&(typeof qr.stencil=="boolean"?Tn=qr.stencil:(Jn=qr.stencil,An=!1)),"depthStencil"in qr&&(typeof qr.depthStencil=="boolean"?An=Tn=qr.depthStencil:(ni=qr.depthStencil,An=!1,Tn=!1))}var an=null,Tr=null,Zr=null,Jr=null;if(Array.isArray(Kr))an=Kr.map(Vt);else if(Kr)an=[Vt(Kr)];else for(an=new Array(qn),Ir=0;Ir<qn;++Ir)an[Ir]=at(Br,Yr,Gn,yn,On);Ee(Te.webgl_draw_buffers||an.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),Ee(an.length<=Ve.maxColorAttachments,"too many color attachments, not supported"),Br=Br||an[0].width,Yr=Yr||an[0].height,jn?Tr=Vt(jn):An&&!Tn&&(Tr=at(Br,Yr,Ln,"depth","uint32")),Jn?Zr=Vt(Jn):Tn&&!An&&(Zr=at(Br,Yr,!1,"stencil","uint8")),ni?Jr=Vt(ni):!jn&&!Jn&&Tn&&An&&(Jr=at(Br,Yr,Ln,"depth stencil","depth stencil")),Ee(!!jn+!!Jn+!!ni<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var $n=null;for(Ir=0;Ir<an.length;++Ir)if(Zt(an[Ir],Br,Yr),Ee(!an[Ir]||an[Ir].texture&&_c.indexOf(an[Ir].texture._texture.format)>=0||an[Ir].renderbuffer&&Ic.indexOf(an[Ir].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+Ir+" is invalid"),an[Ir]&&an[Ir].texture){var ea=Ks[an[Ir].texture._texture.format]*gs[an[Ir].texture._texture.type];$n===null?$n=ea:Ee($n===ea,"all color attachments much have the same number of bits per pixel.")}return Zt(Tr,Br,Yr),Ee(!Tr||Tr.texture&&Tr.texture._texture.format===yc||Tr.renderbuffer&&Tr.renderbuffer._renderbuffer.format===kc,"invalid depth attachment for framebuffer object"),Zt(Zr,Br,Yr),Ee(!Zr||Zr.renderbuffer&&Zr.renderbuffer._renderbuffer.format===Sc,"invalid stencil attachment for framebuffer object"),Zt(Jr,Br,Yr),Ee(!Jr||Jr.texture&&Jr.texture._texture.format===al||Jr.renderbuffer&&Jr.renderbuffer._renderbuffer.format===al,"invalid depth-stencil attachment for framebuffer object"),nr(tr),tr.width=Br,tr.height=Yr,tr.colorAttachments=an,tr.depthAttachment=Tr,tr.stencilAttachment=Zr,tr.depthStencilAttachment=Jr,Fr.color=an.map(_t),Fr.depth=_t(Tr),Fr.stencil=_t(Zr),Fr.depthStencil=_t(Jr),Fr.width=tr.width,Fr.height=tr.height,Tt(tr),Fr}function Lr(ir,sr){Ee(At.next!==tr,"can not resize a framebuffer which is currently in use");var Ir=Math.max(ir|0,1),Br=Math.max(sr|0||Ir,1);if(Ir===tr.width&&Br===tr.height)return Fr;for(var Yr=tr.colorAttachments,An=0;An<Yr.length;++An)zt(Yr[An],Ir,Br);return zt(tr.depthAttachment,Ir,Br),zt(tr.stencilAttachment,Ir,Br),zt(tr.depthStencilAttachment,Ir,Br),tr.width=Fr.width=Ir,tr.height=Fr.height=Br,Tt(tr),Fr}return Fr(Nt,er),_(Fr,{resize:Lr,_reglType:"framebuffer",_framebuffer:tr,destroy:function(){Mr(tr),nr(tr)},use:function(ir){At.setFBO({framebuffer:Fr},ir)}})}function br(Nt){var er=Array(6);function tr(Lr){var ir;Ee(er.indexOf(At.next)<0,"can not update framebuffer which is currently in use");var sr={color:null},Ir=0,Br=null,Yr="rgba",An="uint8",Tn=1;if(typeof Lr=="number")Ir=Lr|0;else if(!Lr)Ir=1;else{Ee.type(Lr,"object","invalid arguments for framebuffer");var Kr=Lr;if("shape"in Kr){var Gn=Kr.shape;Ee(Array.isArray(Gn)&&Gn.length>=2,"invalid shape for framebuffer"),Ee(Gn[0]===Gn[1],"cube framebuffer must be square"),Ir=Gn[0]}else"radius"in Kr&&(Ir=Kr.radius|0),"width"in Kr?(Ir=Kr.width|0,"height"in Kr&&Ee(Kr.height===Ir,"must be square")):"height"in Kr&&(Ir=Kr.height|0);("color"in Kr||"colors"in Kr)&&(Br=Kr.color||Kr.colors,Array.isArray(Br)&&Ee(Br.length===1||Te.webgl_draw_buffers,"multiple render targets not supported")),Br||("colorCount"in Kr&&(Tn=Kr.colorCount|0,Ee(Tn>0,"invalid color buffer count")),"colorType"in Kr&&(Ee.oneOf(Kr.colorType,Gt,"invalid color type"),An=Kr.colorType),"colorFormat"in Kr&&(Yr=Kr.colorFormat,Ee.oneOf(Kr.colorFormat,Rt,"invalid color format for texture"))),"depth"in Kr&&(sr.depth=Kr.depth),"stencil"in Kr&&(sr.stencil=Kr.stencil),"depthStencil"in Kr&&(sr.depthStencil=Kr.depthStencil)}var yn;if(Br)if(Array.isArray(Br))for(yn=[],ir=0;ir<Br.length;++ir)yn[ir]=Br[ir];else yn=[Br];else{yn=Array(Tn);var On={radius:Ir,format:Yr,type:An};for(ir=0;ir<Tn;++ir)yn[ir]=vt.createCube(On)}for(sr.color=Array(yn.length),ir=0;ir<yn.length;++ir){var qn=yn[ir];Ee(typeof qn=="function"&&qn._reglType==="textureCube","invalid cube map"),Ir=Ir||qn.width,Ee(qn.width===Ir&&qn.height===Ir,"invalid cube map shape"),sr.color[ir]={target:ms,data:yn[ir]}}for(ir=0;ir<6;++ir){for(var jn=0;jn<yn.length;++jn)sr.color[jn].target=ms+ir;ir>0&&(sr.depth=er[0].depth,sr.stencil=er[0].stencil,sr.depthStencil=er[0].depthStencil),er[ir]?er[ir](sr):er[ir]=kt(sr)}return _(tr,{width:Ir,height:Ir,color:yn})}function Fr(Lr){var ir,sr=Lr|0;if(Ee(sr>0&&sr<=Ve.maxCubeMapSize,"invalid radius for cube fbo"),sr===tr.width)return tr;var Ir=tr.color;for(ir=0;ir<Ir.length;++ir)Ir[ir].resize(sr);for(ir=0;ir<6;++ir)er[ir].resize(sr);return tr.width=tr.height=sr,tr}return tr(Nt),_(tr,{faces:er,resize:Fr,_reglType:"framebufferCube",destroy:function(){er.forEach(function(Lr){Lr.destroy()})}})}function Qt(){At.cur=null,At.next=null,At.dirty=!0,zn(It).forEach(function(Nt){Nt.framebuffer=fe.createFramebuffer(),Tt(Nt)})}return _(At,{getFramebuffer:function(Nt){if(typeof Nt=="function"&&Nt._reglType==="framebuffer"){var er=Nt._framebuffer;if(er instanceof or)return er}return null},create:kt,createCube:br,clear:function(){zn(It).forEach(Mr)},restore:Qt})}var Lc=5126,ol=34962,vs=34963,sl=["attributes","elements","offset","count","primitive","instances"];function Qs(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=Lc,this.offset=0,this.stride=0,this.divisor=0}function $c(fe,Te,Ve,vt,St,mt,At){for(var Rt=Ve.maxAttributes,Lt=new Array(Rt),Gt=0;Gt<Rt;++Gt)Lt[Gt]=new Qs;var jt=0,qt={},Zt={Record:Qs,scope:{},state:Lt,currentVAO:null,targetVAO:null,restore:Vt()?nr:function(){},createVAO:Mr,getVAO:_t,destroyBuffer:Bt,setVAO:Vt()?zt:cr,clear:Vt()?It:function(){}};function Bt(Tt){for(var kt=0;kt<Lt.length;++kt){var br=Lt[kt];br.buffer===Tt&&(fe.disableVertexAttribArray(kt),br.buffer=null)}}function Vt(){return Te.oes_vertex_array_object}function at(){return Te.angle_instanced_arrays}function _t(Tt){return typeof Tt=="function"&&Tt._vao?Tt._vao:null}function zt(Tt){if(Tt!==Zt.currentVAO){var kt=Vt();Tt?kt.bindVertexArrayOES(Tt.vao):kt.bindVertexArrayOES(null),Zt.currentVAO=Tt}}function cr(Tt){if(Tt!==Zt.currentVAO){if(Tt)Tt.bindAttrs();else{for(var kt=at(),br=0;br<Lt.length;++br){var Qt=Lt[br];Qt.buffer?(fe.enableVertexAttribArray(br),Qt.buffer.bind(),fe.vertexAttribPointer(br,Qt.size,Qt.type,Qt.normalized,Qt.stride,Qt.offfset),kt&&Qt.divisor&&kt.vertexAttribDivisorANGLE(br,Qt.divisor)):(fe.disableVertexAttribArray(br),fe.vertexAttrib4f(br,Qt.x,Qt.y,Qt.z,Qt.w))}At.elements?fe.bindBuffer(vs,At.elements.buffer.buffer):fe.bindBuffer(vs,null)}Zt.currentVAO=Tt}}function It(){zn(qt).forEach(function(Tt){Tt.destroy()})}function or(){this.id=++jt,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var Tt=Vt();Tt?this.vao=Tt.createVertexArrayOES():this.vao=null,qt[this.id]=this,this.buffers=[]}or.prototype.bindAttrs=function(){for(var Tt=at(),kt=this.attributes,br=0;br<kt.length;++br){var Qt=kt[br];Qt.buffer?(fe.enableVertexAttribArray(br),fe.bindBuffer(ol,Qt.buffer.buffer),fe.vertexAttribPointer(br,Qt.size,Qt.type,Qt.normalized,Qt.stride,Qt.offset),Tt&&Qt.divisor&&Tt.vertexAttribDivisorANGLE(br,Qt.divisor)):(fe.disableVertexAttribArray(br),fe.vertexAttrib4f(br,Qt.x,Qt.y,Qt.z,Qt.w))}for(var Nt=kt.length;Nt<Rt;++Nt)fe.disableVertexAttribArray(Nt);var er=mt.getElements(this.elements);er?fe.bindBuffer(vs,er.buffer.buffer):fe.bindBuffer(vs,null)},or.prototype.refresh=function(){var Tt=Vt();Tt&&(Tt.bindVertexArrayOES(this.vao),this.bindAttrs(),Zt.currentVAO=null,Tt.bindVertexArrayOES(null))},or.prototype.destroy=function(){if(this.vao){var Tt=Vt();this===Zt.currentVAO&&(Zt.currentVAO=null,Tt.bindVertexArrayOES(null)),Tt.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),qt[this.id]&&(delete qt[this.id],vt.vaoCount-=1)};function nr(){var Tt=Vt();Tt&&zn(qt).forEach(function(kt){kt.refresh()})}function Mr(Tt){var kt=new or;vt.vaoCount+=1;function br(Qt){var Nt;if(Array.isArray(Qt))Nt=Qt,kt.elements&&kt.ownsElements&&kt.elements.destroy(),kt.elements=null,kt.ownsElements=!1,kt.offset=0,kt.count=0,kt.instances=-1,kt.primitive=4;else{if(Ee(typeof Qt=="object","invalid arguments for create vao"),Ee("attributes"in Qt,"must specify attributes for vao"),Qt.elements){var er=Qt.elements;kt.ownsElements?typeof er=="function"&&er._reglType==="elements"?(kt.elements.destroy(),kt.ownsElements=!1):(kt.elements(er),kt.ownsElements=!1):mt.getElements(Qt.elements)?(kt.elements=Qt.elements,kt.ownsElements=!1):(kt.elements=mt.create(Qt.elements),kt.ownsElements=!0)}else kt.elements=null,kt.ownsElements=!1;Nt=Qt.attributes,kt.offset=0,kt.count=-1,kt.instances=-1,kt.primitive=4,kt.elements&&(kt.count=kt.elements._elements.vertCount,kt.primitive=kt.elements._elements.primType),"offset"in Qt&&(kt.offset=Qt.offset|0),"count"in Qt&&(kt.count=Qt.count|0),"instances"in Qt&&(kt.instances=Qt.instances|0),"primitive"in Qt&&(Ee(Qt.primitive in yi,"bad primitive type: "+Qt.primitive),kt.primitive=yi[Qt.primitive]),Ee.optional(()=>{for(var An=Object.keys(Qt),Tn=0;Tn<An.length;++Tn)Ee(sl.indexOf(An[Tn])>=0,'invalid option for vao: "'+An[Tn]+'" valid options are '+sl)}),Ee(Array.isArray(Nt),"attributes must be an array")}Ee(Nt.length<Rt,"too many attributes"),Ee(Nt.length>0,"must specify at least one attribute");var tr={},Fr=kt.attributes;Fr.length=Nt.length;for(var Lr=0;Lr<Nt.length;++Lr){var ir=Nt[Lr],sr=Fr[Lr]=new Qs,Ir=ir.data||ir;if(Array.isArray(Ir)||y(Ir)||Zn(Ir)){var Br;kt.buffers[Lr]&&(Br=kt.buffers[Lr],y(Ir)&&Br._buffer.byteLength>=Ir.byteLength?Br.subdata(Ir):(Br.destroy(),kt.buffers[Lr]=null)),kt.buffers[Lr]||(Br=kt.buffers[Lr]=St.create(ir,ol,!1,!0)),sr.buffer=St.getBuffer(Br),sr.size=sr.buffer.dimension|0,sr.normalized=!1,sr.type=sr.buffer.dtype,sr.offset=0,sr.stride=0,sr.divisor=0,sr.state=1,tr[Lr]=1}else St.getBuffer(ir)?(sr.buffer=St.getBuffer(ir),sr.size=sr.buffer.dimension|0,sr.normalized=!1,sr.type=sr.buffer.dtype,sr.offset=0,sr.stride=0,sr.divisor=0,sr.state=1):St.getBuffer(ir.buffer)?(sr.buffer=St.getBuffer(ir.buffer),sr.size=(+ir.size||sr.buffer.dimension)|0,sr.normalized=!!ir.normalized||!1,"type"in ir?(Ee.parameter(ir.type,Kt,"invalid buffer type"),sr.type=Kt[ir.type]):sr.type=sr.buffer.dtype,sr.offset=(ir.offset||0)|0,sr.stride=(ir.stride||0)|0,sr.divisor=(ir.divisor||0)|0,sr.state=1,Ee(sr.size>=1&&sr.size<=4,"size must be between 1 and 4"),Ee(sr.offset>=0,"invalid offset"),Ee(sr.stride>=0&&sr.stride<=255,"stride must be between 0 and 255"),Ee(sr.divisor>=0,"divisor must be positive"),Ee(!sr.divisor||!!Te.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in ir?(Ee(Lr>0,"first attribute must not be a constant"),sr.x=+ir.x||0,sr.y=+ir.y||0,sr.z=+ir.z||0,sr.w=+ir.w||0,sr.state=2):Ee(!1,"invalid attribute spec for location "+Lr)}for(var Yr=0;Yr<kt.buffers.length;++Yr)!tr[Yr]&&kt.buffers[Yr]&&(kt.buffers[Yr].destroy(),kt.buffers[Yr]=null);return kt.refresh(),br}return br.destroy=function(){for(var Qt=0;Qt<kt.buffers.length;++Qt)kt.buffers[Qt]&&kt.buffers[Qt].destroy();kt.buffers.length=0,kt.ownsElements&&(kt.elements.destroy(),kt.elements=null,kt.ownsElements=!1),kt.destroy()},br._vao=kt,br._reglType="vao",br(Tt)}return Zt}var ul=35632,Rc=35633,Oc=35718,Bc=35721;function Nc(fe,Te,Ve,vt){var St={},mt={};function At(at,_t,zt,cr){this.name=at,this.id=_t,this.location=zt,this.info=cr}function Rt(at,_t){for(var zt=0;zt<at.length;++zt)if(at[zt].id===_t.id){at[zt].location=_t.location;return}at.push(_t)}function Lt(at,_t,zt){var cr=at===ul?St:mt,It=cr[_t];if(!It){var or=Te.str(_t);It=fe.createShader(at),fe.shaderSource(It,or),fe.compileShader(It),Ee.shaderError(fe,It,or,at,zt),cr[_t]=It}return It}var Gt={},jt=[],qt=0;function Zt(at,_t){this.id=qt++,this.fragId=at,this.vertId=_t,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,vt.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Bt(at,_t,zt){var cr,It,or=Lt(ul,at.fragId),nr=Lt(Rc,at.vertId),Mr=at.program=fe.createProgram();if(fe.attachShader(Mr,or),fe.attachShader(Mr,nr),zt)for(cr=0;cr<zt.length;++cr){var Tt=zt[cr];fe.bindAttribLocation(Mr,Tt[0],Tt[1])}fe.linkProgram(Mr),Ee.linkError(fe,Mr,Te.str(at.fragId),Te.str(at.vertId),_t);var kt=fe.getProgramParameter(Mr,Oc);vt.profile&&(at.stats.uniformsCount=kt);var br=at.uniforms;for(cr=0;cr<kt;++cr)if(It=fe.getActiveUniform(Mr,cr),It)if(It.size>1)for(var Qt=0;Qt<It.size;++Qt){var Nt=It.name.replace("[0]","["+Qt+"]");Rt(br,new At(Nt,Te.id(Nt),fe.getUniformLocation(Mr,Nt),It))}else Rt(br,new At(It.name,Te.id(It.name),fe.getUniformLocation(Mr,It.name),It));var er=fe.getProgramParameter(Mr,Bc);vt.profile&&(at.stats.attributesCount=er);var tr=at.attributes;for(cr=0;cr<er;++cr)It=fe.getActiveAttrib(Mr,cr),It&&Rt(tr,new At(It.name,Te.id(It.name),fe.getAttribLocation(Mr,It.name),It))}vt.profile&&(Ve.getMaxUniformsCount=function(){var at=0;return jt.forEach(function(_t){_t.stats.uniformsCount>at&&(at=_t.stats.uniformsCount)}),at},Ve.getMaxAttributesCount=function(){var at=0;return jt.forEach(function(_t){_t.stats.attributesCount>at&&(at=_t.stats.attributesCount)}),at});function Vt(){St={},mt={};for(var at=0;at<jt.length;++at)Bt(jt[at],null,jt[at].attributes.map(function(_t){return[_t.location,_t.name]}))}return{clear:function(){var at=fe.deleteShader.bind(fe);zn(St).forEach(at),St={},zn(mt).forEach(at),mt={},jt.forEach(function(_t){fe.deleteProgram(_t.program)}),jt.length=0,Gt={},Ve.shaderCount=0},program:function(at,_t,zt,cr){Ee.command(at>=0,"missing vertex shader",zt),Ee.command(_t>=0,"missing fragment shader",zt);var It=Gt[_t];It||(It=Gt[_t]={});var or=It[at];if(or&&(or.refCount++,!cr))return or;var nr=new Zt(_t,at);return Ve.shaderCount++,Bt(nr,zt,cr),or||(It[at]=nr),jt.push(nr),_(nr,{destroy:function(){if(nr.refCount--,nr.refCount<=0){fe.deleteProgram(nr.program);var Mr=jt.indexOf(nr);jt.splice(Mr,1),Ve.shaderCount--}It[nr.vertId].refCount<=0&&(fe.deleteShader(mt[nr.vertId]),delete mt[nr.vertId],delete Gt[nr.fragId][nr.vertId]),Object.keys(Gt[nr.fragId]).length||(fe.deleteShader(St[nr.fragId]),delete St[nr.fragId],delete Gt[nr.fragId])}})},restore:Vt,shader:Lt,frag:-1,vert:-1}}var Fc=6408,Vo=5121,zc=3333,bs=5126;function Vc(fe,Te,Ve,vt,St,mt,At){function Rt(jt){var qt;Te.next===null?(Ee(St.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),qt=Vo):(Ee(Te.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),qt=Te.next.colorAttachments[0].texture._texture.type,Ee.optional(function(){mt.oes_texture_float?(Ee(qt===Vo||qt===bs,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),qt===bs&&Ee(At.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):Ee(qt===Vo,"Reading from a framebuffer is only allowed for the type 'uint8'")}));var Zt=0,Bt=0,Vt=vt.framebufferWidth,at=vt.framebufferHeight,_t=null;y(jt)?_t=jt:jt&&(Ee.type(jt,"object","invalid arguments to regl.read()"),Zt=jt.x|0,Bt=jt.y|0,Ee(Zt>=0&&Zt<vt.framebufferWidth,"invalid x offset for regl.read"),Ee(Bt>=0&&Bt<vt.framebufferHeight,"invalid y offset for regl.read"),Vt=(jt.width||vt.framebufferWidth-Zt)|0,at=(jt.height||vt.framebufferHeight-Bt)|0,_t=jt.data||null),_t&&(qt===Vo?Ee(_t instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):qt===bs&&Ee(_t instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),Ee(Vt>0&&Vt+Zt<=vt.framebufferWidth,"invalid width for read pixels"),Ee(at>0&&at+Bt<=vt.framebufferHeight,"invalid height for read pixels"),Ve();var zt=Vt*at*4;return _t||(qt===Vo?_t=new Uint8Array(zt):qt===bs&&(_t=_t||new Float32Array(zt))),Ee.isTypedArray(_t,"data buffer for regl.read() must be a typedarray"),Ee(_t.byteLength>=zt,"data buffer for regl.read() too small"),fe.pixelStorei(zc,4),fe.readPixels(Zt,Bt,Vt,at,Fc,qt,_t),_t}function Lt(jt){var qt;return Te.setFBO({framebuffer:jt.framebuffer},function(){qt=Rt(jt)}),qt}function Gt(jt){return!jt||!("framebuffer"in jt)?Rt(jt):Lt(jt)}return Gt}function mo(fe){return Array.prototype.slice.call(fe)}function go(fe){return mo(fe).join("")}function Gc(){var fe=0,Te=[],Ve=[];function vt(qt){for(var Zt=0;Zt<Ve.length;++Zt)if(Ve[Zt]===qt)return Te[Zt];var Bt="g"+fe++;return Te.push(Bt),Ve.push(qt),Bt}function St(){var qt=[];function Zt(){qt.push.apply(qt,mo(arguments))}var Bt=[];function Vt(){var at="v"+fe++;return Bt.push(at),arguments.length>0&&(qt.push(at,"="),qt.push.apply(qt,mo(arguments)),qt.push(";")),at}return _(Zt,{def:Vt,toString:function(){return go([Bt.length>0?"var "+Bt.join(",")+";":"",go(qt)])}})}function mt(){var qt=St(),Zt=St(),Bt=qt.toString,Vt=Zt.toString;function at(_t,zt){Zt(_t,zt,"=",qt.def(_t,zt),";")}return _(function(){qt.apply(qt,mo(arguments))},{def:qt.def,entry:qt,exit:Zt,save:at,set:function(_t,zt,cr){at(_t,zt),qt(_t,zt,"=",cr,";")},toString:function(){return Bt()+Vt()}})}function At(){var qt=go(arguments),Zt=mt(),Bt=mt(),Vt=Zt.toString,at=Bt.toString;return _(Zt,{then:function(){return Zt.apply(Zt,mo(arguments)),this},else:function(){return Bt.apply(Bt,mo(arguments)),this},toString:function(){var _t=at();return _t&&(_t="else{"+_t+"}"),go(["if(",qt,"){",Vt(),"}",_t])}})}var Rt=St(),Lt={};function Gt(qt,Zt){var Bt=[];function Vt(){var It="a"+Bt.length;return Bt.push(It),It}Zt=Zt||0;for(var at=0;at<Zt;++at)Vt();var _t=mt(),zt=_t.toString,cr=Lt[qt]=_(_t,{arg:Vt,toString:function(){return go(["function(",Bt.join(),"){",zt(),"}"])}});return cr}function jt(){var qt=['"use strict";',Rt,"return {"];Object.keys(Lt).forEach(function(Vt){qt.push('"',Vt,'":',Lt[Vt].toString(),",")}),qt.push("}");var Zt=go(qt).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Bt=Function.apply(null,Te.concat(Zt));return Bt.apply(null,Ve)}return{global:Rt,link:vt,block:St,proc:Gt,scope:mt,cond:At,compile:jt}}var vo="xyzw".split(""),ll=5121,bo=1,Js=2,eu=0,tu=1,ru=2,nu=3,ys=4,cl=5,fl=6,dl="dither",pl="blend.enable",hl="blend.color",iu="blend.equation",au="blend.func",ml="depth.enable",vl="depth.func",bl="depth.range",yl="depth.mask",ou="colorMask",_l="cull.enable",xl="cull.face",su="frontFace",uu="lineWidth",Al="polygonOffset.enable",lu="polygonOffset.offset",wl="sample.alpha",Cl="sample.enable",cu="sample.coverage",kl="stencil.enable",Sl="stencil.mask",fu="stencil.func",du="stencil.opFront",Go="stencil.opBack",El="scissor.enable",_s="scissor.box",fa="viewport",qo="profile",ja="framebuffer",jo="vert",Ho="frag",Ha="elements",Ua="primitive",Wa="count",xs="offset",As="instances",Uo="vao",pu="Width",hu="Height",yo=ja+pu,_o=ja+hu,qc=fa+pu,jc=fa+hu,Ml="drawingBuffer",Tl=Ml+pu,Pl=Ml+hu,Hc=[au,iu,fu,du,Go,cu,fa,_s,lu],xo=34962,mu=34963,Uc=35632,Wc=35633,Il=3553,Xc=34067,Yc=2884,Zc=3042,Kc=3024,Qc=2960,Jc=2929,e0=3089,t0=32823,r0=32926,n0=32928,gu=5126,ws=35664,Cs=35665,ks=35666,vu=5124,Ss=35667,Es=35668,Ms=35669,bu=35670,Ts=35671,Ps=35672,Is=35673,Wo=35674,Xo=35675,Yo=35676,Zo=35678,Ko=35680,yu=4,Qo=1028,Xa=1029,Dl=2304,_u=2305,i0=32775,a0=32776,o0=519,Ea=7680,Ll=0,$l=1,Rl=32774,s0=513,Ol=36160,u0=36064,Ji={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Bl=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],Ao={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Ma={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Nl={frag:Uc,vert:Wc},xu={cw:Dl,ccw:_u};function Ds(fe){return Array.isArray(fe)||y(fe)||Zn(fe)}function Fl(fe){return fe.sort(function(Te,Ve){return Te===fa?-1:Ve===fa?1:Te<Ve?-1:1})}function Wn(fe,Te,Ve,vt){this.thisDep=fe,this.contextDep=Te,this.propDep=Ve,this.append=vt}function Ta(fe){return fe&&!(fe.thisDep||fe.contextDep||fe.propDep)}function Rn(fe){return new Wn(!1,!1,!1,fe)}function Ci(fe,Te){var Ve=fe.type;if(Ve===eu){var vt=fe.data.length;return new Wn(!0,vt>=1,vt>=2,Te)}else if(Ve===ys){var St=fe.data;return new Wn(St.thisDep,St.contextDep,St.propDep,Te)}else{if(Ve===cl)return new Wn(!1,!1,!1,Te);if(Ve===fl){for(var mt=!1,At=!1,Rt=!1,Lt=0;Lt<fe.data.length;++Lt){var Gt=fe.data[Lt];if(Gt.type===tu)Rt=!0;else if(Gt.type===ru)At=!0;else if(Gt.type===nu)mt=!0;else if(Gt.type===eu){mt=!0;var jt=Gt.data;jt>=1&&(At=!0),jt>=2&&(Rt=!0)}else Gt.type===ys&&(mt=mt||Gt.data.thisDep,At=At||Gt.data.contextDep,Rt=Rt||Gt.data.propDep)}return new Wn(mt,At,Rt,Te)}else return new Wn(Ve===nu,Ve===ru,Ve===tu,Te)}}var zl=new Wn(!1,!1,!1,function(){});function l0(fe,Te,Ve,vt,St,mt,At,Rt,Lt,Gt,jt,qt,Zt,Bt,Vt){var at=Gt.Record,_t={add:32774,subtract:32778,"reverse subtract":32779};Ve.ext_blend_minmax&&(_t.min=i0,_t.max=a0);var zt=Ve.angle_instanced_arrays,cr=Ve.webgl_draw_buffers,It=Ve.oes_vertex_array_object,or={dirty:!0,profile:Vt.profile},nr={},Mr=[],Tt={},kt={};function br(De){return De.replace(".","_")}function Qt(De,Se,Ue){var nt=br(De);Mr.push(De),nr[nt]=or[nt]=!!Ue,Tt[nt]=Se}function Nt(De,Se,Ue){var nt=br(De);Mr.push(De),Array.isArray(Ue)?(or[nt]=Ue.slice(),nr[nt]=Ue.slice()):or[nt]=nr[nt]=Ue,kt[nt]=Se}Qt(dl,Kc),Qt(pl,Zc),Nt(hl,"blendColor",[0,0,0,0]),Nt(iu,"blendEquationSeparate",[Rl,Rl]),Nt(au,"blendFuncSeparate",[$l,Ll,$l,Ll]),Qt(ml,Jc,!0),Nt(vl,"depthFunc",s0),Nt(bl,"depthRange",[0,1]),Nt(yl,"depthMask",!0),Nt(ou,ou,[!0,!0,!0,!0]),Qt(_l,Yc),Nt(xl,"cullFace",Xa),Nt(su,su,_u),Nt(uu,uu,1),Qt(Al,t0),Nt(lu,"polygonOffset",[0,0]),Qt(wl,r0),Qt(Cl,n0),Nt(cu,"sampleCoverage",[1,!1]),Qt(kl,Qc),Nt(Sl,"stencilMask",-1),Nt(fu,"stencilFunc",[o0,0,-1]),Nt(du,"stencilOpSeparate",[Qo,Ea,Ea,Ea]),Nt(Go,"stencilOpSeparate",[Xa,Ea,Ea,Ea]),Qt(El,e0),Nt(_s,"scissor",[0,0,fe.drawingBufferWidth,fe.drawingBufferHeight]),Nt(fa,fa,[0,0,fe.drawingBufferWidth,fe.drawingBufferHeight]);var er={gl:fe,context:Zt,strings:Te,next:nr,current:or,draw:qt,elements:mt,buffer:St,shader:jt,attributes:Gt.state,vao:Gt,uniforms:Lt,framebuffer:Rt,extensions:Ve,timer:Bt,isBufferArgs:Ds},tr={primTypes:yi,compareFuncs:Ao,blendFuncs:Ji,blendEquations:_t,stencilOps:Ma,glTypes:Kt,orientationType:xu};Ee.optional(function(){er.isArrayLike=hn}),cr&&(tr.backBuffer=[Xa],tr.drawBuffer=ye(vt.maxDrawbuffers,function(De){return De===0?[0]:ye(De,function(Se){return u0+Se})}));var Fr=0;function Lr(){var De=Gc(),Se=De.link,Ue=De.global;De.id=Fr++,De.batchId="0";var nt=Se(er),st=De.shared={props:"a0"};Object.keys(er).forEach(function(je){st[je]=Ue.def(nt,".",je)}),Ee.optional(function(){De.CHECK=Se(Ee),De.commandStr=Ee.guessCommand(),De.command=Se(De.commandStr),De.assert=function(je,$e,ot){je("if(!(",$e,"))",this.CHECK,".commandRaise(",Se(ot),",",this.command,");")},tr.invalidBlendCombinations=Bl});var Ze=De.next={},Ye=De.current={};Object.keys(kt).forEach(function(je){Array.isArray(or[je])&&(Ze[je]=Ue.def(st.next,".",je),Ye[je]=Ue.def(st.current,".",je))});var rt=De.constants={};Object.keys(tr).forEach(function(je){rt[je]=Ue.def(JSON.stringify(tr[je]))}),De.invoke=function(je,$e){switch($e.type){case eu:var ot=["this",st.context,st.props,De.batchId];return je.def(Se($e.data),".call(",ot.slice(0,Math.max($e.data.length+1,4)),")");case tu:return je.def(st.props,$e.data);case ru:return je.def(st.context,$e.data);case nu:return je.def("this",$e.data);case ys:return $e.data.append(De,je),$e.data.ref;case cl:return $e.data.toString();case fl:return $e.data.map(function(ft){return De.invoke(je,ft)})}},De.attribCache={};var Pe={};return De.scopeAttrib=function(je){var $e=Te.id(je);if($e in Pe)return Pe[$e];var ot=Gt.scope[$e];ot||(ot=Gt.scope[$e]=new at);var ft=Pe[$e]=Se(ot);return ft},De}function ir(De){var Se=De.static,Ue=De.dynamic,nt;if(qo in Se){var st=!!Se[qo];nt=Rn(function(Ye,rt){return st}),nt.enable=st}else if(qo in Ue){var Ze=Ue[qo];nt=Ci(Ze,function(Ye,rt){return Ye.invoke(rt,Ze)})}return nt}function sr(De,Se){var Ue=De.static,nt=De.dynamic;if(ja in Ue){var st=Ue[ja];return st?(st=Rt.getFramebuffer(st),Ee.command(st,"invalid framebuffer object"),Rn(function(Ye,rt){var Pe=Ye.link(st),je=Ye.shared;rt.set(je.framebuffer,".next",Pe);var $e=je.context;return rt.set($e,"."+yo,Pe+".width"),rt.set($e,"."+_o,Pe+".height"),Pe})):Rn(function(Ye,rt){var Pe=Ye.shared;rt.set(Pe.framebuffer,".next","null");var je=Pe.context;return rt.set(je,"."+yo,je+"."+Tl),rt.set(je,"."+_o,je+"."+Pl),"null"})}else if(ja in nt){var Ze=nt[ja];return Ci(Ze,function(Ye,rt){var Pe=Ye.invoke(rt,Ze),je=Ye.shared,$e=je.framebuffer,ot=rt.def($e,".getFramebuffer(",Pe,")");Ee.optional(function(){Ye.assert(rt,"!"+Pe+"||"+ot,"invalid framebuffer object")}),rt.set($e,".next",ot);var ft=je.context;return rt.set(ft,"."+yo,ot+"?"+ot+".width:"+ft+"."+Tl),rt.set(ft,"."+_o,ot+"?"+ot+".height:"+ft+"."+Pl),ot})}else return null}function Ir(De,Se,Ue){var nt=De.static,st=De.dynamic;function Ze(Pe){if(Pe in nt){var je=nt[Pe];Ee.commandType(je,"object","invalid "+Pe,Ue.commandStr);var $e=!0,ot=je.x|0,ft=je.y|0,Pt,Wt;return"width"in je?(Pt=je.width|0,Ee.command(Pt>=0,"invalid "+Pe,Ue.commandStr)):$e=!1,"height"in je?(Wt=je.height|0,Ee.command(Wt>=0,"invalid "+Pe,Ue.commandStr)):$e=!1,new Wn(!$e&&Se&&Se.thisDep,!$e&&Se&&Se.contextDep,!$e&&Se&&Se.propDep,function(Ht,xr){var mr=Ht.shared.context,yr=Pt;"width"in je||(yr=xr.def(mr,".",yo,"-",ot));var _r=Wt;return"height"in je||(_r=xr.def(mr,".",_o,"-",ft)),[ot,ft,yr,_r]})}else if(Pe in st){var Xt=st[Pe],ar=Ci(Xt,function(Ht,xr){var mr=Ht.invoke(xr,Xt);Ee.optional(function(){Ht.assert(xr,mr+"&&typeof "+mr+'==="object"',"invalid "+Pe)});var yr=Ht.shared.context,_r=xr.def(mr,".x|0"),Ar=xr.def(mr,".y|0"),Dr=xr.def('"width" in ',mr,"?",mr,".width|0:","(",yr,".",yo,"-",_r,")"),mn=xr.def('"height" in ',mr,"?",mr,".height|0:","(",yr,".",_o,"-",Ar,")");return Ee.optional(function(){Ht.assert(xr,Dr+">=0&&"+mn+">=0","invalid "+Pe)}),[_r,Ar,Dr,mn]});return Se&&(ar.thisDep=ar.thisDep||Se.thisDep,ar.contextDep=ar.contextDep||Se.contextDep,ar.propDep=ar.propDep||Se.propDep),ar}else return Se?new Wn(Se.thisDep,Se.contextDep,Se.propDep,function(Ht,xr){var mr=Ht.shared.context;return[0,0,xr.def(mr,".",yo),xr.def(mr,".",_o)]}):null}var Ye=Ze(fa);if(Ye){var rt=Ye;Ye=new Wn(Ye.thisDep,Ye.contextDep,Ye.propDep,function(Pe,je){var $e=rt.append(Pe,je),ot=Pe.shared.context;return je.set(ot,"."+qc,$e[2]),je.set(ot,"."+jc,$e[3]),$e})}return{viewport:Ye,scissor_box:Ze(_s)}}function Br(De,Se){var Ue=De.static,nt=typeof Ue[Ho]=="string"&&typeof Ue[jo]=="string";if(nt){if(Object.keys(Se.dynamic).length>0)return null;var st=Se.static,Ze=Object.keys(st);if(Ze.length>0&&typeof st[Ze[0]]=="number"){for(var Ye=[],rt=0;rt<Ze.length;++rt)Ee(typeof st[Ze[rt]]=="number","must specify all vertex attribute locations when using vaos"),Ye.push([st[Ze[rt]]|0,Ze[rt]]);return Ye}}return null}function Yr(De,Se,Ue){var nt=De.static,st=De.dynamic;function Ze($e){if($e in nt){var ot=Te.id(nt[$e]);Ee.optional(function(){jt.shader(Nl[$e],ot,Ee.guessCommand())});var ft=Rn(function(){return ot});return ft.id=ot,ft}else if($e in st){var Pt=st[$e];return Ci(Pt,function(Wt,Xt){var ar=Wt.invoke(Xt,Pt),Ht=Xt.def(Wt.shared.strings,".id(",ar,")");return Ee.optional(function(){Xt(Wt.shared.shader,".shader(",Nl[$e],",",Ht,",",Wt.command,");")}),Ht})}return null}var Ye=Ze(Ho),rt=Ze(jo),Pe=null,je;return Ta(Ye)&&Ta(rt)?(Pe=jt.program(rt.id,Ye.id,null,Ue),je=Rn(function($e,ot){return $e.link(Pe)})):je=new Wn(Ye&&Ye.thisDep||rt&&rt.thisDep,Ye&&Ye.contextDep||rt&&rt.contextDep,Ye&&Ye.propDep||rt&&rt.propDep,function($e,ot){var ft=$e.shared.shader,Pt;Ye?Pt=Ye.append($e,ot):Pt=ot.def(ft,".",Ho);var Wt;rt?Wt=rt.append($e,ot):Wt=ot.def(ft,".",jo);var Xt=ft+".program("+Wt+","+Pt;return Ee.optional(function(){Xt+=","+$e.command}),ot.def(Xt+")")}),{frag:Ye,vert:rt,progVar:je,program:Pe}}function An(De,Se){var Ue=De.static,nt=De.dynamic,st={},Ze=!1;function Ye(){if(Uo in Ue){var xr=Ue[Uo];return xr!==null&&Gt.getVAO(xr)===null&&(xr=Gt.createVAO(xr)),Ze=!0,st.vao=xr,Rn(function(yr){var _r=Gt.getVAO(xr);return _r?yr.link(_r):"null"})}else if(Uo in nt){Ze=!0;var mr=nt[Uo];return Ci(mr,function(yr,_r){var Ar=yr.invoke(_r,mr);return _r.def(yr.shared.vao+".getVAO("+Ar+")")})}return null}var rt=Ye(),Pe=!1;function je(){if(Ha in Ue){var xr=Ue[Ha];if(st.elements=xr,Ds(xr)){var mr=st.elements=mt.create(xr,!0);xr=mt.getElements(mr),Pe=!0}else xr&&(xr=mt.getElements(xr),Pe=!0,Ee.command(xr,"invalid elements",Se.commandStr));var yr=Rn(function(Ar,Dr){if(xr){var mn=Ar.link(xr);return Ar.ELEMENTS=mn,mn}return Ar.ELEMENTS=null,null});return yr.value=xr,yr}else if(Ha in nt){Pe=!0;var _r=nt[Ha];return Ci(_r,function(Ar,Dr){var mn=Ar.shared,ei=mn.isBufferArgs,da=mn.elements,pa=Ar.invoke(Dr,_r),ha=Dr.def("null"),mi=Dr.def(ei,"(",pa,")"),ta=Ar.cond(mi).then(ha,"=",da,".createStream(",pa,");").else(ha,"=",da,".getElements(",pa,");");return Ee.optional(function(){Ar.assert(ta.else,"!"+pa+"||"+ha,"invalid elements")}),Dr.entry(ta),Dr.exit(Ar.cond(mi).then(da,".destroyStream(",ha,");")),Ar.ELEMENTS=ha,ha})}else if(Ze)return new Wn(rt.thisDep,rt.contextDep,rt.propDep,function(Ar,Dr){return Dr.def(Ar.shared.vao+".currentVAO?"+Ar.shared.elements+".getElements("+Ar.shared.vao+".currentVAO.elements):null")});return null}var $e=je();function ot(){if(Ua in Ue){var xr=Ue[Ua];return st.primitive=xr,Ee.commandParameter(xr,yi,"invalid primitve",Se.commandStr),Rn(function(yr,_r){return yi[xr]})}else if(Ua in nt){var mr=nt[Ua];return Ci(mr,function(yr,_r){var Ar=yr.constants.primTypes,Dr=yr.invoke(_r,mr);return Ee.optional(function(){yr.assert(_r,Dr+" in "+Ar,"invalid primitive, must be one of "+Object.keys(yi))}),_r.def(Ar,"[",Dr,"]")})}else{if(Pe)return Ta($e)?$e.value?Rn(function(yr,_r){return _r.def(yr.ELEMENTS,".primType")}):Rn(function(){return yu}):new Wn($e.thisDep,$e.contextDep,$e.propDep,function(yr,_r){var Ar=yr.ELEMENTS;return _r.def(Ar,"?",Ar,".primType:",yu)});if(Ze)return new Wn(rt.thisDep,rt.contextDep,rt.propDep,function(yr,_r){return _r.def(yr.shared.vao+".currentVAO?"+yr.shared.vao+".currentVAO.primitive:"+yu)})}return null}function ft(xr,mr){if(xr in Ue){var yr=Ue[xr]|0;return mr?st.offset=yr:st.instances=yr,Ee.command(!mr||yr>=0,"invalid "+xr,Se.commandStr),Rn(function(Ar,Dr){return mr&&(Ar.OFFSET=yr),yr})}else if(xr in nt){var _r=nt[xr];return Ci(_r,function(Ar,Dr){var mn=Ar.invoke(Dr,_r);return mr&&(Ar.OFFSET=mn,Ee.optional(function(){Ar.assert(Dr,mn+">=0","invalid "+xr)})),mn})}else if(mr){if(Pe)return Rn(function(Ar,Dr){return Ar.OFFSET=0,0});if(Ze)return new Wn(rt.thisDep,rt.contextDep,rt.propDep,function(Ar,Dr){return Dr.def(Ar.shared.vao+".currentVAO?"+Ar.shared.vao+".currentVAO.offset:0")})}else if(Ze)return new Wn(rt.thisDep,rt.contextDep,rt.propDep,function(Ar,Dr){return Dr.def(Ar.shared.vao+".currentVAO?"+Ar.shared.vao+".currentVAO.instances:-1")});return null}var Pt=ft(xs,!0);function Wt(){if(Wa in Ue){var xr=Ue[Wa]|0;return st.count=xr,Ee.command(typeof xr=="number"&&xr>=0,"invalid vertex count",Se.commandStr),Rn(function(){return xr})}else if(Wa in nt){var mr=nt[Wa];return Ci(mr,function(Dr,mn){var ei=Dr.invoke(mn,mr);return Ee.optional(function(){Dr.assert(mn,"typeof "+ei+'==="number"&&'+ei+">=0&&"+ei+"===("+ei+"|0)","invalid vertex count")}),ei})}else if(Pe)if(Ta($e)){if($e)return Pt?new Wn(Pt.thisDep,Pt.contextDep,Pt.propDep,function(Dr,mn){var ei=mn.def(Dr.ELEMENTS,".vertCount-",Dr.OFFSET);return Ee.optional(function(){Dr.assert(mn,ei+">=0","invalid vertex offset/element buffer too small")}),ei}):Rn(function(Dr,mn){return mn.def(Dr.ELEMENTS,".vertCount")});var yr=Rn(function(){return-1});return Ee.optional(function(){yr.MISSING=!0}),yr}else{var _r=new Wn($e.thisDep||Pt.thisDep,$e.contextDep||Pt.contextDep,$e.propDep||Pt.propDep,function(Dr,mn){var ei=Dr.ELEMENTS;return Dr.OFFSET?mn.def(ei,"?",ei,".vertCount-",Dr.OFFSET,":-1"):mn.def(ei,"?",ei,".vertCount:-1")});return Ee.optional(function(){_r.DYNAMIC=!0}),_r}else if(Ze){var Ar=new Wn(rt.thisDep,rt.contextDep,rt.propDep,function(Dr,mn){return mn.def(Dr.shared.vao,".currentVAO?",Dr.shared.vao,".currentVAO.count:-1")});return Ar}return null}var Xt=ot(),ar=Wt(),Ht=ft(As,!1);return{elements:$e,primitive:Xt,count:ar,instances:Ht,offset:Pt,vao:rt,vaoActive:Ze,elementsActive:Pe,static:st}}function Tn(De,Se){var Ue=De.static,nt=De.dynamic,st={};return Mr.forEach(function(Ze){var Ye=br(Ze);function rt(Pe,je){if(Ze in Ue){var $e=Pe(Ue[Ze]);st[Ye]=Rn(function(){return $e})}else if(Ze in nt){var ot=nt[Ze];st[Ye]=Ci(ot,function(ft,Pt){return je(ft,Pt,ft.invoke(Pt,ot))})}}switch(Ze){case _l:case pl:case dl:case kl:case ml:case El:case Al:case wl:case Cl:case yl:return rt(function(Pe){return Ee.commandType(Pe,"boolean",Ze,Se.commandStr),Pe},function(Pe,je,$e){return Ee.optional(function(){Pe.assert(je,"typeof "+$e+'==="boolean"',"invalid flag "+Ze,Pe.commandStr)}),$e});case vl:return rt(function(Pe){return Ee.commandParameter(Pe,Ao,"invalid "+Ze,Se.commandStr),Ao[Pe]},function(Pe,je,$e){var ot=Pe.constants.compareFuncs;return Ee.optional(function(){Pe.assert(je,$e+" in "+ot,"invalid "+Ze+", must be one of "+Object.keys(Ao))}),je.def(ot,"[",$e,"]")});case bl:return rt(function(Pe){return Ee.command(hn(Pe)&&Pe.length===2&&typeof Pe[0]=="number"&&typeof Pe[1]=="number"&&Pe[0]<=Pe[1],"depth range is 2d array",Se.commandStr),Pe},function(Pe,je,$e){Ee.optional(function(){Pe.assert(je,Pe.shared.isArrayLike+"("+$e+")&&"+$e+".length===2&&typeof "+$e+'[0]==="number"&&typeof '+$e+'[1]==="number"&&'+$e+"[0]<="+$e+"[1]","depth range must be a 2d array")});var ot=je.def("+",$e,"[0]"),ft=je.def("+",$e,"[1]");return[ot,ft]});case au:return rt(function(Pe){Ee.commandType(Pe,"object","blend.func",Se.commandStr);var je="srcRGB"in Pe?Pe.srcRGB:Pe.src,$e="srcAlpha"in Pe?Pe.srcAlpha:Pe.src,ot="dstRGB"in Pe?Pe.dstRGB:Pe.dst,ft="dstAlpha"in Pe?Pe.dstAlpha:Pe.dst;return Ee.commandParameter(je,Ji,Ye+".srcRGB",Se.commandStr),Ee.commandParameter($e,Ji,Ye+".srcAlpha",Se.commandStr),Ee.commandParameter(ot,Ji,Ye+".dstRGB",Se.commandStr),Ee.commandParameter(ft,Ji,Ye+".dstAlpha",Se.commandStr),Ee.command(Bl.indexOf(je+", "+ot)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+je+", "+ot+")",Se.commandStr),[Ji[je],Ji[ot],Ji[$e],Ji[ft]]},function(Pe,je,$e){var ot=Pe.constants.blendFuncs;Ee.optional(function(){Pe.assert(je,$e+"&&typeof "+$e+'==="object"',"invalid blend func, must be an object")});function ft(mr,yr){var _r=je.def('"',mr,yr,'" in ',$e,"?",$e,".",mr,yr,":",$e,".",mr);return Ee.optional(function(){Pe.assert(je,_r+" in "+ot,"invalid "+Ze+"."+mr+yr+", must be one of "+Object.keys(Ji))}),_r}var Pt=ft("src","RGB"),Wt=ft("dst","RGB");Ee.optional(function(){var mr=Pe.constants.invalidBlendCombinations;Pe.assert(je,mr+".indexOf("+Pt+'+", "+'+Wt+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var Xt=je.def(ot,"[",Pt,"]"),ar=je.def(ot,"[",ft("src","Alpha"),"]"),Ht=je.def(ot,"[",Wt,"]"),xr=je.def(ot,"[",ft("dst","Alpha"),"]");return[Xt,Ht,ar,xr]});case iu:return rt(function(Pe){if(typeof Pe=="string")return Ee.commandParameter(Pe,_t,"invalid "+Ze,Se.commandStr),[_t[Pe],_t[Pe]];if(typeof Pe=="object")return Ee.commandParameter(Pe.rgb,_t,Ze+".rgb",Se.commandStr),Ee.commandParameter(Pe.alpha,_t,Ze+".alpha",Se.commandStr),[_t[Pe.rgb],_t[Pe.alpha]];Ee.commandRaise("invalid blend.equation",Se.commandStr)},function(Pe,je,$e){var ot=Pe.constants.blendEquations,ft=je.def(),Pt=je.def(),Wt=Pe.cond("typeof ",$e,'==="string"');return Ee.optional(function(){function Xt(ar,Ht,xr){Pe.assert(ar,xr+" in "+ot,"invalid "+Ht+", must be one of "+Object.keys(_t))}Xt(Wt.then,Ze,$e),Pe.assert(Wt.else,$e+"&&typeof "+$e+'==="object"',"invalid "+Ze),Xt(Wt.else,Ze+".rgb",$e+".rgb"),Xt(Wt.else,Ze+".alpha",$e+".alpha")}),Wt.then(ft,"=",Pt,"=",ot,"[",$e,"];"),Wt.else(ft,"=",ot,"[",$e,".rgb];",Pt,"=",ot,"[",$e,".alpha];"),je(Wt),[ft,Pt]});case hl:return rt(function(Pe){return Ee.command(hn(Pe)&&Pe.length===4,"blend.color must be a 4d array",Se.commandStr),ye(4,function(je){return+Pe[je]})},function(Pe,je,$e){return Ee.optional(function(){Pe.assert(je,Pe.shared.isArrayLike+"("+$e+")&&"+$e+".length===4","blend.color must be a 4d array")}),ye(4,function(ot){return je.def("+",$e,"[",ot,"]")})});case Sl:return rt(function(Pe){return Ee.commandType(Pe,"number",Ye,Se.commandStr),Pe|0},function(Pe,je,$e){return Ee.optional(function(){Pe.assert(je,"typeof "+$e+'==="number"',"invalid stencil.mask")}),je.def($e,"|0")});case fu:return rt(function(Pe){Ee.commandType(Pe,"object",Ye,Se.commandStr);var je=Pe.cmp||"keep",$e=Pe.ref||0,ot="mask"in Pe?Pe.mask:-1;return Ee.commandParameter(je,Ao,Ze+".cmp",Se.commandStr),Ee.commandType($e,"number",Ze+".ref",Se.commandStr),Ee.commandType(ot,"number",Ze+".mask",Se.commandStr),[Ao[je],$e,ot]},function(Pe,je,$e){var ot=Pe.constants.compareFuncs;Ee.optional(function(){function Xt(){Pe.assert(je,Array.prototype.join.call(arguments,""),"invalid stencil.func")}Xt($e+"&&typeof ",$e,'==="object"'),Xt('!("cmp" in ',$e,")||(",$e,".cmp in ",ot,")")});var ft=je.def('"cmp" in ',$e,"?",ot,"[",$e,".cmp]",":",Ea),Pt=je.def($e,".ref|0"),Wt=je.def('"mask" in ',$e,"?",$e,".mask|0:-1");return[ft,Pt,Wt]});case du:case Go:return rt(function(Pe){Ee.commandType(Pe,"object",Ye,Se.commandStr);var je=Pe.fail||"keep",$e=Pe.zfail||"keep",ot=Pe.zpass||"keep";return Ee.commandParameter(je,Ma,Ze+".fail",Se.commandStr),Ee.commandParameter($e,Ma,Ze+".zfail",Se.commandStr),Ee.commandParameter(ot,Ma,Ze+".zpass",Se.commandStr),[Ze===Go?Xa:Qo,Ma[je],Ma[$e],Ma[ot]]},function(Pe,je,$e){var ot=Pe.constants.stencilOps;Ee.optional(function(){Pe.assert(je,$e+"&&typeof "+$e+'==="object"',"invalid "+Ze)});function ft(Pt){return Ee.optional(function(){Pe.assert(je,'!("'+Pt+'" in '+$e+")||("+$e+"."+Pt+" in "+ot+")","invalid "+Ze+"."+Pt+", must be one of "+Object.keys(Ma))}),je.def('"',Pt,'" in ',$e,"?",ot,"[",$e,".",Pt,"]:",Ea)}return[Ze===Go?Xa:Qo,ft("fail"),ft("zfail"),ft("zpass")]});case lu:return rt(function(Pe){Ee.commandType(Pe,"object",Ye,Se.commandStr);var je=Pe.factor|0,$e=Pe.units|0;return Ee.commandType(je,"number",Ye+".factor",Se.commandStr),Ee.commandType($e,"number",Ye+".units",Se.commandStr),[je,$e]},function(Pe,je,$e){Ee.optional(function(){Pe.assert(je,$e+"&&typeof "+$e+'==="object"',"invalid "+Ze)});var ot=je.def($e,".factor|0"),ft=je.def($e,".units|0");return[ot,ft]});case xl:return rt(function(Pe){var je=0;return Pe==="front"?je=Qo:Pe==="back"&&(je=Xa),Ee.command(!!je,Ye,Se.commandStr),je},function(Pe,je,$e){return Ee.optional(function(){Pe.assert(je,$e+'==="front"||'+$e+'==="back"',"invalid cull.face")}),je.def($e,'==="front"?',Qo,":",Xa)});case uu:return rt(function(Pe){return Ee.command(typeof Pe=="number"&&Pe>=vt.lineWidthDims[0]&&Pe<=vt.lineWidthDims[1],"invalid line width, must be a positive number between "+vt.lineWidthDims[0]+" and "+vt.lineWidthDims[1],Se.commandStr),Pe},function(Pe,je,$e){return Ee.optional(function(){Pe.assert(je,"typeof "+$e+'==="number"&&'+$e+">="+vt.lineWidthDims[0]+"&&"+$e+"<="+vt.lineWidthDims[1],"invalid line width")}),$e});case su:return rt(function(Pe){return Ee.commandParameter(Pe,xu,Ye,Se.commandStr),xu[Pe]},function(Pe,je,$e){return Ee.optional(function(){Pe.assert(je,$e+'==="cw"||'+$e+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),je.def($e+'==="cw"?'+Dl+":"+_u)});case ou:return rt(function(Pe){return Ee.command(hn(Pe)&&Pe.length===4,"color.mask must be length 4 array",Se.commandStr),Pe.map(function(je){return!!je})},function(Pe,je,$e){return Ee.optional(function(){Pe.assert(je,Pe.shared.isArrayLike+"("+$e+")&&"+$e+".length===4","invalid color.mask")}),ye(4,function(ot){return"!!"+$e+"["+ot+"]"})});case cu:return rt(function(Pe){Ee.command(typeof Pe=="object"&&Pe,Ye,Se.commandStr);var je="value"in Pe?Pe.value:1,$e=!!Pe.invert;return Ee.command(typeof je=="number"&&je>=0&&je<=1,"sample.coverage.value must be a number between 0 and 1",Se.commandStr),[je,$e]},function(Pe,je,$e){Ee.optional(function(){Pe.assert(je,$e+"&&typeof "+$e+'==="object"',"invalid sample.coverage")});var ot=je.def('"value" in ',$e,"?+",$e,".value:1"),ft=je.def("!!",$e,".invert");return[ot,ft]})}}),st}function Kr(De,Se){var Ue=De.static,nt=De.dynamic,st={};return Object.keys(Ue).forEach(function(Ze){var Ye=Ue[Ze],rt;if(typeof Ye=="number"||typeof Ye=="boolean")rt=Rn(function(){return Ye});else if(typeof Ye=="function"){var Pe=Ye._reglType;Pe==="texture2d"||Pe==="textureCube"?rt=Rn(function(je){return je.link(Ye)}):Pe==="framebuffer"||Pe==="framebufferCube"?(Ee.command(Ye.color.length>0,'missing color attachment for framebuffer sent to uniform "'+Ze+'"',Se.commandStr),rt=Rn(function(je){return je.link(Ye.color[0])})):Ee.commandRaise('invalid data for uniform "'+Ze+'"',Se.commandStr)}else hn(Ye)?rt=Rn(function(je){var $e=je.global.def("[",ye(Ye.length,function(ot){return Ee.command(typeof Ye[ot]=="number"||typeof Ye[ot]=="boolean","invalid uniform "+Ze,je.commandStr),Ye[ot]}),"]");return $e}):Ee.commandRaise('invalid or missing data for uniform "'+Ze+'"',Se.commandStr);rt.value=Ye,st[Ze]=rt}),Object.keys(nt).forEach(function(Ze){var Ye=nt[Ze];st[Ze]=Ci(Ye,function(rt,Pe){return rt.invoke(Pe,Ye)})}),st}function Gn(De,Se){var Ue=De.static,nt=De.dynamic,st={};return Object.keys(Ue).forEach(function(Ze){var Ye=Ue[Ze],rt=Te.id(Ze),Pe=new at;if(Ds(Ye))Pe.state=bo,Pe.buffer=St.getBuffer(St.create(Ye,xo,!1,!0)),Pe.type=0;else{var je=St.getBuffer(Ye);if(je)Pe.state=bo,Pe.buffer=je,Pe.type=0;else if(Ee.command(typeof Ye=="object"&&Ye,"invalid data for attribute "+Ze,Se.commandStr),"constant"in Ye){var $e=Ye.constant;Pe.buffer="null",Pe.state=Js,typeof $e=="number"?Pe.x=$e:(Ee.command(hn($e)&&$e.length>0&&$e.length<=4,"invalid constant for attribute "+Ze,Se.commandStr),vo.forEach(function(Ht,xr){xr<$e.length&&(Pe[Ht]=$e[xr])}))}else{Ds(Ye.buffer)?je=St.getBuffer(St.create(Ye.buffer,xo,!1,!0)):je=St.getBuffer(Ye.buffer),Ee.command(!!je,'missing buffer for attribute "'+Ze+'"',Se.commandStr);var ot=Ye.offset|0;Ee.command(ot>=0,'invalid offset for attribute "'+Ze+'"',Se.commandStr);var ft=Ye.stride|0;Ee.command(ft>=0&&ft<256,'invalid stride for attribute "'+Ze+'", must be integer betweeen [0, 255]',Se.commandStr);var Pt=Ye.size|0;Ee.command(!("size"in Ye)||Pt>0&&Pt<=4,'invalid size for attribute "'+Ze+'", must be 1,2,3,4',Se.commandStr);var Wt=!!Ye.normalized,Xt=0;"type"in Ye&&(Ee.commandParameter(Ye.type,Kt,"invalid type for attribute "+Ze,Se.commandStr),Xt=Kt[Ye.type]);var ar=Ye.divisor|0;Ee.optional(function(){"divisor"in Ye&&(Ee.command(ar===0||zt,'cannot specify divisor for attribute "'+Ze+'", instancing not supported',Se.commandStr),Ee.command(ar>=0,'invalid divisor for attribute "'+Ze+'"',Se.commandStr));var Ht=Se.commandStr,xr=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(Ye).forEach(function(mr){Ee.command(xr.indexOf(mr)>=0,'unknown parameter "'+mr+'" for attribute pointer "'+Ze+'" (valid parameters are '+xr+")",Ht)})}),Pe.buffer=je,Pe.state=bo,Pe.size=Pt,Pe.normalized=Wt,Pe.type=Xt||je.dtype,Pe.offset=ot,Pe.stride=ft,Pe.divisor=ar}}st[Ze]=Rn(function(Ht,xr){var mr=Ht.attribCache;if(rt in mr)return mr[rt];var yr={isStream:!1};return Object.keys(Pe).forEach(function(_r){yr[_r]=Pe[_r]}),Pe.buffer&&(yr.buffer=Ht.link(Pe.buffer),yr.type=yr.type||yr.buffer+".dtype"),mr[rt]=yr,yr})}),Object.keys(nt).forEach(function(Ze){var Ye=nt[Ze];function rt(Pe,je){var $e=Pe.invoke(je,Ye),ot=Pe.shared,ft=Pe.constants,Pt=ot.isBufferArgs,Wt=ot.buffer;Ee.optional(function(){Pe.assert(je,$e+"&&(typeof "+$e+'==="object"||typeof '+$e+'==="function")&&('+Pt+"("+$e+")||"+Wt+".getBuffer("+$e+")||"+Wt+".getBuffer("+$e+".buffer)||"+Pt+"("+$e+'.buffer)||("constant" in '+$e+"&&(typeof "+$e+'.constant==="number"||'+ot.isArrayLike+"("+$e+".constant))))",'invalid dynamic attribute "'+Ze+'"')});var Xt={isStream:je.def(!1)},ar=new at;ar.state=bo,Object.keys(ar).forEach(function(yr){Xt[yr]=je.def(""+ar[yr])});var Ht=Xt.buffer,xr=Xt.type;je("if(",Pt,"(",$e,")){",Xt.isStream,"=true;",Ht,"=",Wt,".createStream(",xo,",",$e,");",xr,"=",Ht,".dtype;","}else{",Ht,"=",Wt,".getBuffer(",$e,");","if(",Ht,"){",xr,"=",Ht,".dtype;",'}else if("constant" in ',$e,"){",Xt.state,"=",Js,";","if(typeof "+$e+'.constant === "number"){',Xt[vo[0]],"=",$e,".constant;",vo.slice(1).map(function(yr){return Xt[yr]}).join("="),"=0;","}else{",vo.map(function(yr,_r){return Xt[yr]+"="+$e+".constant.length>"+_r+"?"+$e+".constant["+_r+"]:0;"}).join(""),"}}else{","if(",Pt,"(",$e,".buffer)){",Ht,"=",Wt,".createStream(",xo,",",$e,".buffer);","}else{",Ht,"=",Wt,".getBuffer(",$e,".buffer);","}",xr,'="type" in ',$e,"?",ft.glTypes,"[",$e,".type]:",Ht,".dtype;",Xt.normalized,"=!!",$e,".normalized;");function mr(yr){je(Xt[yr],"=",$e,".",yr,"|0;")}return mr("size"),mr("offset"),mr("stride"),mr("divisor"),je("}}"),je.exit("if(",Xt.isStream,"){",Wt,".destroyStream(",Ht,");","}"),Xt}st[Ze]=Ci(Ye,rt)}),st}function yn(De){var Se=De.static,Ue=De.dynamic,nt={};return Object.keys(Se).forEach(function(st){var Ze=Se[st];nt[st]=Rn(function(Ye,rt){return typeof Ze=="number"||typeof Ze=="boolean"?""+Ze:Ye.link(Ze)})}),Object.keys(Ue).forEach(function(st){var Ze=Ue[st];nt[st]=Ci(Ze,function(Ye,rt){return Ye.invoke(rt,Ze)})}),nt}function On(De,Se,Ue,nt,st){var Ze=De.static,Ye=De.dynamic;Ee.optional(function(){var mr=[ja,jo,Ho,Ha,Ua,xs,Wa,As,qo,Uo].concat(Mr);function yr(_r){Object.keys(_r).forEach(function(Ar){Ee.command(mr.indexOf(Ar)>=0,'unknown parameter "'+Ar+'"',st.commandStr)})}yr(Ze),yr(Ye)});var rt=Br(De,Se),Pe=sr(De),je=Ir(De,Pe,st),$e=An(De,st),ot=Tn(De,st),ft=Yr(De,st,rt);function Pt(mr){var yr=je[mr];yr&&(ot[mr]=yr)}Pt(fa),Pt(br(_s));var Wt=Object.keys(ot).length>0,Xt={framebuffer:Pe,draw:$e,shader:ft,state:ot,dirty:Wt,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Xt.profile=ir(De),Xt.uniforms=Kr(Ue,st),Xt.drawVAO=Xt.scopeVAO=$e.vao,!Xt.drawVAO&&ft.program&&!rt&&Ve.angle_instanced_arrays&&$e.static.elements){var ar=!0,Ht=ft.program.attributes.map(function(mr){var yr=Se.static[mr];return ar=ar&&!!yr,yr});if(ar&&Ht.length>0){var xr=Gt.getVAO(Gt.createVAO({attributes:Ht,elements:$e.static.elements}));Xt.drawVAO=new Wn(null,null,null,function(mr,yr){return mr.link(xr)}),Xt.useVAO=!0}}return rt?Xt.useVAO=!0:Xt.attributes=Gn(Se,st),Xt.context=yn(nt),Xt}function qn(De,Se,Ue){var nt=De.shared,st=nt.context,Ze=De.scope();Object.keys(Ue).forEach(function(Ye){Se.save(st,"."+Ye);var rt=Ue[Ye],Pe=rt.append(De,Se);Array.isArray(Pe)?Ze(st,".",Ye,"=[",Pe.join(),"];"):Ze(st,".",Ye,"=",Pe,";")}),Se(Ze)}function jn(De,Se,Ue,nt){var st=De.shared,Ze=st.gl,Ye=st.framebuffer,rt;cr&&(rt=Se.def(st.extensions,".webgl_draw_buffers"));var Pe=De.constants,je=Pe.drawBuffer,$e=Pe.backBuffer,ot;Ue?ot=Ue.append(De,Se):ot=Se.def(Ye,".next"),nt||Se("if(",ot,"!==",Ye,".cur){"),Se("if(",ot,"){",Ze,".bindFramebuffer(",Ol,",",ot,".framebuffer);"),cr&&Se(rt,".drawBuffersWEBGL(",je,"[",ot,".colorAttachments.length]);"),Se("}else{",Ze,".bindFramebuffer(",Ol,",null);"),cr&&Se(rt,".drawBuffersWEBGL(",$e,");"),Se("}",Ye,".cur=",ot,";"),nt||Se("}")}function Jn(De,Se,Ue){var nt=De.shared,st=nt.gl,Ze=De.current,Ye=De.next,rt=nt.current,Pe=nt.next,je=De.cond(rt,".dirty");Mr.forEach(function($e){var ot=br($e);if(!(ot in Ue.state)){var ft,Pt;if(ot in Ye){ft=Ye[ot],Pt=Ze[ot];var Wt=ye(or[ot].length,function(ar){return je.def(ft,"[",ar,"]")});je(De.cond(Wt.map(function(ar,Ht){return ar+"!=="+Pt+"["+Ht+"]"}).join("||")).then(st,".",kt[ot],"(",Wt,");",Wt.map(function(ar,Ht){return Pt+"["+Ht+"]="+ar}).join(";"),";"))}else{ft=je.def(Pe,".",ot);var Xt=De.cond(ft,"!==",rt,".",ot);je(Xt),ot in Tt?Xt(De.cond(ft).then(st,".enable(",Tt[ot],");").else(st,".disable(",Tt[ot],");"),rt,".",ot,"=",ft,";"):Xt(st,".",kt[ot],"(",ft,");",rt,".",ot,"=",ft,";")}}}),Object.keys(Ue.state).length===0&&je(rt,".dirty=false;"),Se(je)}function ni(De,Se,Ue,nt){var st=De.shared,Ze=De.current,Ye=st.current,rt=st.gl;Fl(Object.keys(Ue)).forEach(function(Pe){var je=Ue[Pe];if(!(nt&&!nt(je))){var $e=je.append(De,Se);if(Tt[Pe]){var ot=Tt[Pe];Ta(je)?$e?Se(rt,".enable(",ot,");"):Se(rt,".disable(",ot,");"):Se(De.cond($e).then(rt,".enable(",ot,");").else(rt,".disable(",ot,");")),Se(Ye,".",Pe,"=",$e,";")}else if(hn($e)){var ft=Ze[Pe];Se(rt,".",kt[Pe],"(",$e,");",$e.map(function(Pt,Wt){return ft+"["+Wt+"]="+Pt}).join(";"),";")}else Se(rt,".",kt[Pe],"(",$e,");",Ye,".",Pe,"=",$e,";")}})}function Ln(De,Se){zt&&(De.instancing=Se.def(De.shared.extensions,".angle_instanced_arrays"))}function qr(De,Se,Ue,nt,st){var Ze=De.shared,Ye=De.stats,rt=Ze.current,Pe=Ze.timer,je=Ue.profile;function $e(){return typeof performance>"u"?"Date.now()":"performance.now()"}var ot,ft;function Pt(mr){ot=Se.def(),mr(ot,"=",$e(),";"),typeof st=="string"?mr(Ye,".count+=",st,";"):mr(Ye,".count++;"),Bt&&(nt?(ft=Se.def(),mr(ft,"=",Pe,".getNumPendingQueries();")):mr(Pe,".beginQuery(",Ye,");"))}function Wt(mr){mr(Ye,".cpuTime+=",$e(),"-",ot,";"),Bt&&(nt?mr(Pe,".pushScopeStats(",ft,",",Pe,".getNumPendingQueries(),",Ye,");"):mr(Pe,".endQuery();"))}function Xt(mr){var yr=Se.def(rt,".profile");Se(rt,".profile=",mr,";"),Se.exit(rt,".profile=",yr,";")}var ar;if(je){if(Ta(je)){je.enable?(Pt(Se),Wt(Se.exit),Xt("true")):Xt("false");return}ar=je.append(De,Se),Xt(ar)}else ar=Se.def(rt,".profile");var Ht=De.block();Pt(Ht),Se("if(",ar,"){",Ht,"}");var xr=De.block();Wt(xr),Se.exit("if(",ar,"){",xr,"}")}function ii(De,Se,Ue,nt,st){var Ze=De.shared;function Ye(Pe){switch(Pe){case ws:case Ss:case Ts:return 2;case Cs:case Es:case Ps:return 3;case ks:case Ms:case Is:return 4;default:return 1}}function rt(Pe,je,$e){var ot=Ze.gl,ft=Se.def(Pe,".location"),Pt=Se.def(Ze.attributes,"[",ft,"]"),Wt=$e.state,Xt=$e.buffer,ar=[$e.x,$e.y,$e.z,$e.w],Ht=["buffer","normalized","offset","stride"];function xr(){Se("if(!",Pt,".buffer){",ot,".enableVertexAttribArray(",ft,");}");var yr=$e.type,_r;if($e.size?_r=Se.def($e.size,"||",je):_r=je,Se("if(",Pt,".type!==",yr,"||",Pt,".size!==",_r,"||",Ht.map(function(Dr){return Pt+"."+Dr+"!=="+$e[Dr]}).join("||"),"){",ot,".bindBuffer(",xo,",",Xt,".buffer);",ot,".vertexAttribPointer(",[ft,_r,yr,$e.normalized,$e.stride,$e.offset],");",Pt,".type=",yr,";",Pt,".size=",_r,";",Ht.map(function(Dr){return Pt+"."+Dr+"="+$e[Dr]+";"}).join(""),"}"),zt){var Ar=$e.divisor;Se("if(",Pt,".divisor!==",Ar,"){",De.instancing,".vertexAttribDivisorANGLE(",[ft,Ar],");",Pt,".divisor=",Ar,";}")}}function mr(){Se("if(",Pt,".buffer){",ot,".disableVertexAttribArray(",ft,");",Pt,".buffer=null;","}if(",vo.map(function(yr,_r){return Pt+"."+yr+"!=="+ar[_r]}).join("||"),"){",ot,".vertexAttrib4f(",ft,",",ar,");",vo.map(function(yr,_r){return Pt+"."+yr+"="+ar[_r]+";"}).join(""),"}")}Wt===bo?xr():Wt===Js?mr():(Se("if(",Wt,"===",bo,"){"),xr(),Se("}else{"),mr(),Se("}"))}nt.forEach(function(Pe){var je=Pe.name,$e=Ue.attributes[je],ot;if($e){if(!st($e))return;ot=$e.append(De,Se)}else{if(!st(zl))return;var ft=De.scopeAttrib(je);Ee.optional(function(){De.assert(Se,ft+".state","missing attribute "+je)}),ot={},Object.keys(new at).forEach(function(Pt){ot[Pt]=Se.def(ft,".",Pt)})}rt(De.link(Pe),Ye(Pe.info.type),ot)})}function an(De,Se,Ue,nt,st,Ze){for(var Ye=De.shared,rt=Ye.gl,Pe,je=0;je<nt.length;++je){var $e=nt[je],ot=$e.name,ft=$e.info.type,Pt=Ue.uniforms[ot],Wt=De.link($e),Xt=Wt+".location",ar;if(Pt){if(!st(Pt))continue;if(Ta(Pt)){var Ht=Pt.value;if(Ee.command(Ht!==null&&typeof Ht<"u",'missing uniform "'+ot+'"',De.commandStr),ft===Zo||ft===Ko){Ee.command(typeof Ht=="function"&&(ft===Zo&&(Ht._reglType==="texture2d"||Ht._reglType==="framebuffer")||ft===Ko&&(Ht._reglType==="textureCube"||Ht._reglType==="framebufferCube")),"invalid texture for uniform "+ot,De.commandStr);var xr=De.link(Ht._texture||Ht.color[0]._texture);Se(rt,".uniform1i(",Xt,",",xr+".bind());"),Se.exit(xr,".unbind();")}else if(ft===Wo||ft===Xo||ft===Yo){Ee.optional(function(){Ee.command(hn(Ht),"invalid matrix for uniform "+ot,De.commandStr),Ee.command(ft===Wo&&Ht.length===4||ft===Xo&&Ht.length===9||ft===Yo&&Ht.length===16,"invalid length for matrix uniform "+ot,De.commandStr)});var mr=De.global.def("new Float32Array(["+Array.prototype.slice.call(Ht)+"])"),yr=2;ft===Xo?yr=3:ft===Yo&&(yr=4),Se(rt,".uniformMatrix",yr,"fv(",Xt,",false,",mr,");")}else{switch(ft){case gu:Ee.commandType(Ht,"number","uniform "+ot,De.commandStr),Pe="1f";break;case ws:Ee.command(hn(Ht)&&Ht.length===2,"uniform "+ot,De.commandStr),Pe="2f";break;case Cs:Ee.command(hn(Ht)&&Ht.length===3,"uniform "+ot,De.commandStr),Pe="3f";break;case ks:Ee.command(hn(Ht)&&Ht.length===4,"uniform "+ot,De.commandStr),Pe="4f";break;case bu:Ee.commandType(Ht,"boolean","uniform "+ot,De.commandStr),Pe="1i";break;case vu:Ee.commandType(Ht,"number","uniform "+ot,De.commandStr),Pe="1i";break;case Ts:Ee.command(hn(Ht)&&Ht.length===2,"uniform "+ot,De.commandStr),Pe="2i";break;case Ss:Ee.command(hn(Ht)&&Ht.length===2,"uniform "+ot,De.commandStr),Pe="2i";break;case Ps:Ee.command(hn(Ht)&&Ht.length===3,"uniform "+ot,De.commandStr),Pe="3i";break;case Es:Ee.command(hn(Ht)&&Ht.length===3,"uniform "+ot,De.commandStr),Pe="3i";break;case Is:Ee.command(hn(Ht)&&Ht.length===4,"uniform "+ot,De.commandStr),Pe="4i";break;case Ms:Ee.command(hn(Ht)&&Ht.length===4,"uniform "+ot,De.commandStr),Pe="4i";break}Se(rt,".uniform",Pe,"(",Xt,",",hn(Ht)?Array.prototype.slice.call(Ht):Ht,");")}continue}else ar=Pt.append(De,Se)}else{if(!st(zl))continue;ar=Se.def(Ye.uniforms,"[",Te.id(ot),"]")}ft===Zo?(Ee(!Array.isArray(ar),"must specify a scalar prop for textures"),Se("if(",ar,"&&",ar,'._reglType==="framebuffer"){',ar,"=",ar,".color[0];","}")):ft===Ko&&(Ee(!Array.isArray(ar),"must specify a scalar prop for cube maps"),Se("if(",ar,"&&",ar,'._reglType==="framebufferCube"){',ar,"=",ar,".color[0];","}")),Ee.optional(function(){function mi(Hi,Wl){De.assert(Se,Hi,'bad data or missing for uniform "'+ot+'".  '+Wl)}function ta(Hi){Ee(!Array.isArray(ar),"must not specify an array type for uniform"),mi("typeof "+ar+'==="'+Hi+'"',"invalid type, expected "+Hi)}function Ni(Hi,Wl){Array.isArray(ar)?Ee(ar.length===Hi,"must have length "+Hi):mi(Ye.isArrayLike+"("+ar+")&&"+ar+".length==="+Hi,"invalid vector, should have length "+Hi,De.commandStr)}function Ul(Hi){Ee(!Array.isArray(ar),"must not specify a value type"),mi("typeof "+ar+'==="function"&&'+ar+'._reglType==="texture'+(Hi===Il?"2d":"Cube")+'"',"invalid texture type",De.commandStr)}switch(ft){case vu:ta("number");break;case Ss:Ni(2);break;case Es:Ni(3);break;case Ms:Ni(4);break;case gu:ta("number");break;case ws:Ni(2);break;case Cs:Ni(3);break;case ks:Ni(4);break;case bu:ta("boolean");break;case Ts:Ni(2);break;case Ps:Ni(3);break;case Is:Ni(4);break;case Wo:Ni(4);break;case Xo:Ni(9);break;case Yo:Ni(16);break;case Zo:Ul(Il);break;case Ko:Ul(Xc);break}});var _r=1;switch(ft){case Zo:case Ko:var Ar=Se.def(ar,"._texture");Se(rt,".uniform1i(",Xt,",",Ar,".bind());"),Se.exit(Ar,".unbind();");continue;case vu:case bu:Pe="1i";break;case Ss:case Ts:Pe="2i",_r=2;break;case Es:case Ps:Pe="3i",_r=3;break;case Ms:case Is:Pe="4i",_r=4;break;case gu:Pe="1f";break;case ws:Pe="2f",_r=2;break;case Cs:Pe="3f",_r=3;break;case ks:Pe="4f",_r=4;break;case Wo:Pe="Matrix2fv";break;case Xo:Pe="Matrix3fv";break;case Yo:Pe="Matrix4fv";break}if(Pe.charAt(0)==="M"){Se(rt,".uniform",Pe,"(",Xt,",");var Dr=Math.pow(ft-Wo+2,2),mn=De.global.def("new Float32Array(",Dr,")");Array.isArray(ar)?Se("false,(",ye(Dr,function(mi){return mn+"["+mi+"]="+ar[mi]}),",",mn,")"):Se("false,(Array.isArray(",ar,")||",ar," instanceof Float32Array)?",ar,":(",ye(Dr,function(mi){return mn+"["+mi+"]="+ar+"["+mi+"]"}),",",mn,")"),Se(");")}else if(_r>1){for(var ei=[],da=[],pa=0;pa<_r;++pa)Array.isArray(ar)?da.push(ar[pa]):da.push(Se.def(ar+"["+pa+"]")),Ze&&ei.push(Se.def());Ze&&Se("if(!",De.batchId,"||",ei.map(function(mi,ta){return mi+"!=="+da[ta]}).join("||"),"){",ei.map(function(mi,ta){return mi+"="+da[ta]+";"}).join("")),Se(rt,".uniform",Pe,"(",Xt,",",da.join(","),");"),Ze&&Se("}")}else{if(Ee(!Array.isArray(ar),"uniform value must not be an array"),Ze){var ha=Se.def();Se("if(!",De.batchId,"||",ha,"!==",ar,"){",ha,"=",ar,";")}Se(rt,".uniform",Pe,"(",Xt,",",ar,");"),Ze&&Se("}")}}}function Tr(De,Se,Ue,nt){var st=De.shared,Ze=st.gl,Ye=st.draw,rt=nt.draw;function Pe(){var _r=rt.elements,Ar,Dr=Se;return _r?((_r.contextDep&&nt.contextDynamic||_r.propDep)&&(Dr=Ue),Ar=_r.append(De,Dr),rt.elementsActive&&Dr("if("+Ar+")"+Ze+".bindBuffer("+mu+","+Ar+".buffer.buffer);")):(Ar=Dr.def(),Dr(Ar,"=",Ye,".",Ha,";","if(",Ar,"){",Ze,".bindBuffer(",mu,",",Ar,".buffer.buffer);}","else if(",st.vao,".currentVAO){",Ar,"=",De.shared.elements+".getElements("+st.vao,".currentVAO.elements);",It?"":"if("+Ar+")"+Ze+".bindBuffer("+mu+","+Ar+".buffer.buffer);","}")),Ar}function je(){var _r=rt.count,Ar,Dr=Se;return _r?((_r.contextDep&&nt.contextDynamic||_r.propDep)&&(Dr=Ue),Ar=_r.append(De,Dr),Ee.optional(function(){_r.MISSING&&De.assert(Se,"false","missing vertex count"),_r.DYNAMIC&&De.assert(Dr,Ar+">=0","missing vertex count")})):(Ar=Dr.def(Ye,".",Wa),Ee.optional(function(){De.assert(Dr,Ar+">=0","missing vertex count")})),Ar}var $e=Pe();function ot(_r){var Ar=rt[_r];return Ar?Ar.contextDep&&nt.contextDynamic||Ar.propDep?Ar.append(De,Ue):Ar.append(De,Se):Se.def(Ye,".",_r)}var ft=ot(Ua),Pt=ot(xs),Wt=je();if(typeof Wt=="number"){if(Wt===0)return}else Ue("if(",Wt,"){"),Ue.exit("}");var Xt,ar;zt&&(Xt=ot(As),ar=De.instancing);var Ht=$e+".type",xr=rt.elements&&Ta(rt.elements)&&!rt.vaoActive;function mr(){function _r(){Ue(ar,".drawElementsInstancedANGLE(",[ft,Wt,Ht,Pt+"<<(("+Ht+"-"+ll+")>>1)",Xt],");")}function Ar(){Ue(ar,".drawArraysInstancedANGLE(",[ft,Pt,Wt,Xt],");")}$e&&$e!=="null"?xr?_r():(Ue("if(",$e,"){"),_r(),Ue("}else{"),Ar(),Ue("}")):Ar()}function yr(){function _r(){Ue(Ze+".drawElements("+[ft,Wt,Ht,Pt+"<<(("+Ht+"-"+ll+")>>1)"]+");")}function Ar(){Ue(Ze+".drawArrays("+[ft,Pt,Wt]+");")}$e&&$e!=="null"?xr?_r():(Ue("if(",$e,"){"),_r(),Ue("}else{"),Ar(),Ue("}")):Ar()}zt&&(typeof Xt!="number"||Xt>=0)?typeof Xt=="string"?(Ue("if(",Xt,">0){"),mr(),Ue("}else if(",Xt,"<0){"),yr(),Ue("}")):mr():yr()}function Zr(De,Se,Ue,nt,st){var Ze=Lr(),Ye=Ze.proc("body",st);return Ee.optional(function(){Ze.commandStr=Se.commandStr,Ze.command=Ze.link(Se.commandStr)}),zt&&(Ze.instancing=Ye.def(Ze.shared.extensions,".angle_instanced_arrays")),De(Ze,Ye,Ue,nt),Ze.compile().body}function Jr(De,Se,Ue,nt){Ln(De,Se),Ue.useVAO?Ue.drawVAO?Se(De.shared.vao,".setVAO(",Ue.drawVAO.append(De,Se),");"):Se(De.shared.vao,".setVAO(",De.shared.vao,".targetVAO);"):(Se(De.shared.vao,".setVAO(null);"),ii(De,Se,Ue,nt.attributes,function(){return!0})),an(De,Se,Ue,nt.uniforms,function(){return!0},!1),Tr(De,Se,Se,Ue)}function $n(De,Se){var Ue=De.proc("draw",1);Ln(De,Ue),qn(De,Ue,Se.context),jn(De,Ue,Se.framebuffer),Jn(De,Ue,Se),ni(De,Ue,Se.state),qr(De,Ue,Se,!1,!0);var nt=Se.shader.progVar.append(De,Ue);if(Ue(De.shared.gl,".useProgram(",nt,".program);"),Se.shader.program)Jr(De,Ue,Se,Se.shader.program);else{Ue(De.shared.vao,".setVAO(null);");var st=De.global.def("{}"),Ze=Ue.def(nt,".id"),Ye=Ue.def(st,"[",Ze,"]");Ue(De.cond(Ye).then(Ye,".call(this,a0);").else(Ye,"=",st,"[",Ze,"]=",De.link(function(rt){return Zr(Jr,De,Se,rt,1)}),"(",nt,");",Ye,".call(this,a0);"))}Object.keys(Se.state).length>0&&Ue(De.shared.current,".dirty=true;"),De.shared.vao&&Ue(De.shared.vao,".setVAO(null);")}function ea(De,Se,Ue,nt){De.batchId="a1",Ln(De,Se);function st(){return!0}ii(De,Se,Ue,nt.attributes,st),an(De,Se,Ue,nt.uniforms,st,!1),Tr(De,Se,Se,Ue)}function Ya(De,Se,Ue,nt){Ln(De,Se);var st=Ue.contextDep,Ze=Se.def(),Ye="a0",rt="a1",Pe=Se.def();De.shared.props=Pe,De.batchId=Ze;var je=De.scope(),$e=De.scope();Se(je.entry,"for(",Ze,"=0;",Ze,"<",rt,";++",Ze,"){",Pe,"=",Ye,"[",Ze,"];",$e,"}",je.exit);function ot(Ht){return Ht.contextDep&&st||Ht.propDep}function ft(Ht){return!ot(Ht)}if(Ue.needsContext&&qn(De,$e,Ue.context),Ue.needsFramebuffer&&jn(De,$e,Ue.framebuffer),ni(De,$e,Ue.state,ot),Ue.profile&&ot(Ue.profile)&&qr(De,$e,Ue,!1,!0),nt)Ue.useVAO?Ue.drawVAO?ot(Ue.drawVAO)?$e(De.shared.vao,".setVAO(",Ue.drawVAO.append(De,$e),");"):je(De.shared.vao,".setVAO(",Ue.drawVAO.append(De,je),");"):je(De.shared.vao,".setVAO(",De.shared.vao,".targetVAO);"):(je(De.shared.vao,".setVAO(null);"),ii(De,je,Ue,nt.attributes,ft),ii(De,$e,Ue,nt.attributes,ot)),an(De,je,Ue,nt.uniforms,ft,!1),an(De,$e,Ue,nt.uniforms,ot,!0),Tr(De,je,$e,Ue);else{var Pt=De.global.def("{}"),Wt=Ue.shader.progVar.append(De,$e),Xt=$e.def(Wt,".id"),ar=$e.def(Pt,"[",Xt,"]");$e(De.shared.gl,".useProgram(",Wt,".program);","if(!",ar,"){",ar,"=",Pt,"[",Xt,"]=",De.link(function(Ht){return Zr(ea,De,Ue,Ht,2)}),"(",Wt,");}",ar,".call(this,a0[",Ze,"],",Ze,");")}}function Ne(De,Se){var Ue=De.proc("batch",2);De.batchId="0",Ln(De,Ue);var nt=!1,st=!0;Object.keys(Se.context).forEach(function(Pt){nt=nt||Se.context[Pt].propDep}),nt||(qn(De,Ue,Se.context),st=!1);var Ze=Se.framebuffer,Ye=!1;Ze?(Ze.propDep?nt=Ye=!0:Ze.contextDep&&nt&&(Ye=!0),Ye||jn(De,Ue,Ze)):jn(De,Ue,null),Se.state.viewport&&Se.state.viewport.propDep&&(nt=!0);function rt(Pt){return Pt.contextDep&&nt||Pt.propDep}Jn(De,Ue,Se),ni(De,Ue,Se.state,function(Pt){return!rt(Pt)}),(!Se.profile||!rt(Se.profile))&&qr(De,Ue,Se,!1,"a1"),Se.contextDep=nt,Se.needsContext=st,Se.needsFramebuffer=Ye;var Pe=Se.shader.progVar;if(Pe.contextDep&&nt||Pe.propDep)Ya(De,Ue,Se,null);else{var je=Pe.append(De,Ue);if(Ue(De.shared.gl,".useProgram(",je,".program);"),Se.shader.program)Ya(De,Ue,Se,Se.shader.program);else{Ue(De.shared.vao,".setVAO(null);");var $e=De.global.def("{}"),ot=Ue.def(je,".id"),ft=Ue.def($e,"[",ot,"]");Ue(De.cond(ft).then(ft,".call(this,a0,a1);").else(ft,"=",$e,"[",ot,"]=",De.link(function(Pt){return Zr(Ya,De,Se,Pt,2)}),"(",je,");",ft,".call(this,a0,a1);"))}}Object.keys(Se.state).length>0&&Ue(De.shared.current,".dirty=true;"),De.shared.vao&&Ue(De.shared.vao,".setVAO(null);")}function bt(De,Se){var Ue=De.proc("scope",3);De.batchId="a2";var nt=De.shared,st=nt.current;qn(De,Ue,Se.context),Se.framebuffer&&Se.framebuffer.append(De,Ue),Fl(Object.keys(Se.state)).forEach(function(Ye){var rt=Se.state[Ye],Pe=rt.append(De,Ue);hn(Pe)?Pe.forEach(function(je,$e){Ue.set(De.next[Ye],"["+$e+"]",je)}):Ue.set(nt.next,"."+Ye,Pe)}),qr(De,Ue,Se,!0,!0),[Ha,xs,Wa,As,Ua].forEach(function(Ye){var rt=Se.draw[Ye];rt&&Ue.set(nt.draw,"."+Ye,""+rt.append(De,Ue))}),Object.keys(Se.uniforms).forEach(function(Ye){var rt=Se.uniforms[Ye].append(De,Ue);Array.isArray(rt)&&(rt="["+rt.join()+"]"),Ue.set(nt.uniforms,"["+Te.id(Ye)+"]",rt)}),Object.keys(Se.attributes).forEach(function(Ye){var rt=Se.attributes[Ye].append(De,Ue),Pe=De.scopeAttrib(Ye);Object.keys(new at).forEach(function(je){Ue.set(Pe,"."+je,rt[je])})}),Se.scopeVAO&&Ue.set(nt.vao,".targetVAO",Se.scopeVAO.append(De,Ue));function Ze(Ye){var rt=Se.shader[Ye];rt&&Ue.set(nt.shader,"."+Ye,rt.append(De,Ue))}Ze(jo),Ze(Ho),Object.keys(Se.state).length>0&&(Ue(st,".dirty=true;"),Ue.exit(st,".dirty=true;")),Ue("a1(",De.shared.context,",a0,",De.batchId,");")}function pt(De){if(!(typeof De!="object"||hn(De))){for(var Se=Object.keys(De),Ue=0;Ue<Se.length;++Ue)if(q.isDynamic(De[Se[Ue]]))return!0;return!1}}function vr(De,Se,Ue){var nt=Se.static[Ue];if(!nt||!pt(nt))return;var st=De.global,Ze=Object.keys(nt),Ye=!1,rt=!1,Pe=!1,je=De.global.def("{}");Ze.forEach(function(ot){var ft=nt[ot];if(q.isDynamic(ft)){typeof ft=="function"&&(ft=nt[ot]=q.unbox(ft));var Pt=Ci(ft,null);Ye=Ye||Pt.thisDep,Pe=Pe||Pt.propDep,rt=rt||Pt.contextDep}else{switch(st(je,".",ot,"="),typeof ft){case"number":st(ft);break;case"string":st('"',ft,'"');break;case"object":Array.isArray(ft)&&st("[",ft.join(),"]");break;default:st(De.link(ft));break}st(";")}});function $e(ot,ft){Ze.forEach(function(Pt){var Wt=nt[Pt];if(q.isDynamic(Wt)){var Xt=ot.invoke(ft,Wt);ft(je,".",Pt,"=",Xt,";")}})}Se.dynamic[Ue]=new q.DynamicVariable(ys,{thisDep:Ye,contextDep:rt,propDep:Pe,ref:je,append:$e}),delete Se.static[Ue]}function Xr(De,Se,Ue,nt,st){var Ze=Lr();Ze.stats=Ze.link(st),Object.keys(Se.static).forEach(function(rt){vr(Ze,Se,rt)}),Hc.forEach(function(rt){vr(Ze,De,rt)});var Ye=On(De,Se,Ue,nt,Ze);return $n(Ze,Ye),bt(Ze,Ye),Ne(Ze,Ye),_(Ze.compile(),{destroy:function(){Ye.shader.program.destroy()}})}return{next:nr,current:or,procs:function(){var De=Lr(),Se=De.proc("poll"),Ue=De.proc("refresh"),nt=De.block();Se(nt),Ue(nt);var st=De.shared,Ze=st.gl,Ye=st.next,rt=st.current;nt(rt,".dirty=false;"),jn(De,Se),jn(De,Ue,null,!0);var Pe;zt&&(Pe=De.link(zt)),Ve.oes_vertex_array_object&&Ue(De.link(Ve.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var je=0;je<vt.maxAttributes;++je){var $e=Ue.def(st.attributes,"[",je,"]"),ot=De.cond($e,".buffer");ot.then(Ze,".enableVertexAttribArray(",je,");",Ze,".bindBuffer(",xo,",",$e,".buffer.buffer);",Ze,".vertexAttribPointer(",je,",",$e,".size,",$e,".type,",$e,".normalized,",$e,".stride,",$e,".offset);").else(Ze,".disableVertexAttribArray(",je,");",Ze,".vertexAttrib4f(",je,",",$e,".x,",$e,".y,",$e,".z,",$e,".w);",$e,".buffer=null;"),Ue(ot),zt&&Ue(Pe,".vertexAttribDivisorANGLE(",je,",",$e,".divisor);")}return Ue(De.shared.vao,".currentVAO=null;",De.shared.vao,".setVAO(",De.shared.vao,".targetVAO);"),Object.keys(Tt).forEach(function(ft){var Pt=Tt[ft],Wt=nt.def(Ye,".",ft),Xt=De.block();Xt("if(",Wt,"){",Ze,".enable(",Pt,")}else{",Ze,".disable(",Pt,")}",rt,".",ft,"=",Wt,";"),Ue(Xt),Se("if(",Wt,"!==",rt,".",ft,"){",Xt,"}")}),Object.keys(kt).forEach(function(ft){var Pt=kt[ft],Wt=or[ft],Xt,ar,Ht=De.block();if(Ht(Ze,".",Pt,"("),hn(Wt)){var xr=Wt.length;Xt=De.global.def(Ye,".",ft),ar=De.global.def(rt,".",ft),Ht(ye(xr,function(mr){return Xt+"["+mr+"]"}),");",ye(xr,function(mr){return ar+"["+mr+"]="+Xt+"["+mr+"];"}).join("")),Se("if(",ye(xr,function(mr){return Xt+"["+mr+"]!=="+ar+"["+mr+"]"}).join("||"),"){",Ht,"}")}else Xt=nt.def(Ye,".",ft),ar=nt.def(rt,".",ft),Ht(Xt,");",rt,".",ft,"=",Xt,";"),Se("if(",Xt,"!==",ar,"){",Ht,"}");Ue(Ht)}),De.compile()}(),compile:Xr}}function c0(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var f0=34918,p0=34919,Vl=35007,h0=function(fe,Te){if(!Te.ext_disjoint_timer_query)return null;var Ve=[];function vt(){return Ve.pop()||Te.ext_disjoint_timer_query.createQueryEXT()}function St(zt){Ve.push(zt)}var mt=[];function At(zt){var cr=vt();Te.ext_disjoint_timer_query.beginQueryEXT(Vl,cr),mt.push(cr),Bt(mt.length-1,mt.length,zt)}function Rt(){Te.ext_disjoint_timer_query.endQueryEXT(Vl)}function Lt(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var Gt=[];function jt(){return Gt.pop()||new Lt}function qt(zt){Gt.push(zt)}var Zt=[];function Bt(zt,cr,It){var or=jt();or.startQueryIndex=zt,or.endQueryIndex=cr,or.sum=0,or.stats=It,Zt.push(or)}var Vt=[],at=[];function _t(){var zt,cr,It=mt.length;if(It!==0){at.length=Math.max(at.length,It+1),Vt.length=Math.max(Vt.length,It+1),Vt[0]=0,at[0]=0;var or=0;for(zt=0,cr=0;cr<mt.length;++cr){var nr=mt[cr];Te.ext_disjoint_timer_query.getQueryObjectEXT(nr,p0)?(or+=Te.ext_disjoint_timer_query.getQueryObjectEXT(nr,f0),St(nr)):mt[zt++]=nr,Vt[cr+1]=or,at[cr+1]=zt}for(mt.length=zt,zt=0,cr=0;cr<Zt.length;++cr){var Mr=Zt[cr],Tt=Mr.startQueryIndex,kt=Mr.endQueryIndex;Mr.sum+=Vt[kt]-Vt[Tt];var br=at[Tt],Qt=at[kt];Qt===br?(Mr.stats.gpuTime+=Mr.sum/1e6,qt(Mr)):(Mr.startQueryIndex=br,Mr.endQueryIndex=Qt,Zt[zt++]=Mr)}Zt.length=zt}}return{beginQuery:At,endQuery:Rt,pushScopeStats:Bt,update:_t,getNumPendingQueries:function(){return mt.length},clear:function(){Ve.push.apply(Ve,mt);for(var zt=0;zt<Ve.length;zt++)Te.ext_disjoint_timer_query.deleteQueryEXT(Ve[zt]);mt.length=0,Ve.length=0},restore:function(){mt.length=0,Ve.length=0}}},m0=16384,g0=256,v0=1024,b0=34962,Gl="webglcontextlost",ql="webglcontextrestored",jl=1,y0=2,_0=3;function Hl(fe,Te){for(var Ve=0;Ve<fe.length;++Ve)if(fe[Ve]===Te)return Ve;return-1}function x0(fe){var Te=re(fe);if(!Te)return null;var Ve=Te.gl,vt=Ve.getContextAttributes(),St=Ve.isContextLost(),mt=ge(Ve,Te);if(!mt)return null;var At=ee(),Rt=c0(),Lt=mt.extensions,Gt=h0(Ve,Lt),jt=Q(),qt=Ve.drawingBufferWidth,Zt=Ve.drawingBufferHeight,Bt={tick:0,time:0,viewportWidth:qt,viewportHeight:Zt,framebufferWidth:qt,framebufferHeight:Zt,drawingBufferWidth:qt,drawingBufferHeight:Zt,pixelRatio:Te.pixelRatio},Vt={},at={elements:null,primitive:4,count:-1,offset:0,instances:-1},_t=ba(Ve,Lt),zt=Bs(Ve,Rt,Te,or),cr=qs(Ve,Lt,zt,Rt),It=$c(Ve,Lt,_t,Rt,zt,cr,at);function or(Tr){return It.destroyBuffer(Tr)}var nr=Nc(Ve,At,Rt,Te),Mr=cc(Ve,Lt,_t,function(){br.procs.poll()},Bt,Rt,Te),Tt=fc(Ve,Lt,_t,Rt,Te),kt=Dc(Ve,Lt,_t,Mr,Tt,Rt),br=l0(Ve,At,Lt,_t,zt,cr,Mr,kt,Vt,It,nr,at,Bt,Gt,Te),Qt=Vc(Ve,kt,br.procs.poll,Bt,vt,Lt,_t),Nt=br.next,er=Ve.canvas,tr=[],Fr=[],Lr=[],ir=[Te.onDestroy],sr=null;function Ir(){if(tr.length===0){Gt&&Gt.update(),sr=null;return}sr=W.next(Ir),ni();for(var Tr=tr.length-1;Tr>=0;--Tr){var Zr=tr[Tr];Zr&&Zr(Bt,null,0)}Ve.flush(),Gt&&Gt.update()}function Br(){!sr&&tr.length>0&&(sr=W.next(Ir))}function Yr(){sr&&(W.cancel(Ir),sr=null)}function An(Tr){Tr.preventDefault(),St=!0,Yr(),Fr.forEach(function(Zr){Zr()})}function Tn(Tr){Ve.getError(),St=!1,mt.restore(),nr.restore(),zt.restore(),Mr.restore(),Tt.restore(),kt.restore(),It.restore(),Gt&&Gt.restore(),br.procs.refresh(),Br(),Lr.forEach(function(Zr){Zr()})}er&&(er.addEventListener(Gl,An,!1),er.addEventListener(ql,Tn,!1));function Kr(){tr.length=0,Yr(),er&&(er.removeEventListener(Gl,An),er.removeEventListener(ql,Tn)),nr.clear(),kt.clear(),Tt.clear(),It.clear(),Mr.clear(),cr.clear(),zt.clear(),Gt&&Gt.clear(),ir.forEach(function(Tr){Tr()})}function Gn(Tr){Ee(!!Tr,"invalid args to regl({...})"),Ee.type(Tr,"object","invalid args to regl({...})");function Zr(st){var Ze=_({},st);delete Ze.uniforms,delete Ze.attributes,delete Ze.context,delete Ze.vao,"stencil"in Ze&&Ze.stencil.op&&(Ze.stencil.opBack=Ze.stencil.opFront=Ze.stencil.op,delete Ze.stencil.op);function Ye(rt){if(rt in Ze){var Pe=Ze[rt];delete Ze[rt],Object.keys(Pe).forEach(function(je){Ze[rt+"."+je]=Pe[je]})}}return Ye("blend"),Ye("depth"),Ye("cull"),Ye("stencil"),Ye("polygonOffset"),Ye("scissor"),Ye("sample"),"vao"in st&&(Ze.vao=st.vao),Ze}function Jr(st,Ze){var Ye={},rt={};return Object.keys(st).forEach(function(Pe){var je=st[Pe];if(q.isDynamic(je)){rt[Pe]=q.unbox(je,Pe);return}else if(Ze&&Array.isArray(je)){for(var $e=0;$e<je.length;++$e)if(q.isDynamic(je[$e])){rt[Pe]=q.unbox(je,Pe);return}}Ye[Pe]=je}),{dynamic:rt,static:Ye}}var $n=Jr(Tr.context||{},!0),ea=Jr(Tr.uniforms||{},!0),Ya=Jr(Tr.attributes||{},!1),Ne=Jr(Zr(Tr),!1),bt={gpuTime:0,cpuTime:0,count:0},pt=br.compile(Ne,Ya,ea,$n,bt),vr=pt.draw,Xr=pt.batch,De=pt.scope,Se=[];function Ue(st){for(;Se.length<st;)Se.push(null);return Se}function nt(st,Ze){var Ye;if(St&&Ee.raise("context lost"),typeof st=="function")return De.call(this,null,st,0);if(typeof Ze=="function")if(typeof st=="number")for(Ye=0;Ye<st;++Ye)De.call(this,null,Ze,Ye);else if(Array.isArray(st))for(Ye=0;Ye<st.length;++Ye)De.call(this,st[Ye],Ze,Ye);else return De.call(this,st,Ze,0);else if(typeof st=="number"){if(st>0)return Xr.call(this,Ue(st|0),st|0)}else if(Array.isArray(st)){if(st.length)return Xr.call(this,st,st.length)}else return vr.call(this,st)}return _(nt,{stats:bt,destroy:function(){pt.destroy()}})}var yn=kt.setFBO=Gn({framebuffer:q.define.call(null,jl,"framebuffer")});function On(Tr,Zr){var Jr=0;br.procs.poll();var $n=Zr.color;$n&&(Ve.clearColor(+$n[0]||0,+$n[1]||0,+$n[2]||0,+$n[3]||0),Jr|=m0),"depth"in Zr&&(Ve.clearDepth(+Zr.depth),Jr|=g0),"stencil"in Zr&&(Ve.clearStencil(Zr.stencil|0),Jr|=v0),Ee(!!Jr,"called regl.clear with no buffer specified"),Ve.clear(Jr)}function qn(Tr){if(Ee(typeof Tr=="object"&&Tr,"regl.clear() takes an object as input"),"framebuffer"in Tr)if(Tr.framebuffer&&Tr.framebuffer_reglType==="framebufferCube")for(var Zr=0;Zr<6;++Zr)yn(_({framebuffer:Tr.framebuffer.faces[Zr]},Tr),On);else yn(Tr,On);else On(null,Tr)}function jn(Tr){Ee.type(Tr,"function","regl.frame() callback must be a function"),tr.push(Tr);function Zr(){var Jr=Hl(tr,Tr);Ee(Jr>=0,"cannot cancel a frame twice");function $n(){var ea=Hl(tr,$n);tr[ea]=tr[tr.length-1],tr.length-=1,tr.length<=0&&Yr()}tr[Jr]=$n}return Br(),{cancel:Zr}}function Jn(){var Tr=Nt.viewport,Zr=Nt.scissor_box;Tr[0]=Tr[1]=Zr[0]=Zr[1]=0,Bt.viewportWidth=Bt.framebufferWidth=Bt.drawingBufferWidth=Tr[2]=Zr[2]=Ve.drawingBufferWidth,Bt.viewportHeight=Bt.framebufferHeight=Bt.drawingBufferHeight=Tr[3]=Zr[3]=Ve.drawingBufferHeight}function ni(){Bt.tick+=1,Bt.time=qr(),Jn(),br.procs.poll()}function Ln(){Mr.refresh(),Jn(),br.procs.refresh(),Gt&&Gt.update()}function qr(){return(Q()-jt)/1e3}Ln();function ii(Tr,Zr){Ee.type(Zr,"function","listener callback must be a function");var Jr;switch(Tr){case"frame":return jn(Zr);case"lost":Jr=Fr;break;case"restore":Jr=Lr;break;case"destroy":Jr=ir;break;default:Ee.raise("invalid event, must be one of frame,lost,restore,destroy")}return Jr.push(Zr),{cancel:function(){for(var $n=0;$n<Jr.length;++$n)if(Jr[$n]===Zr){Jr[$n]=Jr[Jr.length-1],Jr.pop();return}}}}var an=_(Gn,{clear:qn,prop:q.define.bind(null,jl),context:q.define.bind(null,y0),this:q.define.bind(null,_0),draw:Gn({}),buffer:function(Tr){return zt.create(Tr,b0,!1,!1)},elements:function(Tr){return cr.create(Tr,!1)},texture:Mr.create2D,cube:Mr.createCube,renderbuffer:Tt.create,framebuffer:kt.create,framebufferCube:kt.createCube,vao:It.createVAO,attributes:vt,frame:jn,on:ii,limits:_t,hasExtension:function(Tr){return _t.extensions.indexOf(Tr.toLowerCase())>=0},read:Qt,destroy:Kr,_gl:Ve,_refresh:Ln,poll:function(){ni(),Gt&&Gt.update()},now:qr,stats:Rt});return Te.onDone(null,an),an}return x0})})(regl);var reglExports=regl.exports;const Regl=getDefaultExportFromCjs(reglExports),useReglContextStore=defineStore("tweeq.reglContext",()=>{const h=new PQueue({concurrency:1}),v={vert:`
		precision mediump float;
		attribute vec2 position;
		varying vec2 uv;
		void main() {
			uv = position / 2.0 + 0.5;
			gl_Position = vec4(position, 0, 1);
		}`,attributes:{position:[-1,-1,1,-1,-1,1,1,1]},depth:{enable:!1},count:4,primitive:"triangle strip"},y=document.createElement("canvas"),_=Regl({canvas:y,attributes:{depth:!1,premultipliedAlpha:!1}});function x(w){let S=uniqueId();const{promise:E,resolve:I}=Promise.withResolvers(),L=whenever(w,O=>{L(),I(O)},{immediate:!0,flush:"sync"});return function(O,F){const z=uniqueId();S=z,h.add(async()=>{if(S!==z)return;const N=await E;y.width=N.clientWidth,y.height=N.clientHeight,_({...v,frag:O,viewport:{x:0,y:0,width:N.clientWidth,height:N.clientHeight},uniforms:F})(),N.src=y.toDataURL()})}}return{createDraw:x}}),_sfc_main$I=vue.defineComponent({__name:"GlslCanvas",props:{fragmentString:{default:`
		precision mediump float;
		varying vec2 uv;
		void main() { gl_FragColor = vec4(uv, 0, 1); }`},uniforms:{default:()=>({})}},setup(h){const v=h,y=vue.useTemplateRef("$img"),_=useReglContextStore().createDraw(y);return vue.watch(()=>[v.fragmentString,v.uniforms],([x,w])=>{_(x,w)},{immediate:!0,flush:"post"}),(x,w)=>(vue.openBlock(),vue.createElementBlock("img",{ref_key:"$img",ref:y,class:"GlslCanvas"},null,512))}}),GlslCanvas=_export_sfc(_sfc_main$I,[["__scopeId","data-v-3fc711f9"]]),min=Math.min,max=Math.max,round=Math.round,floor$1=Math.floor,createCoords=h=>({x:h,y:h}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp(h,v,y){return max(h,min(v,y))}function evaluate(h,v){return typeof h=="function"?h(v):h}function getSide(h){return h.split("-")[0]}function getAlignment(h){return h.split("-")[1]}function getOppositeAxis(h){return h==="x"?"y":"x"}function getAxisLength(h){return h==="y"?"height":"width"}function getSideAxis(h){return["top","bottom"].includes(getSide(h))?"y":"x"}function getAlignmentAxis(h){return getOppositeAxis(getSideAxis(h))}function getAlignmentSides(h,v,y){y===void 0&&(y=!1);const _=getAlignment(h),x=getAlignmentAxis(h),w=getAxisLength(x);let S=x==="x"?_===(y?"end":"start")?"right":"left":_==="start"?"bottom":"top";return v.reference[w]>v.floating[w]&&(S=getOppositePlacement(S)),[S,getOppositePlacement(S)]}function getExpandedPlacements(h){const v=getOppositePlacement(h);return[getOppositeAlignmentPlacement(h),v,getOppositeAlignmentPlacement(v)]}function getOppositeAlignmentPlacement(h){return h.replace(/start|end/g,v=>oppositeAlignmentMap[v])}function getSideList(h,v,y){const _=["left","right"],x=["right","left"],w=["top","bottom"],S=["bottom","top"];switch(h){case"top":case"bottom":return y?v?x:_:v?_:x;case"left":case"right":return v?w:S;default:return[]}}function getOppositeAxisPlacements(h,v,y,_){const x=getAlignment(h);let w=getSideList(getSide(h),y==="start",_);return x&&(w=w.map(S=>S+"-"+x),v&&(w=w.concat(w.map(getOppositeAlignmentPlacement)))),w}function getOppositePlacement(h){return h.replace(/left|right|bottom|top/g,v=>oppositeSideMap[v])}function expandPaddingObject(h){return{top:0,right:0,bottom:0,left:0,...h}}function getPaddingObject(h){return typeof h!="number"?expandPaddingObject(h):{top:h,right:h,bottom:h,left:h}}function rectToClientRect(h){const{x:v,y,width:_,height:x}=h;return{width:_,height:x,top:y,left:v,right:v+_,bottom:y+x,x:v,y}}function computeCoordsFromPlacement(h,v,y){let{reference:_,floating:x}=h;const w=getSideAxis(v),S=getAlignmentAxis(v),E=getAxisLength(S),I=getSide(v),L=w==="y",O=_.x+_.width/2-x.width/2,F=_.y+_.height/2-x.height/2,z=_[E]/2-x[E]/2;let N;switch(I){case"top":N={x:O,y:_.y-x.height};break;case"bottom":N={x:O,y:_.y+_.height};break;case"right":N={x:_.x+_.width,y:F};break;case"left":N={x:_.x-x.width,y:F};break;default:N={x:_.x,y:_.y}}switch(getAlignment(v)){case"start":N[S]-=z*(y&&L?-1:1);break;case"end":N[S]+=z*(y&&L?-1:1);break}return N}const computePosition$1=async(h,v,y)=>{const{placement:_="bottom",strategy:x="absolute",middleware:w=[],platform:S}=y,E=w.filter(Boolean),I=await(S.isRTL==null?void 0:S.isRTL(v));let L=await S.getElementRects({reference:h,floating:v,strategy:x}),{x:O,y:F}=computeCoordsFromPlacement(L,_,I),z=_,N={},H=0;for(let X=0;X<E.length;X++){const{name:J,fn:ae}=E[X],{x:ve,y:pe,data:de,reset:ce}=await ae({x:O,y:F,initialPlacement:_,placement:z,strategy:x,middlewareData:N,rects:L,platform:S,elements:{reference:h,floating:v}});O=ve??O,F=pe??F,N={...N,[J]:{...N[J],...de}},ce&&H<=50&&(H++,typeof ce=="object"&&(ce.placement&&(z=ce.placement),ce.rects&&(L=ce.rects===!0?await S.getElementRects({reference:h,floating:v,strategy:x}):ce.rects),{x:O,y:F}=computeCoordsFromPlacement(L,z,I)),X=-1)}return{x:O,y:F,placement:z,strategy:x,middlewareData:N}};async function detectOverflow(h,v){var y;v===void 0&&(v={});const{x:_,y:x,platform:w,rects:S,elements:E,strategy:I}=h,{boundary:L="clippingAncestors",rootBoundary:O="viewport",elementContext:F="floating",altBoundary:z=!1,padding:N=0}=evaluate(v,h),H=getPaddingObject(N),J=E[z?F==="floating"?"reference":"floating":F],ae=rectToClientRect(await w.getClippingRect({element:(y=await(w.isElement==null?void 0:w.isElement(J)))==null||y?J:J.contextElement||await(w.getDocumentElement==null?void 0:w.getDocumentElement(E.floating)),boundary:L,rootBoundary:O,strategy:I})),ve=F==="floating"?{x:_,y:x,width:S.floating.width,height:S.floating.height}:S.reference,pe=await(w.getOffsetParent==null?void 0:w.getOffsetParent(E.floating)),de=await(w.isElement==null?void 0:w.isElement(pe))?await(w.getScale==null?void 0:w.getScale(pe))||{x:1,y:1}:{x:1,y:1},ce=rectToClientRect(w.convertOffsetParentRelativeRectToViewportRelativeRect?await w.convertOffsetParentRelativeRectToViewportRelativeRect({elements:E,rect:ve,offsetParent:pe,strategy:I}):ve);return{top:(ae.top-ce.top+H.top)/de.y,bottom:(ce.bottom-ae.bottom+H.bottom)/de.y,left:(ae.left-ce.left+H.left)/de.x,right:(ce.right-ae.right+H.right)/de.x}}const flip$1=function(h){return h===void 0&&(h={}),{name:"flip",options:h,async fn(v){var y,_;const{placement:x,middlewareData:w,rects:S,initialPlacement:E,platform:I,elements:L}=v,{mainAxis:O=!0,crossAxis:F=!0,fallbackPlacements:z,fallbackStrategy:N="bestFit",fallbackAxisSideDirection:H="none",flipAlignment:X=!0,...J}=evaluate(h,v);if((y=w.arrow)!=null&&y.alignmentOffset)return{};const ae=getSide(x),ve=getSideAxis(E),pe=getSide(E)===E,de=await(I.isRTL==null?void 0:I.isRTL(L.floating)),ce=z||(pe||!X?[getOppositePlacement(E)]:getExpandedPlacements(E)),V=H!=="none";!z&&V&&ce.push(...getOppositeAxisPlacements(E,X,H,de));const ie=[E,...ce],ke=await detectOverflow(v,J),be=[];let Ae=((_=w.flip)==null?void 0:_.overflows)||[];if(O&&be.push(ke[ae]),F){const Ge=getAlignmentSides(x,S,de);be.push(ke[Ge[0]],ke[Ge[1]])}if(Ae=[...Ae,{placement:x,overflows:be}],!be.every(Ge=>Ge<=0)){var ue,xe;const Ge=(((ue=w.flip)==null?void 0:ue.index)||0)+1,lt=ie[Ge];if(lt)return{data:{index:Ge,overflows:Ae},reset:{placement:lt}};let Le=(xe=Ae.filter(Je=>Je.overflows[0]<=0).sort((Je,gt)=>Je.overflows[1]-gt.overflows[1])[0])==null?void 0:xe.placement;if(!Le)switch(N){case"bestFit":{var Me;const Je=(Me=Ae.filter(gt=>{if(V){const ct=getSideAxis(gt.placement);return ct===ve||ct==="y"}return!0}).map(gt=>[gt.placement,gt.overflows.filter(ct=>ct>0).reduce((ct,Ot)=>ct+Ot,0)]).sort((gt,ct)=>gt[1]-ct[1])[0])==null?void 0:Me[0];Je&&(Le=Je);break}case"initialPlacement":Le=E;break}if(x!==Le)return{reset:{placement:Le}}}return{}}}};async function convertValueToCoords(h,v){const{placement:y,platform:_,elements:x}=h,w=await(_.isRTL==null?void 0:_.isRTL(x.floating)),S=getSide(y),E=getAlignment(y),I=getSideAxis(y)==="y",L=["left","top"].includes(S)?-1:1,O=w&&I?-1:1,F=evaluate(v,h);let{mainAxis:z,crossAxis:N,alignmentAxis:H}=typeof F=="number"?{mainAxis:F,crossAxis:0,alignmentAxis:null}:{mainAxis:F.mainAxis||0,crossAxis:F.crossAxis||0,alignmentAxis:F.alignmentAxis};return E&&typeof H=="number"&&(N=E==="end"?H*-1:H),I?{x:N*O,y:z*L}:{x:z*L,y:N*O}}const offset$1=function(h){return h===void 0&&(h=0),{name:"offset",options:h,async fn(v){var y,_;const{x,y:w,placement:S,middlewareData:E}=v,I=await convertValueToCoords(v,h);return S===((y=E.offset)==null?void 0:y.placement)&&(_=E.arrow)!=null&&_.alignmentOffset?{}:{x:x+I.x,y:w+I.y,data:{...I,placement:S}}}}},shift$1=function(h){return h===void 0&&(h={}),{name:"shift",options:h,async fn(v){const{x:y,y:_,placement:x}=v,{mainAxis:w=!0,crossAxis:S=!1,limiter:E={fn:J=>{let{x:ae,y:ve}=J;return{x:ae,y:ve}}},...I}=evaluate(h,v),L={x:y,y:_},O=await detectOverflow(v,I),F=getSideAxis(getSide(x)),z=getOppositeAxis(F);let N=L[z],H=L[F];if(w){const J=z==="y"?"top":"left",ae=z==="y"?"bottom":"right",ve=N+O[J],pe=N-O[ae];N=clamp(ve,N,pe)}if(S){const J=F==="y"?"top":"left",ae=F==="y"?"bottom":"right",ve=H+O[J],pe=H-O[ae];H=clamp(ve,H,pe)}const X=E.fn({...v,[z]:N,[F]:H});return{...X,data:{x:X.x-y,y:X.y-_,enabled:{[z]:w,[F]:S}}}}}};function hasWindow(){return typeof window<"u"}function getNodeName(h){return isNode(h)?(h.nodeName||"").toLowerCase():"#document"}function getWindow(h){var v;return(h==null||(v=h.ownerDocument)==null?void 0:v.defaultView)||window}function getDocumentElement(h){var v;return(v=(isNode(h)?h.ownerDocument:h.document)||window.document)==null?void 0:v.documentElement}function isNode(h){return hasWindow()?h instanceof Node||h instanceof getWindow(h).Node:!1}function isElement(h){return hasWindow()?h instanceof Element||h instanceof getWindow(h).Element:!1}function isHTMLElement(h){return hasWindow()?h instanceof HTMLElement||h instanceof getWindow(h).HTMLElement:!1}function isShadowRoot(h){return!hasWindow()||typeof ShadowRoot>"u"?!1:h instanceof ShadowRoot||h instanceof getWindow(h).ShadowRoot}function isOverflowElement(h){const{overflow:v,overflowX:y,overflowY:_,display:x}=getComputedStyle(h);return/auto|scroll|overlay|hidden|clip/.test(v+_+y)&&!["inline","contents"].includes(x)}function isTableElement(h){return["table","td","th"].includes(getNodeName(h))}function isTopLayer(h){return[":popover-open",":modal"].some(v=>{try{return h.matches(v)}catch{return!1}})}function isContainingBlock(h){const v=isWebKit(),y=isElement(h)?getComputedStyle(h):h;return["transform","translate","scale","rotate","perspective"].some(_=>y[_]?y[_]!=="none":!1)||(y.containerType?y.containerType!=="normal":!1)||!v&&(y.backdropFilter?y.backdropFilter!=="none":!1)||!v&&(y.filter?y.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(_=>(y.willChange||"").includes(_))||["paint","layout","strict","content"].some(_=>(y.contain||"").includes(_))}function getContainingBlock(h){let v=getParentNode(h);for(;isHTMLElement(v)&&!isLastTraversableNode(v);){if(isContainingBlock(v))return v;if(isTopLayer(v))return null;v=getParentNode(v)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(h){return["html","body","#document"].includes(getNodeName(h))}function getComputedStyle(h){return getWindow(h).getComputedStyle(h)}function getNodeScroll(h){return isElement(h)?{scrollLeft:h.scrollLeft,scrollTop:h.scrollTop}:{scrollLeft:h.scrollX,scrollTop:h.scrollY}}function getParentNode(h){if(getNodeName(h)==="html")return h;const v=h.assignedSlot||h.parentNode||isShadowRoot(h)&&h.host||getDocumentElement(h);return isShadowRoot(v)?v.host:v}function getNearestOverflowAncestor(h){const v=getParentNode(h);return isLastTraversableNode(v)?h.ownerDocument?h.ownerDocument.body:h.body:isHTMLElement(v)&&isOverflowElement(v)?v:getNearestOverflowAncestor(v)}function getOverflowAncestors(h,v,y){var _;v===void 0&&(v=[]),y===void 0&&(y=!0);const x=getNearestOverflowAncestor(h),w=x===((_=h.ownerDocument)==null?void 0:_.body),S=getWindow(x);if(w){const E=getFrameElement(S);return v.concat(S,S.visualViewport||[],isOverflowElement(x)?x:[],E&&y?getOverflowAncestors(E):[])}return v.concat(x,getOverflowAncestors(x,[],y))}function getFrameElement(h){return h.parent&&Object.getPrototypeOf(h.parent)?h.frameElement:null}function getCssDimensions(h){const v=getComputedStyle(h);let y=parseFloat(v.width)||0,_=parseFloat(v.height)||0;const x=isHTMLElement(h),w=x?h.offsetWidth:y,S=x?h.offsetHeight:_,E=round(y)!==w||round(_)!==S;return E&&(y=w,_=S),{width:y,height:_,$:E}}function unwrapElement$1(h){return isElement(h)?h:h.contextElement}function getScale(h){const v=unwrapElement$1(h);if(!isHTMLElement(v))return createCoords(1);const y=v.getBoundingClientRect(),{width:_,height:x,$:w}=getCssDimensions(v);let S=(w?round(y.width):y.width)/_,E=(w?round(y.height):y.height)/x;return(!S||!Number.isFinite(S))&&(S=1),(!E||!Number.isFinite(E))&&(E=1),{x:S,y:E}}const noOffsets=createCoords(0);function getVisualOffsets(h){const v=getWindow(h);return!isWebKit()||!v.visualViewport?noOffsets:{x:v.visualViewport.offsetLeft,y:v.visualViewport.offsetTop}}function shouldAddVisualOffsets(h,v,y){return v===void 0&&(v=!1),!y||v&&y!==getWindow(h)?!1:v}function getBoundingClientRect(h,v,y,_){v===void 0&&(v=!1),y===void 0&&(y=!1);const x=h.getBoundingClientRect(),w=unwrapElement$1(h);let S=createCoords(1);v&&(_?isElement(_)&&(S=getScale(_)):S=getScale(h));const E=shouldAddVisualOffsets(w,y,_)?getVisualOffsets(w):createCoords(0);let I=(x.left+E.x)/S.x,L=(x.top+E.y)/S.y,O=x.width/S.x,F=x.height/S.y;if(w){const z=getWindow(w),N=_&&isElement(_)?getWindow(_):_;let H=z,X=getFrameElement(H);for(;X&&_&&N!==H;){const J=getScale(X),ae=X.getBoundingClientRect(),ve=getComputedStyle(X),pe=ae.left+(X.clientLeft+parseFloat(ve.paddingLeft))*J.x,de=ae.top+(X.clientTop+parseFloat(ve.paddingTop))*J.y;I*=J.x,L*=J.y,O*=J.x,F*=J.y,I+=pe,L+=de,H=getWindow(X),X=getFrameElement(H)}}return rectToClientRect({width:O,height:F,x:I,y:L})}function getWindowScrollBarX(h,v){const y=getNodeScroll(h).scrollLeft;return v?v.left+y:getBoundingClientRect(getDocumentElement(h)).left+y}function getHTMLOffset(h,v,y){y===void 0&&(y=!1);const _=h.getBoundingClientRect(),x=_.left+v.scrollLeft-(y?0:getWindowScrollBarX(h,_)),w=_.top+v.scrollTop;return{x,y:w}}function convertOffsetParentRelativeRectToViewportRelativeRect(h){let{elements:v,rect:y,offsetParent:_,strategy:x}=h;const w=x==="fixed",S=getDocumentElement(_),E=v?isTopLayer(v.floating):!1;if(_===S||E&&w)return y;let I={scrollLeft:0,scrollTop:0},L=createCoords(1);const O=createCoords(0),F=isHTMLElement(_);if((F||!F&&!w)&&((getNodeName(_)!=="body"||isOverflowElement(S))&&(I=getNodeScroll(_)),isHTMLElement(_))){const N=getBoundingClientRect(_);L=getScale(_),O.x=N.x+_.clientLeft,O.y=N.y+_.clientTop}const z=S&&!F&&!w?getHTMLOffset(S,I,!0):createCoords(0);return{width:y.width*L.x,height:y.height*L.y,x:y.x*L.x-I.scrollLeft*L.x+O.x+z.x,y:y.y*L.y-I.scrollTop*L.y+O.y+z.y}}function getClientRects(h){return Array.from(h.getClientRects())}function getDocumentRect(h){const v=getDocumentElement(h),y=getNodeScroll(h),_=h.ownerDocument.body,x=max(v.scrollWidth,v.clientWidth,_.scrollWidth,_.clientWidth),w=max(v.scrollHeight,v.clientHeight,_.scrollHeight,_.clientHeight);let S=-y.scrollLeft+getWindowScrollBarX(h);const E=-y.scrollTop;return getComputedStyle(_).direction==="rtl"&&(S+=max(v.clientWidth,_.clientWidth)-x),{width:x,height:w,x:S,y:E}}function getViewportRect(h,v){const y=getWindow(h),_=getDocumentElement(h),x=y.visualViewport;let w=_.clientWidth,S=_.clientHeight,E=0,I=0;if(x){w=x.width,S=x.height;const L=isWebKit();(!L||L&&v==="fixed")&&(E=x.offsetLeft,I=x.offsetTop)}return{width:w,height:S,x:E,y:I}}function getInnerBoundingClientRect(h,v){const y=getBoundingClientRect(h,!0,v==="fixed"),_=y.top+h.clientTop,x=y.left+h.clientLeft,w=isHTMLElement(h)?getScale(h):createCoords(1),S=h.clientWidth*w.x,E=h.clientHeight*w.y,I=x*w.x,L=_*w.y;return{width:S,height:E,x:I,y:L}}function getClientRectFromClippingAncestor(h,v,y){let _;if(v==="viewport")_=getViewportRect(h,y);else if(v==="document")_=getDocumentRect(getDocumentElement(h));else if(isElement(v))_=getInnerBoundingClientRect(v,y);else{const x=getVisualOffsets(h);_={x:v.x-x.x,y:v.y-x.y,width:v.width,height:v.height}}return rectToClientRect(_)}function hasFixedPositionAncestor(h,v){const y=getParentNode(h);return y===v||!isElement(y)||isLastTraversableNode(y)?!1:getComputedStyle(y).position==="fixed"||hasFixedPositionAncestor(y,v)}function getClippingElementAncestors(h,v){const y=v.get(h);if(y)return y;let _=getOverflowAncestors(h,[],!1).filter(E=>isElement(E)&&getNodeName(E)!=="body"),x=null;const w=getComputedStyle(h).position==="fixed";let S=w?getParentNode(h):h;for(;isElement(S)&&!isLastTraversableNode(S);){const E=getComputedStyle(S),I=isContainingBlock(S);!I&&E.position==="fixed"&&(x=null),(w?!I&&!x:!I&&E.position==="static"&&!!x&&["absolute","fixed"].includes(x.position)||isOverflowElement(S)&&!I&&hasFixedPositionAncestor(h,S))?_=_.filter(O=>O!==S):x=E,S=getParentNode(S)}return v.set(h,_),_}function getClippingRect(h){let{element:v,boundary:y,rootBoundary:_,strategy:x}=h;const S=[...y==="clippingAncestors"?isTopLayer(v)?[]:getClippingElementAncestors(v,this._c):[].concat(y),_],E=S[0],I=S.reduce((L,O)=>{const F=getClientRectFromClippingAncestor(v,O,x);return L.top=max(F.top,L.top),L.right=min(F.right,L.right),L.bottom=min(F.bottom,L.bottom),L.left=max(F.left,L.left),L},getClientRectFromClippingAncestor(v,E,x));return{width:I.right-I.left,height:I.bottom-I.top,x:I.left,y:I.top}}function getDimensions(h){const{width:v,height:y}=getCssDimensions(h);return{width:v,height:y}}function getRectRelativeToOffsetParent(h,v,y){const _=isHTMLElement(v),x=getDocumentElement(v),w=y==="fixed",S=getBoundingClientRect(h,!0,w,v);let E={scrollLeft:0,scrollTop:0};const I=createCoords(0);if(_||!_&&!w)if((getNodeName(v)!=="body"||isOverflowElement(x))&&(E=getNodeScroll(v)),_){const z=getBoundingClientRect(v,!0,w,v);I.x=z.x+v.clientLeft,I.y=z.y+v.clientTop}else x&&(I.x=getWindowScrollBarX(x));const L=x&&!_&&!w?getHTMLOffset(x,E):createCoords(0),O=S.left+E.scrollLeft-I.x-L.x,F=S.top+E.scrollTop-I.y-L.y;return{x:O,y:F,width:S.width,height:S.height}}function isStaticPositioned(h){return getComputedStyle(h).position==="static"}function getTrueOffsetParent(h,v){if(!isHTMLElement(h)||getComputedStyle(h).position==="fixed")return null;if(v)return v(h);let y=h.offsetParent;return getDocumentElement(h)===y&&(y=y.ownerDocument.body),y}function getOffsetParent(h,v){const y=getWindow(h);if(isTopLayer(h))return y;if(!isHTMLElement(h)){let x=getParentNode(h);for(;x&&!isLastTraversableNode(x);){if(isElement(x)&&!isStaticPositioned(x))return x;x=getParentNode(x)}return y}let _=getTrueOffsetParent(h,v);for(;_&&isTableElement(_)&&isStaticPositioned(_);)_=getTrueOffsetParent(_,v);return _&&isLastTraversableNode(_)&&isStaticPositioned(_)&&!isContainingBlock(_)?y:_||getContainingBlock(h)||y}const getElementRects=async function(h){const v=this.getOffsetParent||getOffsetParent,y=this.getDimensions,_=await y(h.floating);return{reference:getRectRelativeToOffsetParent(h.reference,await v(h.floating),h.strategy),floating:{x:0,y:0,width:_.width,height:_.height}}};function isRTL(h){return getComputedStyle(h).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function rectsAreEqual(h,v){return h.x===v.x&&h.y===v.y&&h.width===v.width&&h.height===v.height}function observeMove(h,v){let y=null,_;const x=getDocumentElement(h);function w(){var E;clearTimeout(_),(E=y)==null||E.disconnect(),y=null}function S(E,I){E===void 0&&(E=!1),I===void 0&&(I=1),w();const L=h.getBoundingClientRect(),{left:O,top:F,width:z,height:N}=L;if(E||v(),!z||!N)return;const H=floor$1(F),X=floor$1(x.clientWidth-(O+z)),J=floor$1(x.clientHeight-(F+N)),ae=floor$1(O),pe={rootMargin:-H+"px "+-X+"px "+-J+"px "+-ae+"px",threshold:max(0,min(1,I))||1};let de=!0;function ce(V){const ie=V[0].intersectionRatio;if(ie!==I){if(!de)return S();ie?S(!1,ie):_=setTimeout(()=>{S(!1,1e-7)},1e3)}ie===1&&!rectsAreEqual(L,h.getBoundingClientRect())&&S(),de=!1}try{y=new IntersectionObserver(ce,{...pe,root:x.ownerDocument})}catch{y=new IntersectionObserver(ce,pe)}y.observe(h)}return S(!0),w}function autoUpdate(h,v,y,_){_===void 0&&(_={});const{ancestorScroll:x=!0,ancestorResize:w=!0,elementResize:S=typeof ResizeObserver=="function",layoutShift:E=typeof IntersectionObserver=="function",animationFrame:I=!1}=_,L=unwrapElement$1(h),O=x||w?[...L?getOverflowAncestors(L):[],...getOverflowAncestors(v)]:[];O.forEach(ae=>{x&&ae.addEventListener("scroll",y,{passive:!0}),w&&ae.addEventListener("resize",y)});const F=L&&E?observeMove(L,y):null;let z=-1,N=null;S&&(N=new ResizeObserver(ae=>{let[ve]=ae;ve&&ve.target===L&&N&&(N.unobserve(v),cancelAnimationFrame(z),z=requestAnimationFrame(()=>{var pe;(pe=N)==null||pe.observe(v)})),y()}),L&&!I&&N.observe(L),N.observe(v));let H,X=I?getBoundingClientRect(h):null;I&&J();function J(){const ae=getBoundingClientRect(h);X&&!rectsAreEqual(X,ae)&&y(),X=ae,H=requestAnimationFrame(J)}return y(),()=>{var ae;O.forEach(ve=>{x&&ve.removeEventListener("scroll",y),w&&ve.removeEventListener("resize",y)}),F==null||F(),(ae=N)==null||ae.disconnect(),N=null,I&&cancelAnimationFrame(H)}}const offset=offset$1,shift=shift$1,flip=flip$1,computePosition=(h,v,y)=>{const _=new Map,x={platform,...y},w={...x.platform,_c:_};return computePosition$1(h,v,{...x,platform:w})};function isComponentPublicInstance(h){return h!=null&&typeof h=="object"&&"$el"in h}function unwrapElement(h){if(isComponentPublicInstance(h)){const v=h.$el;return isNode(v)&&getNodeName(v)==="#comment"?null:v}return h}function toValue(h){return typeof h=="function"?h():vue.unref(h)}function getDPR(h){return typeof window>"u"?1:(h.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(h,v){const y=getDPR(h);return Math.round(v*y)/y}function useFloating(h,v,y){y===void 0&&(y={});const _=y.whileElementsMounted,x=vue.computed(()=>{var ie;return(ie=toValue(y.open))!=null?ie:!0}),w=vue.computed(()=>toValue(y.middleware)),S=vue.computed(()=>{var ie;return(ie=toValue(y.placement))!=null?ie:"bottom"}),E=vue.computed(()=>{var ie;return(ie=toValue(y.strategy))!=null?ie:"absolute"}),I=vue.computed(()=>{var ie;return(ie=toValue(y.transform))!=null?ie:!0}),L=vue.computed(()=>unwrapElement(h.value)),O=vue.computed(()=>unwrapElement(v.value)),F=vue.ref(0),z=vue.ref(0),N=vue.ref(E.value),H=vue.ref(S.value),X=vue.shallowRef({}),J=vue.ref(!1),ae=vue.computed(()=>{const ie={position:N.value,left:"0",top:"0"};if(!O.value)return ie;const ke=roundByDPR(O.value,F.value),be=roundByDPR(O.value,z.value);return I.value?{...ie,transform:"translate("+ke+"px, "+be+"px)",...getDPR(O.value)>=1.5&&{willChange:"transform"}}:{position:N.value,left:ke+"px",top:be+"px"}});let ve;function pe(){if(L.value==null||O.value==null)return;const ie=x.value;computePosition(L.value,O.value,{middleware:w.value,placement:S.value,strategy:E.value}).then(ke=>{F.value=ke.x,z.value=ke.y,N.value=ke.strategy,H.value=ke.placement,X.value=ke.middlewareData,J.value=ie!==!1})}function de(){typeof ve=="function"&&(ve(),ve=void 0)}function ce(){if(de(),_===void 0){pe();return}if(L.value!=null&&O.value!=null){ve=_(L.value,O.value,pe);return}}function V(){x.value||(J.value=!1)}return vue.watch([w,S,E,x],pe,{flush:"sync"}),vue.watch([L,O],ce,{flush:"sync"}),vue.watch(x,V,{flush:"sync"}),vue.getCurrentScope()&&vue.onScopeDispose(de),{x:vue.shallowReadonly(F),y:vue.shallowReadonly(z),strategy:vue.shallowReadonly(N),placement:vue.shallowReadonly(H),middlewareData:vue.shallowReadonly(X),isPositioned:vue.shallowReadonly(J),floatingStyles:ae,update:pe}}const _hoisted_1$t=["popover"],_sfc_main$H=vue.defineComponent({__name:"Popover",props:{reference:{},open:{type:Boolean,default:!1},placement:{default:"bottom-start"},offset:{type:[Number,Object,Function],default:0},lightDismiss:{type:Boolean,default:!0}},emits:["update:open","close"],setup(h,{emit:v}){const y=h,_=v,x=vue.useTemplateRef("$popover");useEventListener("keydown",E=>{E.key==="Escape"&&y.open&&(_("close"),_("update:open",!1))}),useEventListener(x,"toggle",E=>{const{newState:I}=E;I==="close"&&_("close"),_("update:open",I==="open")}),vue.watch(()=>[y.open,x.value],([E,I])=>{I&&I.togglePopover(E)});const{floatingStyles:w}=useFloating(vue.toRef(y,"reference"),x,{placement:typeof y.placement=="string"?y.placement:void 0,strategy:"fixed",whileElementsMounted:autoUpdate,middleware:[flip(),shift(),offset(y.offset)]}),S=vue.computed(()=>typeof y.placement=="string"?w.value:{left:y.placement[0]+"px",top:y.placement[1]+"px"});return(E,I)=>E.open?(vue.openBlock(),vue.createElementBlock("div",{key:0,ref_key:"$popover",ref:x,class:"Popover",style:vue.normalizeStyle(S.value),popover:E.lightDismiss?"auto":"manual"},[vue.renderSlot(E.$slots,"default",{},void 0,!0)],12,_hoisted_1$t)):vue.createCommentVNode("",!0)}}),Popover=_export_sfc(_sfc_main$H,[["__scopeId","data-v-96afd181"]]);var pad_default=`precision mediump float;

varying vec2 uv;

uniform vec4 hsva;
uniform ivec2 axes;

#define R 0
#define G 1
#define B 2
#define A 3
#define H 4
#define S 5
#define V 6

#define NONE -1.0

vec3 rgb2hsv(vec3 c)
{
    vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);
    vec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));
    vec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));
    float d = q.x - min(q.w, q.y);
    float e = 1.0e-10;
    return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);
}

vec3 hsv2rgb(vec3 c) {
	vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);
	vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);
	return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);
}

void main() {
	vec3 hsv = hsva.rgb;

	vec3 rgb = hsv2rgb(hsv);
	vec4 outColor = vec4(rgb, 1.0);

	float hue = NONE;
	float sat = NONE;

	for (int i = 0; i < 2; i++) {
		int axis = axes[i];
		float t = uv[i];

		if (axis == R) {
			outColor.r = t;
		} else if (axis == G) {
			outColor.g = t;
		} else if (axis == B) {
			outColor.b = t;
		} else if (axis == A) {
			outColor.a = t;
		} else {
			vec3 hsv = rgb2hsv(outColor.rgb);

			if (hsv[1] == 0.0 || hsv[2] == 0.0) {
				hsv[0] = hue == NONE ? hsva[0] : hue;
				hsv[1] = sat == NONE ? hsva[1] : sat;
			}

			if (axis == H) {
				hsv[0] = t;
				hue = t;
			} else if (axis == S) {
				hsv[1] = t;
				sat = t;
			} else if (axis == V) {
				hsv[2] = t;
			}

			outColor.rgb = hsv2rgb(hsv);
		}
	}

	

	gl_FragColor = outColor;
}`;function colorChannelToIndex(h){switch(h){case"r":return 0;case"g":return 1;case"b":return 2;case"a":return 3;case"h":return 4;case"s":return 5;case"v":return 6}}const DefaultColorPickers=[["pad",["s","v"]],["slider","h"],["slider","a"],["values"]];function tweakHSVAChannel(h,v,y){return setHSVAChannel(h,v,_=>_+y)}function setHSVAChannel(h,v,y){let _={...h};const x=typeof y=="number"?()=>y:y;if(v==="h")_.h=unsignedMod(x(_.h),1);else if(v==="s")_.s=clamp$3(x(_.s),0,1);else if(v==="v")_.v=clamp$3(x(_.v),0,1);else if(v==="a")_.a=clamp$3(x(_.a),0,1);else{const w=hsv2rgb(h);v==="r"?w.r=clamp$3(x(w.r),0,1):v==="g"?w.g=clamp$3(x(w.g),0,1):v==="b"&&(w.b=clamp$3(x(w.b),0,1)),_={...rgb2hsv(w),a:h.a},isNaN(_.h)&&(_.h=h.h),isNaN(_.s)&&(_.s=h.s)}return _}function rgb2hsv({r:h,g:v,b:y}){const _=Math.max(h,v,y),x=Math.min(h,v,y),w=_,S=_-x,E=_===0?NaN:S/_;let I;if(_===x)I=NaN;else{switch(_){case h:I=(v-y)/S+(v<y?6:0);break;case v:I=(y-h)/S+2;break;default:I=(h-v)/S+4;break}I/=6}return{h:I,s:E,v:w}}function hsv2rgb({h,s:v,v:y}){let _,x,w;const S=Math.floor(h*6),E=h*6-S,I=y*(1-v),L=y*(1-E*v),O=y*(1-(1-E)*v);switch(S%6){case 0:_=y,x=O,w=I;break;case 1:_=L,x=y,w=I;break;case 2:_=I,x=y,w=O;break;case 3:_=I,x=L,w=y;break;case 4:_=O,x=I,w=y;break;default:_=y,x=I,w=L;break}return{r:_,g:x,b:w}}function getHSVAChannel(h,v){return v==="h"||v==="s"||v==="v"||v==="a"?h[v]:hsv2rgb(h)[v]}function hsva2hex(h){const{r:v,g:y,b:_}=hsv2rgb(h);return chroma(v*255,y*255,_*255,h.a).hex()}function css2hsva(h){if(!chroma.valid(h))return{h:0,s:0,v:0,a:1};const[v,y,_,x]=chroma(h).rgba(),{h:w,s:S,v:E}=rgb2hsv({r:v/255,g:y/255,b:_/255});return{h:isNaN(w)?0:w,s:isNaN(S)?0:S,v:E,a:x}}const _sfc_main$G=vue.defineComponent({__name:"InputColorChannelPad",props:{axes:{},modelValue:{}},emits:["update:modelValue"],setup(h,{emit:v}){const y=h,_=v,x=vue.useTemplateRef("$root");let w;const{dragging:S,left:E,top:I,right:L,bottom:O,xy:F}=useDrag(x,{dragDelaySeconds:0,onDragStart({left:X,right:J,top:ae,bottom:ve,xy:pe},de){if(w=y.modelValue,de.target===x.value){const V=vec2$1.invlerp([X,ve],[J,ae],pe);w=setHSVAChannel(w,y.axes[0],V[0]),w=setHSVAChannel(w,y.axes[1],V[1]),_("update:modelValue",w)}},onDrag({xy:X,initial:J,width:ae,height:ve}){let pe={...w};const de=vec2$1.div(vec2$1.sub(X,J),[ae,-ve]);pe=tweakHSVAChannel(pe,y.axes[0],de[0]),pe=tweakHSVAChannel(pe,y.axes[1],de[1]),_("update:modelValue",pe)}}),z=vue.computed(()=>S.value&&E.value<=F.value[0]&&L.value>=F.value[0]&&I.value<=F.value[1]&&O.value>=F.value[1]),N=vue.computed(()=>{const{h:X,s:J,v:ae,a:ve}=y.modelValue;return{hsva:[X,J,ae,ve],axes:y.axes.map(colorChannelToIndex)}}),H=vue.computed(()=>{const X=getHSVAChannel(y.modelValue,y.axes[0]),J=getHSVAChannel(y.modelValue,y.axes[1]);return{left:toPercent(X),bottom:toPercent(J),background:hsva2hex({...y.modelValue,a:1})}});return(X,J)=>(vue.openBlock(),vue.createElementBlock("div",{ref_key:"$root",ref:x,class:"TqInputColorChannelPad",style:vue.normalizeStyle({cursor:z.value?"none":void 0})},[vue.createVNode(vue.unref(GlslCanvas),{class:"canvas",fragmentString:vue.unref(pad_default),uniforms:N.value},null,8,["fragmentString","uniforms"]),vue.createElementVNode("div",{class:vue.normalizeClass(["circle",{tweaking:vue.unref(S)}]),style:vue.normalizeStyle(H.value)},null,6)],4))}}),InputColorChannelPad=_export_sfc(_sfc_main$G,[["__scopeId","data-v-1166497f"]]);var slider_default=`precision mediump float;

varying vec2 uv;

uniform vec4 hsva;
uniform int axis;
uniform float offset;

#define R 0
#define G 1
#define B 2
#define A 3
#define H 4
#define S 5
#define V 6

vec3 rgb2hsv(vec3 c)
{
    vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);
    vec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));
    vec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));
    float d = q.x - min(q.w, q.y);
    float e = 1.0e-10;
    return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);
}

vec3 hsv2rgb(vec3 c) {
	vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);
	vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);
	return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);
}

void main() {
	float t = uv.x + offset;

	vec4 outColor = vec4(hsv2rgb(hsva.xyz), 1.0);

	outColor.a = 1.0;

	if (axis == R) {
		outColor.r = t;
	} else if (axis == G) {
		outColor.g = t;
	} else if (axis == B) {
		outColor.b = t;
	} else if (axis == A) {
		outColor.a = t;
	} else {
		vec3 _hsv = hsva.xyz;
		if (axis == H) {
			_hsv = vec3(t, 1.0, 1.0);
		} else if (axis == S) {
			_hsv[1] = t;
		} else if (axis == V) {
			_hsv[2] = t;
		}
		outColor.rgb = hsv2rgb(_hsv);
	}

	gl_FragColor = outColor;
}`;const _sfc_main$F=vue.defineComponent({__name:"InputColorChannelSlider",props:{modelValue:{},axis:{}},emits:["update:modelValue"],setup(h,{emit:v}){const y=h,_=v,x=vue.useTemplateRef("$root");let w;const{dragging:S,left:E,right:I,top:L,bottom:O,xy:F}=useDrag(x,{dragDelaySeconds:0,onDragStart({xy:[X],left:J,right:ae},ve){if(w=y.modelValue,ve.target===x.value){const de=scalar$1.invlerp(J,ae,X);w=setHSVAChannel(w,y.axis,de),_("update:modelValue",w)}},onDrag({xy:[X],initial:[J],width:ae}){let ve={...w};const pe=(X-J)/ae;ve=tweakHSVAChannel(ve,y.axis,pe),_("update:modelValue",ve)}}),z=vue.computed(()=>{const X=[[E.value,L.value],[I.value,O.value]];return S.value&&Rect.containsPoint(X,F.value)}),N=vue.computed(()=>{const{a:X,h:J,s:ae,v:ve}=y.modelValue;return{hsva:[J,ae,ve,X],axis:colorChannelToIndex(y.axis),offset:0}}),H=vue.computed(()=>{const X=getHSVAChannel(y.modelValue,y.axis);return{left:toPercent(X),background:hsva2hex({...y.modelValue,a:1})}});return(X,J)=>(vue.openBlock(),vue.createElementBlock("div",{ref_key:"$root",ref:x,class:"TqInputColorChannelSlider",style:vue.normalizeStyle({cursor:z.value?"none":void 0})},[vue.createVNode(vue.unref(GlslCanvas),{class:"canvas",fragmentString:vue.unref(slider_default),uniforms:N.value},null,8,["fragmentString","uniforms"]),vue.createElementVNode("button",{class:vue.normalizeClass(["circle",{tweaking:vue.unref(S)}]),style:vue.normalizeStyle(H.value)},null,6)],4))}}),InputColorChannelSlider=_export_sfc(_sfc_main$F,[["__scopeId","data-v-0e2d902d"]]);function useLabelizer(h){return vue.computed(()=>{if(h.labelizer)return h.labelizer;const v=h.prefix||"",y=h.suffix||"";if(!h.labels)return x=>v+Case.capital(String(x))+y;const _=h.labels;if(_.length!==h.options.length)throw new Error("the length of labels must be the same as the length of options");return x=>{const w=h.options.indexOf(x);return v+_[w]+y}})}const _hoisted_1$s=["align","disabled"],_hoisted_2$i=["font","align"],_hoisted_3$c=["onPointerenter"],_sfc_main$E=vue.defineComponent({inheritAttrs:!1,__name:"InputDropdown",props:vue.mergeModels({icons:{},theme:{},font:{},align:{default:"center"},options:{},labels:{},labelizer:{},prefix:{default:""},suffix:{default:""},inlinePosition:{},blockPosition:{},invalid:{type:Boolean},disabled:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:vue.mergeModels(["focus","blur","confirm"],["update:modelValue"]),setup(h,{emit:v}){const y=vue.useModel(h,"modelValue"),_=h,x=useLabelizer(_),w=v,S=vue.ref(!1),E=vue.useTemplateRef("$root"),I=vue.useTemplateRef("$input"),L=useElementBounding(E),O=vue.ref(x.value(y.value)),F=vue.ref(!1);vue.watch(()=>[S.value,y.value],([be,Ae])=>{be||(O.value=x.value(Ae),F.value=!1)});const z=vue.ref(y.value),N=vue.computed(()=>O.value===""||!F.value?_.options:search(O.value,_.options,{keySelector:x.value})),H=useThemeStore(),X=vue.computed(()=>{if(F.value)return[L.left.value-2,L.bottom.value];{let be=_.options.indexOf(z.value);return be===-1&&(be=0),[L.left.value-2,L.top.value+-be*H.inputHeight-2]}});vue.watch(N,be=>{be.includes(y.value)||(y.value=be[0])});let J=null;whenever(S,()=>{z.value=y.value,J=new Date().getTime(),window.addEventListener("pointerup",ve)});function ae(be){y.value=be}function ve(){var Ae;new Date().getTime()-(J??0)>500?(S.value=!1,w("confirm"),w("blur"),window.removeEventListener("pointerup",ve)):(Ae=I.value)==null||Ae.select()}function pe(be){const Ae=N.value.length,ue=N.value.indexOf(y.value),xe=unsignedMod(ue+(be?-1:1),Ae),Me=N.value[xe];y.value=Me}function de(be){be.isPrimary&&(S.value=!0)}function ce(){S.value=!0,w("focus")}function V(be){O.value=be,F.value=!0,S.value=!0}function ie(){S.value||w("blur")}function ke(be){be||(S.value=!1,window.removeEventListener("pointerup",ve),y.value=z.value)}return vue.onBeforeUnmount(()=>{window.removeEventListener("pointerup",ve)}),(be,Ae)=>(vue.openBlock(),vue.createElementBlock("div",vue.mergeProps({ref_key:"$root",ref:E,class:["TqInputDropdown",{open:S.value}]},be.$attrs,{align:be.align,disabled:be.disabled}),[vue.createVNode(vue.unref(_sfc_main$J),{ref_key:"$input",ref:I,modelValue:O.value,class:"input",theme:_.theme,font:be.font,align:be.align,"inline-position":be.inlinePosition,"block-position":be.blockPosition,disabled:be.disabled,invalid:be.invalid,"onUpdate:modelValue":V,onPointerdown:de,onFocus:ce,onBlur:ie,onKeydown:[Ae[0]||(Ae[0]=vue.withKeys(vue.withModifiers(ue=>S.value=!S.value,["prevent"]),["enter"])),Ae[1]||(Ae[1]=vue.withKeys(vue.withModifiers(ue=>pe(!0),["prevent"]),["up"])),Ae[2]||(Ae[2]=vue.withKeys(vue.withModifiers(ue=>pe(!1),["prevent"]),["down"]))]},null,8,["modelValue","theme","font","align","inline-position","block-position","disabled","invalid"]),vue.createVNode(vue.unref(Icon),{class:"chevron",icon:"mdi:unfold-more-horizontal"}),vue.createVNode(vue.unref(Popover),{open:S.value,reference:E.value,placement:X.value,lightDismiss:!1,"onUpdate:open":ke},{default:vue.withCtx(()=>[vue.createElementVNode("ul",{class:"select",style:vue.normalizeStyle({width:vue.unref(L).width.value+2+"px"}),font:be.font,align:be.align},[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(N.value,(ue,xe)=>(vue.openBlock(),vue.createElementBlock("li",{key:xe,class:vue.normalizeClass(["option",{active:ue===h.modelValue,current:ue===z.value}]),onPointerenter:Me=>ae(ue)},[vue.renderSlot(be.$slots,"option",{item:ue},()=>[be.icons&&be.icons[xe]?(vue.openBlock(),vue.createBlock(vue.unref(Icon),{key:0,class:"option-icon",icon:be.icons[xe]},null,8,["icon"])):vue.createCommentVNode("",!0),vue.createTextVNode(" "+vue.toDisplayString(vue.unref(x)(ue)),1)],!0)],42,_hoisted_3$c))),128))],12,_hoisted_2$i)]),_:3},8,["open","reference","placement"])],16,_hoisted_1$s))}}),InputDropdown=_export_sfc(_sfc_main$E,[["__scopeId","data-v-1061ab08"]]),_sfc_main$D=vue.defineComponent({__name:"InputColorChannelValues",props:{colorCode:{},hsva:{},alpha:{type:Boolean,default:!0}},emits:["update:colorCode","update:hsva"],setup(h,{emit:v}){const y=h,_=v,x=vue.ref("hsv"),w=vue.computed(()=>hsv2rgb(y.hsva));function S(E,I){const L=setHSVAChannel(y.hsva,E,I);_("update:hsva",L)}return(E,I)=>(vue.openBlock(),vue.createBlock(vue.unref(InputGroup),{class:"InputColorChannelValues"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(InputDropdown),{modelValue:x.value,"onUpdate:modelValue":I[0]||(I[0]=L=>x.value=L),class:"color-space",theme:"minimal",options:["rgb","hsv","hex"],labelizer:L=>L.toUpperCase()},null,8,["modelValue","labelizer"]),x.value==="rgb"?(vue.openBlock(),vue.createBlock(vue.unref(InputGroup),{key:0,class:"channel"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(InputNumber),{modelValue:w.value.r*255,min:0,max:255,precision:0,bar:!1,"inline-position":"start","onUpdate:modelValue":I[1]||(I[1]=L=>S("r",L/255))},null,8,["modelValue"]),vue.createVNode(vue.unref(InputNumber),{modelValue:w.value.g*255,min:0,max:255,precision:0,bar:!1,"inline-position":"middle","onUpdate:modelValue":I[2]||(I[2]=L=>S("g",L/255))},null,8,["modelValue"]),vue.createVNode(vue.unref(InputNumber),{modelValue:w.value.b*255,min:0,max:255,precision:0,bar:!1,"inline-position":y.alpha?"middle":"end","onUpdate:modelValue":I[3]||(I[3]=L=>S("b",L/255))},null,8,["modelValue","inline-position"]),y.alpha?(vue.openBlock(),vue.createBlock(vue.unref(InputNumber),{key:0,modelValue:E.hsva.a*100,min:0,max:100,precision:0,bar:!1,suffix:"%","inline-position":"end","onUpdate:modelValue":I[4]||(I[4]=L=>S("a",L/100))},null,8,["modelValue"])):vue.createCommentVNode("",!0)]),_:1})):x.value==="hsv"?(vue.openBlock(),vue.createBlock(vue.unref(InputGroup),{key:1,class:"channel"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(InputNumber),{modelValue:E.hsva.h*360,min:0,max:360,precision:0,bar:!1,suffix:"","inline-position":"start","onUpdate:modelValue":I[5]||(I[5]=L=>S("h",L/360))},null,8,["modelValue"]),vue.createVNode(vue.unref(InputNumber),{modelValue:E.hsva.s*100,min:0,max:100,precision:0,bar:!1,suffix:"%","inline-position":"middle","onUpdate:modelValue":I[6]||(I[6]=L=>S("s",L/100))},null,8,["modelValue"]),vue.createVNode(vue.unref(InputNumber),{modelValue:E.hsva.v*100,min:0,max:100,precision:0,bar:!1,suffix:"%","inline-position":y.alpha?"middle":"end","onUpdate:modelValue":I[7]||(I[7]=L=>S("v",L/100))},null,8,["modelValue","inline-position"]),y.alpha?(vue.openBlock(),vue.createBlock(vue.unref(InputNumber),{key:0,modelValue:E.hsva.a*100,min:0,max:100,precision:0,bar:!1,suffix:"%","inline-position":"end","onUpdate:modelValue":I[8]||(I[8]=L=>S("a",L/100))},null,8,["modelValue"])):vue.createCommentVNode("",!0)]),_:1})):x.value==="hex"?(vue.openBlock(),vue.createBlock(vue.unref(_sfc_main$J),{key:2,font:"monospace",class:"channel",modelValue:E.colorCode,validator:colorCode,"onUpdate:modelValue":I[9]||(I[9]=L=>_("update:colorCode",L))},null,8,["modelValue","validator"])):vue.createCommentVNode("",!0)]),_:1}))}}),InputColorChannelValues=_export_sfc(_sfc_main$D,[["__scopeId","data-v-0fcdcece"]]),_hoisted_1$r={class:"TqInputColorPresets"},_hoisted_2$h=["onClick"],_sfc_main$C=vue.defineComponent({__name:"InputColorPresets",props:{presets:{default:()=>[]}},emits:["update:modelValue"],setup(h,{emit:v}){const y=h,_=v,x=computedInject(InputColorPresetsKey,w=>[...w??[],...y.presets]);return(w,S)=>(vue.openBlock(),vue.createElementBlock("div",_hoisted_1$r,[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(x),E=>(vue.openBlock(),vue.createElementBlock("button",{key:E,style:vue.normalizeStyle({background:E}),onClick:I=>_("update:modelValue",E)},null,12,_hoisted_2$h))),128))]))}}),InputColorPresets=_export_sfc(_sfc_main$C,[["__scopeId","data-v-067c9c8d"]]),_hoisted_1$q={class:"TqInputColorPicker"},_sfc_main$B=vue.defineComponent({__name:"InputColorPicker",props:vue.mergeModels({alpha:{type:Boolean,default:!0},pickers:{default:()=>DefaultColorPickers},presets:{},inlinePosition:{},blockPosition:{},invalid:{type:Boolean},disabled:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:vue.mergeModels(["focus","blur","confirm"],["update:modelValue"]),setup(h){const v=vue.useModel(h,"modelValue"),y=vue.shallowRef(css2hsva(v.value));let _=null;vue.watch(v,I=>{I!==_&&(y.value=css2hsva(I))},{flush:"sync"});function x(I){y.value=I,_=hsva2hex(I),v.value=_}function w(I){y.value=css2hsva(I),_=I,v.value=I}const S="EyeDropper"in window;async function E(){const I=new window.EyeDropper;v.value=(await I.open()).sRGBHex}return(I,L)=>(vue.openBlock(),vue.createElementBlock("div",_hoisted_1$q,[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(I.pickers,([O,F],z)=>(vue.openBlock(),vue.createElementBlock(vue.Fragment,null,[O==="pad"?(vue.openBlock(),vue.createBlock(InputColorChannelPad,{key:z,modelValue:y.value,axes:F,"onUpdate:modelValue":x},null,8,["modelValue","axes"])):vue.createCommentVNode("",!0),O==="slider"&&!(!I.alpha&&F==="a")?(vue.openBlock(),vue.createBlock(InputColorChannelSlider,{key:z,modelValue:y.value,axis:F,"onUpdate:modelValue":x},null,8,["modelValue","axis"])):vue.createCommentVNode("",!0),O==="values"?(vue.openBlock(),vue.createBlock(InputColorChannelValues,{key:z,colorCode:h.modelValue,hsva:y.value,alpha:I.alpha,"onUpdate:colorCode":w,"onUpdate:hsva":x},null,8,["colorCode","hsva","alpha"])):vue.createCommentVNode("",!0)],64))),256)),vue.createVNode(InputColorPresets,{presets:I.presets,"onUpdate:modelValue":L[0]||(L[0]=O=>v.value=O)},null,8,["presets"]),S?(vue.openBlock(),vue.createElementBlock("button",{key:0,class:"eyeDropper",onClick:E},[vue.createVNode(vue.unref(Icon),{icon:"material-symbols:colorize"})])):vue.createCommentVNode("",!0)]))}}),InputColorPicker=_export_sfc(_sfc_main$B,[["__scopeId","data-v-afd93bb0"]]);var wheel_default=`precision mediump float;

varying vec2 uv;

uniform vec4 hsva;

vec3 hsv2rgb(vec3 c) {
	vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);
	vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);
	return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);
}

void main() {

	vec2 pos = uv * 2.0 - 1.0;

	float hue = atan(pos.x, pos.y) / (2.0 * 3.14159265358979323846);
	float sat = 1.0;
	float val = 1.0;

	vec3 rgb = hsv2rgb(vec3(hue, sat, val));

	gl_FragColor = vec4(rgb, 1.0);
}`;const _hoisted_1$p=["inline-position","block-position"],_hoisted_2$g=["rgb"],_sfc_main$A=vue.defineComponent({inheritAttrs:!1,__name:"InputColorPad",props:vue.mergeModels({alpha:{type:Boolean,default:!0},pickers:{},presets:{},inlinePosition:{},blockPosition:{},invalid:{type:Boolean},disabled:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:vue.mergeModels(["focus","blur","confirm","update:tweaking"],["update:modelValue"]),setup(h,{emit:v}){const y=vue.useModel(h,"modelValue"),_=h,x=v,w=useThemeStore(),S=vue.useTemplateRef("$button"),E=vue.ref(!1),{shift:I,meta:L,alt:O,h:F,f:z,a:N,s:H,v:X,r:J,g:ae,b:ve}=useMagicKeys(),pe=vue.computed(()=>I.value||F.value||z.value?"h":H.value?"s":X.value?"v":J.value?"r":ae.value?"g":ve.value?"b":_.alpha&&(O.value||N.value)?"a":"pad"),de=vue.shallowRef({h:0,s:0,v:0,a:0}),ce=css2hsva,V=hsva2hex,ie=vue.useTemplateRef("$floating"),ke=useFocusWithin(ie).focused,be=vue.computed(()=>!ke.value&&(I.value||L.value)),Ae=w.popupWidth;let ue=null;const{origin:xe,dragging:Me}=useDrag(S,{lockPointer:!0,onClick(){dt.multiSelected||(E.value=!E.value)},onDragStart(){de.value=ue=ce(y.value),dt.capture(),x("update:tweaking",!0)},onDrag({delta:He}){const[Ct,Ut]=vec2$1.div(He,[Ae,-Ae]),pr=pe.value;if(pr==="pad"){de.value=tweakHSVAChannel(de.value,"s",Ct),de.value=tweakHSVAChannel(de.value,"v",Ut);const{s:Pr,v:tn}=ue,{s:un,v:pn}=de.value;dt.update(kn=>(un!==Pr&&(kn=setHSVAChannel(kn,"s",Bn=>un<Pr?scalar$1.lerp(0,Bn,un/Pr):scalar$1.lerp(1,Bn,(1-un)/(1-Pr)))),pn!==tn&&(kn=setHSVAChannel(kn,"v",Bn=>pn<tn?scalar$1.lerp(0,Bn,pn/tn):scalar$1.lerp(1,Bn,(1-pn)/(1-tn)))),kn))}else{de.value=tweakHSVAChannel(de.value,pr,pr==="v"?Ut:Ct);const Pr=getHSVAChannel(de.value,pr),tn=getHSVAChannel(ue,pr);if(pr==="h"||tn===0){const un=Pr-tn;dt.update(pn=>tweakHSVAChannel(pn,"h",un))}else{const un=Pr/tn;dt.update(pn=>{const kn=getHSVAChannel(pn,pr);return setHSVAChannel(pn,pr,kn*un)})}}y.value=V(de.value)},onDragEnd(){x("confirm"),dt.confirm(),x("update:tweaking",!1)}});useEventListener(S,"wheel",He=>{if(Me.value){He.preventDefault(),He.stopPropagation(),de.value=tweakHSVAChannel(de.value,"h",He.deltaY/360*.5),y.value=V(de.value);const Ct=getHSVAChannel(de.value,"h")-getHSVAChannel(ue,"h");dt.update(Ut=>tweakHSVAChannel(Ut,"h",Ct))}},{passive:!1}),vue.watch(pe,()=>{Me.value&&(ue=de.value,dt.capture())}),vue.watch(y,He=>{Me.value||(de.value=ce(He))},{immediate:!0,flush:"sync"}),whenever(Me,()=>{E.value=!1});const Ge=vue.computed(()=>{const He=pe.value;if(He==="h")return[["Hue",(de.value.h*360).toFixed(1)+""]];if(He==="s"||He==="v"||He==="a"){const Ct=He==="s"?"Sat":He==="v"?"Val":"",Ut=(de.value[He]*100).toFixed(1);return[[Ct,Ut+"%"]]}else if(He==="r"||He==="g"||He==="b"){const Ct=He.toUpperCase(),pr=(hsv2rgb(de.value)[He]*255).toFixed(0);return[[Ct,pr,!0]]}else{const Ct=(de.value.s*100).toFixed(1),Ut=(de.value.v*100).toFixed(1);return[["Sat",Ct+"%"],["Val",Ut+"%"]]}}),lt=vue.computed(()=>({left:`${xe.value[0]}px`,top:`${xe.value[1]}px`})),Le=vue.computed(()=>{const He=Color$1.contrastWCAG21(y.value,w.backgroundColor);return{color:y.value,"--outline":He>1.1?"transparent":"var(--tq-color-border)"}}),Je=vue.computed(()=>({transformOrigin:`${xe.value[0]}px ${xe.value[1]}px`})),gt=vue.computed(()=>{let He=chroma(chroma.valid(y.value)?y.value:"black");return pe.value!=="a"&&(He=He.alpha(1)),{...lt.value,color:He.css()}}),ct=vue.computed(()=>({opacity:pe.value==="pad"?1:.1,left:`${xe.value[0]-de.value.s*Ae}px`,top:`${xe.value[1]-(1-de.value.v)*Ae}px`})),Ot=vue.computed(()=>{const{h:He,s:Ct,v:Ut,a:pr}=de.value;return{hsva:[He,Ct,Ut,pr],axes:[colorChannelToIndex("s"),colorChannelToIndex("v")]}}),ur=vue.computed(()=>{const{h:He,s:Ct,v:Ut,a:pr}=de.value;return{hsva:[He,Ct,Ut,pr]}}),rr=vue.computed(()=>({...lt.value,opacity:pe.value==="h"?1:.1,rotate:`${de.value.h*-360}deg`})),Yt=vue.computed(()=>{if(pe.value==="pad")return{};let He;pe.value==="r"||pe.value==="g"||pe.value==="b"?He=hsv2rgb(de.value)[pe.value]:He=de.value[pe.value];const Ct=-(He-.5)*Ae,Ut=pe.value==="v"?[0,Ct]:[Ct,0];return{left:`${xe.value[0]+Ut[0]}px`,top:`${xe.value[1]-Ut[1]}px`}}),Er=vue.computed(()=>{const{h:He,s:Ct,v:Ut,a:pr}=de.value;return{hsva:[He,Ct,Ut,pr],axis:colorChannelToIndex(pe.value),offset:0}}),Oe=useFocus(S).focused,dt=useMultiSelectStore().register({type:"color",el:S,focusing:Oe,getValue:()=>de.value,setValue(He){de.value=He,y.value=V(He)},confirm(){x("confirm")}});return whenever(()=>dt.multiSelected,()=>{E.value=!1}),useCopyPaste({target:S,onCopy(){navigator.clipboard.writeText(y.value)},onPaste:async()=>{const He=await navigator.clipboard.readText();if(!He)return;y.value=He;const Ct=ce(He);dt.update(()=>Ct),dt.confirm()}}),(He,Ct)=>(vue.openBlock(),vue.createElementBlock(vue.Fragment,null,[vue.createElementVNode("button",vue.mergeProps({ref_key:"$button",ref:S},He.$attrs,{class:["TqInputColorPad",{focus:E.value&&be.value||vue.unref(dt).subfocus}]}),[vue.renderSlot(He.$slots,"default",{},()=>[vue.createElementVNode("div",{class:vue.normalizeClass(["default-button",{open:E.value,tweaking:vue.unref(Me)}]),style:vue.normalizeStyle(Le.value),"inline-position":He.inlinePosition,"block-position":He.blockPosition},null,14,_hoisted_1$p)],!0)],16),vue.createVNode(vue.unref(Popover),{open:E.value&&!be.value,reference:S.value,placement:"bottom-start","onUpdate:open":Ct[2]||(Ct[2]=Ut=>E.value=Ut)},{default:vue.withCtx(()=>[vue.createElementVNode("div",{ref_key:"$floating",ref:ie,class:"floating"},[vue.createVNode(InputColorPicker,{modelValue:y.value,"onUpdate:modelValue":Ct[0]||(Ct[0]=Ut=>y.value=Ut),alpha:He.alpha,pickers:He.pickers,presets:He.presets,onConfirm:Ct[1]||(Ct[1]=Ut=>x("confirm"))},null,8,["modelValue","alpha","pickers","presets"])],512)]),_:1},8,["open","reference"]),vue.createVNode(vue.Transition,null,{default:vue.withCtx(()=>[vue.unref(Me)?(vue.openBlock(),vue.createElementBlock("div",{key:0,class:"overlay",style:vue.normalizeStyle(Je.value)},[pe.value==="pad"||pe.value==="h"||pe.value==="s"||pe.value==="v"?(vue.openBlock(),vue.createElementBlock(vue.Fragment,{key:0},[vue.createVNode(vue.unref(GlslCanvas),{class:"pad",fragmentString:vue.unref(pad_default),uniforms:Ot.value,style:vue.normalizeStyle(ct.value)},null,8,["fragmentString","uniforms","style"]),vue.createVNode(vue.unref(GlslCanvas),{class:"wheel",fragmentString:vue.unref(wheel_default),uniforms:ur.value,style:vue.normalizeStyle(rr.value)},null,8,["fragmentString","uniforms","style"])],64)):vue.createCommentVNode("",!0),pe.value==="s"||pe.value==="v"||pe.value==="r"||pe.value==="g"||pe.value==="b"||pe.value==="a"?(vue.openBlock(),vue.createBlock(vue.unref(GlslCanvas),{key:1,class:vue.normalizeClass(["slider",{[pe.value]:!0}]),fragmentString:vue.unref(slider_default),uniforms:Er.value,style:vue.normalizeStyle(Yt.value)},null,8,["class","fragmentString","uniforms","style"])):vue.createCommentVNode("",!0),vue.createElementVNode("div",{class:"tweak-preview",style:vue.normalizeStyle(gt.value)},null,4),vue.createVNode(vue.unref(Tooltip),{class:"overlay-label",style:vue.normalizeStyle(lt.value)},{default:vue.withCtx(()=>[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(Ge.value,([Ut,pr,Pr],tn)=>(vue.openBlock(),vue.createElementBlock(vue.Fragment,{key:tn},[vue.createElementVNode("label",null,vue.toDisplayString(Ut),1),vue.createElementVNode("span",{class:"value",rgb:Pr},vue.toDisplayString(pr),9,_hoisted_2$g)],64))),128))]),_:1},8,["style"])],4)):vue.createCommentVNode("",!0)]),_:1})],64))}}),InputColorPad=_export_sfc(_sfc_main$A,[["__scopeId","data-v-c7dcf20f"]]),_sfc_main$z=vue.defineComponent({__name:"InputColor",props:vue.mergeModels({alpha:{type:Boolean},pickers:{},presets:{},inlinePosition:{},blockPosition:{},invalid:{type:Boolean},disabled:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:vue.mergeModels(["focus","blur","confirm"],["update:modelValue"]),setup(h,{emit:v}){const y=vue.useModel(h,"modelValue"),_=h,x=v,w=useThemeStore(),S=vue.useTemplateRef("$root"),{width:E}=useElementSize(S),I=vue.computed(()=>E.value>w.inputHeight*3.5),L=vue.ref(!1),O=vue.computed(()=>chroma.valid(y.value)?chroma(y.value):chroma("black")),F=vue.computed(()=>O.value.alpha(1).hex()),z=vue.computed(()=>O.value.alpha()*100);function N(X){const J=chroma(X);J.alpha()*100!==z.value?y.value=X:y.value=J.alpha(z.value/100).hex()}function H(X){y.value=O.value.alpha(X/100).hex()}return(X,J)=>(vue.openBlock(),vue.createBlock(vue.unref(InputGroup),{ref_key:"$root",ref:S,class:"TqInputColor"},{default:vue.withCtx(()=>[vue.createVNode(InputColorPad,vue.mergeProps(_,{modelValue:y.value,"onUpdate:modelValue":J[0]||(J[0]=ae=>y.value=ae),tweaking:L.value,"onUpdate:tweaking":J[1]||(J[1]=ae=>L.value=ae),class:{"only-pad":!I.value},inlinePosition:I.value?"start":void 0,onFocus:J[2]||(J[2]=ae=>x("focus")),onBlur:J[3]||(J[3]=ae=>x("blur")),onConfirm:J[4]||(J[4]=ae=>x("confirm"))}),null,16,["modelValue","tweaking","class","inlinePosition"]),I.value?(vue.openBlock(),vue.createBlock(vue.unref(_sfc_main$J),{key:0,class:vue.normalizeClass(["color-code",{"pad-tweaking":L.value}]),font:"monospace",modelValue:F.value,validator:colorCode,inlinePosition:_.alpha?"middle":"end","onUpdate:modelValue":N,onFocus:J[5]||(J[5]=ae=>x("focus")),onBlur:J[6]||(J[6]=ae=>x("blur")),onConfirm:J[7]||(J[7]=ae=>x("confirm"))},null,8,["class","modelValue","validator","inlinePosition"])):vue.createCommentVNode("",!0),_.alpha&&I.value?(vue.openBlock(),vue.createBlock(vue.unref(InputNumber),{key:1,class:"alpha",modelValue:z.value,validator:colorCode,suffix:"%",min:0,max:100,inlinePosition:"end","onUpdate:modelValue":H},null,8,["modelValue","validator"])):vue.createCommentVNode("",!0)]),_:1},512))}}),InputColor=_export_sfc(_sfc_main$z,[["__scopeId","data-v-8e46da19"]]),_hoisted_1$o={key:0,class:"overlay"},_hoisted_2$f={key:0,class:"axis x"},_hoisted_3$b={key:1,class:"axis y"},_sfc_main$y=vue.defineComponent({__name:"InputTranslate",props:vue.mergeModels({invalid:{type:Boolean},disabled:{type:Boolean},min:{},max:{},step:{},showOverlayLabel:{type:Boolean,default:!0}},{modelValue:{required:!0},modelModifiers:{}}),emits:vue.mergeModels(["focus","blur","confirm"],["update:modelValue"]),setup(h,{emit:v}){const y=vue.useModel(h,"modelValue"),_=h,x=v,w=vue.useTemplateRef("$button"),{shift:S,alt:E,x:I,y:L}=useMagicKeys(),O=vue.computed(()=>de(_.min)),F=vue.computed(()=>de(_.max)),z=vue.computed(()=>S.value?5:E.value?.1:1),N=vue.computed(()=>S.value?.5:E.value?4:2),H=vue.ref(1);useRafFn(()=>{H.value=scalar$1.lerp(H.value,N.value,.4)});const X=vue.computed(()=>precisionOf(z.value)),J=vue.computed(()=>{const ce=y.value[0].toFixed(X.value),V=y.value[1].toFixed(X.value);return[ce,V]}),{dragging:ae}=useDrag(w,{lockPointer:!0,dragDelaySeconds:0,onDragStart(){x("focus")},onDrag({delta:ce}){const V=vec2$1.scale(ce,z.value);I.value&&(V[1]=0),L.value&&(V[0]=0),y.value=vec2$1.clamp(vec2$1.add(y.value,V),O.value??[-1/0,-1/0],F.value??[1/0,1/0])},onDragEnd(){x("confirm"),x("blur")}}),ve=vue.computed(()=>{const ce=[150,150],V=H.value,ie=10*V,ke=vec2$1.add(ce,vec2$1.scale(y.value,-V));return{backgroundSize:`${ie}px ${ie}px`,backgroundPosition:`${ke[0]-1}px ${ke[1]-1}px`}}),pe=vue.computed(()=>{const ce=[150,150],V=H.value,ie=vec2$1.add(ce,vec2$1.scale(vec2$1.sub(y.value,O.value??[-9999,-9999]),-V)),ke=vec2$1.add(ce,vec2$1.scale(vec2$1.sub(y.value,F.value??[9999,9999]),-V)),be=vec2$1.sub(ke,ie);return{left:`${ie[0]}px`,top:`${ie[1]}px`,width:`${be[0]}px`,height:`${be[1]}px`}});function de(ce){if(ce!==void 0)return typeof ce=="number"?[ce,ce]:ce}return(ce,V)=>(vue.openBlock(),vue.createElementBlock("button",{ref_key:"$button",ref:w,class:"TqInputTranslate"},[vue.createVNode(vue.unref(Icon),{class:"grid-icon",icon:"mingcute:dot-grid-fill"}),vue.createVNode(vue.Transition,null,{default:vue.withCtx(()=>[vue.unref(ae)?(vue.openBlock(),vue.createElementBlock("div",_hoisted_1$o,[vue.createElementVNode("div",{class:"overlay-grid",style:vue.normalizeStyle(ve.value)},[vue.unref(I)?(vue.openBlock(),vue.createElementBlock("div",_hoisted_2$f)):vue.createCommentVNode("",!0),vue.unref(L)?(vue.openBlock(),vue.createElementBlock("div",_hoisted_3$b)):vue.createCommentVNode("",!0),vue.createElementVNode("div",{class:"zero",style:vue.normalizeStyle(pe.value)},null,4)],4),ce.showOverlayLabel?(vue.openBlock(),vue.createBlock(vue.unref(Tooltip),{key:0,class:"overlay-label"},{default:vue.withCtx(()=>[V[0]||(V[0]=vue.createElementVNode("label",null,"X",-1)),vue.createTextVNode(" "+vue.toDisplayString(J.value[0])+" ",1),V[1]||(V[1]=vue.createElementVNode("label",null,"Y",-1)),vue.createTextVNode(" "+vue.toDisplayString(J.value[1]),1)]),_:1})):vue.createCommentVNode("",!0)])):vue.createCommentVNode("",!0)]),_:1})],512))}}),InputTranslate=_export_sfc(_sfc_main$y,[["__scopeId","data-v-7b3bc051"]]),_sfc_main$x=vue.defineComponent({__name:"InputVec",props:vue.mergeModels({min:{},max:{},step:{},icon:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:vue.mergeModels(["focus","blur","confirm"],["update:modelValue"]),setup(h,{emit:v}){const y=vue.useModel(h,"modelValue"),_=h,x=v;function w(H){return Array.isArray(_.min)?_.min[H]:_.min}function S(H){return Array.isArray(_.max)?_.max[H]:_.max}function E(H){return Array.isArray(_.step)?_.step[H]:_.step}function I(H){return Array.isArray(_.icon)?_.icon[H]:_.icon}function L(H){return H===0?"start":H===y.value.length-1?"end":"middle"}let O;function F(H,X){O||(vue.nextTick(()=>{y.value=O,O=void 0}),O=[...y.value]),O[H]=X}let z=!1;function N(){z||vue.nextTick(()=>{x("confirm"),z=!1}),z=!0}return(H,X)=>(vue.openBlock(),vue.createBlock(vue.unref(InputGroup),{class:"TqInputVec"},{default:vue.withCtx(()=>[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(y.value,(J,ae)=>(vue.openBlock(),vue.createBlock(vue.unref(InputNumber),{key:ae,min:w(ae),max:S(ae),step:E(ae),leftIcon:I(ae),modelValue:J,"inline-position":L(ae),"onUpdate:modelValue":ve=>F(ae,ve),onFocus:X[0]||(X[0]=ve=>x("focus")),onBlur:X[1]||(X[1]=ve=>x("blur")),onConfirm:X[2]||(X[2]=ve=>N())},null,8,["min","max","step","leftIcon","modelValue","inline-position","onUpdate:modelValue"]))),128))]),_:1}))}}),_sfc_main$w=vue.defineComponent({__name:"InputPosition",props:vue.mergeModels({invalid:{type:Boolean},disabled:{type:Boolean},min:{},max:{},step:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:vue.mergeModels(["focus","blur","confirm"],["update:modelValue"]),setup(h,{emit:v}){const y=vue.useModel(h,"modelValue"),_=h,x=v;return(w,S)=>(vue.openBlock(),vue.createBlock(vue.unref(InputGroup),{class:"TqInputPosition"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(InputTranslate),vue.mergeProps(_,{modelValue:y.value,"onUpdate:modelValue":S[0]||(S[0]=E=>y.value=E),showOverlayLabel:!0,onFocus:S[1]||(S[1]=E=>x("focus")),onBlur:S[2]||(S[2]=E=>x("blur")),onConfirm:S[3]||(S[3]=E=>x("confirm"))}),null,16,["modelValue"]),vue.createVNode(vue.unref(_sfc_main$x),vue.mergeProps(_,{modelValue:y.value,"onUpdate:modelValue":S[4]||(S[4]=E=>y.value=E),icon:["char:X","char:Y"],onFocus:S[5]||(S[5]=E=>x("focus")),onBlur:S[6]||(S[6]=E=>x("blur")),onConfirm:S[7]||(S[7]=E=>x("confirm"))}),null,16,["modelValue"])]),_:1}))}}),InputPosition=_export_sfc(_sfc_main$w,[["__scopeId","data-v-4be1ebc0"]]),_hoisted_1$n={class:"TqInputSwitch"},_hoisted_2$e=["id","checked"],_hoisted_3$a=["for"],_sfc_main$v=vue.defineComponent({__name:"InputSwitch",props:vue.mergeModels({modelValue:{type:Boolean},label:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:vue.mergeModels(["focus","blur","confirm"],["update:modelValue"]),setup(h,{emit:v}){const y=vue.useModel(h,"modelValue"),_=h,x=v,w=vue.ref(uniqueId("InputSwitch_")),S=vue.useTemplateRef("track"),E=vue.useTemplateRef("input"),{tweakingValue:I,subfocus:L}=useInputSwitch({track:S,input:E,props:_,emit:x});return(O,F)=>(vue.openBlock(),vue.createElementBlock("div",_hoisted_1$n,[vue.createElementVNode("div",{ref_key:"track",ref:S,class:vue.normalizeClass(["track",{subfocus:vue.unref(L)}])},[vue.createElementVNode("input",{id:w.value,ref_key:"input",ref:E,checked:!!y.value,class:"input",type:"checkbox"},null,8,_hoisted_2$e),vue.createElementVNode("div",{class:vue.normalizeClass(["handle",{tweaking:vue.unref(I)!==null}])},null,2)],2),O.label?(vue.openBlock(),vue.createElementBlock("label",{key:0,for:w.value},vue.toDisplayString(O.label),9,_hoisted_3$a)):vue.createCommentVNode("",!0)]))}}),InputSwitch=_export_sfc(_sfc_main$v,[["__scopeId","data-v-ce4921a2"]]),useInputTimeContext=defineStore("tq.inputTime",()=>({format:vue.ref("timecode")}));function formatTimecode(h,v){let y="";h<0&&(y="-",h=-h);const _=Math.floor(h/(v*3600)),x=Math.floor(h%(v*3600)/(v*60)),w=Math.floor(h%(v*60)/v),S=h%v;if(_>0)return y+[_,E(x),E(w),E(S)].join(":");return y+[E(x),E(w),E(S)].join(":");function E(I){return I.toString().padStart(2,"0")}}function replaceTimecodeWithFrames(h,v){return h=h.replaceAll(/([0-9+\-.]+:)+[0-9+\-.]+/gi,y=>{var _;return((_=parseTimecode(y,24))==null?void 0:_.toString())??"0"}),h=h.replaceAll(/[0-9+\-.]+f(rames?)?/gi,y=>{var _;return((_=parseTimecode(y,v))==null?void 0:_.toString())??"0"}),h=h.replaceAll(/[0-9+\-.]+s(ec(ond)?s?)?/gi,y=>{var _;return((_=parseTimecode(y,v))==null?void 0:_.toString())??"0"}),h=h.replaceAll(/[0-9+\-.]+m(in(ute)?s?)?/gi,y=>{var _;return((_=parseTimecode(y,v))==null?void 0:_.toString())??"0"}),h=h.replaceAll(/[0-9+\-.]+h((ou)?r)?s?/gi,y=>{var _;return((_=parseTimecode(y,v))==null?void 0:_.toString())??"0"}),h}function parseTimecode(h,v){h=h.trim().toLowerCase();let y=1;if(h.startsWith("-")&&(y=-1,h=h.slice(1)),h.includes(":")){const x=h.split(":").map(Number).reverse();let w=0;for(let S=0;S<x.length;S++){const E=S===0?1:S===1?v:v*Math.pow(60,S-1);w+=x[S]*E}return y*w}if(/[0-9+\-.]s(ec(ond)?s?)?$/.test(h)){const x=parseFloat(h);return isNaN(x)?null:y*Math.round(x*v)}if(/[0-9+\-.]m(in(ute)?s?)?$/.test(h)){const x=parseFloat(h);return isNaN(x)?null:y*Math.round(x*v*60)}if(/[0-9+\-.]h((ou)?r)?s?$/.test(h)){const x=parseFloat(h);return isNaN(x)?null:y*Math.round(x*v*3600)}const _=parseInt(h);return isNaN(_)?null:y*_}const _hoisted_1$m={class:"digits"},_hoisted_2$d=["onPointerenter"],_hoisted_3$9={key:0,class:"separator"},_hoisted_4$4={key:1},_hoisted_5$4={key:0,class:"overlay"},_hoisted_6$2={class:"overlay-svg",viewBox:"0 0 100 100"},_hoisted_7=["d"],_hoisted_8=["d","tweaking"],_hoisted_9=["d","tweaking"],_hoisted_10=["d","tweaking"],_hoisted_11=["d","tweaking"],_sfc_main$u=vue.defineComponent({__name:"InputTime",props:vue.mergeModels({inlinePosition:{},blockPosition:{},invalid:{type:Boolean},disabled:{type:Boolean},frameRate:{default:24},min:{default:-1/0},max:{default:1/0}},{modelValue:{required:!0},modelModifiers:{}}),emits:vue.mergeModels(["focus","blur","confirm"],["update:modelValue"]),setup(__props,{emit:__emit}){const model=vue.useModel(__props,"modelValue"),props=__props,emit=__emit,context=useInputTimeContext(),focused=vue.ref(!1),$input=vue.useTemplateRef("$input"),{q:doSnap,shift:increaseTweakScale,alt:decreaseTweakScale,h:forceHourTweak,m:forceMinuteTweak,s:forceSecondTweak,t:forceFrameTweak}=useMagicKeys(),tweakScaleByHover=vue.ref(0),tweakScaleOffset=vue.computed(()=>increaseTweakScale.value?1:decreaseTweakScale.value?-1:0),tweakScale=vue.computed(()=>forceFrameTweak.value?0:forceSecondTweak.value?1:forceMinuteTweak.value?2:forceHourTweak.value?3:scalar$1.clamp(tweakScaleByHover.value+tweakScaleOffset.value,0,3)),tweakSpeed=vue.computed(()=>{const h=tweakScale.value,v=props.frameRate;return h<=0?1/4:h===1?v/10:h===2?v*60/10:v*60*60/100}),tweakSnapParams=vue.computed(()=>{const h=tweakScale.value,v=props.frameRate;return doSnap.value?h===0?[1,0]:h===1?[v,model.value%v]:h===2?[v*60,model.value%(v*60)]:[v*60*60,model.value%(v*60*60)]:[1,0]}),tweakLocal=vue.ref(0);let tweakAccumlated=0;const{dragging:tweaking}=useDrag($input,{lockPointer:!0,onClick(h,v){if(!v.target.classList.contains("digit"))$input.value.select();else{const _=digits.value.toReversed(),w=_.length-tweakScale.value-1,S=_.slice(0,w).join(":"),E=S.length===0?0:S.length+1,I=_[w].length;$input.value.select(E,E+I)}},onDragStart(){tweakLocal.value=model.value,tweakAccumlated=0,multi.capture(),emit("focus")},onDrag({delta:[h]}){tweakLocal.value=scalar$1.clamp(tweakLocal.value+h*tweakSpeed.value,props.min,props.max),tweakAccumlated+=h,multi.update(v=>v+tweakAccumlated)},onDragEnd(){emit("confirm"),multi.confirm(),emit("blur")}});vue.watch(doSnap,(h,v)=>{!h&&v&&(tweakLocal.value=model.value)},{flush:"sync"}),vue.watchSyncEffect(()=>{const h=scalar$1.clamp(scalar$1.quantize(tweakLocal.value,...tweakSnapParams.value),props.min,props.max);tweaking.value&&(model.value=h)});const multi=useMultiSelectStore().register({type:"number",el:$input,focusing:vue.computed(()=>focused.value||tweaking.value),getValue:()=>model.value,setValue(h){model.value=scalar$1.clamp(h,props.min,props.max)},confirm(){emit("confirm")}});function print(h,v){return v==="frames"?h+"F":formatTimecode(h,props.frameRate)}const display=vue.ref("");vue.watch(()=>[model.value,context.format,focused.value],([h,v,y])=>{y||(display.value=print(h,v))},{immediate:!0,flush:"sync"});let localAtFocus=0;const parse=vue.computed(()=>{const code=replaceTimecodeWithFrames(display.value,props.frameRate);try{const fn=eval(`(x, {i, fps}) => {
			try {
				const value = (${code})
				if (typeof value === 'number') {
					return {value, log: []}
				} else {
					return {value, log: ['Value is not a number']}
				}
			} catch (e) {
				return {log: [e.message]}
			}
		}`);return fn}catch(h){return()=>({value:void 0,log:[h.message]})}}),parseResult=vue.computed(()=>parse.value(localAtFocus,{i:multi.index,fps:props.frameRate})),validLocal=vue.ref();vue.watchSyncEffect(()=>{parseResult.value.value!==void 0&&(validLocal.value=parseResult.value.value,focused.value&&(model.value=validLocal.value))}),vue.watchSyncEffect(()=>{focused.value?(localAtFocus=model.value,emit("focus")):emit("blur")}),vue.watchSyncEffect(()=>{const h=parse.value;!tweaking.value&&!focused.value||multi.update((v,y)=>{const _=h(v,{...y,fps:props.frameRate});return _.value===void 0?v:_.value})});function confirm(){emit("confirm"),vue.nextTick(()=>{display.value=print(model.value,context.format)})}function toggleTimeFormat(){context.format=context.format==="frames"?"timecode":"frames",display.value=print(model.value,context.format)}const digits=vue.computed(()=>context.format==="frames"?null:display.value.split(":").reverse());function getDigitLabel(h){return h===0?"F":h===1?"Secs":h===2?"Mins":"Hrs"}function increment(h){model.value=scalar$1.clamp(model.value+h,props.min,props.max),confirm()}function radialLine(h,v,y){const _=h*360-90;return Path.line(vec2$1.dir(_,v,[50,50]),vec2$1.dir(_,y,[50,50]))}const meters=vue.computed(()=>{const h=tweakScale.value,v=props.frameRate;let y;h===0?y=range$1(0,1,1/v):y=range$1(0,1,1/12);const _=y.map(x=>radialLine(x,48,49));return Path.toD(Path.merge(_))}),frameTick=vue.computed(()=>{const h=model.value%props.frameRate;return Path.toD(radialLine(h/props.frameRate,48,48))}),secondTick=vue.computed(()=>{const h=Math.floor(model.value/props.frameRate)%60;return Path.toD(radialLine(h/60,-15,45))}),minuteTick=vue.computed(()=>{const h=Math.floor(model.value/(props.frameRate*60))%60;return Path.toD(radialLine(h/60,0,40))}),hourTick=vue.computed(()=>{const h=Math.floor(model.value/(props.frameRate*60*60))%24;return h===0?Path.toD(Path.empty):Path.toD(radialLine(h/12,0,20))});return(h,v)=>(vue.openBlock(),vue.createBlock(vue.unref(InputTextBase),{ref_key:"$input",ref:$input,focused:focused.value,"onUpdate:focused":v[0]||(v[0]=y=>focused.value=y),modelValue:display.value,"onUpdate:modelValue":v[1]||(v[1]=y=>display.value=y),class:"TqInputTime",ignoreInput:!focused.value,active:vue.unref(multi).subfocus,font:"numeric",leftIcon:"mdi-clock",align:"center",onConfirm:confirm,onPointerenter:v[2]||(v[2]=y=>tweakScaleByHover.value=0),onContextmenu:vue.withModifiers(toggleTimeFormat,["right","stop","prevent"]),onKeydown:[v[3]||(v[3]=vue.withKeys(vue.withModifiers(y=>increment(h.frameRate),["exact","prevent"]),["up"])),v[4]||(v[4]=vue.withKeys(vue.withModifiers(y=>increment(-h.frameRate),["exact","prevent"]),["down"])),v[5]||(v[5]=vue.withKeys(vue.withModifiers(y=>increment(1),["exact","alt","prevent"]),["up"])),v[6]||(v[6]=vue.withKeys(vue.withModifiers(y=>increment(-1),["exact","alt","prevent"]),["down"])),v[7]||(v[7]=vue.withKeys(vue.withModifiers(y=>increment(60*h.frameRate),["exact","shift","prevent"]),["up"])),v[8]||(v[8]=vue.withKeys(vue.withModifiers(y=>increment(-60*h.frameRate),["exact","shift","prevent"]),["down"]))]},{inactiveContent:vue.withCtx(()=>[vue.createElementVNode("div",_hoisted_1$m,[digits.value?(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,{key:0},vue.renderList(digits.value,(y,_)=>(vue.openBlock(),vue.createElementBlock(vue.Fragment,{key:_},[vue.createElementVNode("div",{class:vue.normalizeClass(["digit",{tweak:tweakScale.value===_}]),onPointerenter:x=>tweakScaleByHover.value=_},[vue.createTextVNode(vue.toDisplayString(y)+" ",1),tweakScale.value===_?(vue.openBlock(),vue.createBlock(vue.unref(Tooltip),{key:0,class:"digit-label"},{default:vue.withCtx(()=>[vue.createElementVNode("label",null,vue.toDisplayString(getDigitLabel(_)),1)]),_:2},1024)):vue.createCommentVNode("",!0)],42,_hoisted_2$d),_!==digits.value.length-1?(vue.openBlock(),vue.createElementBlock("div",_hoisted_3$9,":")):vue.createCommentVNode("",!0)],64))),128)):(vue.openBlock(),vue.createElementBlock("div",_hoisted_4$4,vue.toDisplayString(display.value),1))])]),front:vue.withCtx(()=>[vue.createVNode(vue.Transition,null,{default:vue.withCtx(()=>[vue.unref(tweaking)?(vue.openBlock(),vue.createElementBlock("div",_hoisted_5$4,[(vue.openBlock(),vue.createElementBlock("svg",_hoisted_6$2,[vue.createElementVNode("path",{d:meters.value,class:"meters"},null,8,_hoisted_7),vue.createElementVNode("path",{d:frameTick.value,class:"frame",tweaking:tweakScale.value===0},null,8,_hoisted_8),vue.createElementVNode("path",{d:secondTick.value,class:"second",tweaking:tweakScale.value===1},null,8,_hoisted_9),vue.createElementVNode("path",{d:minuteTick.value,class:"minute",tweaking:tweakScale.value===2},null,8,_hoisted_10),vue.createElementVNode("path",{d:hourTick.value,class:"hour",tweaking:tweakScale.value===3},null,8,_hoisted_11)]))])):vue.createCommentVNode("",!0)]),_:1})]),_:1},8,["focused","modelValue","ignoreInput","active"]))}}),InputTime=_export_sfc(_sfc_main$u,[["__scopeId","data-v-6e2650c2"]]),_hoisted_1$l={class:"TqParameter"},_hoisted_2$c={class:"label"},_hoisted_3$8={class:"input"},_sfc_main$t=vue.defineComponent({__name:"Parameter",props:{label:{},icon:{}},setup(h){return(v,y)=>(vue.openBlock(),vue.createElementBlock("li",_hoisted_1$l,[vue.createElementVNode("div",_hoisted_2$c,[vue.renderSlot(v.$slots,"label",{},()=>[v.icon?(vue.openBlock(),vue.createBlock(vue.unref(Icon),{key:0,class:"icon",icon:v.icon},null,8,["icon"])):vue.createCommentVNode("",!0),v.label?(vue.openBlock(),vue.createElementBlock(vue.Fragment,{key:1},[vue.createTextVNode(vue.toDisplayString(v.label),1)],64)):vue.createCommentVNode("",!0)],!0)]),vue.createElementVNode("div",_hoisted_3$8,[vue.renderSlot(v.$slots,"default",{},void 0,!0)])]))}}),Parameter=_export_sfc(_sfc_main$t,[["__scopeId","data-v-3732d538"]]),_sfc_main$s={},_hoisted_1$k={class:"TqParameterGrid"};function _sfc_render(h,v){return vue.openBlock(),vue.createElementBlock("ul",_hoisted_1$k,[vue.renderSlot(h.$slots,"default",{},void 0,!0)])}const ParameterGrid=_export_sfc(_sfc_main$s,[["render",_sfc_render],["__scopeId","data-v-b5cae28d"]]),_hoisted_1$j={class:"TqParameterHeading"},_hoisted_2$b={class:"heading"},_hoisted_3$7={class:"right"},_sfc_main$r=vue.defineComponent({__name:"ParameterHeading",setup(h){return(v,y)=>(vue.openBlock(),vue.createElementBlock("li",_hoisted_1$j,[vue.createElementVNode("div",_hoisted_2$b,[vue.renderSlot(v.$slots,"default",{},void 0,!0)]),vue.createElementVNode("div",_hoisted_3$7,[vue.renderSlot(v.$slots,"right",{},void 0,!0)])]))}}),ParameterHeading=_export_sfc(_sfc_main$r,[["__scopeId","data-v-d8019bac"]]),_hoisted_1$i={class:"ParameterGroup"},_hoisted_2$a={key:0,class:"content"},_sfc_main$q=vue.defineComponent({__name:"ParameterGroup",props:{name:{},label:{},icon:{}},setup(h){const v=h,_=useAppConfigStore().ref(v.name,!0);return(x,w)=>(vue.openBlock(),vue.createElementBlock("div",_hoisted_1$i,[vue.createVNode(ParameterHeading,null,{default:vue.withCtx(()=>[vue.createElementVNode("div",{class:"heading",onClick:w[0]||(w[0]=S=>_.value=!vue.unref(_))},[vue.createVNode(vue.unref(Icon),{class:"chevron",icon:vue.unref(_)?"mdi:chevron-down":"mdi:chevron-right"},null,8,["icon"]),vue.createElementVNode("span",null,vue.toDisplayString(x.label),1)])]),right:vue.withCtx(()=>[vue.unref(_)?vue.renderSlot(x.$slots,"headingRight",{key:0},void 0,!0):vue.createCommentVNode("",!0)]),_:3}),vue.unref(_)?(vue.openBlock(),vue.createElementBlock("div",_hoisted_2$a,[vue.renderSlot(x.$slots,"default",{},void 0,!0)])):vue.createCommentVNode("",!0)]))}}),ParameterGroup=_export_sfc(_sfc_main$q,[["__scopeId","data-v-0b3c4d9f"]]),_sfc_main$p=vue.defineComponent({__name:"InputComplex",props:vue.mergeModels({scheme:{},title:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:vue.mergeModels(["focus","blur","confirm"],["update:modelValue"]),setup(h,{emit:v}){const y=vue.useModel(h,"modelValue"),_=h,x=v,w=vue.computed(()=>Object.entries(_.scheme));function S(N){if(N.type==="number")return N.ui==="angle"?InputAngle:N.ui==="time"?InputTime:InputNumber;if(N.type==="string")return N.ui==="code"?InputCode:N.ui==="color"?InputColor:_sfc_main$J;if(N.type==="boolean")return N.ui==="checkbox"?InputCheckbox:InputSwitch;if(N.type==="vec2")return N.ui==="position"?InputPosition:_sfc_main$x}function E(N){return y.value[N]}function I(N,H){O(N,H)}let L;function O(N,H){L||(vue.nextTick(()=>{y.value=L,L=void 0}),L={...y.value}),L[N]=H}let F=!1;function z(){F||vue.nextTick(()=>{x("confirm"),F=!1}),F=!0}return(N,H)=>(vue.openBlock(),vue.createBlock(vue.unref(ParameterGrid),{class:"InputComplex"},{default:vue.withCtx(()=>[N.title?(vue.openBlock(),vue.createBlock(vue.unref(ParameterHeading),{key:0},{default:vue.withCtx(()=>[vue.createTextVNode(vue.toDisplayString(N.title),1)]),_:1})):vue.createCommentVNode("",!0),(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(w.value,([X,J])=>(vue.openBlock(),vue.createBlock(vue.unref(Parameter),{key:X,label:J.label??vue.unref(Case).capital(X),icon:J.icon},{default:vue.withCtx(()=>[(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(S(J)),vue.mergeProps({modelValue:E(X)},{ref_for:!0},J,{"onUpdate:modelValue":ae=>I(X,ae),onFocus:H[0]||(H[0]=ae=>x("focus")),onBlur:H[1]||(H[1]=ae=>x("blur")),onConfirm:H[2]||(H[2]=ae=>z())}),null,16,["modelValue","onUpdate:modelValue"]))]),_:2},1032,["label","icon"]))),128))]),_:1}))}}),_sfc_main$o=vue.defineComponent({__name:"PaneModal",props:{open:{type:Boolean,default:!1}},emits:["close","update:open"],setup(h,{emit:v}){const y=h,_=v,x=vue.useTemplateRef("$root");useEventListener(x,"toggle",S=>{S.newState!=="open"&&w()}),useEventListener("keydown",S=>{S.key==="Escape"&&y.open&&w()});function w(){_("update:open",!1),_("close")}return vue.watchEffect(()=>{var S;(S=x.value)==null||S.togglePopover(y.open)}),(S,E)=>(vue.openBlock(),vue.createElementBlock("div",{ref_key:"$root",ref:x,class:"TqPaneModal",popover:"auto"},[vue.renderSlot(S.$slots,"default",{},void 0,!0)],512))}}),PaneModal=_export_sfc(_sfc_main$o,[["__scopeId","data-v-1975e2a0"]]),_hoisted_1$h={key:0,class:"TqPaneModalComplex"},_sfc_main$n=vue.defineComponent({__name:"PaneModalComplex",setup(h,{expose:v}){const y=useModalStore(),_=vue.ref(null),x=vue.ref(!1);function w(O){_.value.value=O,S==null||S(O)}let S,E;y.prompt=(O,F,z)=>(_.value&&E(_.value.initialValue),_.value={scheme:F,value:O,initialValue:O,options:z},S=z==null?void 0:z.onInput,x.value=!0,new Promise(N=>{E=H=>{x.value=!1,E=()=>{},N(H)}}));function I(){E(_.value.initialValue)}function L(){E(_.value.value)}return v({prompt}),(O,F)=>(vue.openBlock(),vue.createBlock(vue.unref(PaneModal),{open:x.value,"onUpdate:open":F[0]||(F[0]=z=>x.value=z),onClose:I},{default:vue.withCtx(()=>{var z;return[_.value?(vue.openBlock(),vue.createElementBlock("div",_hoisted_1$h,[vue.createVNode(vue.unref(_sfc_main$p),{title:(z=_.value.options)==null?void 0:z.title,scheme:_.value.scheme,modelValue:_.value.value,"onUpdate:modelValue":w},null,8,["title","scheme","modelValue"]),vue.createVNode(vue.unref(InputButton),{label:"Save",onClick:L})])):vue.createCommentVNode("",!0)]}),_:1},8,["open"]))}}),PaneModalComplex=_export_sfc(_sfc_main$n,[["__scopeId","data-v-3cb2c802"]]),_sfc_main$m=vue.defineComponent({__name:"IconIndicator",props:{active:{type:Boolean},icon:{}},emits:["update:active"],setup(h){return(v,y)=>(vue.openBlock(),vue.createElementBlock("div",{class:vue.normalizeClass(["IconIndicator",{active:v.active,inactive:v.active===!1}]),onClick:y[0]||(y[0]=_=>v.$emit("update:active",!v.active))},[v.icon?(vue.openBlock(),vue.createBlock(vue.unref(Icon),{key:0,class:"icon",icon:v.icon},null,8,["icon"])):vue.createCommentVNode("",!0)],2))}}),IconIndicator=_export_sfc(_sfc_main$m,[["__scopeId","data-v-c38eff6a"]]),_sfc_main$l=vue.defineComponent({__name:"MultiSelectButton",props:{icon:{},updator:{type:Function}},setup(h){const v=h,y=useMultiSelectStore();function _(){y.updateValues(v.updator),y.confirmValues()}return(x,w)=>(vue.openBlock(),vue.createBlock(vue.unref(IconIndicator),{class:"TqMultiSelectButton",icon:x.icon,onClick:_},null,8,["icon"]))}}),MultiSelectButton=_export_sfc(_sfc_main$l,[["__scopeId","data-v-186dfd25"]]),_sfc_main$k=vue.defineComponent({__name:"MultiSelectPad",props:{type:{},updator:{type:Function},icon:{}},setup(h){const v=h,y=useMultiSelectStore(),_=vue.useTemplateRef("$root");let x=vec2$1.zero;const{x:w,y:S,"1":E,"2":I}=useMagicKeys(),L=vue.computed(()=>w.value||E.value),O=vue.computed(()=>S.value||I.value);vue.watch([L,O],([N,H])=>{(N||H)&&(y.captureValues(),x=F.value)},{flush:"sync"});const{xy:F,dragging:z}=useDrag(_,{lockPointer:!0,onDragStart({xy:N}){y.captureValues(),x=N},onDrag({xy:N}){let H=vec2$1.sub(N,x);if(v.type==="slider"){const X=v.updator(H[0]);y.updateValues(X)}else{L.value?H=vec2$1.mul(H,[1,0]):O.value&&(H=vec2$1.mul(H,[0,1]));const X=v.updator(H);y.updateValues(X)}},onDragEnd(){y.confirmValues()}});return(N,H)=>(vue.openBlock(),vue.createBlock(vue.unref(IconIndicator),{ref_key:"$root",ref:_,class:vue.normalizeClass(["TqMultiSelectPad",{[N.type]:!0}]),icon:N.icon,active:vue.unref(z)},null,8,["class","icon","active"]))}}),MultiSelectPad=_export_sfc(_sfc_main$k,[["__scopeId","data-v-f05d6709"]]),_hoisted_1$g={class:"actions"},_sfc_main$j=vue.defineComponent({__name:"MultiSelectPopup",setup(h){const v=useMultiSelectStore(),y=vue.computed(()=>v.selectedInputs.map(I=>I.type)),_=vue.useTemplateRef("$root");vue.onMounted(()=>{_.value&&v.setPopupEl(_.value)});const{floatingStyles:x}=useFloating(vue.toRef(v,"focusedElement"),_,{placement:"bottom-end",whileElementsMounted:autoUpdate}),w=[{type:"slider",enabled:I=>I.every(L=>L==="number"),updator:I=>L=>L.map((O,F)=>O+I*(v.selectedInputs[F].speed??1)),icon:"material-symbols:add"},{type:"slider",enabled:I=>I.every(L=>L==="number"),updator:I=>L=>L.map(O=>O*(I/100+1)),icon:"mdi:multiply"},{type:"pad",enabled:I=>I.length===2&&I.every(L=>L==="number"),updator:I=>L=>vec2$1.add(L,vec2$1.mul(I,[v.selectedInputs[0].speed??1,-(v.selectedInputs[1].speed??1)])),icon:"mdi:dots-grid"},{type:"button",enabled:I=>I.length===2&&I[0]!=="boolean"&&I[0]===I[1],updator:I=>I.reverse(),icon:"material-symbols:swap-vert"}],S=vue.computed(()=>w.filter(I=>I.enabled(y.value))),E=vue.computed(()=>!(v.selectedInputs.length<=1||S.value.length===0));return vue.watchEffect(()=>{var I;(I=_.value)==null||I.togglePopover(E.value)}),(I,L)=>(vue.openBlock(),vue.createElementBlock("div",{ref_key:"$root",ref:_,class:vue.normalizeClass([{visible:E.value},"TqMultiSelectPopup"]),style:vue.normalizeStyle(vue.unref(x)),popover:"manual"},[vue.createVNode(vue.unref(Icon),{class:"tune-icon",icon:"lsicon:control-filled"}),vue.createElementVNode("div",_hoisted_1$g,[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(S.value,O=>(vue.openBlock(),vue.createElementBlock(vue.Fragment,{key:O.icon},[O.type==="slider"||O.type==="pad"?(vue.openBlock(),vue.createBlock(MultiSelectPad,{key:0,type:O.type,updator:O.updator,icon:O.icon},null,8,["type","updator","icon"])):O.type==="button"?(vue.openBlock(),vue.createBlock(MultiSelectButton,{key:1,updator:O.updator,icon:O.icon},null,8,["updator","icon"])):vue.createCommentVNode("",!0)],64))),128))])],6))}}),MultiSelectPopup=_export_sfc(_sfc_main$j,[["__scopeId","data-v-2724d0a4"]]),_hoisted_1$f={class:"main"},_sfc_main$i=vue.defineComponent({__name:"App",setup(h){return(v,y)=>(vue.openBlock(),vue.createBlock(vue.unref(_sfc_main$_),{class:"TqApp"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(CommandPalette)),vue.createVNode(vue.unref(PaneModalComplex)),vue.createVNode(vue.unref(MultiSelectPopup)),vue.renderSlot(v.$slots,"title",{},void 0,!0),vue.createElementVNode("main",_hoisted_1$f,[vue.renderSlot(v.$slots,"default",{},void 0,!0)])]),_:3}))}}),App=_export_sfc(_sfc_main$i,[["__scopeId","data-v-14b11ed1"]]),_sfc_main$h=vue.defineComponent({__name:"ColorIcon",props:{src:{}},setup(h){const v=h,y=vue.computed(()=>({maskImage:`url(${v.src})`}));return(_,x)=>(vue.openBlock(),vue.createElementBlock("div",{class:"ColorIcon",style:vue.normalizeStyle(y.value)},null,4))}}),ColorIcon=_export_sfc(_sfc_main$h,[["__scopeId","data-v-5965988c"]]),_hoisted_1$e=["inline-position","block-position","disabled"],_hoisted_2$9={key:1,class:"label"},_sfc_main$g=vue.defineComponent({__name:"InputButtonToggle",props:vue.mergeModels({icon:{},label:{},inlinePosition:{},blockPosition:{},invalid:{type:Boolean},disabled:{type:Boolean}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(h){const v=vue.useModel(h,"modelValue");return(y,_)=>(vue.openBlock(),vue.createElementBlock("button",{class:vue.normalizeClass(["TqInputButtonToggle",{checked:v.value}]),"inline-position":y.inlinePosition,"block-position":y.blockPosition,disabled:!!y.disabled,onClick:_[0]||(_[0]=x=>v.value=!v.value)},[y.icon?(vue.openBlock(),vue.createBlock(vue.unref(Icon),{key:0,class:"icon",icon:y.icon},null,8,["icon"])):vue.createCommentVNode("",!0),y.label?(vue.openBlock(),vue.createElementBlock("span",_hoisted_2$9,vue.toDisplayString(y.label),1)):vue.createCommentVNode("",!0)],10,_hoisted_1$e))}}),InputButtonToggle=_export_sfc(_sfc_main$g,[["__scopeId","data-v-eb9898fd"]]),_hoisted_1$d={class:"InputCubicBezierPicker"},_hoisted_2$8=["x2","y2"],_hoisted_3$6=["x2","y2"],_hoisted_4$3=["d"],_hoisted_5$3=["cx","cy"],_hoisted_6$1=["cx","cy"],_sfc_main$f=vue.defineComponent({__name:"InputCubicBezierPicker",props:{modelValue:{}},emits:["update:modelValue"],setup(h,{emit:v}){const y=h,_=v,x=vue.useTemplateRef("$editor");useDrag(x,{onDrag({xy:F,left:z,right:N,top:H,bottom:X}){if(O.value===null)return;const J=vec2$1.invlerp([z,X],[N,H],F),[ae,ve]=vec2$1.clamp(J,[0,0],[1,1]),pe=[...y.modelValue];pe[O.value*2+0]=ae,pe[O.value*2+1]=ve,_("update:modelValue",pe)},onDragEnd(){O.value=null}});const w=vue.computed(()=>{const[F,z,N,H]=y.modelValue;return`M 0,0 C ${F},${z} ${N},${H} 1,1`}),S=vue.computed(()=>y.modelValue[0]),E=vue.computed(()=>y.modelValue[1]),I=vue.computed(()=>y.modelValue[2]),L=vue.computed(()=>y.modelValue[3]),O=vue.ref(null);return(F,z)=>(vue.openBlock(),vue.createElementBlock("div",_hoisted_1$d,[(vue.openBlock(),vue.createElementBlock("svg",{ref_key:"$editor",ref:x,viewBox:"0 0 1 1",class:"pad"},[vue.createElementVNode("g",null,[vue.createElementVNode("line",{x1:0,y1:0,x2:S.value,y2:E.value},null,8,_hoisted_2$8),vue.createElementVNode("line",{x1:1,y1:1,x2:I.value,y2:L.value},null,8,_hoisted_3$6),vue.createElementVNode("path",{d:w.value},null,8,_hoisted_4$3),vue.createElementVNode("circle",{cx:S.value,cy:E.value,r:".035",onMousedown:z[0]||(z[0]=N=>O.value=0)},null,40,_hoisted_5$3),vue.createElementVNode("circle",{cx:I.value,cy:L.value,r:".035",onMousedown:z[1]||(z[1]=N=>O.value=1)},null,40,_hoisted_6$1)])],512))]))}}),InputCubicBezierPicker=_export_sfc(_sfc_main$f,[["__scopeId","data-v-efc4de9a"]]),_hoisted_1$c={class:"icon",viewBox:"0 0 1 1"},_hoisted_2$7=["d"],_hoisted_3$5={class:"floating"},_sfc_main$e=vue.defineComponent({inheritAttrs:!1,__name:"InputCubicBezier",props:{modelValue:{}},emits:["update:modelValue"],setup(h,{emit:v}){const y=h,_=v,x=vue.useTemplateRef("$button"),w=vue.ref(!1),S=vue.computed(()=>{const[E,I,L,O]=y.modelValue;return`M 0,0 C ${E},${I} ${L},${O} 1,1`});return(E,I)=>(vue.openBlock(),vue.createElementBlock(vue.Fragment,null,[vue.createElementVNode("button",vue.mergeProps({ref_key:"$button",ref:x,class:["TqInputCubicBezier",{open:w.value}]},E.$attrs,{onClick:I[0]||(I[0]=L=>w.value=!0)}),[(vue.openBlock(),vue.createElementBlock("svg",_hoisted_1$c,[vue.createElementVNode("path",{d:S.value},null,8,_hoisted_2$7)]))],16),vue.createVNode(vue.unref(Popover),{open:w.value,"onUpdate:open":I[2]||(I[2]=L=>w.value=L),reference:x.value},{default:vue.withCtx(()=>[vue.createElementVNode("div",_hoisted_3$5,[vue.createVNode(InputCubicBezierPicker,{modelValue:E.modelValue,"onUpdate:modelValue":I[1]||(I[1]=L=>_("update:modelValue",L))},null,8,["modelValue"])])]),_:1},8,["open","reference"])],64))}}),InputCubicBezier=_export_sfc(_sfc_main$e,[["__scopeId","data-v-bfdb2a29"]]),_hoisted_1$b={class:"TqInputRadio"},_hoisted_2$6=["id","name","checked","onChange"],_hoisted_3$4=["for"],_sfc_main$d=vue.defineComponent({__name:"InputRadio",props:vue.mergeModels({options:{},labels:{},labelizer:{type:Function},prefix:{},suffix:{},modelValue:{},icons:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:vue.mergeModels(["focus","blur","confirm"],["update:modelValue"]),setup(h){const v=vue.useModel(h,"modelValue"),y=h,_=useLabelizer(y),x=uniqueId("InputRadio_"),w=vue.computed(()=>y.options.map(E=>({value:E,label:_.value(E)})));function S(E){const I=w.value[E].value;v.value=I}return(E,I)=>(vue.openBlock(),vue.createElementBlock("ul",_hoisted_1$b,[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(w.value,({value:L,label:O},F)=>(vue.openBlock(),vue.createElementBlock("li",{key:O,class:"list"},[vue.createElementVNode("input",{id:vue.unref(x)+L,type:"radio",name:vue.unref(x),checked:v.value===L,onChange:z=>S(F)},null,40,_hoisted_2$6),vue.createElementVNode("label",{for:vue.unref(x)+L,class:vue.normalizeClass({active:v.value===L})},[vue.renderSlot(E.$slots,"option",{label:O,value:L,isActive:v.value===L},()=>{var z;return[(z=E.icons)!=null&&z[F]?(vue.openBlock(),vue.createBlock(vue.unref(Icon),{key:0,class:"icon",icon:E.icons[F]},null,8,["icon"])):vue.createCommentVNode("",!0),vue.createTextVNode(" "+vue.toDisplayString(O),1)]},!0)],10,_hoisted_3$4)]))),128))]))}}),InputRadio=_export_sfc(_sfc_main$d,[["__scopeId","data-v-1788c2f3"]]),_hoisted_1$a={cx:"16",cy:"16",r:"1"},_sfc_main$c=vue.defineComponent({__name:"InputSeed",props:{min:{default:0},max:{default:1}},emits:["update:modelValue"],setup(h,{emit:v}){const y=h,_=v,x=vue.ref(0),w=vue.ref(3);function S(){x.value+=90;const E=random$2(y.min,y.max),I=(E-y.min)/(y.max-y.min);w.value=clamp$3(Math.floor(I*6)+1,1,6),_("update:modelValue",E)}return(E,I)=>(vue.openBlock(),vue.createElementBlock("button",{class:"TqInputSeed",onClick:S},[vue.createVNode(vue.unref(SvgIcon),{mode:"block",class:"icon",style:vue.normalizeStyle({transform:`rotate(${x.value}deg)`})},{default:vue.withCtx(()=>[vue.withDirectives(vue.createElementVNode("circle",_hoisted_1$a,null,512),[[vue.vShow,w.value===1]]),vue.withDirectives(vue.createElementVNode("g",null,[...I[0]||(I[0]=[vue.createElementVNode("circle",{cx:"11",cy:"21",r:"1"},null,-1),vue.createElementVNode("circle",{cx:"21",cy:"11",r:"1"},null,-1)])],512),[[vue.vShow,w.value===2]]),vue.withDirectives(vue.createElementVNode("g",null,[...I[1]||(I[1]=[vue.createElementVNode("circle",{cx:"16",cy:"16",r:"1"},null,-1),vue.createElementVNode("circle",{cx:"10",cy:"22",r:"1"},null,-1),vue.createElementVNode("circle",{cx:"22",cy:"10",r:"1"},null,-1)])],512),[[vue.vShow,w.value===3]]),vue.withDirectives(vue.createElementVNode("g",null,[...I[2]||(I[2]=[vue.createElementVNode("circle",{cx:"10",cy:"22",r:"1"},null,-1),vue.createElementVNode("circle",{cx:"22",cy:"10",r:"1"},null,-1),vue.createElementVNode("circle",{cx:"10",cy:"10",r:"1"},null,-1),vue.createElementVNode("circle",{cx:"22",cy:"22",r:"1"},null,-1)])],512),[[vue.vShow,w.value===4]]),vue.withDirectives(vue.createElementVNode("g",null,[...I[3]||(I[3]=[vue.createElementVNode("circle",{cx:"16",cy:"16",r:"1"},null,-1),vue.createElementVNode("circle",{cx:"10",cy:"22",r:"1"},null,-1),vue.createElementVNode("circle",{cx:"22",cy:"10",r:"1"},null,-1),vue.createElementVNode("circle",{cx:"10",cy:"10",r:"1"},null,-1),vue.createElementVNode("circle",{cx:"22",cy:"22",r:"1"},null,-1)])],512),[[vue.vShow,w.value===5]]),vue.withDirectives(vue.createElementVNode("g",null,[...I[4]||(I[4]=[vue.createElementVNode("circle",{cx:"10",cy:"10",r:"1"},null,-1),vue.createElementVNode("circle",{cx:"10",cy:"16",r:"1"},null,-1),vue.createElementVNode("circle",{cx:"10",cy:"22",r:"1"},null,-1),vue.createElementVNode("circle",{cx:"22",cy:"10",r:"1"},null,-1),vue.createElementVNode("circle",{cx:"22",cy:"16",r:"1"},null,-1),vue.createElementVNode("circle",{cx:"22",cy:"22",r:"1"},null,-1)])],512),[[vue.vShow,w.value===6]]),I[5]||(I[5]=vue.createElementVNode("path",{d:"M24,29H8c-2.8,0-5-2.2-5-5V8c0-2.8,2.2-5,5-5h16c2.8,0,5,2.2,5,5v16C29,26.8,26.8,29,24,29z"},null,-1))]),_:1},8,["style"])]))}}),InputSeed=_export_sfc(_sfc_main$c,[["__scopeId","data-v-05989591"]]),_hoisted_1$9={class:"TqInputSize"},_sfc_main$b=vue.defineComponent({__name:"InputSize",props:vue.mergeModels({invalid:{type:Boolean},disabled:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:vue.mergeModels(["focus","blur","confirm"],["update:modelValue"]),setup(h,{emit:v}){const y=vue.useModel(h,"modelValue"),_=v,x=vue.ref(!0);let w=y.value;function S(I){if(y.value[0]!==I[0]&&y.value[1]!==I[1]){const F=y.value[0]/y.value[1],z=I[0]/I[1];scalar$1.approx(F,z)||(x.value=!1)}const O=y.value[0]!==I[0]?0:1;if(x.value){let F=I[O]/w[O];isFinite(F)||(F=1),I=w.map((z,N)=>N!==O?z*F:I[O])}y.value=I}function E(){w=y.value,_("focus")}return(I,L)=>(vue.openBlock(),vue.createElementBlock("div",_hoisted_1$9,[vue.createVNode(vue.unref(_sfc_main$x),{modelValue:y.value,icon:["mdi:arrow-left-right","mdi:arrow-up-down"],"onUpdate:modelValue":S,onFocus:E,onConfirm:L[0]||(L[0]=O=>_("confirm")),onBlur:L[1]||(L[1]=O=>_("blur"))},null,8,["modelValue"]),vue.createVNode(vue.unref(Icon),{class:vue.normalizeClass(["chain",{active:x.value}]),icon:x.value?"radix-icons:link-1":"radix-icons:link-none-1",onClick:L[2]||(L[2]=O=>x.value=!x.value)},null,8,["class","icon"])]))}}),InputSize=_export_sfc(_sfc_main$b,[["__scopeId","data-v-1582471c"]]),decodeCache={};function getDecodeCache(h){let v=decodeCache[h];if(v)return v;v=decodeCache[h]=[];for(let y=0;y<128;y++){const _=String.fromCharCode(y);v.push(_)}for(let y=0;y<h.length;y++){const _=h.charCodeAt(y);v[_]="%"+("0"+_.toString(16).toUpperCase()).slice(-2)}return v}function decode$1(h,v){typeof v!="string"&&(v=decode$1.defaultChars);const y=getDecodeCache(v);return h.replace(/(%[a-f0-9]{2})+/gi,function(_){let x="";for(let w=0,S=_.length;w<S;w+=3){const E=parseInt(_.slice(w+1,w+3),16);if(E<128){x+=y[E];continue}if((E&224)===192&&w+3<S){const I=parseInt(_.slice(w+4,w+6),16);if((I&192)===128){const L=E<<6&1984|I&63;L<128?x+="":x+=String.fromCharCode(L),w+=3;continue}}if((E&240)===224&&w+6<S){const I=parseInt(_.slice(w+4,w+6),16),L=parseInt(_.slice(w+7,w+9),16);if((I&192)===128&&(L&192)===128){const O=E<<12&61440|I<<6&4032|L&63;O<2048||O>=55296&&O<=57343?x+="":x+=String.fromCharCode(O),w+=6;continue}}if((E&248)===240&&w+9<S){const I=parseInt(_.slice(w+4,w+6),16),L=parseInt(_.slice(w+7,w+9),16),O=parseInt(_.slice(w+10,w+12),16);if((I&192)===128&&(L&192)===128&&(O&192)===128){let F=E<<18&1835008|I<<12&258048|L<<6&4032|O&63;F<65536||F>1114111?x+="":(F-=65536,x+=String.fromCharCode(55296+(F>>10),56320+(F&1023))),w+=9;continue}}x+=""}return x})}decode$1.defaultChars=";/?:@&=+$,#",decode$1.componentChars="";const encodeCache={};function getEncodeCache(h){let v=encodeCache[h];if(v)return v;v=encodeCache[h]=[];for(let y=0;y<128;y++){const _=String.fromCharCode(y);/^[0-9a-z]$/i.test(_)?v.push(_):v.push("%"+("0"+y.toString(16).toUpperCase()).slice(-2))}for(let y=0;y<h.length;y++)v[h.charCodeAt(y)]=h[y];return v}function encode$1(h,v,y){typeof v!="string"&&(y=v,v=encode$1.defaultChars),typeof y>"u"&&(y=!0);const _=getEncodeCache(v);let x="";for(let w=0,S=h.length;w<S;w++){const E=h.charCodeAt(w);if(y&&E===37&&w+2<S&&/^[0-9a-f]{2}$/i.test(h.slice(w+1,w+3))){x+=h.slice(w,w+3),w+=2;continue}if(E<128){x+=_[E];continue}if(E>=55296&&E<=57343){if(E>=55296&&E<=56319&&w+1<S){const I=h.charCodeAt(w+1);if(I>=56320&&I<=57343){x+=encodeURIComponent(h[w]+h[w+1]),w++;continue}}x+="%EF%BF%BD";continue}x+=encodeURIComponent(h[w])}return x}encode$1.defaultChars=";/?:@&=+$,-_.!~*'()#",encode$1.componentChars="-_.!~*'()";function format(h){let v="";return v+=h.protocol||"",v+=h.slashes?"//":"",v+=h.auth?h.auth+"@":"",h.hostname&&h.hostname.indexOf(":")!==-1?v+="["+h.hostname+"]":v+=h.hostname||"",v+=h.port?":"+h.port:"",v+=h.pathname||"",v+=h.search||"",v+=h.hash||"",v}function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r",`
`,"	"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function urlParse(h,v){if(h&&h instanceof Url)return h;const y=new Url;return y.parse(h,v),y}Url.prototype.parse=function(h,v){let y,_,x,w=h;if(w=w.trim(),!v&&h.split("#").length===1){const L=simplePathPattern.exec(w);if(L)return this.pathname=L[1],L[2]&&(this.search=L[2]),this}let S=protocolPattern.exec(w);if(S&&(S=S[0],y=S.toLowerCase(),this.protocol=S,w=w.substr(S.length)),(v||S||w.match(/^\/\/[^@\/]+@[^@\/]+/))&&(x=w.substr(0,2)==="//",x&&!(S&&hostlessProtocol[S])&&(w=w.substr(2),this.slashes=!0)),!hostlessProtocol[S]&&(x||S&&!slashedProtocol[S])){let L=-1;for(let H=0;H<hostEndingChars.length;H++)_=w.indexOf(hostEndingChars[H]),_!==-1&&(L===-1||_<L)&&(L=_);let O,F;L===-1?F=w.lastIndexOf("@"):F=w.lastIndexOf("@",L),F!==-1&&(O=w.slice(0,F),w=w.slice(F+1),this.auth=O),L=-1;for(let H=0;H<nonHostChars.length;H++)_=w.indexOf(nonHostChars[H]),_!==-1&&(L===-1||_<L)&&(L=_);L===-1&&(L=w.length),w[L-1]===":"&&L--;const z=w.slice(0,L);w=w.slice(L),this.parseHost(z),this.hostname=this.hostname||"";const N=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!N){const H=this.hostname.split(/\./);for(let X=0,J=H.length;X<J;X++){const ae=H[X];if(ae&&!ae.match(hostnamePartPattern)){let ve="";for(let pe=0,de=ae.length;pe<de;pe++)ae.charCodeAt(pe)>127?ve+="x":ve+=ae[pe];if(!ve.match(hostnamePartPattern)){const pe=H.slice(0,X),de=H.slice(X+1),ce=ae.match(hostnamePartStart);ce&&(pe.push(ce[1]),de.unshift(ce[2])),de.length&&(w=de.join(".")+w),this.hostname=pe.join(".");break}}}}this.hostname.length>hostnameMaxLen&&(this.hostname=""),N&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const E=w.indexOf("#");E!==-1&&(this.hash=w.substr(E),w=w.slice(0,E));const I=w.indexOf("?");return I!==-1&&(this.search=w.substr(I),w=w.slice(0,I)),w&&(this.pathname=w),slashedProtocol[y]&&this.hostname&&!this.pathname&&(this.pathname=""),this},Url.prototype.parseHost=function(h){let v=portPattern.exec(h);v&&(v=v[0],v!==":"&&(this.port=v.substr(1)),h=h.substr(0,h.length-v.length)),h&&(this.hostname=h)};const mdurl=Object.freeze(Object.defineProperty({__proto__:null,decode:decode$1,encode:encode$1,format,parse:urlParse},Symbol.toStringTag,{value:"Module"})),Any=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Cc=/[\0-\x1F\x7F-\x9F]/,regex$1=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,P=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,regex=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,Z=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,ucmicro=Object.freeze(Object.defineProperty({__proto__:null,Any,Cc,Cf:regex$1,P,S:regex,Z},Symbol.toStringTag,{value:"Module"})),htmlDecodeTree=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(h=>h.charCodeAt(0))),xmlDecodeTree=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(h=>h.charCodeAt(0)));var _a;const decodeMap=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),fromCodePoint$1=(_a=String.fromCodePoint)!==null&&_a!==void 0?_a:function(h){let v="";return h>65535&&(h-=65536,v+=String.fromCharCode(h>>>10&1023|55296),h=56320|h&1023),v+=String.fromCharCode(h),v};function replaceCodePoint(h){var v;return h>=55296&&h<=57343||h>1114111?65533:(v=decodeMap.get(h))!==null&&v!==void 0?v:h}var CharCodes;(function(h){h[h.NUM=35]="NUM",h[h.SEMI=59]="SEMI",h[h.EQUALS=61]="EQUALS",h[h.ZERO=48]="ZERO",h[h.NINE=57]="NINE",h[h.LOWER_A=97]="LOWER_A",h[h.LOWER_F=102]="LOWER_F",h[h.LOWER_X=120]="LOWER_X",h[h.LOWER_Z=122]="LOWER_Z",h[h.UPPER_A=65]="UPPER_A",h[h.UPPER_F=70]="UPPER_F",h[h.UPPER_Z=90]="UPPER_Z"})(CharCodes||(CharCodes={}));const TO_LOWER_BIT=32;var BinTrieFlags;(function(h){h[h.VALUE_LENGTH=49152]="VALUE_LENGTH",h[h.BRANCH_LENGTH=16256]="BRANCH_LENGTH",h[h.JUMP_TABLE=127]="JUMP_TABLE"})(BinTrieFlags||(BinTrieFlags={}));function isNumber(h){return h>=CharCodes.ZERO&&h<=CharCodes.NINE}function isHexadecimalCharacter(h){return h>=CharCodes.UPPER_A&&h<=CharCodes.UPPER_F||h>=CharCodes.LOWER_A&&h<=CharCodes.LOWER_F}function isAsciiAlphaNumeric(h){return h>=CharCodes.UPPER_A&&h<=CharCodes.UPPER_Z||h>=CharCodes.LOWER_A&&h<=CharCodes.LOWER_Z||isNumber(h)}function isEntityInAttributeInvalidEnd(h){return h===CharCodes.EQUALS||isAsciiAlphaNumeric(h)}var EntityDecoderState;(function(h){h[h.EntityStart=0]="EntityStart",h[h.NumericStart=1]="NumericStart",h[h.NumericDecimal=2]="NumericDecimal",h[h.NumericHex=3]="NumericHex",h[h.NamedEntity=4]="NamedEntity"})(EntityDecoderState||(EntityDecoderState={}));var DecodingMode;(function(h){h[h.Legacy=0]="Legacy",h[h.Strict=1]="Strict",h[h.Attribute=2]="Attribute"})(DecodingMode||(DecodingMode={}));class EntityDecoder{constructor(v,y,_){this.decodeTree=v,this.emitCodePoint=y,this.errors=_,this.state=EntityDecoderState.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=DecodingMode.Strict}startEntity(v){this.decodeMode=v,this.state=EntityDecoderState.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(v,y){switch(this.state){case EntityDecoderState.EntityStart:return v.charCodeAt(y)===CharCodes.NUM?(this.state=EntityDecoderState.NumericStart,this.consumed+=1,this.stateNumericStart(v,y+1)):(this.state=EntityDecoderState.NamedEntity,this.stateNamedEntity(v,y));case EntityDecoderState.NumericStart:return this.stateNumericStart(v,y);case EntityDecoderState.NumericDecimal:return this.stateNumericDecimal(v,y);case EntityDecoderState.NumericHex:return this.stateNumericHex(v,y);case EntityDecoderState.NamedEntity:return this.stateNamedEntity(v,y)}}stateNumericStart(v,y){return y>=v.length?-1:(v.charCodeAt(y)|TO_LOWER_BIT)===CharCodes.LOWER_X?(this.state=EntityDecoderState.NumericHex,this.consumed+=1,this.stateNumericHex(v,y+1)):(this.state=EntityDecoderState.NumericDecimal,this.stateNumericDecimal(v,y))}addToNumericResult(v,y,_,x){if(y!==_){const w=_-y;this.result=this.result*Math.pow(x,w)+parseInt(v.substr(y,w),x),this.consumed+=w}}stateNumericHex(v,y){const _=y;for(;y<v.length;){const x=v.charCodeAt(y);if(isNumber(x)||isHexadecimalCharacter(x))y+=1;else return this.addToNumericResult(v,_,y,16),this.emitNumericEntity(x,3)}return this.addToNumericResult(v,_,y,16),-1}stateNumericDecimal(v,y){const _=y;for(;y<v.length;){const x=v.charCodeAt(y);if(isNumber(x))y+=1;else return this.addToNumericResult(v,_,y,10),this.emitNumericEntity(x,2)}return this.addToNumericResult(v,_,y,10),-1}emitNumericEntity(v,y){var _;if(this.consumed<=y)return(_=this.errors)===null||_===void 0||_.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(v===CharCodes.SEMI)this.consumed+=1;else if(this.decodeMode===DecodingMode.Strict)return 0;return this.emitCodePoint(replaceCodePoint(this.result),this.consumed),this.errors&&(v!==CharCodes.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(v,y){const{decodeTree:_}=this;let x=_[this.treeIndex],w=(x&BinTrieFlags.VALUE_LENGTH)>>14;for(;y<v.length;y++,this.excess++){const S=v.charCodeAt(y);if(this.treeIndex=determineBranch(_,x,this.treeIndex+Math.max(1,w),S),this.treeIndex<0)return this.result===0||this.decodeMode===DecodingMode.Attribute&&(w===0||isEntityInAttributeInvalidEnd(S))?0:this.emitNotTerminatedNamedEntity();if(x=_[this.treeIndex],w=(x&BinTrieFlags.VALUE_LENGTH)>>14,w!==0){if(S===CharCodes.SEMI)return this.emitNamedEntityData(this.treeIndex,w,this.consumed+this.excess);this.decodeMode!==DecodingMode.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var v;const{result:y,decodeTree:_}=this,x=(_[y]&BinTrieFlags.VALUE_LENGTH)>>14;return this.emitNamedEntityData(y,x,this.consumed),(v=this.errors)===null||v===void 0||v.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(v,y,_){const{decodeTree:x}=this;return this.emitCodePoint(y===1?x[v]&~BinTrieFlags.VALUE_LENGTH:x[v+1],_),y===3&&this.emitCodePoint(x[v+2],_),_}end(){var v;switch(this.state){case EntityDecoderState.NamedEntity:return this.result!==0&&(this.decodeMode!==DecodingMode.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case EntityDecoderState.NumericDecimal:return this.emitNumericEntity(0,2);case EntityDecoderState.NumericHex:return this.emitNumericEntity(0,3);case EntityDecoderState.NumericStart:return(v=this.errors)===null||v===void 0||v.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case EntityDecoderState.EntityStart:return 0}}}function getDecoder(h){let v="";const y=new EntityDecoder(h,_=>v+=fromCodePoint$1(_));return function(x,w){let S=0,E=0;for(;(E=x.indexOf("&",E))>=0;){v+=x.slice(S,E),y.startEntity(w);const L=y.write(x,E+1);if(L<0){S=E+y.end();break}S=E+L,E=L===0?S+1:S}const I=v+x.slice(S);return v="",I}}function determineBranch(h,v,y,_){const x=(v&BinTrieFlags.BRANCH_LENGTH)>>7,w=v&BinTrieFlags.JUMP_TABLE;if(x===0)return w!==0&&_===w?y:-1;if(w){const I=_-w;return I<0||I>=x?-1:h[y+I]-1}let S=y,E=S+x-1;for(;S<=E;){const I=S+E>>>1,L=h[I];if(L<_)S=I+1;else if(L>_)E=I-1;else return h[I+x]}return-1}const htmlDecoder=getDecoder(htmlDecodeTree);getDecoder(xmlDecodeTree);function decodeHTML(h,v=DecodingMode.Legacy){return htmlDecoder(h,v)}function _class$1(h){return Object.prototype.toString.call(h)}function isString$1(h){return _class$1(h)==="[object String]"}const _hasOwnProperty=Object.prototype.hasOwnProperty;function has(h,v){return _hasOwnProperty.call(h,v)}function assign$1(h){return Array.prototype.slice.call(arguments,1).forEach(function(y){if(y){if(typeof y!="object")throw new TypeError(y+"must be object");Object.keys(y).forEach(function(_){h[_]=y[_]})}}),h}function arrayReplaceAt(h,v,y){return[].concat(h.slice(0,v),y,h.slice(v+1))}function isValidEntityCode(h){return!(h>=55296&&h<=57343||h>=64976&&h<=65007||(h&65535)===65535||(h&65535)===65534||h>=0&&h<=8||h===11||h>=14&&h<=31||h>=127&&h<=159||h>1114111)}function fromCodePoint(h){if(h>65535){h-=65536;const v=55296+(h>>10),y=56320+(h&1023);return String.fromCharCode(v,y)}return String.fromCharCode(h)}const UNESCAPE_MD_RE=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,ENTITY_RE=/&([a-z#][a-z0-9]{1,31});/gi,UNESCAPE_ALL_RE=new RegExp(UNESCAPE_MD_RE.source+"|"+ENTITY_RE.source,"gi"),DIGITAL_ENTITY_TEST_RE=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function replaceEntityPattern(h,v){if(v.charCodeAt(0)===35&&DIGITAL_ENTITY_TEST_RE.test(v)){const _=v[1].toLowerCase()==="x"?parseInt(v.slice(2),16):parseInt(v.slice(1),10);return isValidEntityCode(_)?fromCodePoint(_):h}const y=decodeHTML(h);return y!==h?y:h}function unescapeMd(h){return h.indexOf("\\")<0?h:h.replace(UNESCAPE_MD_RE,"$1")}function unescapeAll(h){return h.indexOf("\\")<0&&h.indexOf("&")<0?h:h.replace(UNESCAPE_ALL_RE,function(v,y,_){return y||replaceEntityPattern(v,_)})}const HTML_ESCAPE_TEST_RE=/[&<>"]/,HTML_ESCAPE_REPLACE_RE=/[&<>"]/g,HTML_REPLACEMENTS={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function replaceUnsafeChar(h){return HTML_REPLACEMENTS[h]}function escapeHtml(h){return HTML_ESCAPE_TEST_RE.test(h)?h.replace(HTML_ESCAPE_REPLACE_RE,replaceUnsafeChar):h}const REGEXP_ESCAPE_RE=/[.?*+^$[\]\\(){}|-]/g;function escapeRE$1(h){return h.replace(REGEXP_ESCAPE_RE,"\\$&")}function isSpace(h){switch(h){case 9:case 32:return!0}return!1}function isWhiteSpace(h){if(h>=8192&&h<=8202)return!0;switch(h){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function isPunctChar(h){return P.test(h)||regex.test(h)}function isMdAsciiPunct(h){switch(h){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function normalizeReference(h){return h=h.trim().replace(/\s+/g," "),"".toLowerCase()===""&&(h=h.replace(//g,"")),h.toLowerCase().toUpperCase()}const lib={mdurl,ucmicro},utils=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt,assign:assign$1,escapeHtml,escapeRE:escapeRE$1,fromCodePoint,has,isMdAsciiPunct,isPunctChar,isSpace,isString:isString$1,isValidEntityCode,isWhiteSpace,lib,normalizeReference,unescapeAll,unescapeMd},Symbol.toStringTag,{value:"Module"}));function parseLinkLabel(h,v,y){let _,x,w,S;const E=h.posMax,I=h.pos;for(h.pos=v+1,_=1;h.pos<E;){if(w=h.src.charCodeAt(h.pos),w===93&&(_--,_===0)){x=!0;break}if(S=h.pos,h.md.inline.skipToken(h),w===91){if(S===h.pos-1)_++;else if(y)return h.pos=I,-1}}let L=-1;return x&&(L=h.pos),h.pos=I,L}function parseLinkDestination(h,v,y){let _,x=v;const w={ok:!1,pos:0,str:""};if(h.charCodeAt(x)===60){for(x++;x<y;){if(_=h.charCodeAt(x),_===10||_===60)return w;if(_===62)return w.pos=x+1,w.str=unescapeAll(h.slice(v+1,x)),w.ok=!0,w;if(_===92&&x+1<y){x+=2;continue}x++}return w}let S=0;for(;x<y&&(_=h.charCodeAt(x),!(_===32||_<32||_===127));){if(_===92&&x+1<y){if(h.charCodeAt(x+1)===32)break;x+=2;continue}if(_===40&&(S++,S>32))return w;if(_===41){if(S===0)break;S--}x++}return v===x||S!==0||(w.str=unescapeAll(h.slice(v,x)),w.pos=x,w.ok=!0),w}function parseLinkTitle(h,v,y,_){let x,w=v;const S={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(_)S.str=_.str,S.marker=_.marker;else{if(w>=y)return S;let E=h.charCodeAt(w);if(E!==34&&E!==39&&E!==40)return S;v++,w++,E===40&&(E=41),S.marker=E}for(;w<y;){if(x=h.charCodeAt(w),x===S.marker)return S.pos=w+1,S.str+=unescapeAll(h.slice(v,w)),S.ok=!0,S;if(x===40&&S.marker===41)return S;x===92&&w+1<y&&w++,w++}return S.can_continue=!0,S.str+=unescapeAll(h.slice(v,w)),S}const helpers=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination,parseLinkLabel,parseLinkTitle},Symbol.toStringTag,{value:"Module"})),default_rules={};default_rules.code_inline=function(h,v,y,_,x){const w=h[v];return"<code"+x.renderAttrs(w)+">"+escapeHtml(w.content)+"</code>"},default_rules.code_block=function(h,v,y,_,x){const w=h[v];return"<pre"+x.renderAttrs(w)+"><code>"+escapeHtml(h[v].content)+`</code></pre>
`},default_rules.fence=function(h,v,y,_,x){const w=h[v],S=w.info?unescapeAll(w.info).trim():"";let E="",I="";if(S){const O=S.split(/(\s+)/g);E=O[0],I=O.slice(2).join("")}let L;if(y.highlight?L=y.highlight(w.content,E,I)||escapeHtml(w.content):L=escapeHtml(w.content),L.indexOf("<pre")===0)return L+`
`;if(S){const O=w.attrIndex("class"),F=w.attrs?w.attrs.slice():[];O<0?F.push(["class",y.langPrefix+E]):(F[O]=F[O].slice(),F[O][1]+=" "+y.langPrefix+E);const z={attrs:F};return`<pre><code${x.renderAttrs(z)}>${L}</code></pre>
`}return`<pre><code${x.renderAttrs(w)}>${L}</code></pre>
`},default_rules.image=function(h,v,y,_,x){const w=h[v];return w.attrs[w.attrIndex("alt")][1]=x.renderInlineAsText(w.children,y,_),x.renderToken(h,v,y)},default_rules.hardbreak=function(h,v,y){return y.xhtmlOut?`<br />
`:`<br>
`},default_rules.softbreak=function(h,v,y){return y.breaks?y.xhtmlOut?`<br />
`:`<br>
`:`
`},default_rules.text=function(h,v){return escapeHtml(h[v].content)},default_rules.html_block=function(h,v){return h[v].content},default_rules.html_inline=function(h,v){return h[v].content};function Renderer(){this.rules=assign$1({},default_rules)}Renderer.prototype.renderAttrs=function h(v){let y,_,x;if(!v.attrs)return"";for(x="",y=0,_=v.attrs.length;y<_;y++)x+=" "+escapeHtml(v.attrs[y][0])+'="'+escapeHtml(v.attrs[y][1])+'"';return x},Renderer.prototype.renderToken=function h(v,y,_){const x=v[y];let w="";if(x.hidden)return"";x.block&&x.nesting!==-1&&y&&v[y-1].hidden&&(w+=`
`),w+=(x.nesting===-1?"</":"<")+x.tag,w+=this.renderAttrs(x),x.nesting===0&&_.xhtmlOut&&(w+=" /");let S=!1;if(x.block&&(S=!0,x.nesting===1&&y+1<v.length)){const E=v[y+1];(E.type==="inline"||E.hidden||E.nesting===-1&&E.tag===x.tag)&&(S=!1)}return w+=S?`>
`:">",w},Renderer.prototype.renderInline=function(h,v,y){let _="";const x=this.rules;for(let w=0,S=h.length;w<S;w++){const E=h[w].type;typeof x[E]<"u"?_+=x[E](h,w,v,y,this):_+=this.renderToken(h,w,v)}return _},Renderer.prototype.renderInlineAsText=function(h,v,y){let _="";for(let x=0,w=h.length;x<w;x++)switch(h[x].type){case"text":_+=h[x].content;break;case"image":_+=this.renderInlineAsText(h[x].children,v,y);break;case"html_inline":case"html_block":_+=h[x].content;break;case"softbreak":case"hardbreak":_+=`
`;break}return _},Renderer.prototype.render=function(h,v,y){let _="";const x=this.rules;for(let w=0,S=h.length;w<S;w++){const E=h[w].type;E==="inline"?_+=this.renderInline(h[w].children,v,y):typeof x[E]<"u"?_+=x[E](h,w,v,y,this):_+=this.renderToken(h,w,v,y)}return _};function Ruler$1(){this.__rules__=[],this.__cache__=null}Ruler$1.prototype.__find__=function(h){for(let v=0;v<this.__rules__.length;v++)if(this.__rules__[v].name===h)return v;return-1},Ruler$1.prototype.__compile__=function(){const h=this,v=[""];h.__rules__.forEach(function(y){y.enabled&&y.alt.forEach(function(_){v.indexOf(_)<0&&v.push(_)})}),h.__cache__={},v.forEach(function(y){h.__cache__[y]=[],h.__rules__.forEach(function(_){_.enabled&&(y&&_.alt.indexOf(y)<0||h.__cache__[y].push(_.fn))})})},Ruler$1.prototype.at=function(h,v,y){const _=this.__find__(h),x=y||{};if(_===-1)throw new Error("Parser rule not found: "+h);this.__rules__[_].fn=v,this.__rules__[_].alt=x.alt||[],this.__cache__=null},Ruler$1.prototype.before=function(h,v,y,_){const x=this.__find__(h),w=_||{};if(x===-1)throw new Error("Parser rule not found: "+h);this.__rules__.splice(x,0,{name:v,enabled:!0,fn:y,alt:w.alt||[]}),this.__cache__=null},Ruler$1.prototype.after=function(h,v,y,_){const x=this.__find__(h),w=_||{};if(x===-1)throw new Error("Parser rule not found: "+h);this.__rules__.splice(x+1,0,{name:v,enabled:!0,fn:y,alt:w.alt||[]}),this.__cache__=null},Ruler$1.prototype.push=function(h,v,y){const _=y||{};this.__rules__.push({name:h,enabled:!0,fn:v,alt:_.alt||[]}),this.__cache__=null},Ruler$1.prototype.enable=function(h,v){Array.isArray(h)||(h=[h]);const y=[];return h.forEach(function(_){const x=this.__find__(_);if(x<0){if(v)return;throw new Error("Rules manager: invalid rule name "+_)}this.__rules__[x].enabled=!0,y.push(_)},this),this.__cache__=null,y},Ruler$1.prototype.enableOnly=function(h,v){Array.isArray(h)||(h=[h]),this.__rules__.forEach(function(y){y.enabled=!1}),this.enable(h,v)},Ruler$1.prototype.disable=function(h,v){Array.isArray(h)||(h=[h]);const y=[];return h.forEach(function(_){const x=this.__find__(_);if(x<0){if(v)return;throw new Error("Rules manager: invalid rule name "+_)}this.__rules__[x].enabled=!1,y.push(_)},this),this.__cache__=null,y},Ruler$1.prototype.getRules=function(h){return this.__cache__===null&&this.__compile__(),this.__cache__[h]||[]};function Token(h,v,y){this.type=h,this.tag=v,this.attrs=null,this.map=null,this.nesting=y,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Token.prototype.attrIndex=function h(v){if(!this.attrs)return-1;const y=this.attrs;for(let _=0,x=y.length;_<x;_++)if(y[_][0]===v)return _;return-1},Token.prototype.attrPush=function h(v){this.attrs?this.attrs.push(v):this.attrs=[v]},Token.prototype.attrSet=function h(v,y){const _=this.attrIndex(v),x=[v,y];_<0?this.attrPush(x):this.attrs[_]=x},Token.prototype.attrGet=function h(v){const y=this.attrIndex(v);let _=null;return y>=0&&(_=this.attrs[y][1]),_},Token.prototype.attrJoin=function h(v,y){const _=this.attrIndex(v);_<0?this.attrPush([v,y]):this.attrs[_][1]=this.attrs[_][1]+" "+y};function StateCore(h,v,y){this.src=h,this.env=y,this.tokens=[],this.inlineMode=!1,this.md=v}StateCore.prototype.Token=Token;const NEWLINES_RE=/\r\n?|\n/g,NULL_RE=/\0/g;function normalize(h){let v;v=h.src.replace(NEWLINES_RE,`
`),v=v.replace(NULL_RE,""),h.src=v}function block(h){let v;h.inlineMode?(v=new h.Token("inline","",0),v.content=h.src,v.map=[0,1],v.children=[],h.tokens.push(v)):h.md.block.parse(h.src,h.md,h.env,h.tokens)}function inline(h){const v=h.tokens;for(let y=0,_=v.length;y<_;y++){const x=v[y];x.type==="inline"&&h.md.inline.parse(x.content,h.md,h.env,x.children)}}function isLinkOpen$1(h){return/^<a[>\s]/i.test(h)}function isLinkClose$1(h){return/^<\/a\s*>/i.test(h)}function linkify$1(h){const v=h.tokens;if(h.md.options.linkify)for(let y=0,_=v.length;y<_;y++){if(v[y].type!=="inline"||!h.md.linkify.pretest(v[y].content))continue;let x=v[y].children,w=0;for(let S=x.length-1;S>=0;S--){const E=x[S];if(E.type==="link_close"){for(S--;x[S].level!==E.level&&x[S].type!=="link_open";)S--;continue}if(E.type==="html_inline"&&(isLinkOpen$1(E.content)&&w>0&&w--,isLinkClose$1(E.content)&&w++),!(w>0)&&E.type==="text"&&h.md.linkify.test(E.content)){const I=E.content;let L=h.md.linkify.match(I);const O=[];let F=E.level,z=0;L.length>0&&L[0].index===0&&S>0&&x[S-1].type==="text_special"&&(L=L.slice(1));for(let N=0;N<L.length;N++){const H=L[N].url,X=h.md.normalizeLink(H);if(!h.md.validateLink(X))continue;let J=L[N].text;L[N].schema?L[N].schema==="mailto:"&&!/^mailto:/i.test(J)?J=h.md.normalizeLinkText("mailto:"+J).replace(/^mailto:/,""):J=h.md.normalizeLinkText(J):J=h.md.normalizeLinkText("http://"+J).replace(/^http:\/\//,"");const ae=L[N].index;if(ae>z){const ce=new h.Token("text","",0);ce.content=I.slice(z,ae),ce.level=F,O.push(ce)}const ve=new h.Token("link_open","a",1);ve.attrs=[["href",X]],ve.level=F++,ve.markup="linkify",ve.info="auto",O.push(ve);const pe=new h.Token("text","",0);pe.content=J,pe.level=F,O.push(pe);const de=new h.Token("link_close","a",-1);de.level=--F,de.markup="linkify",de.info="auto",O.push(de),z=L[N].lastIndex}if(z<I.length){const N=new h.Token("text","",0);N.content=I.slice(z),N.level=F,O.push(N)}v[y].children=x=arrayReplaceAt(x,S,O)}}}}const RARE_RE=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,SCOPED_ABBR_TEST_RE=/\((c|tm|r)\)/i,SCOPED_ABBR_RE=/\((c|tm|r)\)/ig,SCOPED_ABBR={c:"",r:"",tm:""};function replaceFn(h,v){return SCOPED_ABBR[v.toLowerCase()]}function replace_scoped(h){let v=0;for(let y=h.length-1;y>=0;y--){const _=h[y];_.type==="text"&&!v&&(_.content=_.content.replace(SCOPED_ABBR_RE,replaceFn)),_.type==="link_open"&&_.info==="auto"&&v--,_.type==="link_close"&&_.info==="auto"&&v++}}function replace_rare(h){let v=0;for(let y=h.length-1;y>=0;y--){const _=h[y];_.type==="text"&&!v&&RARE_RE.test(_.content)&&(_.content=_.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1").replace(/(^|\s)--(?=\s|$)/mg,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1")),_.type==="link_open"&&_.info==="auto"&&v--,_.type==="link_close"&&_.info==="auto"&&v++}}function replace(h){let v;if(h.md.options.typographer)for(v=h.tokens.length-1;v>=0;v--)h.tokens[v].type==="inline"&&(SCOPED_ABBR_TEST_RE.test(h.tokens[v].content)&&replace_scoped(h.tokens[v].children),RARE_RE.test(h.tokens[v].content)&&replace_rare(h.tokens[v].children))}const QUOTE_TEST_RE=/['"]/,QUOTE_RE=/['"]/g,APOSTROPHE="";function replaceAt(h,v,y){return h.slice(0,v)+y+h.slice(v+1)}function process_inlines(h,v){let y;const _=[];for(let x=0;x<h.length;x++){const w=h[x],S=h[x].level;for(y=_.length-1;y>=0&&!(_[y].level<=S);y--);if(_.length=y+1,w.type!=="text")continue;let E=w.content,I=0,L=E.length;e:for(;I<L;){QUOTE_RE.lastIndex=I;const O=QUOTE_RE.exec(E);if(!O)break;let F=!0,z=!0;I=O.index+1;const N=O[0]==="'";let H=32;if(O.index-1>=0)H=E.charCodeAt(O.index-1);else for(y=x-1;y>=0&&!(h[y].type==="softbreak"||h[y].type==="hardbreak");y--)if(h[y].content){H=h[y].content.charCodeAt(h[y].content.length-1);break}let X=32;if(I<L)X=E.charCodeAt(I);else for(y=x+1;y<h.length&&!(h[y].type==="softbreak"||h[y].type==="hardbreak");y++)if(h[y].content){X=h[y].content.charCodeAt(0);break}const J=isMdAsciiPunct(H)||isPunctChar(String.fromCharCode(H)),ae=isMdAsciiPunct(X)||isPunctChar(String.fromCharCode(X)),ve=isWhiteSpace(H),pe=isWhiteSpace(X);if(pe?F=!1:ae&&(ve||J||(F=!1)),ve?z=!1:J&&(pe||ae||(z=!1)),X===34&&O[0]==='"'&&H>=48&&H<=57&&(z=F=!1),F&&z&&(F=J,z=ae),!F&&!z){N&&(w.content=replaceAt(w.content,O.index,APOSTROPHE));continue}if(z)for(y=_.length-1;y>=0;y--){let de=_[y];if(_[y].level<S)break;if(de.single===N&&_[y].level===S){de=_[y];let ce,V;N?(ce=v.md.options.quotes[2],V=v.md.options.quotes[3]):(ce=v.md.options.quotes[0],V=v.md.options.quotes[1]),w.content=replaceAt(w.content,O.index,V),h[de.token].content=replaceAt(h[de.token].content,de.pos,ce),I+=V.length-1,de.token===x&&(I+=ce.length-1),E=w.content,L=E.length,_.length=y;continue e}}F?_.push({token:x,pos:O.index,single:N,level:S}):z&&N&&(w.content=replaceAt(w.content,O.index,APOSTROPHE))}}}function smartquotes(h){if(h.md.options.typographer)for(let v=h.tokens.length-1;v>=0;v--)h.tokens[v].type!=="inline"||!QUOTE_TEST_RE.test(h.tokens[v].content)||process_inlines(h.tokens[v].children,h)}function text_join(h){let v,y;const _=h.tokens,x=_.length;for(let w=0;w<x;w++){if(_[w].type!=="inline")continue;const S=_[w].children,E=S.length;for(v=0;v<E;v++)S[v].type==="text_special"&&(S[v].type="text");for(v=y=0;v<E;v++)S[v].type==="text"&&v+1<E&&S[v+1].type==="text"?S[v+1].content=S[v].content+S[v+1].content:(v!==y&&(S[y]=S[v]),y++);v!==y&&(S.length=y)}}const _rules$2=[["normalize",normalize],["block",block],["inline",inline],["linkify",linkify$1],["replacements",replace],["smartquotes",smartquotes],["text_join",text_join]];function Core(){this.ruler=new Ruler$1;for(let h=0;h<_rules$2.length;h++)this.ruler.push(_rules$2[h][0],_rules$2[h][1])}Core.prototype.process=function(h){const v=this.ruler.getRules("");for(let y=0,_=v.length;y<_;y++)v[y](h)},Core.prototype.State=StateCore;function StateBlock(h,v,y,_){this.src=h,this.md=v,this.env=y,this.tokens=_,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const x=this.src;for(let w=0,S=0,E=0,I=0,L=x.length,O=!1;S<L;S++){const F=x.charCodeAt(S);if(!O)if(isSpace(F)){E++,F===9?I+=4-I%4:I++;continue}else O=!0;(F===10||S===L-1)&&(F!==10&&S++,this.bMarks.push(w),this.eMarks.push(S),this.tShift.push(E),this.sCount.push(I),this.bsCount.push(0),O=!1,E=0,I=0,w=S+1)}this.bMarks.push(x.length),this.eMarks.push(x.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}StateBlock.prototype.push=function(h,v,y){const _=new Token(h,v,y);return _.block=!0,y<0&&this.level--,_.level=this.level,y>0&&this.level++,this.tokens.push(_),_},StateBlock.prototype.isEmpty=function h(v){return this.bMarks[v]+this.tShift[v]>=this.eMarks[v]},StateBlock.prototype.skipEmptyLines=function h(v){for(let y=this.lineMax;v<y&&!(this.bMarks[v]+this.tShift[v]<this.eMarks[v]);v++);return v},StateBlock.prototype.skipSpaces=function h(v){for(let y=this.src.length;v<y;v++){const _=this.src.charCodeAt(v);if(!isSpace(_))break}return v},StateBlock.prototype.skipSpacesBack=function h(v,y){if(v<=y)return v;for(;v>y;)if(!isSpace(this.src.charCodeAt(--v)))return v+1;return v},StateBlock.prototype.skipChars=function h(v,y){for(let _=this.src.length;v<_&&this.src.charCodeAt(v)===y;v++);return v},StateBlock.prototype.skipCharsBack=function h(v,y,_){if(v<=_)return v;for(;v>_;)if(y!==this.src.charCodeAt(--v))return v+1;return v},StateBlock.prototype.getLines=function h(v,y,_,x){if(v>=y)return"";const w=new Array(y-v);for(let S=0,E=v;E<y;E++,S++){let I=0;const L=this.bMarks[E];let O=L,F;for(E+1<y||x?F=this.eMarks[E]+1:F=this.eMarks[E];O<F&&I<_;){const z=this.src.charCodeAt(O);if(isSpace(z))z===9?I+=4-(I+this.bsCount[E])%4:I++;else if(O-L<this.tShift[E])I++;else break;O++}I>_?w[S]=new Array(I-_+1).join(" ")+this.src.slice(O,F):w[S]=this.src.slice(O,F)}return w.join("")},StateBlock.prototype.Token=Token;const MAX_AUTOCOMPLETED_CELLS=65536;function getLine(h,v){const y=h.bMarks[v]+h.tShift[v],_=h.eMarks[v];return h.src.slice(y,_)}function escapedSplit(h){const v=[],y=h.length;let _=0,x=h.charCodeAt(_),w=!1,S=0,E="";for(;_<y;)x===124&&(w?(E+=h.substring(S,_-1),S=_):(v.push(E+h.substring(S,_)),E="",S=_+1)),w=x===92,_++,x=h.charCodeAt(_);return v.push(E+h.substring(S)),v}function table(h,v,y,_){if(v+2>y)return!1;let x=v+1;if(h.sCount[x]<h.blkIndent||h.sCount[x]-h.blkIndent>=4)return!1;let w=h.bMarks[x]+h.tShift[x];if(w>=h.eMarks[x])return!1;const S=h.src.charCodeAt(w++);if(S!==124&&S!==45&&S!==58||w>=h.eMarks[x])return!1;const E=h.src.charCodeAt(w++);if(E!==124&&E!==45&&E!==58&&!isSpace(E)||S===45&&isSpace(E))return!1;for(;w<h.eMarks[x];){const de=h.src.charCodeAt(w);if(de!==124&&de!==45&&de!==58&&!isSpace(de))return!1;w++}let I=getLine(h,v+1),L=I.split("|");const O=[];for(let de=0;de<L.length;de++){const ce=L[de].trim();if(!ce){if(de===0||de===L.length-1)continue;return!1}if(!/^:?-+:?$/.test(ce))return!1;ce.charCodeAt(ce.length-1)===58?O.push(ce.charCodeAt(0)===58?"center":"right"):ce.charCodeAt(0)===58?O.push("left"):O.push("")}if(I=getLine(h,v).trim(),I.indexOf("|")===-1||h.sCount[v]-h.blkIndent>=4)return!1;L=escapedSplit(I),L.length&&L[0]===""&&L.shift(),L.length&&L[L.length-1]===""&&L.pop();const F=L.length;if(F===0||F!==O.length)return!1;if(_)return!0;const z=h.parentType;h.parentType="table";const N=h.md.block.ruler.getRules("blockquote"),H=h.push("table_open","table",1),X=[v,0];H.map=X;const J=h.push("thead_open","thead",1);J.map=[v,v+1];const ae=h.push("tr_open","tr",1);ae.map=[v,v+1];for(let de=0;de<L.length;de++){const ce=h.push("th_open","th",1);O[de]&&(ce.attrs=[["style","text-align:"+O[de]]]);const V=h.push("inline","",0);V.content=L[de].trim(),V.children=[],h.push("th_close","th",-1)}h.push("tr_close","tr",-1),h.push("thead_close","thead",-1);let ve,pe=0;for(x=v+2;x<y&&!(h.sCount[x]<h.blkIndent);x++){let de=!1;for(let V=0,ie=N.length;V<ie;V++)if(N[V](h,x,y,!0)){de=!0;break}if(de||(I=getLine(h,x).trim(),!I)||h.sCount[x]-h.blkIndent>=4||(L=escapedSplit(I),L.length&&L[0]===""&&L.shift(),L.length&&L[L.length-1]===""&&L.pop(),pe+=F-L.length,pe>MAX_AUTOCOMPLETED_CELLS))break;if(x===v+2){const V=h.push("tbody_open","tbody",1);V.map=ve=[v+2,0]}const ce=h.push("tr_open","tr",1);ce.map=[x,x+1];for(let V=0;V<F;V++){const ie=h.push("td_open","td",1);O[V]&&(ie.attrs=[["style","text-align:"+O[V]]]);const ke=h.push("inline","",0);ke.content=L[V]?L[V].trim():"",ke.children=[],h.push("td_close","td",-1)}h.push("tr_close","tr",-1)}return ve&&(h.push("tbody_close","tbody",-1),ve[1]=x),h.push("table_close","table",-1),X[1]=x,h.parentType=z,h.line=x,!0}function code(h,v,y){if(h.sCount[v]-h.blkIndent<4)return!1;let _=v+1,x=_;for(;_<y;){if(h.isEmpty(_)){_++;continue}if(h.sCount[_]-h.blkIndent>=4){_++,x=_;continue}break}h.line=x;const w=h.push("code_block","code",0);return w.content=h.getLines(v,x,4+h.blkIndent,!1)+`
`,w.map=[v,h.line],!0}function fence(h,v,y,_){let x=h.bMarks[v]+h.tShift[v],w=h.eMarks[v];if(h.sCount[v]-h.blkIndent>=4||x+3>w)return!1;const S=h.src.charCodeAt(x);if(S!==126&&S!==96)return!1;let E=x;x=h.skipChars(x,S);let I=x-E;if(I<3)return!1;const L=h.src.slice(E,x),O=h.src.slice(x,w);if(S===96&&O.indexOf(String.fromCharCode(S))>=0)return!1;if(_)return!0;let F=v,z=!1;for(;F++,!(F>=y||(x=E=h.bMarks[F]+h.tShift[F],w=h.eMarks[F],x<w&&h.sCount[F]<h.blkIndent));)if(h.src.charCodeAt(x)===S&&!(h.sCount[F]-h.blkIndent>=4)&&(x=h.skipChars(x,S),!(x-E<I)&&(x=h.skipSpaces(x),!(x<w)))){z=!0;break}I=h.sCount[v],h.line=F+(z?1:0);const N=h.push("fence","code",0);return N.info=O,N.content=h.getLines(v+1,F,I,!0),N.markup=L,N.map=[v,h.line],!0}function blockquote(h,v,y,_){let x=h.bMarks[v]+h.tShift[v],w=h.eMarks[v];const S=h.lineMax;if(h.sCount[v]-h.blkIndent>=4||h.src.charCodeAt(x)!==62)return!1;if(_)return!0;const E=[],I=[],L=[],O=[],F=h.md.block.ruler.getRules("blockquote"),z=h.parentType;h.parentType="blockquote";let N=!1,H;for(H=v;H<y;H++){const pe=h.sCount[H]<h.blkIndent;if(x=h.bMarks[H]+h.tShift[H],w=h.eMarks[H],x>=w)break;if(h.src.charCodeAt(x++)===62&&!pe){let ce=h.sCount[H]+1,V,ie;h.src.charCodeAt(x)===32?(x++,ce++,ie=!1,V=!0):h.src.charCodeAt(x)===9?(V=!0,(h.bsCount[H]+ce)%4===3?(x++,ce++,ie=!1):ie=!0):V=!1;let ke=ce;for(E.push(h.bMarks[H]),h.bMarks[H]=x;x<w;){const be=h.src.charCodeAt(x);if(isSpace(be))be===9?ke+=4-(ke+h.bsCount[H]+(ie?1:0))%4:ke++;else break;x++}N=x>=w,I.push(h.bsCount[H]),h.bsCount[H]=h.sCount[H]+1+(V?1:0),L.push(h.sCount[H]),h.sCount[H]=ke-ce,O.push(h.tShift[H]),h.tShift[H]=x-h.bMarks[H];continue}if(N)break;let de=!1;for(let ce=0,V=F.length;ce<V;ce++)if(F[ce](h,H,y,!0)){de=!0;break}if(de){h.lineMax=H,h.blkIndent!==0&&(E.push(h.bMarks[H]),I.push(h.bsCount[H]),O.push(h.tShift[H]),L.push(h.sCount[H]),h.sCount[H]-=h.blkIndent);break}E.push(h.bMarks[H]),I.push(h.bsCount[H]),O.push(h.tShift[H]),L.push(h.sCount[H]),h.sCount[H]=-1}const X=h.blkIndent;h.blkIndent=0;const J=h.push("blockquote_open","blockquote",1);J.markup=">";const ae=[v,0];J.map=ae,h.md.block.tokenize(h,v,H);const ve=h.push("blockquote_close","blockquote",-1);ve.markup=">",h.lineMax=S,h.parentType=z,ae[1]=h.line;for(let pe=0;pe<O.length;pe++)h.bMarks[pe+v]=E[pe],h.tShift[pe+v]=O[pe],h.sCount[pe+v]=L[pe],h.bsCount[pe+v]=I[pe];return h.blkIndent=X,!0}function hr(h,v,y,_){const x=h.eMarks[v];if(h.sCount[v]-h.blkIndent>=4)return!1;let w=h.bMarks[v]+h.tShift[v];const S=h.src.charCodeAt(w++);if(S!==42&&S!==45&&S!==95)return!1;let E=1;for(;w<x;){const L=h.src.charCodeAt(w++);if(L!==S&&!isSpace(L))return!1;L===S&&E++}if(E<3)return!1;if(_)return!0;h.line=v+1;const I=h.push("hr","hr",0);return I.map=[v,h.line],I.markup=Array(E+1).join(String.fromCharCode(S)),!0}function skipBulletListMarker(h,v){const y=h.eMarks[v];let _=h.bMarks[v]+h.tShift[v];const x=h.src.charCodeAt(_++);if(x!==42&&x!==45&&x!==43)return-1;if(_<y){const w=h.src.charCodeAt(_);if(!isSpace(w))return-1}return _}function skipOrderedListMarker(h,v){const y=h.bMarks[v]+h.tShift[v],_=h.eMarks[v];let x=y;if(x+1>=_)return-1;let w=h.src.charCodeAt(x++);if(w<48||w>57)return-1;for(;;){if(x>=_)return-1;if(w=h.src.charCodeAt(x++),w>=48&&w<=57){if(x-y>=10)return-1;continue}if(w===41||w===46)break;return-1}return x<_&&(w=h.src.charCodeAt(x),!isSpace(w))?-1:x}function markTightParagraphs(h,v){const y=h.level+2;for(let _=v+2,x=h.tokens.length-2;_<x;_++)h.tokens[_].level===y&&h.tokens[_].type==="paragraph_open"&&(h.tokens[_+2].hidden=!0,h.tokens[_].hidden=!0,_+=2)}function list(h,v,y,_){let x,w,S,E,I=v,L=!0;if(h.sCount[I]-h.blkIndent>=4||h.listIndent>=0&&h.sCount[I]-h.listIndent>=4&&h.sCount[I]<h.blkIndent)return!1;let O=!1;_&&h.parentType==="paragraph"&&h.sCount[I]>=h.blkIndent&&(O=!0);let F,z,N;if((N=skipOrderedListMarker(h,I))>=0){if(F=!0,S=h.bMarks[I]+h.tShift[I],z=Number(h.src.slice(S,N-1)),O&&z!==1)return!1}else if((N=skipBulletListMarker(h,I))>=0)F=!1;else return!1;if(O&&h.skipSpaces(N)>=h.eMarks[I])return!1;if(_)return!0;const H=h.src.charCodeAt(N-1),X=h.tokens.length;F?(E=h.push("ordered_list_open","ol",1),z!==1&&(E.attrs=[["start",z]])):E=h.push("bullet_list_open","ul",1);const J=[I,0];E.map=J,E.markup=String.fromCharCode(H);let ae=!1;const ve=h.md.block.ruler.getRules("list"),pe=h.parentType;for(h.parentType="list";I<y;){w=N,x=h.eMarks[I];const de=h.sCount[I]+N-(h.bMarks[I]+h.tShift[I]);let ce=de;for(;w<x;){const lt=h.src.charCodeAt(w);if(lt===9)ce+=4-(ce+h.bsCount[I])%4;else if(lt===32)ce++;else break;w++}const V=w;let ie;V>=x?ie=1:ie=ce-de,ie>4&&(ie=1);const ke=de+ie;E=h.push("list_item_open","li",1),E.markup=String.fromCharCode(H);const be=[I,0];E.map=be,F&&(E.info=h.src.slice(S,N-1));const Ae=h.tight,ue=h.tShift[I],xe=h.sCount[I],Me=h.listIndent;if(h.listIndent=h.blkIndent,h.blkIndent=ke,h.tight=!0,h.tShift[I]=V-h.bMarks[I],h.sCount[I]=ce,V>=x&&h.isEmpty(I+1)?h.line=Math.min(h.line+2,y):h.md.block.tokenize(h,I,y,!0),(!h.tight||ae)&&(L=!1),ae=h.line-I>1&&h.isEmpty(h.line-1),h.blkIndent=h.listIndent,h.listIndent=Me,h.tShift[I]=ue,h.sCount[I]=xe,h.tight=Ae,E=h.push("list_item_close","li",-1),E.markup=String.fromCharCode(H),I=h.line,be[1]=I,I>=y||h.sCount[I]<h.blkIndent||h.sCount[I]-h.blkIndent>=4)break;let Ge=!1;for(let lt=0,Le=ve.length;lt<Le;lt++)if(ve[lt](h,I,y,!0)){Ge=!0;break}if(Ge)break;if(F){if(N=skipOrderedListMarker(h,I),N<0)break;S=h.bMarks[I]+h.tShift[I]}else if(N=skipBulletListMarker(h,I),N<0)break;if(H!==h.src.charCodeAt(N-1))break}return F?E=h.push("ordered_list_close","ol",-1):E=h.push("bullet_list_close","ul",-1),E.markup=String.fromCharCode(H),J[1]=I,h.line=I,h.parentType=pe,L&&markTightParagraphs(h,X),!0}function reference(h,v,y,_){let x=h.bMarks[v]+h.tShift[v],w=h.eMarks[v],S=v+1;if(h.sCount[v]-h.blkIndent>=4||h.src.charCodeAt(x)!==91)return!1;function E(ve){const pe=h.lineMax;if(ve>=pe||h.isEmpty(ve))return null;let de=!1;if(h.sCount[ve]-h.blkIndent>3&&(de=!0),h.sCount[ve]<0&&(de=!0),!de){const ie=h.md.block.ruler.getRules("reference"),ke=h.parentType;h.parentType="reference";let be=!1;for(let Ae=0,ue=ie.length;Ae<ue;Ae++)if(ie[Ae](h,ve,pe,!0)){be=!0;break}if(h.parentType=ke,be)return null}const ce=h.bMarks[ve]+h.tShift[ve],V=h.eMarks[ve];return h.src.slice(ce,V+1)}let I=h.src.slice(x,w+1);w=I.length;let L=-1;for(x=1;x<w;x++){const ve=I.charCodeAt(x);if(ve===91)return!1;if(ve===93){L=x;break}else if(ve===10){const pe=E(S);pe!==null&&(I+=pe,w=I.length,S++)}else if(ve===92&&(x++,x<w&&I.charCodeAt(x)===10)){const pe=E(S);pe!==null&&(I+=pe,w=I.length,S++)}}if(L<0||I.charCodeAt(L+1)!==58)return!1;for(x=L+2;x<w;x++){const ve=I.charCodeAt(x);if(ve===10){const pe=E(S);pe!==null&&(I+=pe,w=I.length,S++)}else if(!isSpace(ve))break}const O=h.md.helpers.parseLinkDestination(I,x,w);if(!O.ok)return!1;const F=h.md.normalizeLink(O.str);if(!h.md.validateLink(F))return!1;x=O.pos;const z=x,N=S,H=x;for(;x<w;x++){const ve=I.charCodeAt(x);if(ve===10){const pe=E(S);pe!==null&&(I+=pe,w=I.length,S++)}else if(!isSpace(ve))break}let X=h.md.helpers.parseLinkTitle(I,x,w);for(;X.can_continue;){const ve=E(S);if(ve===null)break;I+=ve,x=w,w=I.length,S++,X=h.md.helpers.parseLinkTitle(I,x,w,X)}let J;for(x<w&&H!==x&&X.ok?(J=X.str,x=X.pos):(J="",x=z,S=N);x<w;){const ve=I.charCodeAt(x);if(!isSpace(ve))break;x++}if(x<w&&I.charCodeAt(x)!==10&&J)for(J="",x=z,S=N;x<w;){const ve=I.charCodeAt(x);if(!isSpace(ve))break;x++}if(x<w&&I.charCodeAt(x)!==10)return!1;const ae=normalizeReference(I.slice(1,L));return ae?(_||(typeof h.env.references>"u"&&(h.env.references={}),typeof h.env.references[ae]>"u"&&(h.env.references[ae]={title:J,href:F}),h.line=S),!0):!1}const block_names=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],attr_name="[a-zA-Z_:][a-zA-Z0-9:._-]*",unquoted="[^\"'=<>`\\x00-\\x20]+",single_quoted="'[^']*'",double_quoted='"[^"]*"',attr_value="(?:"+unquoted+"|"+single_quoted+"|"+double_quoted+")",attribute="(?:\\s+"+attr_name+"(?:\\s*=\\s*"+attr_value+")?)",open_tag="<[A-Za-z][A-Za-z0-9\\-]*"+attribute+"*\\s*\\/?>",close_tag="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",comment="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",processing="<[?][\\s\\S]*?[?]>",declaration="<![A-Za-z][^>]*>",cdata="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",HTML_TAG_RE=new RegExp("^(?:"+open_tag+"|"+close_tag+"|"+comment+"|"+processing+"|"+declaration+"|"+cdata+")"),HTML_OPEN_CLOSE_TAG_RE=new RegExp("^(?:"+open_tag+"|"+close_tag+")"),HTML_SEQUENCES=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+block_names.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(HTML_OPEN_CLOSE_TAG_RE.source+"\\s*$"),/^$/,!1]];function html_block(h,v,y,_){let x=h.bMarks[v]+h.tShift[v],w=h.eMarks[v];if(h.sCount[v]-h.blkIndent>=4||!h.md.options.html||h.src.charCodeAt(x)!==60)return!1;let S=h.src.slice(x,w),E=0;for(;E<HTML_SEQUENCES.length&&!HTML_SEQUENCES[E][0].test(S);E++);if(E===HTML_SEQUENCES.length)return!1;if(_)return HTML_SEQUENCES[E][2];let I=v+1;if(!HTML_SEQUENCES[E][1].test(S)){for(;I<y&&!(h.sCount[I]<h.blkIndent);I++)if(x=h.bMarks[I]+h.tShift[I],w=h.eMarks[I],S=h.src.slice(x,w),HTML_SEQUENCES[E][1].test(S)){S.length!==0&&I++;break}}h.line=I;const L=h.push("html_block","",0);return L.map=[v,I],L.content=h.getLines(v,I,h.blkIndent,!0),!0}function heading(h,v,y,_){let x=h.bMarks[v]+h.tShift[v],w=h.eMarks[v];if(h.sCount[v]-h.blkIndent>=4)return!1;let S=h.src.charCodeAt(x);if(S!==35||x>=w)return!1;let E=1;for(S=h.src.charCodeAt(++x);S===35&&x<w&&E<=6;)E++,S=h.src.charCodeAt(++x);if(E>6||x<w&&!isSpace(S))return!1;if(_)return!0;w=h.skipSpacesBack(w,x);const I=h.skipCharsBack(w,35,x);I>x&&isSpace(h.src.charCodeAt(I-1))&&(w=I),h.line=v+1;const L=h.push("heading_open","h"+String(E),1);L.markup="########".slice(0,E),L.map=[v,h.line];const O=h.push("inline","",0);O.content=h.src.slice(x,w).trim(),O.map=[v,h.line],O.children=[];const F=h.push("heading_close","h"+String(E),-1);return F.markup="########".slice(0,E),!0}function lheading(h,v,y){const _=h.md.block.ruler.getRules("paragraph");if(h.sCount[v]-h.blkIndent>=4)return!1;const x=h.parentType;h.parentType="paragraph";let w=0,S,E=v+1;for(;E<y&&!h.isEmpty(E);E++){if(h.sCount[E]-h.blkIndent>3)continue;if(h.sCount[E]>=h.blkIndent){let N=h.bMarks[E]+h.tShift[E];const H=h.eMarks[E];if(N<H&&(S=h.src.charCodeAt(N),(S===45||S===61)&&(N=h.skipChars(N,S),N=h.skipSpaces(N),N>=H))){w=S===61?1:2;break}}if(h.sCount[E]<0)continue;let z=!1;for(let N=0,H=_.length;N<H;N++)if(_[N](h,E,y,!0)){z=!0;break}if(z)break}if(!w)return!1;const I=h.getLines(v,E,h.blkIndent,!1).trim();h.line=E+1;const L=h.push("heading_open","h"+String(w),1);L.markup=String.fromCharCode(S),L.map=[v,h.line];const O=h.push("inline","",0);O.content=I,O.map=[v,h.line-1],O.children=[];const F=h.push("heading_close","h"+String(w),-1);return F.markup=String.fromCharCode(S),h.parentType=x,!0}function paragraph(h,v,y){const _=h.md.block.ruler.getRules("paragraph"),x=h.parentType;let w=v+1;for(h.parentType="paragraph";w<y&&!h.isEmpty(w);w++){if(h.sCount[w]-h.blkIndent>3||h.sCount[w]<0)continue;let L=!1;for(let O=0,F=_.length;O<F;O++)if(_[O](h,w,y,!0)){L=!0;break}if(L)break}const S=h.getLines(v,w,h.blkIndent,!1).trim();h.line=w;const E=h.push("paragraph_open","p",1);E.map=[v,h.line];const I=h.push("inline","",0);return I.content=S,I.map=[v,h.line],I.children=[],h.push("paragraph_close","p",-1),h.parentType=x,!0}const _rules$1=[["table",table,["paragraph","reference"]],["code",code],["fence",fence,["paragraph","reference","blockquote","list"]],["blockquote",blockquote,["paragraph","reference","blockquote","list"]],["hr",hr,["paragraph","reference","blockquote","list"]],["list",list,["paragraph","reference","blockquote"]],["reference",reference],["html_block",html_block,["paragraph","reference","blockquote"]],["heading",heading,["paragraph","reference","blockquote"]],["lheading",lheading],["paragraph",paragraph]];function ParserBlock(){this.ruler=new Ruler$1;for(let h=0;h<_rules$1.length;h++)this.ruler.push(_rules$1[h][0],_rules$1[h][1],{alt:(_rules$1[h][2]||[]).slice()})}ParserBlock.prototype.tokenize=function(h,v,y){const _=this.ruler.getRules(""),x=_.length,w=h.md.options.maxNesting;let S=v,E=!1;for(;S<y&&(h.line=S=h.skipEmptyLines(S),!(S>=y||h.sCount[S]<h.blkIndent));){if(h.level>=w){h.line=y;break}const I=h.line;let L=!1;for(let O=0;O<x;O++)if(L=_[O](h,S,y,!1),L){if(I>=h.line)throw new Error("block rule didn't increment state.line");break}if(!L)throw new Error("none of the block rules matched");h.tight=!E,h.isEmpty(h.line-1)&&(E=!0),S=h.line,S<y&&h.isEmpty(S)&&(E=!0,S++,h.line=S)}},ParserBlock.prototype.parse=function(h,v,y,_){if(!h)return;const x=new this.State(h,v,y,_);this.tokenize(x,x.line,x.lineMax)},ParserBlock.prototype.State=StateBlock;function StateInline(h,v,y,_){this.src=h,this.env=y,this.md=v,this.tokens=_,this.tokens_meta=Array(_.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}StateInline.prototype.pushPending=function(){const h=new Token("text","",0);return h.content=this.pending,h.level=this.pendingLevel,this.tokens.push(h),this.pending="",h},StateInline.prototype.push=function(h,v,y){this.pending&&this.pushPending();const _=new Token(h,v,y);let x=null;return y<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),_.level=this.level,y>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],x={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(_),this.tokens_meta.push(x),_},StateInline.prototype.scanDelims=function(h,v){const y=this.posMax,_=this.src.charCodeAt(h),x=h>0?this.src.charCodeAt(h-1):32;let w=h;for(;w<y&&this.src.charCodeAt(w)===_;)w++;const S=w-h,E=w<y?this.src.charCodeAt(w):32,I=isMdAsciiPunct(x)||isPunctChar(String.fromCharCode(x)),L=isMdAsciiPunct(E)||isPunctChar(String.fromCharCode(E)),O=isWhiteSpace(x),F=isWhiteSpace(E),z=!F&&(!L||O||I),N=!O&&(!I||F||L);return{can_open:z&&(v||!N||I),can_close:N&&(v||!z||L),length:S}},StateInline.prototype.Token=Token;function isTerminatorChar(h){switch(h){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function text(h,v){let y=h.pos;for(;y<h.posMax&&!isTerminatorChar(h.src.charCodeAt(y));)y++;return y===h.pos?!1:(v||(h.pending+=h.src.slice(h.pos,y)),h.pos=y,!0)}const SCHEME_RE=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function linkify(h,v){if(!h.md.options.linkify||h.linkLevel>0)return!1;const y=h.pos,_=h.posMax;if(y+3>_||h.src.charCodeAt(y)!==58||h.src.charCodeAt(y+1)!==47||h.src.charCodeAt(y+2)!==47)return!1;const x=h.pending.match(SCHEME_RE);if(!x)return!1;const w=x[1],S=h.md.linkify.matchAtStart(h.src.slice(y-w.length));if(!S)return!1;let E=S.url;if(E.length<=w.length)return!1;E=E.replace(/\*+$/,"");const I=h.md.normalizeLink(E);if(!h.md.validateLink(I))return!1;if(!v){h.pending=h.pending.slice(0,-w.length);const L=h.push("link_open","a",1);L.attrs=[["href",I]],L.markup="linkify",L.info="auto";const O=h.push("text","",0);O.content=h.md.normalizeLinkText(E);const F=h.push("link_close","a",-1);F.markup="linkify",F.info="auto"}return h.pos+=E.length-w.length,!0}function newline(h,v){let y=h.pos;if(h.src.charCodeAt(y)!==10)return!1;const _=h.pending.length-1,x=h.posMax;if(!v)if(_>=0&&h.pending.charCodeAt(_)===32)if(_>=1&&h.pending.charCodeAt(_-1)===32){let w=_-1;for(;w>=1&&h.pending.charCodeAt(w-1)===32;)w--;h.pending=h.pending.slice(0,w),h.push("hardbreak","br",0)}else h.pending=h.pending.slice(0,-1),h.push("softbreak","br",0);else h.push("softbreak","br",0);for(y++;y<x&&isSpace(h.src.charCodeAt(y));)y++;return h.pos=y,!0}const ESCAPED=[];for(let h=0;h<256;h++)ESCAPED.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(h){ESCAPED[h.charCodeAt(0)]=1});function escape(h,v){let y=h.pos;const _=h.posMax;if(h.src.charCodeAt(y)!==92||(y++,y>=_))return!1;let x=h.src.charCodeAt(y);if(x===10){for(v||h.push("hardbreak","br",0),y++;y<_&&(x=h.src.charCodeAt(y),!!isSpace(x));)y++;return h.pos=y,!0}let w=h.src[y];if(x>=55296&&x<=56319&&y+1<_){const E=h.src.charCodeAt(y+1);E>=56320&&E<=57343&&(w+=h.src[y+1],y++)}const S="\\"+w;if(!v){const E=h.push("text_special","",0);x<256&&ESCAPED[x]!==0?E.content=w:E.content=S,E.markup=S,E.info="escape"}return h.pos=y+1,!0}function backtick(h,v){let y=h.pos;if(h.src.charCodeAt(y)!==96)return!1;const x=y;y++;const w=h.posMax;for(;y<w&&h.src.charCodeAt(y)===96;)y++;const S=h.src.slice(x,y),E=S.length;if(h.backticksScanned&&(h.backticks[E]||0)<=x)return v||(h.pending+=S),h.pos+=E,!0;let I=y,L;for(;(L=h.src.indexOf("`",I))!==-1;){for(I=L+1;I<w&&h.src.charCodeAt(I)===96;)I++;const O=I-L;if(O===E){if(!v){const F=h.push("code_inline","code",0);F.markup=S,F.content=h.src.slice(y,L).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return h.pos=I,!0}h.backticks[O]=L}return h.backticksScanned=!0,v||(h.pending+=S),h.pos+=E,!0}function strikethrough_tokenize(h,v){const y=h.pos,_=h.src.charCodeAt(y);if(v||_!==126)return!1;const x=h.scanDelims(h.pos,!0);let w=x.length;const S=String.fromCharCode(_);if(w<2)return!1;let E;w%2&&(E=h.push("text","",0),E.content=S,w--);for(let I=0;I<w;I+=2)E=h.push("text","",0),E.content=S+S,h.delimiters.push({marker:_,length:0,token:h.tokens.length-1,end:-1,open:x.can_open,close:x.can_close});return h.pos+=x.length,!0}function postProcess$1(h,v){let y;const _=[],x=v.length;for(let w=0;w<x;w++){const S=v[w];if(S.marker!==126||S.end===-1)continue;const E=v[S.end];y=h.tokens[S.token],y.type="s_open",y.tag="s",y.nesting=1,y.markup="~~",y.content="",y=h.tokens[E.token],y.type="s_close",y.tag="s",y.nesting=-1,y.markup="~~",y.content="",h.tokens[E.token-1].type==="text"&&h.tokens[E.token-1].content==="~"&&_.push(E.token-1)}for(;_.length;){const w=_.pop();let S=w+1;for(;S<h.tokens.length&&h.tokens[S].type==="s_close";)S++;S--,w!==S&&(y=h.tokens[S],h.tokens[S]=h.tokens[w],h.tokens[w]=y)}}function strikethrough_postProcess(h){const v=h.tokens_meta,y=h.tokens_meta.length;postProcess$1(h,h.delimiters);for(let _=0;_<y;_++)v[_]&&v[_].delimiters&&postProcess$1(h,v[_].delimiters)}const r_strikethrough={tokenize:strikethrough_tokenize,postProcess:strikethrough_postProcess};function emphasis_tokenize(h,v){const y=h.pos,_=h.src.charCodeAt(y);if(v||_!==95&&_!==42)return!1;const x=h.scanDelims(h.pos,_===42);for(let w=0;w<x.length;w++){const S=h.push("text","",0);S.content=String.fromCharCode(_),h.delimiters.push({marker:_,length:x.length,token:h.tokens.length-1,end:-1,open:x.can_open,close:x.can_close})}return h.pos+=x.length,!0}function postProcess(h,v){const y=v.length;for(let _=y-1;_>=0;_--){const x=v[_];if(x.marker!==95&&x.marker!==42||x.end===-1)continue;const w=v[x.end],S=_>0&&v[_-1].end===x.end+1&&v[_-1].marker===x.marker&&v[_-1].token===x.token-1&&v[x.end+1].token===w.token+1,E=String.fromCharCode(x.marker),I=h.tokens[x.token];I.type=S?"strong_open":"em_open",I.tag=S?"strong":"em",I.nesting=1,I.markup=S?E+E:E,I.content="";const L=h.tokens[w.token];L.type=S?"strong_close":"em_close",L.tag=S?"strong":"em",L.nesting=-1,L.markup=S?E+E:E,L.content="",S&&(h.tokens[v[_-1].token].content="",h.tokens[v[x.end+1].token].content="",_--)}}function emphasis_post_process(h){const v=h.tokens_meta,y=h.tokens_meta.length;postProcess(h,h.delimiters);for(let _=0;_<y;_++)v[_]&&v[_].delimiters&&postProcess(h,v[_].delimiters)}const r_emphasis={tokenize:emphasis_tokenize,postProcess:emphasis_post_process};function link(h,v){let y,_,x,w,S="",E="",I=h.pos,L=!0;if(h.src.charCodeAt(h.pos)!==91)return!1;const O=h.pos,F=h.posMax,z=h.pos+1,N=h.md.helpers.parseLinkLabel(h,h.pos,!0);if(N<0)return!1;let H=N+1;if(H<F&&h.src.charCodeAt(H)===40){for(L=!1,H++;H<F&&(y=h.src.charCodeAt(H),!(!isSpace(y)&&y!==10));H++);if(H>=F)return!1;if(I=H,x=h.md.helpers.parseLinkDestination(h.src,H,h.posMax),x.ok){for(S=h.md.normalizeLink(x.str),h.md.validateLink(S)?H=x.pos:S="",I=H;H<F&&(y=h.src.charCodeAt(H),!(!isSpace(y)&&y!==10));H++);if(x=h.md.helpers.parseLinkTitle(h.src,H,h.posMax),H<F&&I!==H&&x.ok)for(E=x.str,H=x.pos;H<F&&(y=h.src.charCodeAt(H),!(!isSpace(y)&&y!==10));H++);}(H>=F||h.src.charCodeAt(H)!==41)&&(L=!0),H++}if(L){if(typeof h.env.references>"u")return!1;if(H<F&&h.src.charCodeAt(H)===91?(I=H+1,H=h.md.helpers.parseLinkLabel(h,H),H>=0?_=h.src.slice(I,H++):H=N+1):H=N+1,_||(_=h.src.slice(z,N)),w=h.env.references[normalizeReference(_)],!w)return h.pos=O,!1;S=w.href,E=w.title}if(!v){h.pos=z,h.posMax=N;const X=h.push("link_open","a",1),J=[["href",S]];X.attrs=J,E&&J.push(["title",E]),h.linkLevel++,h.md.inline.tokenize(h),h.linkLevel--,h.push("link_close","a",-1)}return h.pos=H,h.posMax=F,!0}function image(h,v){let y,_,x,w,S,E,I,L,O="";const F=h.pos,z=h.posMax;if(h.src.charCodeAt(h.pos)!==33||h.src.charCodeAt(h.pos+1)!==91)return!1;const N=h.pos+2,H=h.md.helpers.parseLinkLabel(h,h.pos+1,!1);if(H<0)return!1;if(w=H+1,w<z&&h.src.charCodeAt(w)===40){for(w++;w<z&&(y=h.src.charCodeAt(w),!(!isSpace(y)&&y!==10));w++);if(w>=z)return!1;for(L=w,E=h.md.helpers.parseLinkDestination(h.src,w,h.posMax),E.ok&&(O=h.md.normalizeLink(E.str),h.md.validateLink(O)?w=E.pos:O=""),L=w;w<z&&(y=h.src.charCodeAt(w),!(!isSpace(y)&&y!==10));w++);if(E=h.md.helpers.parseLinkTitle(h.src,w,h.posMax),w<z&&L!==w&&E.ok)for(I=E.str,w=E.pos;w<z&&(y=h.src.charCodeAt(w),!(!isSpace(y)&&y!==10));w++);else I="";if(w>=z||h.src.charCodeAt(w)!==41)return h.pos=F,!1;w++}else{if(typeof h.env.references>"u")return!1;if(w<z&&h.src.charCodeAt(w)===91?(L=w+1,w=h.md.helpers.parseLinkLabel(h,w),w>=0?x=h.src.slice(L,w++):w=H+1):w=H+1,x||(x=h.src.slice(N,H)),S=h.env.references[normalizeReference(x)],!S)return h.pos=F,!1;O=S.href,I=S.title}if(!v){_=h.src.slice(N,H);const X=[];h.md.inline.parse(_,h.md,h.env,X);const J=h.push("image","img",0),ae=[["src",O],["alt",""]];J.attrs=ae,J.children=X,J.content=_,I&&ae.push(["title",I])}return h.pos=w,h.posMax=z,!0}const EMAIL_RE=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,AUTOLINK_RE=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function autolink(h,v){let y=h.pos;if(h.src.charCodeAt(y)!==60)return!1;const _=h.pos,x=h.posMax;for(;;){if(++y>=x)return!1;const S=h.src.charCodeAt(y);if(S===60)return!1;if(S===62)break}const w=h.src.slice(_+1,y);if(AUTOLINK_RE.test(w)){const S=h.md.normalizeLink(w);if(!h.md.validateLink(S))return!1;if(!v){const E=h.push("link_open","a",1);E.attrs=[["href",S]],E.markup="autolink",E.info="auto";const I=h.push("text","",0);I.content=h.md.normalizeLinkText(w);const L=h.push("link_close","a",-1);L.markup="autolink",L.info="auto"}return h.pos+=w.length+2,!0}if(EMAIL_RE.test(w)){const S=h.md.normalizeLink("mailto:"+w);if(!h.md.validateLink(S))return!1;if(!v){const E=h.push("link_open","a",1);E.attrs=[["href",S]],E.markup="autolink",E.info="auto";const I=h.push("text","",0);I.content=h.md.normalizeLinkText(w);const L=h.push("link_close","a",-1);L.markup="autolink",L.info="auto"}return h.pos+=w.length+2,!0}return!1}function isLinkOpen(h){return/^<a[>\s]/i.test(h)}function isLinkClose(h){return/^<\/a\s*>/i.test(h)}function isLetter(h){const v=h|32;return v>=97&&v<=122}function html_inline(h,v){if(!h.md.options.html)return!1;const y=h.posMax,_=h.pos;if(h.src.charCodeAt(_)!==60||_+2>=y)return!1;const x=h.src.charCodeAt(_+1);if(x!==33&&x!==63&&x!==47&&!isLetter(x))return!1;const w=h.src.slice(_).match(HTML_TAG_RE);if(!w)return!1;if(!v){const S=h.push("html_inline","",0);S.content=w[0],isLinkOpen(S.content)&&h.linkLevel++,isLinkClose(S.content)&&h.linkLevel--}return h.pos+=w[0].length,!0}const DIGITAL_RE=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,NAMED_RE=/^&([a-z][a-z0-9]{1,31});/i;function entity(h,v){const y=h.pos,_=h.posMax;if(h.src.charCodeAt(y)!==38||y+1>=_)return!1;if(h.src.charCodeAt(y+1)===35){const w=h.src.slice(y).match(DIGITAL_RE);if(w){if(!v){const S=w[1][0].toLowerCase()==="x"?parseInt(w[1].slice(1),16):parseInt(w[1],10),E=h.push("text_special","",0);E.content=isValidEntityCode(S)?fromCodePoint(S):fromCodePoint(65533),E.markup=w[0],E.info="entity"}return h.pos+=w[0].length,!0}}else{const w=h.src.slice(y).match(NAMED_RE);if(w){const S=decodeHTML(w[0]);if(S!==w[0]){if(!v){const E=h.push("text_special","",0);E.content=S,E.markup=w[0],E.info="entity"}return h.pos+=w[0].length,!0}}}return!1}function processDelimiters(h){const v={},y=h.length;if(!y)return;let _=0,x=-2;const w=[];for(let S=0;S<y;S++){const E=h[S];if(w.push(0),(h[_].marker!==E.marker||x!==E.token-1)&&(_=S),x=E.token,E.length=E.length||0,!E.close)continue;v.hasOwnProperty(E.marker)||(v[E.marker]=[-1,-1,-1,-1,-1,-1]);const I=v[E.marker][(E.open?3:0)+E.length%3];let L=_-w[_]-1,O=L;for(;L>I;L-=w[L]+1){const F=h[L];if(F.marker===E.marker&&F.open&&F.end<0){let z=!1;if((F.close||E.open)&&(F.length+E.length)%3===0&&(F.length%3!==0||E.length%3!==0)&&(z=!0),!z){const N=L>0&&!h[L-1].open?w[L-1]+1:0;w[S]=S-L+N,w[L]=N,E.open=!1,F.end=S,F.close=!1,O=-1,x=-2;break}}}O!==-1&&(v[E.marker][(E.open?3:0)+(E.length||0)%3]=O)}}function link_pairs(h){const v=h.tokens_meta,y=h.tokens_meta.length;processDelimiters(h.delimiters);for(let _=0;_<y;_++)v[_]&&v[_].delimiters&&processDelimiters(v[_].delimiters)}function fragments_join(h){let v,y,_=0;const x=h.tokens,w=h.tokens.length;for(v=y=0;v<w;v++)x[v].nesting<0&&_--,x[v].level=_,x[v].nesting>0&&_++,x[v].type==="text"&&v+1<w&&x[v+1].type==="text"?x[v+1].content=x[v].content+x[v+1].content:(v!==y&&(x[y]=x[v]),y++);v!==y&&(x.length=y)}const _rules=[["text",text],["linkify",linkify],["newline",newline],["escape",escape],["backticks",backtick],["strikethrough",r_strikethrough.tokenize],["emphasis",r_emphasis.tokenize],["link",link],["image",image],["autolink",autolink],["html_inline",html_inline],["entity",entity]],_rules2=[["balance_pairs",link_pairs],["strikethrough",r_strikethrough.postProcess],["emphasis",r_emphasis.postProcess],["fragments_join",fragments_join]];function ParserInline(){this.ruler=new Ruler$1;for(let h=0;h<_rules.length;h++)this.ruler.push(_rules[h][0],_rules[h][1]);this.ruler2=new Ruler$1;for(let h=0;h<_rules2.length;h++)this.ruler2.push(_rules2[h][0],_rules2[h][1])}ParserInline.prototype.skipToken=function(h){const v=h.pos,y=this.ruler.getRules(""),_=y.length,x=h.md.options.maxNesting,w=h.cache;if(typeof w[v]<"u"){h.pos=w[v];return}let S=!1;if(h.level<x){for(let E=0;E<_;E++)if(h.level++,S=y[E](h,!0),h.level--,S){if(v>=h.pos)throw new Error("inline rule didn't increment state.pos");break}}else h.pos=h.posMax;S||h.pos++,w[v]=h.pos},ParserInline.prototype.tokenize=function(h){const v=this.ruler.getRules(""),y=v.length,_=h.posMax,x=h.md.options.maxNesting;for(;h.pos<_;){const w=h.pos;let S=!1;if(h.level<x){for(let E=0;E<y;E++)if(S=v[E](h,!1),S){if(w>=h.pos)throw new Error("inline rule didn't increment state.pos");break}}if(S){if(h.pos>=_)break;continue}h.pending+=h.src[h.pos++]}h.pending&&h.pushPending()},ParserInline.prototype.parse=function(h,v,y,_){const x=new this.State(h,v,y,_);this.tokenize(x);const w=this.ruler2.getRules(""),S=w.length;for(let E=0;E<S;E++)w[E](x)},ParserInline.prototype.State=StateInline;function reFactory(h){const v={};h=h||{},v.src_Any=Any.source,v.src_Cc=Cc.source,v.src_Z=Z.source,v.src_P=P.source,v.src_ZPCc=[v.src_Z,v.src_P,v.src_Cc].join("|"),v.src_ZCc=[v.src_Z,v.src_Cc].join("|");const y="[><]";return v.src_pseudo_letter="(?:(?!"+y+"|"+v.src_ZPCc+")"+v.src_Any+")",v.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",v.src_auth="(?:(?:(?!"+v.src_ZCc+"|[@/\\[\\]()]).)+@)?",v.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",v.src_host_terminator="(?=$|"+y+"|"+v.src_ZPCc+")(?!"+(h["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+v.src_ZPCc+"))",v.src_path="(?:[/?#](?:(?!"+v.src_ZCc+"|"+y+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+v.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+v.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+v.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+v.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+v.src_ZCc+"|[']).)+\\'|\\'(?="+v.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+v.src_ZCc+"|[.]|$)|"+(h["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+v.src_ZCc+"|$)|;(?!"+v.src_ZCc+"|$)|\\!+(?!"+v.src_ZCc+"|[!]|$)|\\?(?!"+v.src_ZCc+"|[?]|$))+|\\/)?",v.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',v.src_xn="xn--[a-z0-9\\-]{1,59}",v.src_domain_root="(?:"+v.src_xn+"|"+v.src_pseudo_letter+"{1,63})",v.src_domain="(?:"+v.src_xn+"|(?:"+v.src_pseudo_letter+")|(?:"+v.src_pseudo_letter+"(?:-|"+v.src_pseudo_letter+"){0,61}"+v.src_pseudo_letter+"))",v.src_host="(?:(?:(?:(?:"+v.src_domain+")\\.)*"+v.src_domain+"))",v.tpl_host_fuzzy="(?:"+v.src_ip4+"|(?:(?:(?:"+v.src_domain+")\\.)+(?:%TLDS%)))",v.tpl_host_no_ip_fuzzy="(?:(?:(?:"+v.src_domain+")\\.)+(?:%TLDS%))",v.src_host_strict=v.src_host+v.src_host_terminator,v.tpl_host_fuzzy_strict=v.tpl_host_fuzzy+v.src_host_terminator,v.src_host_port_strict=v.src_host+v.src_port+v.src_host_terminator,v.tpl_host_port_fuzzy_strict=v.tpl_host_fuzzy+v.src_port+v.src_host_terminator,v.tpl_host_port_no_ip_fuzzy_strict=v.tpl_host_no_ip_fuzzy+v.src_port+v.src_host_terminator,v.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+v.src_ZPCc+"|>|$))",v.tpl_email_fuzzy="(^|"+y+'|"|\\(|'+v.src_ZCc+")("+v.src_email_name+"@"+v.tpl_host_fuzzy_strict+")",v.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+v.src_ZPCc+"))((?![$+<=>^`|])"+v.tpl_host_port_fuzzy_strict+v.src_path+")",v.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+v.src_ZPCc+"))((?![$+<=>^`|])"+v.tpl_host_port_no_ip_fuzzy_strict+v.src_path+")",v}function assign(h){return Array.prototype.slice.call(arguments,1).forEach(function(y){y&&Object.keys(y).forEach(function(_){h[_]=y[_]})}),h}function _class(h){return Object.prototype.toString.call(h)}function isString(h){return _class(h)==="[object String]"}function isObject(h){return _class(h)==="[object Object]"}function isRegExp(h){return _class(h)==="[object RegExp]"}function isFunction(h){return _class(h)==="[object Function]"}function escapeRE(h){return h.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const defaultOptions={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function isOptionsObj(h){return Object.keys(h||{}).reduce(function(v,y){return v||defaultOptions.hasOwnProperty(y)},!1)}const defaultSchemas={"http:":{validate:function(h,v,y){const _=h.slice(v);return y.re.http||(y.re.http=new RegExp("^\\/\\/"+y.re.src_auth+y.re.src_host_port_strict+y.re.src_path,"i")),y.re.http.test(_)?_.match(y.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(h,v,y){const _=h.slice(v);return y.re.no_http||(y.re.no_http=new RegExp("^"+y.re.src_auth+"(?:localhost|(?:(?:"+y.re.src_domain+")\\.)+"+y.re.src_domain_root+")"+y.re.src_port+y.re.src_host_terminator+y.re.src_path,"i")),y.re.no_http.test(_)?v>=3&&h[v-3]===":"||v>=3&&h[v-3]==="/"?0:_.match(y.re.no_http)[0].length:0}},"mailto:":{validate:function(h,v,y){const _=h.slice(v);return y.re.mailto||(y.re.mailto=new RegExp("^"+y.re.src_email_name+"@"+y.re.src_host_strict,"i")),y.re.mailto.test(_)?_.match(y.re.mailto)[0].length:0}}},tlds_2ch_src_re="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",tlds_default="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function resetScanCache(h){h.__index__=-1,h.__text_cache__=""}function createValidator(h){return function(v,y){const _=v.slice(y);return h.test(_)?_.match(h)[0].length:0}}function createNormalizer(){return function(h,v){v.normalize(h)}}function compile(h){const v=h.re=reFactory(h.__opts__),y=h.__tlds__.slice();h.onCompile(),h.__tlds_replaced__||y.push(tlds_2ch_src_re),y.push(v.src_xn),v.src_tlds=y.join("|");function _(E){return E.replace("%TLDS%",v.src_tlds)}v.email_fuzzy=RegExp(_(v.tpl_email_fuzzy),"i"),v.link_fuzzy=RegExp(_(v.tpl_link_fuzzy),"i"),v.link_no_ip_fuzzy=RegExp(_(v.tpl_link_no_ip_fuzzy),"i"),v.host_fuzzy_test=RegExp(_(v.tpl_host_fuzzy_test),"i");const x=[];h.__compiled__={};function w(E,I){throw new Error('(LinkifyIt) Invalid schema "'+E+'": '+I)}Object.keys(h.__schemas__).forEach(function(E){const I=h.__schemas__[E];if(I===null)return;const L={validate:null,link:null};if(h.__compiled__[E]=L,isObject(I)){isRegExp(I.validate)?L.validate=createValidator(I.validate):isFunction(I.validate)?L.validate=I.validate:w(E,I),isFunction(I.normalize)?L.normalize=I.normalize:I.normalize?w(E,I):L.normalize=createNormalizer();return}if(isString(I)){x.push(E);return}w(E,I)}),x.forEach(function(E){h.__compiled__[h.__schemas__[E]]&&(h.__compiled__[E].validate=h.__compiled__[h.__schemas__[E]].validate,h.__compiled__[E].normalize=h.__compiled__[h.__schemas__[E]].normalize)}),h.__compiled__[""]={validate:null,normalize:createNormalizer()};const S=Object.keys(h.__compiled__).filter(function(E){return E.length>0&&h.__compiled__[E]}).map(escapeRE).join("|");h.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+v.src_ZPCc+"))("+S+")","i"),h.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+v.src_ZPCc+"))("+S+")","ig"),h.re.schema_at_start=RegExp("^"+h.re.schema_search.source,"i"),h.re.pretest=RegExp("("+h.re.schema_test.source+")|("+h.re.host_fuzzy_test.source+")|@","i"),resetScanCache(h)}function Match(h,v){const y=h.__index__,_=h.__last_index__,x=h.__text_cache__.slice(y,_);this.schema=h.__schema__.toLowerCase(),this.index=y+v,this.lastIndex=_+v,this.raw=x,this.text=x,this.url=x}function createMatch(h,v){const y=new Match(h,v);return h.__compiled__[y.schema].normalize(y,h),y}function LinkifyIt(h,v){if(!(this instanceof LinkifyIt))return new LinkifyIt(h,v);v||isOptionsObj(h)&&(v=h,h={}),this.__opts__=assign({},defaultOptions,v),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=assign({},defaultSchemas,h),this.__compiled__={},this.__tlds__=tlds_default,this.__tlds_replaced__=!1,this.re={},compile(this)}LinkifyIt.prototype.add=function h(v,y){return this.__schemas__[v]=y,compile(this),this},LinkifyIt.prototype.set=function h(v){return this.__opts__=assign(this.__opts__,v),this},LinkifyIt.prototype.test=function h(v){if(this.__text_cache__=v,this.__index__=-1,!v.length)return!1;let y,_,x,w,S,E,I,L,O;if(this.re.schema_test.test(v)){for(I=this.re.schema_search,I.lastIndex=0;(y=I.exec(v))!==null;)if(w=this.testSchemaAt(v,y[2],I.lastIndex),w){this.__schema__=y[2],this.__index__=y.index+y[1].length,this.__last_index__=y.index+y[0].length+w;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(L=v.search(this.re.host_fuzzy_test),L>=0&&(this.__index__<0||L<this.__index__)&&(_=v.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(S=_.index+_[1].length,(this.__index__<0||S<this.__index__)&&(this.__schema__="",this.__index__=S,this.__last_index__=_.index+_[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(O=v.indexOf("@"),O>=0&&(x=v.match(this.re.email_fuzzy))!==null&&(S=x.index+x[1].length,E=x.index+x[0].length,(this.__index__<0||S<this.__index__||S===this.__index__&&E>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=S,this.__last_index__=E))),this.__index__>=0},LinkifyIt.prototype.pretest=function h(v){return this.re.pretest.test(v)},LinkifyIt.prototype.testSchemaAt=function h(v,y,_){return this.__compiled__[y.toLowerCase()]?this.__compiled__[y.toLowerCase()].validate(v,_,this):0},LinkifyIt.prototype.match=function h(v){const y=[];let _=0;this.__index__>=0&&this.__text_cache__===v&&(y.push(createMatch(this,_)),_=this.__last_index__);let x=_?v.slice(_):v;for(;this.test(x);)y.push(createMatch(this,_)),x=x.slice(this.__last_index__),_+=this.__last_index__;return y.length?y:null},LinkifyIt.prototype.matchAtStart=function h(v){if(this.__text_cache__=v,this.__index__=-1,!v.length)return null;const y=this.re.schema_at_start.exec(v);if(!y)return null;const _=this.testSchemaAt(v,y[2],y[0].length);return _?(this.__schema__=y[2],this.__index__=y.index+y[1].length,this.__last_index__=y.index+y[0].length+_,createMatch(this,0)):null},LinkifyIt.prototype.tlds=function h(v,y){return v=Array.isArray(v)?v:[v],y?(this.__tlds__=this.__tlds__.concat(v).sort().filter(function(_,x,w){return _!==w[x-1]}).reverse(),compile(this),this):(this.__tlds__=v.slice(),this.__tlds_replaced__=!0,compile(this),this)},LinkifyIt.prototype.normalize=function h(v){v.schema||(v.url="http://"+v.url),v.schema==="mailto:"&&!/^mailto:/i.test(v.url)&&(v.url="mailto:"+v.url)},LinkifyIt.prototype.onCompile=function h(){};const maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexPunycode=/^xn--/,regexNonASCII=/[^\0-\x7F]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode;function error(h){throw new RangeError(errors[h])}function map(h,v){const y=[];let _=h.length;for(;_--;)y[_]=v(h[_]);return y}function mapDomain(h,v){const y=h.split("@");let _="";y.length>1&&(_=y[0]+"@",h=y[1]),h=h.replace(regexSeparators,".");const x=h.split("."),w=map(x,v).join(".");return _+w}function ucs2decode(h){const v=[];let y=0;const _=h.length;for(;y<_;){const x=h.charCodeAt(y++);if(x>=55296&&x<=56319&&y<_){const w=h.charCodeAt(y++);(w&64512)==56320?v.push(((x&1023)<<10)+(w&1023)+65536):(v.push(x),y--)}else v.push(x)}return v}const ucs2encode=h=>String.fromCodePoint(...h),basicToDigit=function(h){return h>=48&&h<58?26+(h-48):h>=65&&h<91?h-65:h>=97&&h<123?h-97:base},digitToBasic=function(h,v){return h+22+75*(h<26)-((v!=0)<<5)},adapt=function(h,v,y){let _=0;for(h=y?floor(h/damp):h>>1,h+=floor(h/v);h>baseMinusTMin*tMax>>1;_+=base)h=floor(h/baseMinusTMin);return floor(_+(baseMinusTMin+1)*h/(h+skew))},decode=function(h){const v=[],y=h.length;let _=0,x=initialN,w=initialBias,S=h.lastIndexOf(delimiter);S<0&&(S=0);for(let E=0;E<S;++E)h.charCodeAt(E)>=128&&error("not-basic"),v.push(h.charCodeAt(E));for(let E=S>0?S+1:0;E<y;){const I=_;for(let O=1,F=base;;F+=base){E>=y&&error("invalid-input");const z=basicToDigit(h.charCodeAt(E++));z>=base&&error("invalid-input"),z>floor((maxInt-_)/O)&&error("overflow"),_+=z*O;const N=F<=w?tMin:F>=w+tMax?tMax:F-w;if(z<N)break;const H=base-N;O>floor(maxInt/H)&&error("overflow"),O*=H}const L=v.length+1;w=adapt(_-I,L,I==0),floor(_/L)>maxInt-x&&error("overflow"),x+=floor(_/L),_%=L,v.splice(_++,0,x)}return String.fromCodePoint(...v)},encode=function(h){const v=[];h=ucs2decode(h);const y=h.length;let _=initialN,x=0,w=initialBias;for(const I of h)I<128&&v.push(stringFromCharCode(I));const S=v.length;let E=S;for(S&&v.push(delimiter);E<y;){let I=maxInt;for(const O of h)O>=_&&O<I&&(I=O);const L=E+1;I-_>floor((maxInt-x)/L)&&error("overflow"),x+=(I-_)*L,_=I;for(const O of h)if(O<_&&++x>maxInt&&error("overflow"),O===_){let F=x;for(let z=base;;z+=base){const N=z<=w?tMin:z>=w+tMax?tMax:z-w;if(F<N)break;const H=F-N,X=base-N;v.push(stringFromCharCode(digitToBasic(N+H%X,0))),F=floor(H/X)}v.push(stringFromCharCode(digitToBasic(F,0))),w=adapt(x,L,E===S),x=0,++E}++x,++_}return v.join("")},toUnicode=function(h){return mapDomain(h,function(v){return regexPunycode.test(v)?decode(v.slice(4).toLowerCase()):v})},toASCII=function(h){return mapDomain(h,function(v){return regexNonASCII.test(v)?"xn--"+encode(v):v})},punycode={version:"2.3.1",ucs2:{decode:ucs2decode,encode:ucs2encode},decode,encode,toASCII,toUnicode},cfg_default={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},cfg_zero={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},cfg_commonmark={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},config={default:cfg_default,zero:cfg_zero,commonmark:cfg_commonmark},BAD_PROTO_RE=/^(vbscript|javascript|file|data):/,GOOD_DATA_RE=/^data:image\/(gif|png|jpeg|webp);/;function validateLink(h){const v=h.trim().toLowerCase();return BAD_PROTO_RE.test(v)?GOOD_DATA_RE.test(v):!0}const RECODE_HOSTNAME_FOR=["http:","https:","mailto:"];function normalizeLink(h){const v=urlParse(h,!0);if(v.hostname&&(!v.protocol||RECODE_HOSTNAME_FOR.indexOf(v.protocol)>=0))try{v.hostname=punycode.toASCII(v.hostname)}catch{}return encode$1(format(v))}function normalizeLinkText(h){const v=urlParse(h,!0);if(v.hostname&&(!v.protocol||RECODE_HOSTNAME_FOR.indexOf(v.protocol)>=0))try{v.hostname=punycode.toUnicode(v.hostname)}catch{}return decode$1(format(v),decode$1.defaultChars+"%")}function MarkdownIt(h,v){if(!(this instanceof MarkdownIt))return new MarkdownIt(h,v);v||isString$1(h)||(v=h||{},h="default"),this.inline=new ParserInline,this.block=new ParserBlock,this.core=new Core,this.renderer=new Renderer,this.linkify=new LinkifyIt,this.validateLink=validateLink,this.normalizeLink=normalizeLink,this.normalizeLinkText=normalizeLinkText,this.utils=utils,this.helpers=assign$1({},helpers),this.options={},this.configure(h),v&&this.set(v)}MarkdownIt.prototype.set=function(h){return assign$1(this.options,h),this},MarkdownIt.prototype.configure=function(h){const v=this;if(isString$1(h)){const y=h;if(h=config[y],!h)throw new Error('Wrong `markdown-it` preset "'+y+'", check name')}if(!h)throw new Error("Wrong `markdown-it` preset, can't be empty");return h.options&&v.set(h.options),h.components&&Object.keys(h.components).forEach(function(y){h.components[y].rules&&v[y].ruler.enableOnly(h.components[y].rules),h.components[y].rules2&&v[y].ruler2.enableOnly(h.components[y].rules2)}),this},MarkdownIt.prototype.enable=function(h,v){let y=[];Array.isArray(h)||(h=[h]),["core","block","inline"].forEach(function(x){y=y.concat(this[x].ruler.enable(h,!0))},this),y=y.concat(this.inline.ruler2.enable(h,!0));const _=h.filter(function(x){return y.indexOf(x)<0});if(_.length&&!v)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+_);return this},MarkdownIt.prototype.disable=function(h,v){let y=[];Array.isArray(h)||(h=[h]),["core","block","inline"].forEach(function(x){y=y.concat(this[x].ruler.disable(h,!0))},this),y=y.concat(this.inline.ruler2.disable(h,!0));const _=h.filter(function(x){return y.indexOf(x)<0});if(_.length&&!v)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+_);return this},MarkdownIt.prototype.use=function(h){const v=[this].concat(Array.prototype.slice.call(arguments,1));return h.apply(h,v),this},MarkdownIt.prototype.parse=function(h,v){if(typeof h!="string")throw new Error("Input data should be a String");const y=new this.core.State(h,this,v);return this.core.process(y),y.tokens},MarkdownIt.prototype.render=function(h,v){return v=v||{},this.renderer.render(this.parse(h,v),this.options,v)},MarkdownIt.prototype.parseInline=function(h,v){const y=new this.core.State(h,this,v);return y.inlineMode=!0,this.core.process(y),y.tokens},MarkdownIt.prototype.renderInline=function(h,v){return v=v||{},this.renderer.render(this.parseInline(h,v),this.options,v)};var e$1=!1,n$1={false:"push",true:"unshift",after:"push",before:"unshift"},t$1={isPermalinkSymbol:!0};function r(h,v,y,_){var x;if(!e$1){var w="Using deprecated markdown-it-anchor permalink option, see https://github.com/valeriangalliat/markdown-it-anchor#permalinks";typeof process=="object"&&process&&process.emitWarning?process.emitWarning(w):console.warn(w),e$1=!0}var S=[Object.assign(new y.Token("link_open","a",1),{attrs:[].concat(v.permalinkClass?[["class",v.permalinkClass]]:[],[["href",v.permalinkHref(h,y)]],Object.entries(v.permalinkAttrs(h,y)))}),Object.assign(new y.Token("html_block","",0),{content:v.permalinkSymbol,meta:t$1}),new y.Token("link_close","a",-1)];v.permalinkSpace&&y.tokens[_+1].children[n$1[v.permalinkBefore]](Object.assign(new y.Token("text","",0),{content:" "})),(x=y.tokens[_+1].children)[n$1[v.permalinkBefore]].apply(x,S)}function a(h){return"#"+h}function i(h){return{}}var l={class:"header-anchor",symbol:"#",renderHref:a,renderAttrs:i};function o(h){function v(y){return y=Object.assign({},v.defaults,y),function(_,x,w,S){return h(_,y,x,w,S)}}return v.defaults=Object.assign({},l),v.renderPermalinkImpl=h,v}function c(h){var v=[],y=h.filter(function(_){if(_[0]!=="class")return!0;v.push(_[1])});return v.length>0&&y.unshift(["class",v.join(" ")]),y}var s=o(function(h,v,y,_,x){var w,S=[Object.assign(new _.Token("link_open","a",1),{attrs:c([].concat(v.class?[["class",v.class]]:[],[["href",v.renderHref(h,_)]],v.ariaHidden?[["aria-hidden","true"]]:[],Object.entries(v.renderAttrs(h,_))))}),Object.assign(new _.Token("html_inline","",0),{content:v.symbol,meta:t$1}),new _.Token("link_close","a",-1)];if(v.space){var E=typeof v.space=="string"?v.space:" ";_.tokens[x+1].children[n$1[v.placement]](Object.assign(new _.Token(typeof v.space=="string"?"html_inline":"text","",0),{content:E}))}(w=_.tokens[x+1].children)[n$1[v.placement]].apply(w,S)});Object.assign(s.defaults,{space:!0,placement:"after",ariaHidden:!1});var u=o(s.renderPermalinkImpl);u.defaults=Object.assign({},s.defaults,{ariaHidden:!0});var d=o(function(h,v,y,_,x){var w=[Object.assign(new _.Token("link_open","a",1),{attrs:c([].concat(v.class?[["class",v.class]]:[],[["href",v.renderHref(h,_)]],Object.entries(v.renderAttrs(h,_))))})].concat(v.safariReaderFix?[new _.Token("span_open","span",1)]:[],_.tokens[x+1].children,v.safariReaderFix?[new _.Token("span_close","span",-1)]:[],[new _.Token("link_close","a",-1)]);_.tokens[x+1]=Object.assign(new _.Token("inline","",0),{children:w})});Object.assign(d.defaults,{safariReaderFix:!1});var f=o(function(h,v,y,_,x){var w;if(!["visually-hidden","aria-label","aria-describedby","aria-labelledby"].includes(v.style))throw new Error("`permalink.linkAfterHeader` called with unknown style option `"+v.style+"`");if(!["aria-describedby","aria-labelledby"].includes(v.style)&&!v.assistiveText)throw new Error("`permalink.linkAfterHeader` called without the `assistiveText` option in `"+v.style+"` style");if(v.style==="visually-hidden"&&!v.visuallyHiddenClass)throw new Error("`permalink.linkAfterHeader` called without the `visuallyHiddenClass` option in `visually-hidden` style");var S=_.tokens[x+1].children.filter(function(F){return F.type==="text"||F.type==="code_inline"}).reduce(function(F,z){return F+z.content},""),E=[],I=[];if(v.class&&I.push(["class",v.class]),I.push(["href",v.renderHref(h,_)]),I.push.apply(I,Object.entries(v.renderAttrs(h,_))),v.style==="visually-hidden"){if(E.push(Object.assign(new _.Token("span_open","span",1),{attrs:[["class",v.visuallyHiddenClass]]}),Object.assign(new _.Token("text","",0),{content:v.assistiveText(S)}),new _.Token("span_close","span",-1)),v.space){var L=typeof v.space=="string"?v.space:" ";E[n$1[v.placement]](Object.assign(new _.Token(typeof v.space=="string"?"html_inline":"text","",0),{content:L}))}E[n$1[v.placement]](Object.assign(new _.Token("span_open","span",1),{attrs:[["aria-hidden","true"]]}),Object.assign(new _.Token("html_inline","",0),{content:v.symbol,meta:t$1}),new _.Token("span_close","span",-1))}else E.push(Object.assign(new _.Token("html_inline","",0),{content:v.symbol,meta:t$1}));v.style==="aria-label"?I.push(["aria-label",v.assistiveText(S)]):["aria-describedby","aria-labelledby"].includes(v.style)&&I.push([v.style,h]);var O=[Object.assign(new _.Token("link_open","a",1),{attrs:c(I)})].concat(E,[new _.Token("link_close","a",-1)]);(w=_.tokens).splice.apply(w,[x+3,0].concat(O)),v.wrapper&&(_.tokens.splice(x,0,Object.assign(new _.Token("html_block","",0),{content:v.wrapper[0]+`
`})),_.tokens.splice(x+3+O.length+1,0,Object.assign(new _.Token("html_block","",0),{content:v.wrapper[1]+`
`})))});function p(h,v,y,_){var x=h,w=_;if(y&&Object.prototype.hasOwnProperty.call(v,x))throw new Error("User defined `id` attribute `"+h+"` is not unique. Please fix it in your Markdown to continue.");for(;Object.prototype.hasOwnProperty.call(v,x);)x=h+"-"+w,w+=1;return v[x]=!0,x}function b(h,v){v=Object.assign({},b.defaults,v),h.core.ruler.push("anchor",function(y){for(var _,x={},w=y.tokens,S=Array.isArray(v.level)?(_=v.level,function(F){return _.includes(F)}):function(F){return function(z){return z>=F}}(v.level),E=0;E<w.length;E++){var I=w[E];if(I.type==="heading_open"&&S(Number(I.tag.substr(1)))){var L=v.getTokensText(w[E+1].children),O=I.attrGet("id");O=O==null?p(O=v.slugifyWithState?v.slugifyWithState(L,y):v.slugify(L),x,!1,v.uniqueSlugStartIndex):p(O,x,!0,v.uniqueSlugStartIndex),I.attrSet("id",O),v.tabIndex!==!1&&I.attrSet("tabindex",""+v.tabIndex),typeof v.permalink=="function"?v.permalink(O,v,y,E):(v.permalink||v.renderPermalink&&v.renderPermalink!==r)&&v.renderPermalink(O,v,y,E),E=w.indexOf(I),v.callback&&v.callback(I,{slug:O,title:L})}}})}Object.assign(f.defaults,{style:"visually-hidden",space:!0,placement:"after",wrapper:null}),b.permalink={__proto__:null,legacy:r,renderHref:a,renderAttrs:i,makePermalink:o,linkInsideHeader:s,ariaHidden:u,headerLink:d,linkAfterHeader:f},b.defaults={level:1,slugify:function(h){return encodeURIComponent(String(h).trim().toLowerCase().replace(/\s+/g,"-"))},uniqueSlugStartIndex:1,tabIndex:"-1",getTokensText:function(h){return h.filter(function(v){return["text","code_inline"].includes(v.type)}).map(function(v){return v.content}).join("")},permalink:!1,renderPermalink:r,permalinkClass:u.defaults.class,permalinkSpace:u.defaults.space,permalinkSymbol:"",permalinkBefore:u.defaults.placement==="before",permalinkHref:u.defaults.renderHref,permalinkAttrs:u.defaults.renderAttrs},b.default=b;function deflist_plugin(h){const v=h.utils.isSpace;function y(w,S){let E=w.bMarks[S]+w.tShift[S];const I=w.eMarks[S];if(E>=I)return-1;const L=w.src.charCodeAt(E++);if(L!==126&&L!==58)return-1;const O=w.skipSpaces(E);return E===O||O>=I?-1:E}function _(w,S){const E=w.level+2;for(let I=S+2,L=w.tokens.length-2;I<L;I++)w.tokens[I].level===E&&w.tokens[I].type==="paragraph_open"&&(w.tokens[I+2].hidden=!0,w.tokens[I].hidden=!0,I+=2)}function x(w,S,E,I){if(I)return w.ddIndent<0?!1:y(w,S)>=0;let L=S+1;if(L>=E||w.isEmpty(L)&&(L++,L>=E)||w.sCount[L]<w.blkIndent)return!1;let O=y(w,L);if(O<0)return!1;const F=w.tokens.length;let z=!0;const N=w.push("dl_open","dl",1),H=[S,0];N.map=H;let X=S,J=L;e:for(;;){let ae=!1;const ve=w.push("dt_open","dt",1);ve.map=[X,X];const pe=w.push("inline","",0);for(pe.map=[X,X],pe.content=w.getLines(X,X+1,w.blkIndent,!1).trim(),pe.children=[],w.push("dt_close","dt",-1);;){const de=w.push("dd_open","dd",1),ce=[L,0];de.map=ce;let V=O;const ie=w.eMarks[J];let ke=w.sCount[J]+O-(w.bMarks[J]+w.tShift[J]);for(;V<ie;){const lt=w.src.charCodeAt(V);if(v(lt))lt===9?ke+=4-ke%4:ke++;else break;V++}O=V;const be=w.tight,Ae=w.ddIndent,ue=w.blkIndent,xe=w.tShift[J],Me=w.sCount[J],Ge=w.parentType;if(w.blkIndent=w.ddIndent=w.sCount[J]+2,w.tShift[J]=O-w.bMarks[J],w.sCount[J]=ke,w.tight=!0,w.parentType="deflist",w.md.block.tokenize(w,J,E,!0),(!w.tight||ae)&&(z=!1),ae=w.line-J>1&&w.isEmpty(w.line-1),w.tShift[J]=xe,w.sCount[J]=Me,w.tight=be,w.parentType=Ge,w.blkIndent=ue,w.ddIndent=Ae,w.push("dd_close","dd",-1),ce[1]=L=w.line,L>=E||w.sCount[L]<w.blkIndent)break e;if(O=y(w,L),O<0)break;J=L}if(L>=E||(X=L,w.isEmpty(X))||w.sCount[X]<w.blkIndent||(J=X+1,J>=E)||(w.isEmpty(J)&&J++,J>=E)||w.sCount[J]<w.blkIndent||(O=y(w,J),O<0))break}return w.push("dl_close","dl",-1),H[1]=L,w.line=L,z&&_(w,F),!0}h.block.ruler.before("paragraph","deflist",x,{alt:["paragraph","reference","blockquote"]})}function render_footnote_anchor_name(h,v,y,_){const x=Number(h[v].meta.id+1).toString();let w="";return typeof _.docId=="string"&&(w=`-${_.docId}-`),w+x}function render_footnote_caption(h,v){let y=Number(h[v].meta.id+1).toString();return h[v].meta.subId>0&&(y+=`:${h[v].meta.subId}`),`[${y}]`}function render_footnote_ref(h,v,y,_,x){const w=x.rules.footnote_anchor_name(h,v,y,_,x),S=x.rules.footnote_caption(h,v,y,_,x);let E=w;return h[v].meta.subId>0&&(E+=`:${h[v].meta.subId}`),`<sup class="footnote-ref"><a href="#fn${w}" id="fnref${E}">${S}</a></sup>`}function render_footnote_block_open(h,v,y){return(y.xhtmlOut?`<hr class="footnotes-sep" />
`:`<hr class="footnotes-sep">
`)+`<section class="footnotes">
<ol class="footnotes-list">
`}function render_footnote_block_close(){return`</ol>
</section>
`}function render_footnote_open(h,v,y,_,x){let w=x.rules.footnote_anchor_name(h,v,y,_,x);return h[v].meta.subId>0&&(w+=`:${h[v].meta.subId}`),`<li id="fn${w}" class="footnote-item">`}function render_footnote_close(){return`</li>
`}function render_footnote_anchor(h,v,y,_,x){let w=x.rules.footnote_anchor_name(h,v,y,_,x);return h[v].meta.subId>0&&(w+=`:${h[v].meta.subId}`),` <a href="#fnref${w}" class="footnote-backref"></a>`}function footnote_plugin(h){const v=h.helpers.parseLinkLabel,y=h.utils.isSpace;h.renderer.rules.footnote_ref=render_footnote_ref,h.renderer.rules.footnote_block_open=render_footnote_block_open,h.renderer.rules.footnote_block_close=render_footnote_block_close,h.renderer.rules.footnote_open=render_footnote_open,h.renderer.rules.footnote_close=render_footnote_close,h.renderer.rules.footnote_anchor=render_footnote_anchor,h.renderer.rules.footnote_caption=render_footnote_caption,h.renderer.rules.footnote_anchor_name=render_footnote_anchor_name;function _(E,I,L,O){const F=E.bMarks[I]+E.tShift[I],z=E.eMarks[I];if(F+4>z||E.src.charCodeAt(F)!==91||E.src.charCodeAt(F+1)!==94)return!1;let N;for(N=F+2;N<z;N++){if(E.src.charCodeAt(N)===32)return!1;if(E.src.charCodeAt(N)===93)break}if(N===F+2||N+1>=z||E.src.charCodeAt(++N)!==58)return!1;if(O)return!0;N++,E.env.footnotes||(E.env.footnotes={}),E.env.footnotes.refs||(E.env.footnotes.refs={});const H=E.src.slice(F+2,N-2);E.env.footnotes.refs[`:${H}`]=-1;const X=new E.Token("footnote_reference_open","",1);X.meta={label:H},X.level=E.level++,E.tokens.push(X);const J=E.bMarks[I],ae=E.tShift[I],ve=E.sCount[I],pe=E.parentType,de=N,ce=E.sCount[I]+N-(E.bMarks[I]+E.tShift[I]);let V=ce;for(;N<z;){const ke=E.src.charCodeAt(N);if(y(ke))ke===9?V+=4-V%4:V++;else break;N++}E.tShift[I]=N-de,E.sCount[I]=V-ce,E.bMarks[I]=de,E.blkIndent+=4,E.parentType="footnote",E.sCount[I]<E.blkIndent&&(E.sCount[I]+=E.blkIndent),E.md.block.tokenize(E,I,L,!0),E.parentType=pe,E.blkIndent-=4,E.tShift[I]=ae,E.sCount[I]=ve,E.bMarks[I]=J;const ie=new E.Token("footnote_reference_close","",-1);return ie.level=--E.level,E.tokens.push(ie),!0}function x(E,I){const L=E.posMax,O=E.pos;if(O+2>=L||E.src.charCodeAt(O)!==94||E.src.charCodeAt(O+1)!==91)return!1;const F=O+2,z=v(E,O+1);if(z<0)return!1;if(!I){E.env.footnotes||(E.env.footnotes={}),E.env.footnotes.list||(E.env.footnotes.list=[]);const N=E.env.footnotes.list.length,H=[];E.md.inline.parse(E.src.slice(F,z),E.md,E.env,H);const X=E.push("footnote_ref","",0);X.meta={id:N},E.env.footnotes.list[N]={content:E.src.slice(F,z),tokens:H}}return E.pos=z+1,E.posMax=L,!0}function w(E,I){const L=E.posMax,O=E.pos;if(O+3>L||!E.env.footnotes||!E.env.footnotes.refs||E.src.charCodeAt(O)!==91||E.src.charCodeAt(O+1)!==94)return!1;let F;for(F=O+2;F<L;F++){if(E.src.charCodeAt(F)===32||E.src.charCodeAt(F)===10)return!1;if(E.src.charCodeAt(F)===93)break}if(F===O+2||F>=L)return!1;F++;const z=E.src.slice(O+2,F-1);if(typeof E.env.footnotes.refs[`:${z}`]>"u")return!1;if(!I){E.env.footnotes.list||(E.env.footnotes.list=[]);let N;E.env.footnotes.refs[`:${z}`]<0?(N=E.env.footnotes.list.length,E.env.footnotes.list[N]={label:z,count:0},E.env.footnotes.refs[`:${z}`]=N):N=E.env.footnotes.refs[`:${z}`];const H=E.env.footnotes.list[N].count;E.env.footnotes.list[N].count++;const X=E.push("footnote_ref","",0);X.meta={id:N,subId:H,label:z}}return E.pos=F,E.posMax=L,!0}function S(E){let I,L,O,F=!1;const z={};if(!E.env.footnotes||(E.tokens=E.tokens.filter(function(H){return H.type==="footnote_reference_open"?(F=!0,L=[],O=H.meta.label,!1):H.type==="footnote_reference_close"?(F=!1,z[":"+O]=L,!1):(F&&L.push(H),!F)}),!E.env.footnotes.list))return;const N=E.env.footnotes.list;E.tokens.push(new E.Token("footnote_block_open","",1));for(let H=0,X=N.length;H<X;H++){const J=new E.Token("footnote_open","",1);if(J.meta={id:H,label:N[H].label},E.tokens.push(J),N[H].tokens){I=[];const pe=new E.Token("paragraph_open","p",1);pe.block=!0,I.push(pe);const de=new E.Token("inline","",0);de.children=N[H].tokens,de.content=N[H].content,I.push(de);const ce=new E.Token("paragraph_close","p",-1);ce.block=!0,I.push(ce)}else N[H].label&&(I=z[`:${N[H].label}`]);I&&(E.tokens=E.tokens.concat(I));let ae;E.tokens[E.tokens.length-1].type==="paragraph_close"?ae=E.tokens.pop():ae=null;const ve=N[H].count>0?N[H].count:1;for(let pe=0;pe<ve;pe++){const de=new E.Token("footnote_anchor","",0);de.meta={id:H,subId:pe,label:N[H].label},E.tokens.push(de)}ae&&E.tokens.push(ae),E.tokens.push(new E.Token("footnote_close","",-1))}E.tokens.push(new E.Token("footnote_block_close","",-1))}h.block.ruler.before("reference","footnote_def",_,{alt:["paragraph","reference"]}),h.inline.ruler.after("image","footnote_inline",x),h.inline.ruler.after("footnote_inline","footnote_ref",w),h.core.ruler.after("inline","footnote_tail",S)}function e(h){return encodeURIComponent(String(h).trim().toLowerCase().replace(/\s+/g,"-"))}function n(h){return String(h).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function MarkdownItTOC(h,v){var y;v=Object.assign({},{placeholder:"(\\$\\{toc\\}|\\[\\[?_?toc_?\\]?\\]|\\$\\<toc(\\{[^}]*\\})\\>)",slugify:e,uniqueSlugStartIndex:1,containerClass:"table-of-contents",containerId:void 0,listClass:void 0,itemClass:void 0,linkClass:void 0,level:1,listType:"ol",format:void 0,callback:void 0},v);var _=new RegExp("^"+v.placeholder+"$","i");h.renderer.rules.tocOpen=function(x,w){var S=Object.assign({},v);return x&&w>=0&&(S=Object.assign(S,x[w].inlineOptions)),"<nav"+(S.containerId?' id="'+n(S.containerId)+'"':"")+' class="'+n(S.containerClass)+'">'},h.renderer.rules.tocClose=function(){return"</nav>"},h.renderer.rules.tocBody=function(x,w){var S=Object.assign({},v);x&&w>=0&&(S=Object.assign(S,x[w].inlineOptions));var E,I={},L=Array.isArray(S.level)?(E=S.level,function(O){return E.includes(O)}):function(O){return function(F){return F>=O}}(S.level);return function O(F){var z=S.listClass?' class="'+n(S.listClass)+'"':"",N=S.itemClass?' class="'+n(S.itemClass)+'"':"",H=S.linkClass?' class="'+n(S.linkClass)+'"':"";if(F.c.length===0)return"";var X="";return(F.l===0||L(F.l))&&(X+="<"+(n(S.listType)+z)+">"),F.c.forEach(function(J){L(J.l)?X+="<li"+N+"><a"+H+' href="#'+function(ae){for(var ve=ae,pe=S.uniqueSlugStartIndex;Object.prototype.hasOwnProperty.call(I,ve);)ve=ae+"-"+pe++;return I[ve]=!0,ve}(v.slugify(J.n))+'">'+(typeof S.format=="function"?S.format(J.n,n):n(J.n))+"</a>"+O(J)+"</li>":X+=O(J)}),(F.l===0||L(F.l))&&(X+="</"+n(S.listType)+">"),X}(y)},h.core.ruler.push("generateTocAst",function(x){y=function(w){for(var S={l:0,n:"",c:[]},E=[S],I=0,L=w.length;I<L;I++){var O=w[I];if(O.type==="heading_open"){var F=w[I+1].children.filter(function(N){return N.type==="text"||N.type==="code_inline"}).reduce(function(N,H){return N+H.content},""),z={l:parseInt(O.tag.substr(1),10),n:F,c:[]};if(z.l>E[0].l)E[0].c.push(z),E.unshift(z);else if(z.l===E[0].l)E[1].c.push(z),E[0]=z;else{for(;z.l<=E[0].l;)E.shift();E[0].c.push(z),E.unshift(z)}}}return S}(x.tokens),typeof v.callback=="function"&&v.callback(h.renderer.rules.tocOpen()+h.renderer.rules.tocBody()+h.renderer.rules.tocClose(),y)}),h.block.ruler.before("heading","toc",function(x,w,S,E){var I,L=x.src.slice(x.bMarks[w]+x.tShift[w],x.eMarks[w]).split(" ")[0];if(!_.test(L))return!1;if(E)return!0;var O=_.exec(L),F={};if(O!==null&&O.length===3)try{F=JSON.parse(O[2])}catch{}return x.line=w+1,(I=x.push("tocOpen","nav",1)).markup="",I.map=[w,x.line],I.inlineOptions=F,(I=x.push("tocBody","",0)).markup="",I.map=[w,x.line],I.inlineOptions=F,I.children=[],(I=x.push("tocClose","nav",-1)).markup="",!0},{alt:["paragraph","reference","blockquote"]})}const _sfc_main$a=vue.defineComponent({name:"MarkdownIt",props:{source:{type:String,default:""},anchor:{type:Object,default:()=>({})},breaks:{type:Boolean,default:!1},html:{type:Boolean,default:!1},langPrefix:{type:String,default:"language-"},linkify:{type:Boolean,default:!1},toc:{type:Object,default:()=>({})}},setup(h){const v=vue.ref(),y=()=>{const _=new MarkdownIt().use(b,h.anchor).use(deflist_plugin).use(footnote_plugin).use(MarkdownItTOC,h.toc).set({breaks:h.breaks,html:h.html,langPrefix:h.langPrefix,linkify:h.linkify});v.value=_.render(h.source)};return vue.onMounted(()=>y()),vue.watch(h,y),()=>vue.h("entry",{class:["MarkdownIt"],innerHTML:v.value})}}),_hoisted_1$8={class:"content"},_hoisted_2$5={class:"wrapper"},_sfc_main$9=vue.defineComponent({__name:"PaneExpandable",props:{icon:{}},emits:["expand","collapse"],setup(h,{emit:v}){const y=v,_=vue.ref(!1);function x(){_.value=!0,y("expand")}function w(){_.value=!1,y("collapse")}return(S,E)=>(vue.openBlock(),vue.createElementBlock("div",{class:vue.normalizeClass(["TqPaneExpandable",{open:_.value}]),onPointerenter:x,onPointerleave:w,onPointercancel:w},[vue.createVNode(vue.unref(Icon),{class:"icon",icon:S.icon},null,8,["icon"]),vue.createElementVNode("div",_hoisted_1$8,[vue.createElementVNode("div",_hoisted_2$5,[vue.renderSlot(S.$slots,"default",{},void 0,!0)])])],34))}}),PaneExpandable=_export_sfc(_sfc_main$9,[["__scopeId","data-v-baef648d"]]),_hoisted_1$7={class:"wrapper"},_hoisted_2$4={class:"content"},minimizeThreshold=90,resizeWidth=12,_sfc_main$8=vue.defineComponent({__name:"PaneFloating",props:{name:{},icon:{},position:{default:()=>({anchor:"right-top",width:400,height:400})}},emits:["update:position"],setup(h,{emit:v}){const y=h,_=v,w=useAppConfigStore().ref(`${y.name}.position`,y.position),S=useWindowSize(),E=vue.computed(()=>{const X=w.value;return{"anchor-maximized":X.anchor==="maximized","anchor-top":X.anchor.includes("top"),"anchor-right":X.anchor.includes("right"),"anchor-bottom":X.anchor.includes("bottom"),"anchor-left":X.anchor.includes("left"),"w-minimized":"width"in X&&X.width==="minimized","h-minimized":"height"in X&&X.height==="minimized"}}),I=vue.computed(()=>{const X="width"in w.value?w.value.width:null,J="height"in w.value?w.value.height:null;return{width:typeof X=="number"?X+"px":"",height:typeof J=="number"?J+"px":""}}),L=vue.useTemplateRef("$root"),O=vue.useTemplateRef("$top"),F=vue.useTemplateRef("$right"),z=vue.useTemplateRef("$left"),N=vue.useTemplateRef("$bottom"),H=useElementBounding(L);return vue.watch([S.width,S.height],([X,J])=>{const ae=w.value;"width"in ae&&typeof ae.width=="number"&&ae.width>X&&(w.value={...ae,width:X}),"height"in ae&&typeof ae.height=="number"&&ae.height>J&&(w.value={...ae,height:J})}),vue.onMounted(()=>{if(!O.value||!F.value||!z.value||!N.value)return;pointer(z.value).drag({pointerCapture:!0,preventDefault:!0}).on(de=>J(de,!0)),pointer(F.value).drag({pointerCapture:!0,preventDefault:!0}).on(de=>J(de,!1));let X=0;function J(de,ce){const V=w.value;de.type==="down"&&(X=H.width.value);const ie=ce?-1:1,ke=Math.round(X+(de.current[0]-de.start[0])*ie);if(ke<=minimizeThreshold)"width"in V&&(w.value={...V,width:"minimized"});else if(ke>=window.innerWidth-resizeWidth)V.anchor==="right"||V.anchor==="left"?w.value={anchor:"maximized"}:V.anchor==="right-top"||V.anchor==="left-top"?w.value={anchor:"top",height:V.height}:(V.anchor==="right-bottom"||V.anchor==="left-bottom")&&(w.value={anchor:"bottom",height:V.height});else if("width"in V)w.value={...V,width:ke};else{const be=ce?"right":"left";V.anchor==="maximized"?w.value={anchor:be,width:ke}:(V.anchor==="top"||V.anchor==="bottom")&&(w.value={anchor:`${be}-${V.anchor}`,width:ke,height:V.height})}}let ae=0;const ve=vue.computed(()=>S.height.value-parseFloat(useCssVar("--titlebar-area-height").value??"0"));pointer(O.value).drag({pointerCapture:!0,preventDefault:!0}).on(de=>pe(de,!0)),pointer(N.value).drag({pointerCapture:!0,preventDefault:!0}).on(de=>pe(de,!1));function pe(de,ce){const V=w.value;de.type==="down"&&(ae=H.height.value);const ie=ce?-1:1,ke=Math.round(ae+(de.current[1]-de.start[1])*ie);if(ke<=minimizeThreshold)"height"in V&&(w.value={...V,height:"minimized"});else if(ke>=ve.value-resizeWidth)V.anchor==="top"||V.anchor==="bottom"?w.value={anchor:"maximized"}:V.anchor==="right-top"||V.anchor==="right-bottom"?w.value={anchor:"right",width:V.width}:(V.anchor==="left-top"||V.anchor==="left-bottom")&&(w.value={anchor:"left",width:V.width});else if("height"in V)w.value={...V,height:ke};else{const be=ce?"bottom":"top";V.anchor==="maximized"?w.value={anchor:be,height:ke}:(V.anchor==="right"||V.anchor==="left")&&(w.value={anchor:`${V.anchor}-${be}`,width:V.width,height:ke})}}}),vue.watch(w,X=>_("update:position",X)),(X,J)=>(vue.openBlock(),vue.createElementBlock("div",{ref_key:"$root",ref:L,class:vue.normalizeClass(["TqPaneFloating",E.value]),style:vue.normalizeStyle(I.value)},[vue.createElementVNode("div",{ref_key:"$top",ref:O,class:"resize top"},null,512),vue.createElementVNode("div",{ref_key:"$right",ref:F,class:"resize right"},null,512),vue.createElementVNode("div",{ref_key:"$left",ref:z,class:"resize left"},null,512),vue.createElementVNode("div",{ref_key:"$bottom",ref:N,class:"resize bottom"},null,512),X.icon?(vue.openBlock(),vue.createBlock(vue.unref(Icon),{key:0,class:"minimized-title",icon:X.icon},null,8,["icon"])):vue.createCommentVNode("",!0),vue.createElementVNode("div",_hoisted_1$7,[vue.createElementVNode("div",_hoisted_2$4,[vue.renderSlot(X.$slots,"default",{},void 0,!0)])])],6))}}),PaneFloating=_export_sfc(_sfc_main$8,[["__scopeId","data-v-30869509"]]),_hoisted_1$6={class:"second"},_sfc_main$7=vue.defineComponent({__name:"PaneSplit",props:{name:{},direction:{},size:{default:50},scroll:{default:()=>[!0,!0]}},setup(h){const v=h,y=useAppConfigStore(),_=vue.useTemplateRef("$root"),x=vue.useTemplateRef("$divider"),w=useElementSize(_),S=vue.computed(()=>v.direction==="horizontal"?w.width.value:w.height.value),E=y.ref(`${v.name}.width`,v.size),I=vue.computed(()=>({[v.direction==="horizontal"?"width":"height"]:`${E.value}%`}));return vue.onMounted(()=>{if(!x.value)return;let L=0;pointer(x.value).drag({pointerCapture:!0}).on(({type:O,delta:F})=>{O==="down"&&(L=E.value);const z=v.direction==="horizontal"?F[0]:F[1];L+=z/S.value*100,E.value=clamp$3(L,10,90)})}),(L,O)=>(vue.openBlock(),vue.createElementBlock("div",{ref_key:"$root",ref:_,class:vue.normalizeClass(["TqPaneSplit",L.direction])},[vue.createElementVNode("div",{class:"first",style:vue.normalizeStyle(I.value)},[vue.createElementVNode("div",{class:vue.normalizeClass(["first-wrapper",{scroll:L.scroll[0]}])},[vue.renderSlot(L.$slots,"first",{},void 0,!0)],2)],4),vue.createElementVNode("div",{ref_key:"$divider",ref:x,class:"divider"},null,512),vue.createElementVNode("div",{class:vue.normalizeClass(["second-wrapper",{scroll:L.scroll[1]}])},[vue.createElementVNode("div",_hoisted_1$6,[vue.renderSlot(L.$slots,"second",{},void 0,!0)])],2)],2))}}),PaneSplit=_export_sfc(_sfc_main$7,[["__scopeId","data-v-5fcd134f"]]);function useZUI(h,v){useBndr(h,y=>{const _=pointer(y),x=keyboard$1(),w=_.left.pressed({pointerCapture:!0}),S=_.position({coordinate:"offset"}),E=_.scroll({preventDefault:!0,stopPropagation:!0,capture:!0}),I=x.pressed("option"),L=_.middle.drag({pointerCapture:!0}).map(H=>H.delta),O=E.map(vec2$1.negate).while(I.not(),!1);combine$1(L,O).map(mat2d$1.fromTranslation).on(v);const F=E.while(I,!1).map(([,H])=>-H),z=_.pinch().map(H=>-2*H),N=S.stash(combine$1(w.down(),E.constant(!0),z.constant(!0)));combine$1(F,z).map(H=>mat2d$1.fromScaling(vec2$1.of(1.003**H),N.value)).on(v)})}const _sfc_main$6=vue.defineComponent({__name:"PaneZUI",props:{transform:{},background:{}},emits:["update:transform","update:visibleRect","update:size"],setup(h,{emit:v}){const y=h,_=v,x=vue.useTemplateRef("$root"),{width:w,height:S}=useElementBounding(x),E=vue.shallowRef(mat2d$1.I),I=vue.computed(()=>[w.value,S.value]);vue.watchEffect(()=>{_("update:size",I.value)}),vue.watch(()=>y.transform,z=>{E.value=z??mat2d$1.I}),vue.watch(E,z=>{z!==y.transform&&_("update:transform",z)}),vue.watchEffect(()=>{const z=mat2d$1.inv(E.value)??mat2d$1.I,N=vec2$1.transformMat2d([0,0],z),H=vec2$1.transformMat2d([w.value,S.value],z);_("update:visibleRect",[N,H])}),useZUI(x,z=>{E.value=mat2d$1.mul(z,E.value)});const L=vue.computed(()=>{const[z,,,N]=E.value;return(z+N)/2}),O=vue.computed(()=>{const[z,,,N,H,X]=E.value,J=20;return{opacity:`${scalar$1.smoothstep(.1,.4,L.value)*100}%`,backgroundPosition:`${H}px ${X}px`,backgroundSize:`${J*z}px ${J*N}px`}}),F=vue.computed(()=>({transform:`matrix(${E.value.join(",")})`}));return(z,N)=>(vue.openBlock(),vue.createElementBlock("div",{ref_key:"$root",ref:x,class:vue.normalizeClass(["TqPaneZUI",{dots:z.background==="dots"}])},[z.background==="dots"?(vue.openBlock(),vue.createElementBlock("div",{key:0,class:"dots",style:vue.normalizeStyle(O.value)},null,4)):vue.createCommentVNode("",!0),vue.createElementVNode("div",{class:"transform",style:vue.normalizeStyle(F.value)},[vue.renderSlot(z.$slots,"default",{},void 0,!0)],4)],2))}}),PaneZUI=_export_sfc(_sfc_main$6,[["__scopeId","data-v-280158ec"]]),_hoisted_1$5={class:"content"},_sfc_main$5=vue.defineComponent({__name:"Ruler",props:{range:{},scales:{}},emits:["drag"],setup(h,{emit:v}){const y=h,_=v,x=vue.ref(null),{width:w}=useElementBounding(x);function S(){const z=Math.ceil(y.range[0]),N=Math.floor(y.range[1]);return range$1(z,N+1).map(H=>({value:H}))}const E=vue.computed(()=>w.value/(y.range[1]-y.range[0])),I=vue.computed(()=>({"background-size":`${E.value}px 100%`,"background-position":`${-y.range[0]*E.value}px 0`})),L=vue.computed(()=>y.scales??S());function O(z){return{transform:`translateX(${F(z.value)}px)`,opacity:z.opacity??1}}function F(z){return(z-y.range[0])*E.value}return useBndr(x,z=>{pointer(z).drag({pointerCapture:!0,coordinate:"offset"}).on(N=>{const H=N.current[0],X=scalar$1.fit(H,0,w.value,...y.range);_("drag",X)})}),(z,N)=>(vue.openBlock(),vue.createElementBlock("div",{ref_key:"$root",ref:x,class:"TqRuler",style:vue.normalizeStyle(I.value)},[vue.createElementVNode("div",_hoisted_1$5,[vue.renderSlot(z.$slots,"default",{},void 0,!0)]),(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(L.value,H=>(vue.openBlock(),vue.createElementBlock("div",{key:H.value,class:"scale",style:vue.normalizeStyle(O(H))},vue.toDisplayString(H.label??H.value),5))),128))],4))}}),Ruler=_export_sfc(_sfc_main$5,[["__scopeId","data-v-4707088b"]]),AddTabKey=Symbol("addTab"),UpdateTabKey=Symbol("updateTab"),DeleteTabKey=Symbol("deleteTab"),TabsProviderKey=Symbol("tabsProvider");function injectStrict(h,v){const y=vue.inject(h,v);if(typeof y>"u")throw new Error(`Could not resolve ${h.description}`);return y}const _hoisted_1$4=["id","data-tab-id","aria-hidden"],_sfc_main$4=vue.defineComponent({__name:"Tab",props:{id:{default:void 0},name:{},isDisabled:{type:Boolean,default:!1}},setup(h){const v=h,y=injectStrict(TabsProviderKey),_=injectStrict(AddTabKey),x=injectStrict(UpdateTabKey),w=injectStrict(DeleteTabKey),S=vue.computed(()=>v.id?v.id:v.name.toLowerCase().replace(/ /g,"-")),E=vue.computed(()=>S.value+"-pane"),I=vue.computed(()=>S.value===y.activeId);return vue.watch(()=>Object.assign({},v),()=>{x(S.value,{name:v.name,isDisabled:v.isDisabled,id:S.value,paneId:E.value})}),vue.onBeforeMount(()=>{_({name:v.name,isDisabled:v.isDisabled,id:S.value,paneId:E.value})}),vue.onBeforeUnmount(()=>{w(S.value)}),(L,O)=>vue.withDirectives((vue.openBlock(),vue.createElementBlock("section",{id:E.value,ref:"tab",class:"TqTab","data-tab-id":S.value,"aria-hidden":!I.value,role:"tabpanel",tabindex:"-1"},[vue.renderSlot(L.$slots,"default",{},void 0,!0)],8,_hoisted_1$4)),[[vue.vShow,I.value]])}}),Tab=_export_sfc(_sfc_main$4,[["__scopeId","data-v-c958b492"]]),_hoisted_1$3={class:"TqTabs"},_hoisted_2$3={class:"tablist-wrapper"},_hoisted_3$3={clas:"before-tablist"},_hoisted_4$2={role:"tablist",class:"tablist"},_hoisted_5$2=["aria-controls","aria-selected","onClick"],_hoisted_6={class:"panels-wrapper"},_sfc_main$3=vue.defineComponent({__name:"Tabs",props:{name:{},options:{}},emits:["changed","clicked"],setup(h,{emit:v}){const y=h,_=v,x=vue.reactive({activeId:"",lastActiveId:"",tabs:[]});vue.provide(TabsProviderKey,x),vue.provide(AddTabKey,L=>{x.tabs.push(L)}),vue.provide(UpdateTabKey,(L,O)=>{const F=x.tabs.findIndex(z=>z.id===L);O.isActive=x.tabs[F].isActive,x.tabs[F]=O}),vue.provide(DeleteTabKey,L=>{const O=x.tabs.findIndex(F=>F.id===L);x.tabs.splice(O,1)});const S=useAppConfigStore().ref(`${y.name}.active`,null),E=(L,O)=>{const F=I(L);if(F){if(O&&F.isDisabled){O.preventDefault();return}if(x.lastActiveId===F.id){_("clicked",F);return}x.tabs.forEach(z=>{z.isActive=z.id===F.id}),_("changed",F),x.lastActiveId=x.activeId=F.id,S.value=F.id}},I=L=>x.tabs.find(O=>O.id===L);return vue.onMounted(()=>{var L;if(x.tabs.length){if(S.value!==null&&I(S.value)){E(S.value);return}if((L=y.options)!=null&&L.defaultTabId&&I(y.options.defaultTabId)){E(y.options.defaultTabId);return}E(x.tabs[0].id)}}),(L,O)=>(vue.openBlock(),vue.createElementBlock("div",_hoisted_1$3,[vue.createElementVNode("div",_hoisted_2$3,[vue.createElementVNode("div",_hoisted_3$3,[vue.renderSlot(L.$slots,"before-tablist",{},void 0,!0)]),vue.createElementVNode("ul",_hoisted_4$2,[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(x.tabs,(F,z)=>(vue.openBlock(),vue.createElementBlock("li",{key:z,class:vue.normalizeClass(["tablist-item",{disabled:F.isDisabled,active:F.isActive}]),role:"presentation"},[vue.createElementVNode("a",{class:vue.normalizeClass(["tablist-link",{disabled:F.isDisabled,active:F.isActive}]),role:"tab","aria-controls":F.paneId,"aria-selected":F.isActive,tabindex:"0",onClick:N=>E(F.id,N)},vue.toDisplayString(F.name),11,_hoisted_5$2)],2))),128))])]),vue.createElementVNode("div",_hoisted_6,[vue.renderSlot(L.$slots,"default",{},void 0,!0)])]))}}),Tabs=_export_sfc(_sfc_main$3,[["__scopeId","data-v-d0cdd775"]]),_hoisted_1$2={class:"TqTimeline"},_hoisted_2$2={class:"container"},_hoisted_3$2={ref:"$scrollbar",class:"scrollbar"},_sfc_main$2=vue.defineComponent({__name:"Timeline",props:{frameRange:{},frameWidth:{default:60},frameWidthRange:{default:()=>[10,100]}},emits:["update:frameWidth"],setup(h,{expose:v,emit:y}){const _=h,x=vue.shallowRef(_.frameRange??[0,1]),w=vue.computed(()=>{const[H,X]=_.frameRange,[J,ae]=x.value;return[Math.max(Math.floor(J),H),Math.min(Math.ceil(ae),X)]}),S=y,E=vue.useTemplateRef("$root"),{width:I}=useElementBounding(E);useBndr(E,H=>{const X=pointer(H),J=X.scroll(),ae=X.position({coordinate:"offset"}).map(([pe])=>pe),ve=keyboard$1().pressed("option");J.on(([pe,de])=>{if(ve.value){let ce=1.003**de;const V=clamp$3(_.frameWidth*ce,..._.frameWidthRange);ce=V/_.frameWidth;const[ie,ke]=x.value,be=scalar$1.fit(ae.value??0,0,I.value,ie,ke);S("update:frameWidth",V),x.value=[be-(be-ie)/ce,be+(ke-be)/ce]}else{const ce=pe/_.frameWidth;x.value=vec2$1.add(x.value,[ce,ce])}})});const L=vue.computed(()=>{const H=(x.value[1]-x.value[0])/(_.frameRange[1]-_.frameRange[0]),X=scalar$1.invlerp(_.frameRange[0],_.frameRange[1],x.value[0]);return{width:toPercent(Math.min(H,1)),left:toPercent(X)}});vue.watch(()=>[I.value,_.frameWidth],([H,X])=>{const[J]=x.value;x.value=[J,J+H/X]});function O(H){const[X,J]=typeof H=="number"?[H,H+1]:H,ae=x.value[1]-x.value[0];X<x.value[0]&&x.value[1]<J?x.value=[X,J]:X<x.value[0]?x.value=[X,X+ae]:x.value[1]<J&&(x.value=[J-ae,J])}v({showRange:O});function F(H){return(H-x.value[0])*_.frameWidth}function z(H){const[X,J]=typeof H=="number"?[H,H+1]:H,ae=F(X),ve=(J-X+1)*_.frameWidth;return{transform:`translateX(${ae}px)`,width:`${ve}px`}}function N(H){return{transform:`translateX(${F(H)}px)`}}return(H,X)=>(vue.openBlock(),vue.createElementBlock("div",_hoisted_1$2,[vue.createElementVNode("div",_hoisted_2$2,[vue.createElementVNode("div",{ref_key:"$root",ref:E,class:"fixed"},[vue.renderSlot(H.$slots,"default",{range:x.value,visibleFrameRange:w.value,rangeStyle:z,offsetStyle:N},void 0,!0)],512)]),vue.createElementVNode("div",_hoisted_3$2,[vue.createElementVNode("div",{ref:"$knob",class:"knob",style:vue.normalizeStyle(L.value)},null,4)],512)]))}}),Timeline=_export_sfc(_sfc_main$2,[["__scopeId","data-v-8ac0e344"]]),_hoisted_1$1={class:"TqMenu"},_hoisted_2$1=["onClick","onPointerenter"],_hoisted_3$1={key:1},_hoisted_4$1={class:"label-container"},_hoisted_5$1={class:"label"},_sfc_main$1=vue.defineComponent({__name:"Menu",props:{items:{}},setup(h){const v=h,y=useThemeStore(),_=vue.ref(-1),x=vue.useTemplateRef("$lists"),w=vue.computed(()=>{var E;return _.value===-1?null:((E=x.value)==null?void 0:E[_.value])??null}),S=vue.computed(()=>v.items[_.value].children??null);return(E,I)=>{const L=vue.resolveComponent("Menu",!0),O=vue.resolveDirective("close-popper");return vue.openBlock(),vue.createElementBlock(vue.Fragment,null,[vue.createElementVNode("ul",_hoisted_1$1,[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(E.items,(F,z)=>vue.withDirectives((vue.openBlock(),vue.createElementBlock("li",{ref_for:!0,ref_key:"$lists",ref:x,key:z+"_item",class:"menu",onClick:N=>{var H;return(H=F.perform)==null?void 0:H.call(F)},onPointerenter:N=>_.value=z},[F.icon?(vue.openBlock(),vue.createBlock(vue.unref(Icon),{key:0,class:"icon",icon:F.icon},null,8,["icon"])):(vue.openBlock(),vue.createElementBlock("span",_hoisted_3$1)),vue.createElementVNode("div",_hoisted_4$1,[vue.createElementVNode("span",_hoisted_5$1,vue.toDisplayString(F.shortLabel??F.label),1),"bindIcon"in F&&F.bindIcon?(vue.openBlock(),vue.createBlock(vue.unref(BindIcon),{key:0,class:"bind-icon",icon:F.bindIcon},null,8,["icon"])):vue.createCommentVNode("",!0),"children"in F?(vue.openBlock(),vue.createBlock(vue.unref(Icon),{key:1,class:"group-chevron",icon:"mdi:chevron-right"})):vue.createCommentVNode("",!0)])],40,_hoisted_2$1)),[[O,void 0,void 0,{all:!0}]])),128))]),w.value&&S.value?(vue.openBlock(),vue.createBlock(Popover,{key:0,reference:w.value,placement:"right-start",open:!0,offset:{crossAxis:-vue.unref(y).popupPadding},lightDismiss:!1},{default:vue.withCtx(()=>[vue.createVNode(L,{items:S.value},null,8,["items"])]),_:1},8,["reference","offset"])):vue.createCommentVNode("",!0)],64)}}}),Menu=_export_sfc(_sfc_main$1,[["__scopeId","data-v-ec6b6524"]]),_hoisted_1={class:"TqTitleBar"},_hoisted_2={class:"left"},_hoisted_3={class:"app-name"},_hoisted_4={class:"center"},_hoisted_5={class:"right"},_sfc_main=vue.defineComponent({__name:"TitleBar",props:{name:{},icon:{}},setup(h){const v=useActionsStore(),y=vue.useTemplateRef("appIcon"),_=vue.useTemplateRef("appMenu"),x=vue.ref(!1);function w(E){var I;return"perform"in E?{...E,bindIcon:(I=E.bind)==null?void 0:I.icon}:{...E,children:E.children.map(w)}}const S=vue.computed(()=>v.menu.map(w));return(E,I)=>(vue.openBlock(),vue.createElementBlock("div",_hoisted_1,[vue.createElementVNode("div",_hoisted_2,[vue.createVNode(vue.unref(ColorIcon),{ref_key:"appIcon",ref:y,class:vue.normalizeClass(["app-icon",{shown:x.value}]),src:E.icon,onClick:I[0]||(I[0]=L=>x.value=!x.value)},null,8,["src","class"]),vue.createVNode(vue.unref(Popover),{reference:y.value,placement:"bottom-start",open:x.value,"onUpdate:open":I[1]||(I[1]=L=>x.value=L)},{default:vue.withCtx(()=>[x.value?(vue.openBlock(),vue.createBlock(vue.unref(Menu),{key:0,ref_key:"appMenu",ref:_,items:S.value},null,8,["items"])):vue.createCommentVNode("",!0)]),_:1},8,["reference","open"]),vue.createElementVNode("span",_hoisted_3,vue.toDisplayString(E.name),1),vue.renderSlot(E.$slots,"left",{},void 0,!0)]),vue.createElementVNode("div",_hoisted_4,[vue.renderSlot(E.$slots,"center",{},void 0,!0)]),vue.createElementVNode("div",_hoisted_5,[vue.renderSlot(E.$slots,"right",{},void 0,!0)])]))}}),TitleBar=_export_sfc(_sfc_main,[["__scopeId","data-v-9f097f74"]]);exports.App=App,exports.ColorIcon=ColorIcon,exports.CommandPalette=CommandPalette,exports.Icon=Icon,exports.IconIndicator=IconIndicator,exports.InputAngle=InputAngle,exports.InputButton=InputButton,exports.InputButtonToggle=InputButtonToggle,exports.InputCheckbox=InputCheckbox,exports.InputCode=InputCode,exports.InputColor=InputColor,exports.InputColorPad=InputColorPad,exports.InputColorPicker=InputColorPicker,exports.InputComplex=_sfc_main$p,exports.InputCubicBezier=InputCubicBezier,exports.InputCubicBezierPicker=InputCubicBezierPicker,exports.InputDropdown=InputDropdown,exports.InputGroup=InputGroup,exports.InputNumber=InputNumber,exports.InputPosition=InputPosition,exports.InputRadio=InputRadio,exports.InputRotary=InputRotary,exports.InputSeed=InputSeed,exports.InputSize=InputSize,exports.InputString=_sfc_main$J,exports.InputSwitch=InputSwitch,exports.InputTime=InputTime,exports.InputTranslate=InputTranslate,exports.InputVec=_sfc_main$x,exports.Markdown=_sfc_main$a,exports.MonacoEditor=MonacoEditor,exports.MultiSelectPopup=MultiSelectPopup,exports.PaneExpandable=PaneExpandable,exports.PaneFloating=PaneFloating,exports.PaneModal=PaneModal,exports.PaneModalComplex=PaneModalComplex,exports.PaneSplit=PaneSplit,exports.PaneZUI=PaneZUI,exports.Parameter=Parameter,exports.ParameterGrid=ParameterGrid,exports.ParameterGroup=ParameterGroup,exports.ParameterHeading=ParameterHeading,exports.Popover=Popover,exports.Ruler=Ruler,exports.Tab=Tab,exports.Tabs=Tabs,exports.Timeline=Timeline,exports.TitleBar=TitleBar,exports.Viewport=_sfc_main$_,exports.getNumberPresition=getNumberPresition,exports.initTweeq=initTweeq,exports.isDecendantElementOf=isDecendantElementOf,exports.nodeContains=nodeContains,exports.precisionOf=precisionOf,exports.toFixed=toFixed,exports.toPercent=toPercent,exports.unsignedMod=unsignedMod,exports.useBndr=useBndr,exports.useTweeq=useTweeq,Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})});
