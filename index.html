<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Explorations at the Edge of Form and Meaning</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Brazilian Jiu-Jitsu, astrophotography, mathematics, physics, effective altruism, phenomenology, meditation, and design—woven into a single practice.">
  <meta name="robots" content="index, follow">
  <meta name="color-scheme" content="light dark">
  <meta name="theme-color" content="#FFFBF5">
  <script>
    // Pre-paint theme setter to avoid FOUC: enforce new themes with legacy mapping
    (function () {
      try {
        var d = document.documentElement;
        var key = 'theme-preference';
        var stored = null;
        try { stored = localStorage.getItem(key); } catch (_) {}

        // New canonical themes (v2)
        var NEW = { sunsetGlow: 1, midnightAurora: 1, forestMist: 1, cosmicDust: 1, oceanBreeze: 1 };

        // Legacy → New theme mapping
        var LEGACY_MAP = {
          // very old keys
          spice: 'sunsetGlow',
          holi: 'sunsetGlow',
          heritage: 'midnightAurora',
          dark: 'midnightAurora',
          light: 'sunsetGlow',
          // recent legacy keys
          saffronSunrise: 'sunsetGlow',
          indigoMidnight: 'midnightAurora',
          spiceOxide: 'sunsetGlow',
          rajasthanHoli: 'sunsetGlow',
          templeHeritage: 'midnightAurora'
        };

        if (!NEW[stored]) {
          // Try legacy storage key first
          var legacy = null; try { legacy = localStorage.getItem('theme'); } catch(_) {}
          if (legacy && LEGACY_MAP[legacy]) {
            stored = LEGACY_MAP[legacy];
            try { localStorage.setItem(key, stored); localStorage.removeItem('theme'); } catch(_) {}
          } else if (LEGACY_MAP[stored]) {
            // Map known-but-legacy current value
            stored = LEGACY_MAP[stored];
            try { localStorage.setItem(key, stored); } catch(_) {}
          } else {
            // Fallback to system preference
            var mql = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)');
            stored = (mql && mql.matches) ? 'midnightAurora' : 'sunsetGlow';
          }
        }

        d.setAttribute('data-theme', stored);
        d.classList.remove('dark'); // remove legacy class if present
      } catch (_) {}
    })();
  </script>

  <!-- Canonical (update href after deploy if using a custom domain) -->
  <link rel="canonical" href="https://example.netlify.app/">

  <!-- Open Graph -->
  <meta property="og:title" content="Explorations at the Edge of Form and Meaning">
  <meta property="og:description" content="Brazilian Jiu-Jitsu, astrophotography, mathematics, physics, effective altruism, phenomenology, meditation, and design—woven into a single practice.">
  <meta property="og:image" content="https://example.netlify.app/assets/og/og-image.png">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://example.netlify.app/">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Explorations at the Edge of Form and Meaning">
  <meta name="twitter:description" content="Brazilian Jiu-Jitsu, astrophotography, mathematics, physics, effective altruism, phenomenology, meditation, and design—woven into a single practice.">
  <meta name="twitter:image" content="https://example.netlify.app/assets/og/og-image.png">

  <link rel="icon" href="/assets/icons/favicon.png" type="image/png">

  <!-- Styles -->
  <link rel="stylesheet" href="./css/styles.css">
  <link rel="stylesheet" href="./css/themes.css">
  <link rel="stylesheet" href="./css/utilities.css">

  <!-- Fonts (consider self-hosting in production) -->
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fraunces:wght@600;700&display=swap" rel="stylesheet">
</head>
<body>
<!-- Fixed gradient mesh background layer -->
<div class="gradient-mesh" aria-hidden="true" style="position: fixed; inset: 0; z-index: 0; opacity: 0.08; pointer-events: none;"></div>
  <a class="skip-link" href="#main">Skip to content</a>
  <header class="site-header glass">
    <div class="container header-inner">
      <div class="brand">
        <a href="/" class="brand-link" aria-label="Go to home">
          <img class="brand-logo" src="./assets/icons/favicon.png" alt="Nishit logo" width="28" height="28" decoding="async">
          <h1 class="brand-title">
            <span class="brand-fixed">Nishit</span>
          </h1>
        </a>
      </div>
      <nav class="site-nav" aria-label="Site navigation">
        <div class="site-actions" style="display:flex;align-items:center;gap:18px;">
          <!-- Theme switcher (left within actions) -->
          <div class="theme-switcher" aria-label="Theme switcher">
            <div role="group" aria-label="Select color theme" class="theme-switcher-group" style="display:flex;gap:14px;align-items:center;">
              <!-- ThemeProvider will render a toggle button here -->
            </div>
          </div>
          <!-- Streams icon/link -->
          <a href="/pages/microblog.html"
             class="cv-link-header"
             aria-label="Open Streams (microblog)"
             title="Streams">
            <!-- stream icon -->
            <svg width="20" height="20" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
              <use href="#pencil"></use>
            </svg>
          </a>

          <!-- CV link (right-most) as document icon -->
          <a href="/assets/Nishit_cv.pdf"
             class="cv-link-header"
             target="_blank"
             rel="noopener noreferrer"
             aria-label="Open CV PDF in a new tab"
             title="CV (PDF)">
            <!-- document icon -->
            <svg width="20" height="20" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
              <path fill="currentColor" d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zM13 9V3.5L18.5 9H13z"/>
            </svg>
          </a>
        </div>
      </nav>
    </div>
  </header>

  <!-- Floating Theme Toggle Button removed per request -->

  <main id="main" class="site-main">
    <section class="section hero" aria-labelledby="hero-title">
      <h2 id="hero-title" class="visually-hidden">Hero</h2>
      <div class="hero-media gradient-overlay gradient-animate">
        <video
          id="hero-video"
          class="hero-video"
          autoplay
          muted
          loop
          playsinline
          preload="metadata"
          aria-hidden="true"
          width="1920"
          height="1080"
        >
          <source src="./assets/video/hero_post.mp4" type="video/mp4">
          Your browser does not support the video tag.
        </video>


      </div>
    </section>

    <section class="section about gradient-overlay" id="about" aria-labelledby="about-title">
      <div class="container narrow">
        <h2 id="about-title">About</h2>
        <p>I build a life of inquiry across body, mind, and world. On the mat, under a sky full of signal, at the whiteboard, and in the studio, I iterate. My work blends rigor and intuition: test, observe, refine. Minimal surfaces, bold edges, clear structure—then a single detail that turns the image.</p>
      </div>
    </section>

    <section class="section topics" aria-labelledby="topics-title">
      <div class="container">
        <h2 id="topics-title">Interests</h2>

        <!-- Netflix-style Infinite Horizontal Scroller -->
        <section id="showcase-carousel" class="nf-row" aria-labelledby="topics-title">
          <div class="nf-viewport" role="region" aria-label="Interests carousel">
            <div class="nf-track" role="list">
              <!-- Cards injected by JS; fallback for no-JS: -->
              <div class="nf-card" role="listitem" tabindex="0" aria-label="Meditation">
                <img class="poster" src="./assets/posters/meditation.png" alt="Meditation poster" decoding="async" loading="eager">
                <div class="nf-overlay">
                  <div class="nf-title">Meditation</div>
                  <div class="nf-sub">Awareness as Craft</div>
                </div>
              </div>
              <div class="nf-card" role="listitem" tabindex="-1" aria-label="Brazilian Jiu‑Jitsu">
                <img class="poster" src="./assets/posters/bjj.png" alt="Brazilian Jiu‑Jitsu poster" decoding="async" loading="lazy">
                <div class="nf-overlay">
                  <div class="nf-title">Brazilian Jiu‑Jitsu</div>
                  <div class="nf-sub">Dialogue in Movement</div>
                </div>
              </div>
              <div class="nf-card" role="listitem" tabindex="-1" aria-label="Photography">
                <img class="poster" src="./assets/posters/astro.png" alt="Photography poster" decoding="async" loading="lazy">
                <div class="nf-overlay">
                  <div class="nf-title">Photography</div>
                  <div class="nf-sub">The Art of Noticing</div>
                </div>
              </div>
            </div>
          </div>
        </section>
      </div>
    </section>




  </main>

  <footer class="site-footer">
    <div class="container footer-inner">
      <p>Contact: <a href="mailto:imayreply@vyakart.com" aria-label="Email: imayreply@vyakart.com">imayreply@vyakart.com</a></p>

    </div>
  </footer>

  <!-- Defer scripts: ThemeProvider first, then main -->
  <script src="./js/theme-provider.js" defer></script>
  <script src="./js/main.js" defer></script>
  <script src="./js/terminal.js" defer></script>
</body>
</html>