<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Dāna — Donate</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Dāna — fuel for connection. Support the library, fieldwork, and community spaces.">
  <meta name="robots" content="index, follow">
  <meta name="color-scheme" content="light dark">
  <meta name="theme-color" content="#FFFBF5">
  <link rel="icon" href="/assets/icons/favicon.svg" type="image/svg+xml">

  <script>
    // Pre-paint theme setter to avoid FOUC
    (function () {
      try {
        var d = document.documentElement;
        var key = 'theme-preference';
        var stored = null;
        try { stored = localStorage.getItem(key); } catch (_) {}

        var NEW = { sunsetGlow: 1, midnightAurora: 1, forestMist: 1, cosmicDust: 1, oceanBreeze: 1 };
        var LEGACY_MAP = {
          spice: 'sunsetGlow',
          holi: 'sunsetGlow',
          heritage: 'midnightAurora',
          dark: 'midnightAurora',
          light: 'sunsetGlow',
          saffronSunrise: 'sunsetGlow',
          indigoMidnight: 'midnightAurora',
          spiceOxide: 'sunsetGlow',
          rajasthanHoli: 'sunsetGlow',
          templeHeritage: 'midnightAurora'
        };

        if (!NEW[stored]) {
          var legacy = null; try { legacy = localStorage.getItem('theme'); } catch(_) {}
          if (legacy && LEGACY_MAP[legacy]) {
            stored = LEGACY_MAP[legacy];
            try { localStorage.setItem(key, stored); localStorage.removeItem('theme'); } catch(_) {}
          } else if (LEGACY_MAP[stored]) {
            stored = LEGACY_MAP[stored];
            try { localStorage.setItem(key, stored); } catch(_) {}
          } else {
            var mql = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)');
            stored = (mql && mql.matches) ? 'midnightAurora' : 'sunsetGlow';
          }
        }

        d.setAttribute('data-theme', stored);
        d.classList.remove('dark');
      } catch (_) {}
    })();
  </script>

  <!-- Base styles + page styles (bundled + hashed) -->
  <link rel="stylesheet" href="/dist/css/styles-HUUNELUM.css">
  <link rel="preload" href="/dist/css/themes-TMRW55YK.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <link rel="preload" href="/dist/css/utilities-Q46L33KO.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <link rel="preload" href="/dist/css/donate-AGTA66K6.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript>
    <link rel="stylesheet" href="/dist/css/themes-TMRW55YK.css">
    <link rel="stylesheet" href="/dist/css/utilities-Q46L33KO.css">
    <link rel="stylesheet" href="/dist/css/donate-AGTA66K6.css">
  </noscript>

  <!-- Open Graph -->
  <meta property="og:title" content="Dāna — Donate">
  <meta property="og:description" content="Fuel the library, fieldwork, and community spaces. No paywalls—give only if it feels right.">
  <meta property="og:image" content="https://example.netlify.app/assets/og/og-image.png">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://example.netlify.app/pages/donate.html">
  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Dāna — Donate">
  <meta name="twitter:description" content="Fuel the library, fieldwork, and community spaces.">
  <meta name="twitter:image" content="https://example.netlify.app/assets/og/og-image.png">
</head>
<body>
  <div class="gradient-mesh" aria-hidden="true" style="position: fixed; inset: 0; z-index: 0; opacity: 0.08; pointer-events: none;"></div>
  <a class="skip-link" href="#main">Skip to content</a>

  <!-- Header (mirrors main site) -->
  <header class="site-header glass">
    <div class="container header-inner">
      <div class="brand">
        <a href="/" class="brand-link" aria-label="Go to home">
          <img class="brand-logo" src="/assets/icons/favicon.svg" alt="Nishit logo" width="28" height="28" decoding="async">
          <h1 class="brand-title">
            <span class="brand-fixed">Nishit</span>
          </h1>
        </a>
      </div>
      <nav class="site-nav" aria-label="Site navigation">
        <div class="site-actions" style="display:flex;align-items:center;gap:18px;">
          <div class="theme-switcher" aria-label="Theme switcher">
            <div role="group" aria-label="Select color theme" class="theme-switcher-group" style="display:flex;gap:14px;align-items:center;"></div>
          </div>
          <!-- Streams -->
          <a href="/pages/microblog.html" class="cv-link-header" aria-label="Open Streams (microblog)" title="Streams">
            <svg width="20" height="20" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><use href="#pencil"></use></svg>
          </a>
          <!-- CV -->
          <a href="/assets/Nishit_cv.pdf" class="cv-link-header" target="_blank" rel="noopener noreferrer" aria-label="Open CV PDF in a new tab" title="CV (PDF)">
            <svg width="20" height="20" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
              <path fill="currentColor" d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zM13 9V3.5L18.5 9H13z"/>
            </svg>
          </a>
          <!-- Donate (current page) -->
          <a href="/pages/donate.html" class="cv-link-header" aria-current="page" aria-label="Donate" title="Donate">
            <svg width="20" height="20" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
              <path fill="currentColor" d="M12.1 21.35l-1.1-.99C5.14 15.24 2 12.36 2 8.98 2 6.5 4.02 4.5 6.5 4.5c1.54 0 3.04.73 3.98 1.87A5.16 5.16 0 0 1 14.5 4.5c2.48 0 4.5 2 4.5 4.48 0 3.38-3.14 6.26-8.02 11.38l-1.0.99z"/>
            </svg>
          </a>
        </div>
      </nav>
    </div>
  </header>

  <main id="main" class="site-main donate-page">
    <!-- Hero -->
    <section class="section" aria-labelledby="donate-title">
      <div class="container">
        <h1 id="donate-title">Dāna</h1>
        <p class="subheadline">
          My work is to be a quiet bridge so the right people meet, share care and build together. If our connection helped you, you can keep supporting me by donating.
          Give only if it feels right. You will receive my gratitude in different modalities along with milestone updates.
        </p>
      </div>
    </section>

    <!-- ETH Donate (ETH-only) -->
    <section class="section" aria-labelledby="eth-donate-title">
      <div class="container">
        <h2 id="eth-donate-title" class="visually-hidden">Donate ETH</h2>

        <div class="eth-controls" style="display:flex;gap:10px;flex-wrap:wrap;align-items:center;">
          <label for="eth-amount" class="visually-hidden">Amount (ETH)</label>
          <div class="input-wrap" style="flex:0 1 240px;">
            <span class="currency">Ξ</span>
            <input id="eth-amount" inputmode="decimal" placeholder="0.01" aria-describedby="eth-help">
            <button id="eth-donate" class="button primary" type="button" aria-label="Donate">Donate</button>
          </div>

          <button id="eth-connect" class="button outline" type="button" aria-label="Connect Wallet">Connect Wallet</button>

          <div class="muted" style="margin-left:auto;">
            Network: <span id="eth-chain">Ethereum</span> • Contract:
            <a id="eth-contract-link" href="#" rel="noopener noreferrer" target="_blank">—</a>
          </div>
        </div>

        <p id="eth-help" class="muted" style="margin:8px 2px 0;">Enter amount in ETH and connect your wallet to donate.</p>
        <div id="eth-status" class="sr-only" aria-live="polite"></div>
        <p id="tx-link" class="muted" style="margin:6px 2px 0;"></p>

        <div class="eth-progress-wrap" style="margin-top:14px;">
          <div class="eth-progress" style="height:16px;border:1px solid var(--color-border,#e5e7eb);border-radius:10px;overflow:hidden;background:var(--color-surface,#fff);">
            <div id="eth-progress-fill" style="height:100%;width:0%;background:var(--link,#0057ff);"></div>
          </div>
          <p id="eth-progress-text" class="muted" style="margin-top:6px;">0 / 9 ETH received — 0%</p>
        </div>

        <div class="leaderboard" style="margin-top:18px;">
          <h3 style="margin:0 0 8px 0;">Top donors</h3>
          <div class="donate-panel" style="padding:0;">
            <table style="width:100%;border-collapse:collapse;">
              <thead>
                <tr>
                  <th style="text-align:left;padding:10px;border-bottom:1px solid var(--color-border,#e5e7eb);">#</th>
                  <th style="text-align:left;padding:10px;border-bottom:1px solid var(--color-border,#e5e7eb);">Address</th>
                  <th style="text-align:right;padding:10px;border-bottom:1px solid var(--color-border,#e5e7eb);">Amount (ETH)</th>
                </tr>
              </thead>
              <tbody id="leaderboard-body"></tbody>
            </table>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer (match main site) -->
  <footer class="site-footer">
    <div class="container footer-inner">
      <nav class="footer-social" aria-label="Footer links">
        <ul class="footer-links">
          <li>
            <a class="flip-link" href="/pages/donate.html" aria-label="Donate" data-text="Donate">
              <span class="flip-vis" aria-hidden="true"></span>
              <span class="visually-hidden">Donate</span>
            </a>
          </li>
          <li>
            <a class="flip-link" href="https://github.com/vyakart" target="_blank" rel="noopener noreferrer" aria-label="GitHub profile" data-text="GitHub">
              <span class="flip-vis" aria-hidden="true"></span>
              <span class="visually-hidden">GitHub</span>
            </a>
          </li>
          <li>
            <a class="flip-link" href="https://x.com/vyakart" target="_blank" rel="noopener noreferrer" aria-label="Twitter profile" data-text="Twitter">
              <span class="flip-vis" aria-hidden="true"></span>
              <span class="visually-hidden">Twitter</span>
            </a>
          </li>
          <li>
            <a class="flip-link" href="mailto:imayreply@vyakart.com" aria-label="Email: imayreply@vyakart.com" data-text="Contact">
              <span class="flip-vis" aria-hidden="true"></span>
              <span class="visually-hidden">Contact</span>
            </a>
          </li>
        </ul>
      </nav>
    </div>
  </footer>

  <!-- Scripts (bundled + hashed) -->
  <script src="/dist/js/theme-provider-6I35RNTJ.js" defer></script>
  <script src="/dist/js/decrypted-text-SB55CFEX.js" defer></script>
  <script src="/dist/js/main-ACGFQTAZ.js" defer></script>
  <script>
    // Runtime configuration for ETH donations (updated for Sepolia staging)
    window.DONATE_CFG = {
      chain: 'sepolia',
      infuraKey: '921f1a6395234e7288ba49e40d38a828',
      contract: '0xeFbFcA910b7897b019E7c1a4E6f61BfF1EcBD763',
      goalEth: 9,
      deploymentBlock: 9102328
    };
  </script>
  <script src="/dist/js/eth-donate.js" defer></script>
</body>
</html>